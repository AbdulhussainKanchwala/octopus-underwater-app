(self.webpackChunkEMS=self.webpackChunkEMS||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},1641:(e,t,o)=>{"use strict";o.d(t,{xm:()=>we,_A:()=>be,_D:()=>Se,lQ:()=>Ee,jt:()=>Ve,TH:()=>Le,Vi:()=>Fe,XC:()=>We,iD:()=>He,N9:()=>Je,jF:()=>$e,Ly:()=>nt,ZQ:()=>rt,_L:()=>ct,HK:()=>ut});var i=o(7716),n=o(8583),r=o(7574),s=o(9796),a=o(9105),l=o(8002);function c(e,t,o,i){return(0,a.m)(o)&&(i=o,o=void 0),i?c(e,t,o).pipe((0,l.U)(e=>(0,s.k)(e)?i(...e):i(e))):new r.y(i=>{u(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,o)})}function u(e,t,o,i,n){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,o,n),r=()=>i.removeEventListener(t,o,n)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,o),r=()=>i.off(t,o)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,o),r=()=>i.removeListener(t,o)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,s=e.length;r<s;r++)u(e[r],t,o,i,n)}i.add(r)}var p=o(6693),h=o(5197),d=o(509);function f(...e){if(1===e.length){if(!(0,s.k)(e[0]))return e[0];e=e[0]}return(0,p.n)(e,void 0).lift(new g)}class g{call(e,t){return t.subscribe(new m(e))}}class m extends h.L{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let o=0;o<t&&!this.hasFirst;o++){const t=(0,d.D)(this,e[o],void 0,o);this.subscriptions&&this.subscriptions.push(t),this.add(t)}this.observables=null}}notifyNext(e,t,o){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==o){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}var y=o(8640);new r.y(y.Z),o(7393),o(377),o(5345);var v=o(9193),C=o(5917),w=o(7709),b=o(8634),x=(o(6215),o(9112),o(6682)),S=o(8071);class E{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new _(e,this.observables,this.project))}}class _ extends h.L{constructor(e,t,o){super(e),this.observables=t,this.project=o,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let n=0;n<i;n++)this.toRespond.push(n);for(let n=0;n<i;n++)this.add((0,d.D)(this,t[n],void 0,n))}notifyNext(e,t,o){this.values[o]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(o);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}var A=o(6782),R=o(5435),T=o(5257),O=(o(9761),o(3190),o(8307)),P=o(9497),D=o(9773),I=o(8819);function M(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",1),i.NdJ("click",function(){return i.CHM(e),i.oxw().close()}),i.TgZ(1,"span",2),i._uU(2,"\xd7"),i.qZA(),i.qZA()}}o(665);const N=["*"];function k(e,t){1&e&&(i.TgZ(0,"span",9),i.SDv(1,10),i.qZA())}function L(e,t){1&e&&(i.TgZ(0,"span",9),i.SDv(1,11),i.qZA())}function F(e,t){1&e&&(i.TgZ(0,"span",9),i.SDv(1,12),i.qZA())}function G(e,t){1&e&&(i.TgZ(0,"span",9),i.SDv(1,13),i.qZA())}function H(e,t){1&e&&i._uU(0,"...")}function V(e,t){1&e&&(i.TgZ(0,"span",15),i._uU(1,"(current)"),i.qZA())}function W(e,t){if(1&e&&(i._uU(0),i.YNc(1,V,2,0,"span",14)),2&e){const e=t.$implicit,o=t.currentPage;i.hij(" ",e," "),i.xp6(1),i.Q6J("ngIf",e===o)}}function B(e,t){}const j=function(e){return{disabled:!0,currentPage:e}};function z(e,t){if(1&e&&(i.TgZ(0,"a",20),i.YNc(1,B,0,0,"ng-template",8),i.qZA()),2&e){const e=i.oxw(2).$implicit,t=i.oxw(),o=i.MAs(9);i.xp6(1),i.Q6J("ngTemplateOutlet",(null==t.tplEllipsis?null:t.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",i.VKq(2,j,e))}}function U(e,t){}const Y=function(e,t,o){return{disabled:e,$implicit:t,currentPage:o}};function X(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"a",21),i.NdJ("click",function(t){i.CHM(e);const o=i.oxw().$implicit;return i.oxw(2).selectPage(o),t.preventDefault()}),i.YNc(1,U,0,0,"ng-template",8),i.qZA()}if(2&e){const e=i.oxw().$implicit,t=i.oxw(),o=t.disabled,n=t.$implicit,r=i.oxw(),s=i.MAs(11);i.uIk("tabindex",o?"-1":null)("aria-disabled",o?"true":null),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==r.tplNumber?null:r.tplNumber.templateRef)||s)("ngTemplateOutletContext",i.kEZ(4,Y,o,e,n))}}function q(e,t){if(1&e&&(i.TgZ(0,"li",17),i.YNc(1,z,2,4,"a",18),i.YNc(2,X,2,8,"a",19),i.qZA()),2&e){const e=t.$implicit,o=i.oxw(),n=o.$implicit,r=o.disabled,s=i.oxw();i.ekj("active",e===n)("disabled",s.isEllipsis(e)||r),i.uIk("aria-current",e===n?"page":null),i.xp6(1),i.Q6J("ngIf",s.isEllipsis(e)),i.xp6(1),i.Q6J("ngIf",!s.isEllipsis(e))}}function Z(e,t){1&e&&i.YNc(0,q,3,7,"li",16),2&e&&i.Q6J("ngForOf",t.pages)}function K(e,t){}const Q=function(e,t){return{disabled:e,currentPage:t}};function J(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",17),i.TgZ(1,"a",22),i.NdJ("click",function(t){return i.CHM(e),i.oxw().selectPage(1),t.preventDefault()}),i.YNc(2,K,0,0,"ng-template",8),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(),t=i.MAs(1);i.ekj("disabled",e.previousDisabled()),i.xp6(1),i.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||t)("ngTemplateOutletContext",i.WLB(6,Q,e.previousDisabled(),e.page))}}function $(e,t){}const ee=function(e){return{disabled:e}};function te(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",17),i.TgZ(1,"a",23),i.NdJ("click",function(t){i.CHM(e);const o=i.oxw();return o.selectPage(o.page-1),t.preventDefault()}),i.YNc(2,$,0,0,"ng-template",8),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(),t=i.MAs(3);i.ekj("disabled",e.previousDisabled()),i.xp6(1),i.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||t)("ngTemplateOutletContext",i.VKq(6,ee,e.previousDisabled()))}}function oe(e,t){}function ie(e,t){}function ne(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",17),i.TgZ(1,"a",24),i.NdJ("click",function(t){i.CHM(e);const o=i.oxw();return o.selectPage(o.page+1),t.preventDefault()}),i.YNc(2,ie,0,0,"ng-template",8),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(),t=i.MAs(5);i.ekj("disabled",e.nextDisabled()),i.xp6(1),i.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||t)("ngTemplateOutletContext",i.WLB(6,Q,e.nextDisabled(),e.page))}}function re(e,t){}function se(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",17),i.TgZ(1,"a",25),i.NdJ("click",function(t){i.CHM(e);const o=i.oxw();return o.selectPage(o.pageCount),t.preventDefault()}),i.YNc(2,re,0,0,"ng-template",8),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(),t=i.MAs(7);i.ekj("disabled",e.nextDisabled()),i.xp6(1),i.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||t)("ngTemplateOutletContext",i.WLB(6,Q,e.nextDisabled(),e.page))}}const ae=function(e,t,o){return{$implicit:e,pages:t,disabled:o}};function le(e,t){if(1&e&&(i.TgZ(0,"span"),i.SDv(1,2),i.ALo(2,"percent"),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.pQV(i.lcZ(2,1,e.getValue()/e.max)),i.QtT(1)}}function ce(e,t,o=0){return Math.max(Math.min(e,t),o)}function ue(e){return!isNaN(function(e){return parseInt(`${e}`,10)}(e))}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const pe={animation:!0,transitionTimerDelayMs:5},he=()=>{},{transitionTimerDelayMs:de}=pe,fe=new Map,ge=(e,t,o,i)=>{let n=i.context||{};const s=fe.get(t);if(s)switch(i.runningTransition){case"continue":return v.E;case"stop":e.run(()=>s.transition$.complete()),n=Object.assign(s.context,n),fe.delete(t)}const a=o(t,i.animation,n)||he;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>a()),(0,C.of)(void 0).pipe(function(e){return t=>new r.y(o=>t.subscribe({next:t=>e.run(()=>o.next(t)),error:t=>e.run(()=>o.error(t)),complete:()=>e.run(()=>o.complete())}))}(e));const l=new w.xQ,u=new w.xQ,p=l.pipe(function(...e){return t=>(0,S.z)(t,(0,C.of)(...e))}(!0));fe.set(t,{transition$:l,complete:()=>{u.next(),u.complete()},context:n});const h=function(e){const{transitionDelay:t,transitionDuration:o}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(o))}(t);return e.runOutsideAngular(()=>{const o=c(t,"transitionend").pipe((0,A.R)(p),(0,R.h)(({target:e})=>e===t));f((0,b.H)(h+de).pipe((0,A.R)(p)),o,u).pipe((0,A.R)(p)).subscribe(()=>{fe.delete(t),e.run(()=>{a(),l.next(),l.complete()})})}),l.asObservable()},me=(e,t,o)=>{let{direction:i,maxHeight:n}=o;const{classList:r}=e;function s(){r.add("collapse"),"show"===i?r.add("show"):r.remove("show")}if(t)return n||(n=function(e){if("undefined"==typeof navigator)return"0px";const{classList:t}=e,o=t.contains("show");o||t.add("show"),e.style.height="";const i=e.getBoundingClientRect().height+"px";return o||t.remove("show"),i}(e),o.maxHeight=n,e.style.height="show"!==i?n:"0px",r.remove("collapse"),r.remove("collapsing"),r.remove("show"),function(e){(e||document.body).getBoundingClientRect()}(e),r.add("collapsing")),e.style.height="show"===i?n:"0px",()=>{s(),r.remove("collapsing"),e.style.height=""};s()};let ye=(()=>{class e{constructor(){this.animation=pe.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ve=({classList:e})=>{e.remove("show")};let Ce=(()=>{class e{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(ye))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),we=(()=>{class e{constructor(e,t,o,n){this._renderer=t,this._element=o,this._zone=n,this.closed=new i.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=ge(this._zone,this._element.nativeElement,ve,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${t.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${t.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Ce),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,t){2&e&&i.ekj("fade",t.animation)("alert-dismissible",t.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[i.TTD],ngContentSelectors:N,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"close",3,"click"],["aria-hidden","true"]]},template:function(e,t){1&e&&(i.F$t(),i.Hsn(0),i.YNc(1,M,3,0,"button",0)),2&e&&(i.xp6(1),i.Q6J("ngIf",t.dismissible))},directives:[n.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),e})(),be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.ez]]}),e})(),xe=(()=>{class e{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(ye))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Se=(()=>{class e{constructor(e,t,o){this._element=e,this._zone=o,this.collapsed=!1,this.ngbCollapseChange=new i.vpe,this.shown=new i.vpe,this.hidden=new i.vpe,this.animation=t.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,t){return ge(this._zone,this._element.nativeElement,me,{animation:t,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,t){this._runTransition(e,t).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(xe),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.TTD]}),e})(),Ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();var _e=(()=>(function(e){e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown"}(_e||(_e={})),_e))();const Ae=(e,t)=>!!t&&t.some(t=>t.contains(e)),Re=(e,t)=>!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t),Te="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Oe(e,t,o,i,n,r,s,a){var u;o&&e.runOutsideAngular((u=()=>{const u=c(t,"keydown").pipe((0,A.R)(n),(0,R.h)(e=>e.which===_e.Escape),(0,O.b)(e=>e.preventDefault())),p=c(t,"mousedown").pipe((0,l.U)(e=>{const t=e.target;return 2!==e.button&&!Ae(t,s)&&("inside"===o?Ae(t,r)&&Re(t,a):"outside"===o?!Ae(t,r):Re(t,a)||!Ae(t,r))}),(0,A.R)(n)),h=c(t,"mouseup").pipe(function(...e){return t=>{let o;return"function"==typeof e[e.length-1]&&(o=e.pop()),t.lift(new E(e,o))}}(p),(0,R.h)(([e,t])=>t),(0,P.g)(0),(0,A.R)(n));f([u.pipe((0,l.U)(e=>0)),h.pipe((0,l.U)(e=>1))]).subscribe(t=>e.run(()=>i(t)))},Te?()=>setTimeout(()=>u(),100):u))}const Pe=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),De=/\s+/,Ie=new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let o,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))o=e.getBoundingClientRect(),o={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height,width:o.width};else{const t=this.offsetParent(e);o=this.offset(e,!1),t!==document.documentElement&&(i=this.offset(t,!1)),i.top+=t.clientTop,i.left+=t.clientLeft}return o.top-=i.top,o.bottom-=i.top,o.left-=i.left,o.right-=i.left,t&&(o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}offset(e,t=!0){const o=e.getBoundingClientRect(),i=window.scrollY-document.documentElement.clientTop,n=window.scrollX-document.documentElement.clientLeft;let r={height:o.height||e.offsetHeight,width:o.width||e.offsetWidth,top:o.top+i,bottom:o.bottom+i,left:o.left+n,right:o.right+n};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(e,t,o,i){const[n="top",r="center"]=o.split("-"),s=i?this.offset(e,!1):this.position(e,!1),a=this.getAllStyles(t),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),p=parseFloat(a.marginRight);let h=0,d=0;switch(n){case"top":h=s.top-(t.offsetHeight+l+c);break;case"bottom":h=s.top+s.height;break;case"left":d=s.left-(t.offsetWidth+u+p);break;case"right":d=s.left+s.width}switch(r){case"top":h=s.top;break;case"bottom":h=s.top+s.height-t.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-t.offsetWidth;break;case"center":"top"===n||"bottom"===n?d=s.left+s.width/2-t.offsetWidth/2:h=s.top+s.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(d)}px, ${Math.round(h)}px)`;const f=t.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}};function Me(e,t,o,i,n){let r=Array.isArray(o)?o:o.split(De);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=e=>{const[t,o]=e.split("-"),i=[];return n&&(i.push(`${n}-${t}`),o&&i.push(`${n}-${t}-${o}`),i.forEach(e=>{a.add(e)})),i};n&&s.forEach(e=>{a.remove(`${n}-${e}`)});let c=r.findIndex(e=>"auto"===e);c>=0&&s.forEach(function(e){null==r.find(t=>-1!==t.search("^"+e))&&r.splice(c++,1,e)});const u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let p=null,h=!1;for(p of r){let o=l(p);if(Ie.positionElements(e,t,p,i)){h=!0;break}n&&o.forEach(e=>{a.remove(e)})}return h||(p=r[0],l(p),Ie.positionElements(e,t,p,i)),p}new Date(1882,10,12),new Date(2174,10,25);let Ne=(()=>{class e{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["",8,"navbar"]]}),e})(),Le=(()=>{class e{constructor(e,t){this.elementRef=e,this._renderer=t,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,t){2&e&&(i.Ikx("tabIndex",t.disabled?-1:0),i.ekj("disabled",t.disabled))},inputs:{disabled:"disabled"}}),e})(),Fe=(()=>{class e{constructor(e,t){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=t.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(i.Y36((0,i.Gpc)(()=>Ve)),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,o){if(1&e&&i.Suo(o,Le,4),2&e){let e;i.iGM(e=i.CRH())&&(t.menuItems=e)}},hostVars:5,hostBindings:function(e,t){1&e&&i.NdJ("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Enter",function(e){return t.dropdown.onKeyDown(e)})("keydown.Space",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&(i.uIk("x-placement",t.placement),i.ekj("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),e})(),Ge=(()=>{class e{constructor(e,t){this.dropdown=e,this.nativeElement=t.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(i.Y36((0,i.Gpc)(()=>Ve)),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&i.uIk("aria-expanded",t.dropdown.isOpen())}}),e})(),He=(()=>{class e extends Ge{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36((0,i.Gpc)(()=>Ve)),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.dropdown.toggle()})("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&i.uIk("aria-expanded",t.dropdown.isOpen())},features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>e)}]),i.qOj]}),e})(),Ve=(()=>{class e{constructor(e,t,o,n,r,s,a){this._changeDetector=e,this._document=o,this._ngZone=n,this._elementRef=r,this._renderer=s,this._closed$=new w.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new i.vpe,this.placement=t.placement,this.container=t.container,this.autoClose=t.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=n.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:t,previousValue:o}=e.dropdownClass;this._applyCustomDropdownClass(t,o)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){Oe(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const t=e.which,o=this._getMenuElements();let i=-1,n=null;const r=this._isEventFromToggle(e);if(!r&&o.length&&o.forEach((t,o)=>{t.contains(e.target)&&(n=t),t===this._document.activeElement&&(i=o)}),t!==_e.Space&&t!==_e.Enter){if(t!==_e.Tab){if(r||n){if(this.open(),o.length){switch(t){case _e.ArrowDown:i=Math.min(i+1,o.length-1);break;case _e.ArrowUp:if(this._isDropup()&&-1===i){i=o.length-1;break}i=Math.max(i-1,0);break;case _e.Home:i=0;break;case _e.End:i=o.length-1}o[i].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const t=this._menu.nativeElement.querySelectorAll(Pe);e.shiftKey&&e.target===t[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):e.shiftKey||e.target!==t[t.length-1]||(this._anchor.nativeElement.focus(),this.close())}else c(e.target,"focusout").pipe((0,T.q)(1)).subscribe(({relatedTarget:e})=>{this._elementRef.nativeElement.contains(e)||this.close()})}}else!n||!0!==this.autoClose&&"inside"!==this.autoClose||c(n,"click").pipe((0,T.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(e=>!e.disabled).map(e=>e.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?Me(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const t=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,t),e.removeStyle(t,"position"),e.removeStyle(t,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const e=this._renderer,t=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(o,"position","absolute"),e.setStyle(t,"position","static"),e.setStyle(o,"z-index","1050"),e.appendChild(o,t),e.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,t){const o="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;o&&(t&&this._renderer.removeClass(o,t),e&&this._renderer.addClass(o,e))}_applyPlacementClasses(e){const t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));const o=this._renderer,i=this._elementRef.nativeElement;o.removeClass(i,"dropup"),o.removeClass(i,"dropdown"),t.placement="static"===this.display?null:e;const n=-1!==e.search("^top")?"dropup":"dropdown";o.addClass(i,n);const r=this._bodyContainer;r&&(o.removeClass(r,"dropup"),o.removeClass(r,"dropdown"),o.addClass(r,n))}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Ne),i.Y36(n.K0),i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(ke,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,o){if(1&e&&(i.Suo(o,Fe,5),i.Suo(o,Ge,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._menu=e.first),i.iGM(e=i.CRH())&&(t._anchor=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("show",t.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.TTD]}),e})(),We=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();class Be{constructor(e,t,o){this.nodes=e,this.viewRef=t,this.componentRef=o}}class je{constructor(e,t,o,i,n,r){this._type=e,this._injector=t,this._viewContainerRef=o,this._renderer=i,this._ngZone=n,this._applicationRef=r,this._windowRef=null,this._contentRef=null}open(e,t,o=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:i}=this._windowRef.location,n=this._ngZone.onStable.pipe((0,T.q)(1),(0,D.zg)(()=>ge(this._ngZone,i,({classList:e})=>e.add("show"),{animation:o,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:n}}close(e=!1){return this._windowRef?ge(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:e,runningTransition:"stop"}).pipe((0,O.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,C.of)(void 0)}_getContentRef(e,t){if(e){if(e instanceof i.Rgc){const o=e.createEmbeddedView(t);return this._applicationRef.attachView(o),new Be([o.rootNodes],o)}return new Be([[this._renderer.createText(`${e}`)]])}return new Be([])}}let ze=(()=>{class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ue=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),e})(),Ye=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationFirst",""]]}),e})(),Xe=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationLast",""]]}),e})(),qe=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationNext",""]]}),e})(),Ze=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationNumber",""]]}),e})(),Ke=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]]}),e})(),Qe=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","ngbPaginationPages",""]]}),e})(),Je=(()=>{class e{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.vpe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,t){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),t<this.pageCount&&(t<this.pageCount-2?this.pages.push(-1):t===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,t=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?t=this.maxSize:this.pageCount-this.page<o?e=this.pageCount-this.maxSize:(e=this.page-o-1,t=this.page+(this.maxSize%2==0?o-1:o)),[e,t]}_applyPagination(){let e=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[e,e+this.maxSize]}_setPageInRange(e){const t=this.page;this.page=ce(e,this.pageCount,1),this.page!==t&&ue(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ue(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let t=1;t<=this.pageCount;t++)this.pages.push(t);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let e=0,t=this.pageCount;[e,t]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(e,t),this._applyEllipses(e,t)}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(ze))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ngb-pagination"]],contentQueries:function(e,t,o){if(1&e&&(i.Suo(o,Ue,5),i.Suo(o,Ye,5),i.Suo(o,Xe,5),i.Suo(o,qe,5),i.Suo(o,Ze,5),i.Suo(o,Ke,5),i.Suo(o,Qe,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.tplEllipsis=e.first),i.iGM(e=i.CRH())&&(t.tplFirst=e.first),i.iGM(e=i.CRH())&&(t.tplLast=e.first),i.iGM(e=i.CRH())&&(t.tplNext=e.first),i.iGM(e=i.CRH())&&(t.tplNumber=e.first),i.iGM(e=i.CRH())&&(t.tplPrevious=e.first),i.iGM(e=i.CRH())&&(t.tplPages=e.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.TTD],decls:20,vars:12,consts:function(){let e,t,o,i,n,r,s,a;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,o=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,n=$localize`:@@ngb.pagination.first-aria:First`,r=$localize`:@@ngb.pagination.previous-aria:Previous`,s=$localize`:@@ngb.pagination.next-aria:Next`,a=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,o,i,["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",n,"href","",1,"page-link",3,"click"],["aria-label",r,"href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"]]},template:function(e,t){if(1&e&&(i.YNc(0,k,2,0,"ng-template",null,0,i.W1O),i.YNc(2,L,2,0,"ng-template",null,1,i.W1O),i.YNc(4,F,2,0,"ng-template",null,2,i.W1O),i.YNc(6,G,2,0,"ng-template",null,3,i.W1O),i.YNc(8,H,1,0,"ng-template",null,4,i.W1O),i.YNc(10,W,2,2,"ng-template",null,5,i.W1O),i.YNc(12,Z,1,1,"ng-template",null,6,i.W1O),i.TgZ(14,"ul"),i.YNc(15,J,3,9,"li",7),i.YNc(16,te,3,8,"li",7),i.YNc(17,oe,0,0,"ng-template",8),i.YNc(18,ne,3,9,"li",7),i.YNc(19,se,3,9,"li",7),i.qZA()),2&e){const e=i.MAs(13);i.xp6(14),i.Tol("pagination"+(t.size?" pagination-"+t.size:"")),i.xp6(1),i.Q6J("ngIf",t.boundaryLinks),i.xp6(1),i.Q6J("ngIf",t.directionLinks),i.xp6(1),i.Q6J("ngTemplateOutlet",(null==t.tplPages?null:t.tplPages.templateRef)||e)("ngTemplateOutletContext",i.kEZ(8,ae,t.page,t.pages,t.disabled)),i.xp6(1),i.Q6J("ngIf",t.directionLinks),i.xp6(1),i.Q6J("ngIf",t.boundaryLinks)}},directives:[n.O5,n.tP,n.sg],encapsulation:2,changeDetection:0}),e})(),$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.ez]]}),e})();class et{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const tt={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},ot=e=>e>0?(0,P.g)(e):e=>e;let it=(()=>{class e{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nt=(()=>{class e{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!ue(e)||e<=0?100:e}get max(){return this._max}getValue(){return ce(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(it))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ngb-progressbar"]],hostAttrs:[1,"progress"],hostVars:2,hostBindings:function(e,t){2&e&&i.Udp("height",t.height)},inputs:{max:"max",animated:"animated",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:N,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["role","progressbar","aria-valuemin","0"],[4,"ngIf"],e]},template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.YNc(1,le,3,3,"span",1),i.Hsn(2),i.qZA()),2&e&&(i.DjV("progress-bar",t.type?" bg-"+t.type:"","",t.textType?" text-"+t.textType:"","\n    ",t.animated?" progress-bar-animated":"","",t.striped?" progress-bar-striped":"",""),i.Udp("width",t.getPercentValue(),"%"),i.uIk("aria-valuenow",t.getValue())("aria-valuemax",t.max),i.xp6(1),i.Q6J("ngIf",t.showValue))},directives:[n.O5],pipes:[n.Zx],encapsulation:2,changeDetection:0}),e})(),rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.ez]]}),e})(),st=(()=>{class e{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(ye))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),at=0,lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ikx("id",t.id),i.Tol("tooltip"+(t.tooltipClass?" "+t.tooltipClass:"")),i.ekj("fade",t.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:N,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(i.F$t(),i._UZ(0,"div",0),i.TgZ(1,"div",1),i.Hsn(2),i.qZA())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),e})(),ct=(()=>{class e{constructor(e,t,o,n,r,s,a,l,c){this._elementRef=e,this._renderer=t,this._ngZone=s,this._document=a,this._changeDetector=l,this.shown=new i.vpe,this.hidden=new i.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+at++,this._windowRef=null,this.animation=r.animation,this.autoClose=r.autoClose,this.placement=r.placement,this.triggers=r.triggers,this.container=r.container,this.disableTooltip=r.disableTooltip,this.tooltipClass=r.tooltipClass,this.openDelay=r.openDelay,this.closeDelay=r.closeDelay,this._popupService=new je(lt,o,n,t,this._ngZone,c),this._zoneSubscription=s.onStable.subscribe(()=>{this._windowRef&&Me(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:t,transition$:o}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=t,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),Oe(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(e,t,o,i,n,s,a=0,c=0){const u=function(e,t=tt){const o=(e||"").trim();if(0===o.length)return[];const i=o.split(/\s+/).map(e=>e.split(":")).map(e=>{let o=t[e[0]]||e;return new et(o[0],o[1])}),n=i.filter(e=>e.isManual());if(n.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===n.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(o);if(1===u.length&&u[0].isManual())return()=>{};const p=function(e,t,o,i){return new r.y(n=>{const r=[],s=()=>n.next(!0),a=()=>n.next(!1),l=()=>n.next(!i());return o.forEach(o=>{o.open===o.close?r.push(e.listen(t,o.open,l)):r.push(e.listen(t,o.open,s),e.listen(t,o.close,a))}),()=>{r.forEach(e=>e())}})}(e,t,u,i).pipe(function(e,t,o){return i=>{let n=null;const r=i.pipe((0,l.U)(e=>({open:e})),(0,R.h)(e=>{const t=o();return t===e.open||n&&n.open!==t?(n&&n.open!==e.open&&(n=null),!1):(n=e,!0)}),(0,I.B)()),s=r.pipe((0,R.h)(e=>e.open),ot(e)),a=r.pipe((0,R.h)(e=>!e.open),ot(t));return(0,x.T)(s,a).pipe((0,R.h)(e=>e===n&&(n=null,e.open!==o())),(0,l.U)(e=>e.open))}}(a,c,i)).subscribe(e=>e?n():s());return()=>p.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.zs3),i.Y36(i.s_b),i.Y36(st),i.Y36(i.R0b),i.Y36(n.K0),i.Y36(i.sBO),i.Y36(i.z2F))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.TTD]}),e})(),ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();new i.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}})},5501:(e,t,o)=>{"use strict";o.d(t,{jkc:()=>Mu,sJC:()=>td,O_3:()=>Kh,j_S:()=>kn,Cvn:()=>ll,fsG:()=>Se,Nk3:()=>Og,Vu6:()=>xe,AS9:()=>wt,Dkq:()=>Qp,j_r:()=>yu,sgG:()=>Le,Exx:()=>tt,wA2:()=>Un,plv:()=>Jt,gTE:()=>De,fQL:()=>ou,jUB:()=>Hs,rvo:()=>Ls,POd:()=>Pe,zW2:()=>Et,nPL:()=>Ia,rjZ:()=>Rg,wfB:()=>el,fkf:()=>_t,poj:()=>Gs,VDZ:()=>xn,D_6:()=>nr,GXE:()=>Ie,O3h:()=>Me,at1:()=>Mn,FiY:()=>Ee,Gxm:()=>Pp,NqP:()=>we,$j7:()=>Ce,FXL:()=>be,KTm:()=>ot,AGU:()=>ar,qaB:()=>Ae,cqo:()=>Yn,oh5:()=>Ts,Fxk:()=>Os,NlK:()=>$p,Qk6:()=>Kp,BxR:()=>Yh,WD6:()=>xp,QVL:()=>Xr,rwP:()=>ts,vA3:()=>yd,HO_:()=>Fs,CPJ:()=>fd,_:()=>In});var i={};o.r(i),o.d(i,{attrToBoolean:()=>O,attrToNumber:()=>T,attrToString:()=>P,defaultComparator:()=>M,exists:()=>E,jsonEquals:()=>I,makeNull:()=>S,missing:()=>_,missingOrEmpty:()=>A,referenceCompare:()=>D,toStringOrNull:()=>R,values:()=>N});var n={};o.r(n),o.d(n,{cloneObject:()=>F,copyPropertiesIfPresent:()=>B,copyPropertyIfPresent:()=>j,deepCloneDefinition:()=>H,deepCloneObject:()=>G,deepFreeze:()=>K,get:()=>q,getAllKeysInObjects:()=>z,getAllValuesInObject:()=>U,getProperty:()=>V,getValueUsingField:()=>Q,isNonNullObject:()=>$,iterateObject:()=>L,mergeDeep:()=>Y,missingOrEmptyObject:()=>X,removeAllReferences:()=>J,set:()=>Z,setProperty:()=>W});var r={};o.r(r),o.d(r,{callIfPresent:()=>me,compose:()=>ge,debounce:()=>he,doOnce:()=>ie,executeAfter:()=>pe,executeInAWhile:()=>ae,executeNextVMTurn:()=>ue,getFunctionName:()=>ne,getFunctionParameters:()=>re,isFunction:()=>se,noop:()=>ye,throttle:()=>de,waitUntil:()=>fe});var s={};o.r(s),o.d(s,{areEqual:()=>Ve,compareArrays:()=>We,existsAndNotEmpty:()=>Ge,firstExistingValue:()=>Fe,flatten:()=>Qe,forEachReverse:()=>et,includes:()=>Ke,insertArrayIntoArray:()=>qe,insertIntoArray:()=>Xe,last:()=>He,moveInArray:()=>Ze,pushAll:()=>Je,removeAllFromArray:()=>Ye,removeFromArray:()=>Ue,removeRepeatsFromArray:()=>ze,shallowCompare:()=>Be,sortNumerically:()=>je,toStrings:()=>$e});var a={};o.r(a),o.d(a,{addAgGridEventPath:()=>gt,addChangeListener:()=>ht,addSafePassiveEventListener:()=>yt,createEventPath:()=>ft,getCtrlForEvent:()=>pt,getEventPath:()=>mt,isElementInEventPath:()=>dt,isEventSupported:()=>ut,isStopPropagationForAgGrid:()=>lt,stopPropagationForAgGrid:()=>at});var l={};o.r(l),o.d(l,{camelCaseToHumanText:()=>Mt,camelCaseToHyphen:()=>Ot,capitalise:()=>Dt,escapeString:()=>It,hyphenToCamelCase:()=>Pt,utf8_encode:()=>Tt});var c={};o.r(c),o.d(c,{convertToMap:()=>Nt,keys:()=>Lt,mapById:()=>kt});var u={};o.r(u),o.d(u,{browserSupportsPreventScroll:()=>Eo,getBodyHeight:()=>Io,getBodyWidth:()=>Do,getBrowserInfo:()=>yo,getMaxDivHeight:()=>Ao,getScrollbarWidth:()=>Ro,getTabIndex:()=>_o,hasOverflowScrolling:()=>Po,isBrowserChrome:()=>wo,isBrowserEdge:()=>vo,isBrowserFirefox:()=>bo,isBrowserSafari:()=>Co,isIOSUserAgent:()=>So,isInvisibleScrollbar:()=>Oo,isMacOsUserAgent:()=>xo});var p={};o.r(p),o.d(p,{addOrRemoveAttribute:()=>wi,addStylesToElement:()=>si,appendHtml:()=>Jo,clearElement:()=>Xo,copyNodeList:()=>yi,ensureDomOrder:()=>oi,formatSize:()=>di,getAbsoluteHeight:()=>Bo,getAbsoluteWidth:()=>jo,getElementAttribute:()=>$o,getElementSize:()=>Ho,getInnerHeight:()=>Vo,getInnerWidth:()=>Wo,getScrollLeft:()=>Uo,insertWithDomOrder:()=>ni,isElement:()=>gi,isElementChildOfClass:()=>Go,isFocusableFormField:()=>No,isHorizontalScrollShowing:()=>ai,isNode:()=>fi,isNodeOrElement:()=>mi,isRtlNegativeScroll:()=>zo,isVerticalScrollShowing:()=>li,isVisible:()=>Ko,iterateNamedNodeMap:()=>vi,loadTemplate:()=>Qo,nodeListForEach:()=>bi,offsetHeight:()=>ei,offsetWidth:()=>ti,prependDC:()=>ri,radioCssClass:()=>Mo,removeElement:()=>qo,removeFromParent:()=>Zo,setCheckboxState:()=>Ci,setDisabled:()=>Fo,setDisplayed:()=>ko,setDomChildOrder:()=>ii,setElementHeight:()=>pi,setElementWidth:()=>ci,setFixedHeight:()=>hi,setFixedWidth:()=>ui,setScrollLeft:()=>Yo,setVisible:()=>Lo});var h={};o.r(h),o.d(h,{bindCellRendererToHtmlElement:()=>Ai,cssStyleObjectToMarkup:()=>Ei,findLineByLeastSquares:()=>Si,getNameOfClass:()=>xi,message:()=>_i});var d={};o.r(d),o.d(d,{getAriaDescribedBy:()=>Ni,getAriaLevel:()=>Ii,getAriaPosInSet:()=>Mi,getAriaSortState:()=>Di,removeAriaExpanded:()=>Bi,removeAriaSort:()=>Ji,setAriaChecked:()=>en,setAriaColCount:()=>qi,setAriaColIndex:()=>Zi,setAriaColSpan:()=>Ki,setAriaDescribedBy:()=>Gi,setAriaDescription:()=>Fi,setAriaDisabled:()=>Vi,setAriaExpanded:()=>Wi,setAriaLabel:()=>ki,setAriaLabelledBy:()=>Li,setAriaLevel:()=>Hi,setAriaMultiSelectable:()=>Ui,setAriaPosInSet:()=>zi,setAriaRole:()=>Pi,setAriaRowCount:()=>Yi,setAriaRowIndex:()=>Xi,setAriaSelected:()=>$i,setAriaSetSize:()=>ji,setAriaSort:()=>Qi});var f={};o.r(f),o.d(f,{stringToArray:()=>tn});var g={};o.r(g),o.d(g,{cleanNumber:()=>sn,createArrayOfNumbers:()=>nn,decToHex:()=>an,formatNumberCommas:()=>cn,formatNumberTwoDecimalPlacesAndCommas:()=>ln,isNumeric:()=>rn,padStartWidthZeros:()=>on,sum:()=>un});var m={};o.r(m),o.d(m,{parseDateTimeFromString:()=>dn,serialiseDate:()=>hn});var y={};o.r(y),o.d(y,{fuzzyCheckStrings:()=>fn,fuzzySuggestions:()=>gn,get_bigrams:()=>mn,string_distances:()=>yn,string_weighted_distances:()=>vn});var v={};o.r(v),o.d(v,{createIcon:()=>wn,createIconNoSpan:()=>bn,iconNameClassMap:()=>Cn});var C={};o.r(C),o.d(C,{isEventFromPrintableCharacter:()=>Sn,isUserSuppressingHeaderKeyboardEvent:()=>_n,isUserSuppressingKeyboardEvent:()=>En,normaliseQwertyAzerty:()=>An});var w={};o.r(w),o.d(w,{areEventsNear:()=>Rn});var b={};o.r(b),o.d(b,{sortRowNodesByOrder:()=>Tn,traverseNodesWithKey:()=>On});var x={};function S(e){return null==e||""===e?null:e}function E(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)}function _(e){return!E(e)}function A(e){return null==e||0===e.length}function R(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function T(e){if(void 0!==e){if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function O(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"==typeof e?e:/true/i.test(e))}function P(e){if(null!=e&&""!==e)return e}function D(e,t){return null==e&&null==t||(null!=e||null==t)&&(null==e||null!=t)&&e===t}function I(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function M(e,t,o){void 0===o&&(o=!1);var i=null==e,n=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!=typeof e)return r(e,t);if(!o)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}function N(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach(function(e){return t.push(e)}),t}return Object.values(e)}o.r(x),o.d(x,{convertToSet:()=>Pn});var k=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=R(e);for(var o=0;;){var i=void 0;if(e?(i=e,0!==o&&(i+="_"+o)):t?(i=t,0!==o&&(i+="_"+o)):i=""+o,!this.existingKeys[i])return this.existingKeys[i]=!0,i;o++}},e}();function L(e,t){null!=e&&(Array.isArray(e)?e.forEach(function(e,o){return t(""+o,e)}):Object.keys(e).forEach(function(o){return t(o,e[o])}))}function F(e){for(var t={},o=Object.keys(e),i=0;i<o.length;i++){var n=o[i];t[n]=e[n]}return t}function G(e){return JSON.parse(JSON.stringify(e))}function H(e,t){if(e){var o=e,i={};return Object.keys(o).forEach(function(e){if(!(t&&t.indexOf(e)>=0)){var n=o[e],r=$(n)&&n.constructor===Object;i[e]=r?H(n):n}}),i}}function V(e,t){return e[t]}function W(e,t,o){e[t]=o}function B(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];o.forEach(function(o){return j(e,t,o)})}function j(e,t,o,i){var n=V(e,o);void 0!==n&&W(t,o,i?i(n):n)}function z(e){var t={};return e.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(e){return t[e]=null})}),Object.keys(t)}function U(e){if(!e)return[];var t=Object;if("function"==typeof t.values)return t.values(e);var o=[];for(var i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&o.push(e[i]);return o}function Y(e,t,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1),E(t)&&L(t,function(t,n){var r=e[t];r!==n&&(i&&null==r&&null!=n&&"object"==typeof n&&n.constructor===Object&&(e[t]=r={}),$(n)&&$(r)&&!Array.isArray(r)?Y(r,n,o,i):(o||void 0!==n)&&(e[t]=n))})}function X(e){return _(e)||0===Object.keys(e).length}function q(e,t,o){if(null==e)return o;for(var i=t.split("."),n=e;i.length>1;)if(null==(n=n[i.shift()]))return o;var r=n[i[0]];return null!=r?r:o}function Z(e,t,o){if(null!=e){for(var i=t.split("."),n=e;i.length>1;)if(null==(n=n[i.shift()]))return;n[i[0]]=o}}function K(e){return Object.freeze(e),N(e).forEach(function(e){($(e)||"function"==typeof e)&&K(e)}),e}function Q(e,t,o){if(t&&e){if(!o)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++){if(null==n)return;n=n[i[r]]}return n}}function J(e,t){Object.keys(e).forEach(function(t){"object"==typeof e[t]&&(e[t]=void 0)});var o=Object.getPrototypeOf(e),i={};Object.keys(o).forEach(function(e){"function"==typeof o[e]&&(i[e]={value:function(){console.warn("AG Grid: "+t+" function "+e+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(e,i)}function $(e){return"object"==typeof e&&null!==e}var ee=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,te=/([^\s,]+)/g,oe={};function ie(e,t){oe[t]||(e(),oe[t]=!0)}function ne(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function re(e){var t=e.toString().replace(ee,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(te)||[]}function se(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ae(e){pe(e,400)}var le=[],ce=!1;function ue(e){le.push(e),ce||(ce=!0,window.setTimeout(function(){var e=le.slice();le.length=0,ce=!1,e.forEach(function(e){return e()})},0))}function pe(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout(function(){return e.forEach(function(e){return e()})},t)}function he(e,t,o){var i;return void 0===o&&(o=!1),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=this,a=o&&!i;window.clearTimeout(i),i=window.setTimeout(function(){i=null,o||e.apply(s,n)},t),a&&e.apply(s,n)}}function de(e,t){var o=0;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=this,s=(new Date).getTime();s-o<t||(o=s,e.apply(r,i))}}function fe(e,t,o,i){void 0===o&&(o=100);var n=(new Date).getTime(),r=null,s=!1,a=function(){var a=(new Date).getTime()-n>o;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&i&&console.warn(i))};a(),s||(r=window.setInterval(a,10))}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}}function me(e){e&&e()}var ye=function(){},ve=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return N(this.beanWrappers).map(function(e){return e.beanInstance})},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),E(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),L(this.beanWrappers,function(t,o){var i;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var n,r,s=e.getBeansForParameters(i,o.bean.name),a=(n=o.bean,r=[null].concat(s),new(n.bind.apply(n,r)));o.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t,o=e.__agBeanMetaData;if(!o)return t=e.prototype.constructor?ne(e.prototype.constructor):""+e,void console.error("Context item "+t+" is not a bean");this.beanWrappers[o.beanName]={bean:e,beanInstance:null,beanName:o.beanName}},e.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,i){var n=o.agClassAttributes;n&&n.forEach(function(o){var n=t.lookupBeanInstance(i,o.beanName,o.optional);e[o.attributeName]=n})})})},e.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,i){L(o.autowireMethods,function(o,n){if("agConstructor"!==o){var r=t.getBeansForParameters(n,i);e[o].apply(e,r)}})})})},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var o=Object.getPrototypeOf(e);null!=o;){var i=o.constructor;i.hasOwnProperty("__agBeanMetaData")&&t(i.__agBeanMetaData,this.getBeanName(i)),o=Object.getPrototypeOf(o)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var o=this,i=[];return e&&L(e,function(e,n){var r=o.lookupBeanInstance(t,n);i[Number(e)]=r}),i},e.prototype.lookupBeanInstance=function(e,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(o||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var o=this;e.forEach(function(e){return o.callLifeCycleMethodsOnBean(e,t)})},e.prototype.callLifeCycleMethodsOnBean=function(e,t,o){var i={};this.forEachMetaDataInHierarchy(e,function(e){var n=e[t];n&&n.forEach(function(e){e!=o&&(i[e]=!0)})}),Object.keys(i).forEach(function(t){return e[t]()})},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]},e}();function Ce(e,t,o){var i=Re(e.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function we(e,t,o){var i=Re(e.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function be(e,t,o){var i=Re(e.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function xe(e){return function(t){Re(t).beanName=e}}function Se(e){return function(t,o,i){_e(t,e,!1,0,o,null)}}function Ee(e){return function(t,o,i){_e(t,e,!0,0,o,null)}}function _e(e,t,o,i,n,r){if(null!==t)if("number"!=typeof r){var s=Re(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:t,optional:o})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Ae(e){return function(t,o,i){var n,r="function"==typeof t?t:t.constructor;if("number"==typeof i){var s=void 0;o?(n=Re(r),s=o):(n=Re(r),s="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[s]||(n.autowireMethods[s]={}),n.autowireMethods[s][i]=e}}}function Re(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var Te=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oe=function(e,t){return function(o,i){t(o,i,e)}},Pe=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,o,i){if(void 0===i&&(i=null),this.frameworkOverrides=o,i){var n=t.useAsyncEvents();this.addGlobalListener(i,n)}},e.prototype.getListeners=function(e,t,o){var i=t?this.allAsyncListeners:this.allSyncListeners,n=i.get(e);return!n&&o&&(n=new Set,i.set(e,n)),n},e.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o,!0).add(t)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=!1);var i=this.getListeners(e,o,!1);i&&(i.delete(t),0===i.size&&(o?this.allAsyncListeners:this.allSyncListeners).delete(e))},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var o=this,i=e.type,n=this.getListeners(i,t,!1);n&&function(i){i.forEach(function(i){t?o.dispatchAsync(function(){return i(e)}):i(e)})}(n),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(n){t?o.dispatchAsync(function(){return o.frameworkOverrides.dispatchEvent(i,function(){return n(i,e)},!0)}):o.frameworkOverrides.dispatchEvent(i,function(){return n(i,e)},!0)})},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(e){return e()})},Te([Oe(0,Ae("loggerFactory")),Oe(1,Ae("gridOptionsWrapper")),Oe(2,Ae("frameworkOverrides")),Oe(3,Ae("globalEventListener"))],e.prototype,"setBeans",null),Te([xe("eventService")],e)}(),De=function(){function e(){}return e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e.INPUT_SELECTOR="input, select, button, textarea",e.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",e.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",e}(),Ie=(()=>(function(e){e.CommunityCoreModule="@ag-grid-community/core",e.CommunityAllModules="@ag-grid-community/all",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.EnterpriseAllModules="@ag-grid-enterprise/all",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e.PolymerModule="@ag-grid-community/polymer"}(Ie||(Ie={})),Ie))(),Me=function(){function e(){}return e.register=function(t,o){void 0===o&&(o=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=o:e.moduleBased!==o&&ie(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},e.registerModules=function(t,o){void 0===o&&(o=!0),t&&t.forEach(function(t){return e.register(t,o)})},e.assertRegistered=function(t,o){return!!this.isRegistered(t)||(i=e.moduleBased?"AG Grid: unable to use "+o+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+o+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",ie(function(){console.warn(i)},o+t),!1);var i},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return N(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),Ne=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ke=0,Le=function(){function e(e,t,o,i){this.instanceId=ke++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Pe,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=o,this.primary=i,this.setState(e)}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setState=function(e){void 0!==e.sort?e.sort!==De.SORT_ASC&&e.sort!==De.SORT_DESC||(this.sort=e.sort):e.initialSort!==De.SORT_ASC&&e.initialSort!==De.SORT_DESC||(this.sort=e.initialSort);var t=T(e.sortIndex),o=T(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==o&&(this.sortIndex=o);var i=O(e.hide),n=O(e.initialHide);this.visible=void 0!==i?!i:!n,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);var r=T(e.flex),s=T(e.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation()},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},e.prototype.initDotNotation=function(){var e=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=E(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=E(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},e.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){return!(_(this.colDef)||_(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==e)},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function t(e,t,o){ie(function(){o?console.warn(e,o):ie(function(){return console.warn(e)},t)},t)}this.gridOptionsWrapper.isRowModelDefault()&&!Me.isRegistered(Ie.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(o){E(e[o])&&(Me.isPackageBased()?t("AG Grid: "+o+" is only valid in ag-grid-enterprise, your column definition should not have "+o,"ColumnRowGroupingMissing"+o):t("AG Grid: "+o+" is only valid with AG Grid Enterprise Module "+Ie.RowGroupingModule+" - your column definition should not have "+o,"ColumnRowGroupingMissing"+o))}),Me.isRegistered(Ie.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(Me.isPackageBased()?t("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):t("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+Ie.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(o){E(e[o])&&t("AG Grid: "+o+" is not possible when doing tree data, your column definition should not have "+o,"TreeDataCannotRowGroup")}),E(this.colDef.width)&&"number"!=typeof this.colDef.width&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),e.pinnedRowCellRenderer&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererParams&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererFramework&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowValueGetter&&t("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isSuppressFillHandle=function(){return!!O(this.colDef.suppressFillHandle)},e.prototype.isAutoHeight=function(){return!!O(this.colDef.autoHeight)},e.prototype.isAutoHeaderHeight=function(){return!!O(this.colDef.autoHeaderHeight)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!!O(this.colDef.resizable)},e.prototype.isColumnFunc=function(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(e))},e.prototype.setMoving=function(t,o){void 0===o&&(o="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,o))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,o){void 0===o&&(o="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,o)))},e.prototype.setMenuVisible=function(t,o){void 0===o&&(o="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,o)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===De.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===De.SORT_DESC},e.prototype.isSortNone=function(){return _(this.sort)},e.prototype.isSorting=function(){return E(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,o){void 0===o&&(o="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,o)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,o,i){void 0===o&&(o="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,o)));var n=this.createColumnEvent(e.EVENT_FILTER_CHANGED,o);i&&Y(n,i),this.eventService.dispatchEvent(n)},e.prototype.setPinned=function(e){this.pinned=!0===e||e===De.PINNED_LEFT?De.PINNED_LEFT:e===De.PINNED_RIGHT?De.PINNED_RIGHT:null},e.prototype.setFirstRightPinned=function(t,o){void 0===o&&(o="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,o)))},e.prototype.setLastLeftPinned=function(t,o){void 0===o&&(o="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,o)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===De.PINNED_LEFT||this.pinned===De.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===De.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===De.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,o){void 0===o&&(o="api");var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,o)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},e.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(_(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)},e.prototype.getRowSpan=function(e){if(_(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)},e.prototype.setActualWidth=function(e,t,o){void 0===t&&(t="api"),void 0===o&&(o=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,t))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),E(this.minWidth)&&this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,o){void 0===o&&(o="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,o)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,o){void 0===o&&(o="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,o)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,o){void 0===o&&(o="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,o)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",Ne([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ne([Se("columnUtils")],e.prototype,"columnUtils",void 0),Ne([Se("columnApi")],e.prototype,"columnApi",void 0),Ne([Se("gridApi")],e.prototype,"gridApi",void 0),Ne([Se("context")],e.prototype,"context",void 0),Ne([we],e.prototype,"initialise",null),e}();function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;o++){var i=e[o];if(E(i))return i}return null}function Ge(e){return null!=e&&e.length>0}function He(e){if(e&&e.length)return e[e.length-1]}function Ve(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(function(e,i){return o?o(e,t[i]):t[i]===e})}function We(e,t){return Ve(e,t)}function Be(e,t){return Ve(e,t)}function je(e){return e.sort(function(e,t){return e-t})}function ze(e,t){if(e)for(var o=e.length-2;o>=0;o--)e[o]===t&&e[o+1]===t&&e.splice(o+1,1)}function Ue(e,t){var o=e.indexOf(t);o>=0&&e.splice(o,1)}function Ye(e,t){t.forEach(function(t){return Ue(e,t)})}function Xe(e,t,o){e.splice(o,0,t)}function qe(e,t,o){if(null!=e&&null!=t)for(var i=t.length-1;i>=0;i--)Xe(e,t[i],o)}function Ze(e,t,o){Ye(e,t),t.slice().reverse().forEach(function(t){return Xe(e,t,o)})}function Ke(e,t){return e.indexOf(t)>-1}function Qe(e){return[].concat.apply([],e)}function Je(e,t){null!=t&&null!=e&&t.forEach(function(t){return e.push(t)})}function $e(e){return e.map(R)}function et(e,t){if(null!=e)for(var o=e.length-1;o>=0;o--)t(e[o],o)}var tt=function(){function e(e,t,o,i){this.displayedChildren=[],this.localEventService=new Pe,this.groupId=t,this.instanceId=o,this.providedColumnGroup=e,this.pinned=i}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(function(e){return e.isMoving()})},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(t){t instanceof e&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=He(this.displayedChildren).getLeft();this.setLeft(t)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var o=!1;return this.children.forEach(function(i){t===i&&(o=!0),i instanceof e&&i.isChildInThisGroupDeepSearch(t)&&(o=!0)}),o},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(o){o instanceof Le?t.push(o):o instanceof e&&o.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(o){o instanceof Le?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},e.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},e.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var o=this;null!=o&&o.isPadding();)o=o.getParent();if(!o||!o.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(i){if(!(i instanceof e)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:o.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case e.HEADER_GROUP_SHOW_CLOSED:o.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),ot=function(){function e(e,t,o,i){this.localEventService=new Pe,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=o,this.level=i}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some(function(e){return e.isVisible()})},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED})},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(o){o instanceof Le?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(Le.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,o=!1,i=!1,n=this.findChildrenRemovingPadding(),r=0,s=n.length;r<s;r++){var a=n[r];if(a.isVisible()){var l=a.getColumnGroupShow();l===tt.HEADER_GROUP_SHOW_OPEN?(t=!0,i=!0):l===tt.HEADER_GROUP_SHOW_CLOSED?(o=!0,i=!0):(t=!0,o=!0)}}var c=t&&o&&i;this.expandable!==c&&(this.expandable=c,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDABLE_CHANGED}))}},e.prototype.findChildrenRemovingPadding=function(){var t=[],o=function(i){i.forEach(function(i){i instanceof e&&i.isPadding()?o(i.children):t.push(i)})};return o(this.children),t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),it={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},nt="__ag_Grid_Stop_Propagation",rt=["touchstart","touchend","touchmove","touchcancel"],st={};function at(e){e[nt]=!0}function lt(e){return!0===e[nt]}var ct,ut=(ct={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof st[e])return st[e];var t=document.createElement(ct[e]||"div");return st[e="on"+e]=e in t});function pt(e,t,o){for(var i=t.target;i;){var n=e.getDomData(i,o);if(n)return n;i=i.parentElement}return null}function ht(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t)}function dt(e,t){return!(!t||!e)&&mt(t).indexOf(e)>=0}function ft(e){for(var t=[],o=e.target;o;)t.push(o),o=o.parentElement;return t}function gt(e){e.__agGridEventPath=mt(e)}function mt(e){var t=e;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:ft(e)}function yt(e,t,o,i){var n=Ke(rt,o);e&&e.addEventListener&&e.addEventListener(t,o,i,n?{passive:!0}:void 0)}var vt,Ct=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.getContext=function(){return this.context},e.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new Pe),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,o){var i=this;if(!this.destroyed){e instanceof HTMLElement?yt(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);var n=function(){return e.removeEventListener(t,o),i.destroyFunctions=i.destroyFunctions.filter(function(e){return e!==n}),null};return this.destroyFunctions.push(n),n}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o},e.prototype.createBean=function(e,t,o){return(t||this.getContext()).createBean(e,o)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var o=this;return e&&e.forEach(function(e){return o.destroyBean(e,t)}),[]},e.EVENT_DESTROYED="destroyed",Ct([Se("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ct([Se("context")],e.prototype,"context",void 0),Ct([Se("eventService")],e.prototype,"eventService",void 0),Ct([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ct([be],e.prototype,"destroy",null),e}(),bt=(vt=function(e,t){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}vt(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),xt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},St=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bt(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,o){var i=new k,n=this.extractExistingTreeData(o),r=n.existingCols,s=n.existingGroups;i.addExistingKeys(n.existingColKeys);var a=this.recursivelyCreateColumns(e,0,t,r,i,s),l=this.findMaxDept(a,0);this.logger.log("Number of levels for grouped columns is "+l);var c=this.balanceColumnTree(a,0,l,i);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,function(e,t){e instanceof ot&&e.setupExpandable(),e.setOriginalParent(t)}),{columnTree:c,treeDept:l}},t.prototype.extractExistingTreeData=function(e){var t=[],o=[],i=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(e){if(e instanceof ot)o.push(e);else{var n=e;i.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:o,existingColKeys:i}},t.prototype.createForAutoGroups=function(e,t){var o=this;return e.map(function(e){return o.createAutoGroupTreeItem(t,e)})},t.prototype.createAutoGroupTreeItem=function(e,t){for(var o=t,i=this.findDepth(e)-1;i>=0;i--){var n=new ot(null,"FAKE_PATH_"+t.getId()+"}_"+i,!0,i);this.context.createBean(n),n.setChildren([o]),o.setOriginalParent(n),o=n}return o},t.prototype.findDepth=function(e){for(var t=0,o=e;o&&o[0]&&o[0]instanceof ot;)t++,o=o[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,o,i){for(var n=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof ot){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,o,i);a.setChildren(l),n.push(a)}else{for(var c=void 0,u=void 0,p=o-1;p>=t;p--){var h=i.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new ot(d,h,!0,t);this.context.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){if(n.push(c),e.some(function(e){return e instanceof ot})){u.setChildren([s]);continue}u.setChildren(e);break}n.push(s)}}return n},t.prototype.findMaxDept=function(e,t){for(var o=t,i=0;i<e.length;i++){var n=e[i];if(n instanceof ot){var r=this.findMaxDept(n.getChildren(),t+1);o<r&&(o=r)}}return o},t.prototype.recursivelyCreateColumns=function(e,t,o,i,n,r){var s=this;return(e||[]).map(function(e){return s.isColumnGroup(e)?s.createColumnGroup(o,e,t,i,n,r):s.createColumn(o,e,i,n)})},t.prototype.createColumnGroup=function(e,t,o,i,n,r){var s=this.createMergedColGroupDef(t),a=n.getUniqueKey(s.groupId||null,null),l=new ot(s,a,!1,o);this.context.createBean(l);var c=this.findExistingGroup(t,r);c&&Ue(r,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(s.children,o+1,e,i,n,r);return l.setChildren(u),l},t.prototype.createMergedColGroupDef=function(e){var t={};return Object.assign(t,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,o,i){var n=this.mergeColDefs(t);this.checkForDeprecatedItems(n);var r=this.findExistingColumn(t,o);if(o&&r&&Ue(o,r),r)r.setColDef(n,t),this.applyColumnState(r,n);else{var s=i.getUniqueKey(n.colId,n.field);r=new Le(n,t,s,e),this.context.createBean(r)}return r},t.prototype.applyColumnState=function(e,t){var o=T(t.flex);if(void 0!==o&&e.setFlex(o),e.getFlex()<=0){var i=T(t.width);if(null!=i)e.setActualWidth(i);else{var n=e.getActualWidth();e.setActualWidth(n)}}void 0!==t.sort&&e.setSort(t.sort==De.SORT_ASC||t.sort==De.SORT_DESC?t.sort:void 0);var r=T(t.sortIndex);void 0!==r&&e.setSortIndex(r);var s=O(t.hide);void 0!==s&&e.setVisible(!s),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){return(t||[]).find(function(t){var o=t.getUserProvidedColDef();if(!o)return!1;var i=null!=e.field;return null!=e.colId?t.getId()===e.colId:i?o.field===e.field:o===e})},t.prototype.findExistingGroup=function(e,t){return t.find(function(t){return!(!t.getColGroupDef()||null==e.groupId||t.getId()!==e.groupId)})},t.prototype.mergeColDefs=function(e){var t={},o=this.gridOptionsWrapper.getDefaultColDef();Y(t,o,!1,!0);var i=e.type;i||(i=o&&o.type),i&&this.assignColumnTypes(i,t),Y(t,e,!1,!0);var n=this.gridOptionsWrapper.getAutoGroupColumnDef(),r=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&r&&Y(t,{sort:n.sort,initialSort:n.initialSort},!1,!0),t},t.prototype.assignColumnTypes=function(e,t){var o=[];if(e instanceof Array)e.some(function(e){return"string"!=typeof e})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):o=e;else{if("string"!=typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");o=e.split(",")}var i=Object.assign({},it);L(this.gridOptionsWrapper.getColumnTypes()||{},function(e,t){e in i?console.warn("AG Grid: the column type '"+e+"' is a default column type and cannot be overridden."):i[e]=t}),o.forEach(function(e){var o=i[e.trim()];o?Y(t,o,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("AG Grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},xt([Se("columnUtils")],t.prototype,"columnUtils",void 0),xt([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),xt([xe("columnFactory")],t);var o}(wt),Et=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",e.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_EDIT_REQUEST="cellEditRequest",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_BODY_SCROLL_END="bodyScrollEnd",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",e.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",e.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",e.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",e.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",e.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e.EVENT_STORE_UPDATED="storeUpdated",e}(),_t=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,o=this.existingIds[e];return this.existingIds[e]=t="number"!=typeof o?0:o+1,t},e}(),At=/[&<>"']/g,Rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Tt(e){var t=String.fromCharCode;function o(e,o){return t(e>>o&63|128)}function i(e){if(e>=0&&e<=31&&10!==e)return"_x"+e.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&e))return t(e);var i="";return 0==(4294965248&e)?i=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),i=t(e>>12&15|224),i+=o(e,6)):0==(4292870144&e)&&(i=t(e>>18&7|240),i+=o(e,12),i+=o(e,6)),i+t(63&e|128)}for(var n=function(e){var t=[];if(!e)return[];for(var o,i,n=e.length,r=0;r<n;)(o=e.charCodeAt(r++))>=55296&&o<=56319&&r<n?56320==(64512&(i=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--):t.push(o);return t}(e),r=n.length,s=-1,a="";++s<r;)a+=i(n[s]);return a}function Ot(e){return null==e?null:e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function Pt(e){return null==e?null:e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function Dt(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}function It(e){return null==e?null:e.toString().toString().replace(At,function(e){return Rt[e]})}function Mt(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")}).join(" "):null}function Nt(e){var t=new Map;return e.forEach(function(e){return t.set(e[0],e[1])}),t}function kt(e,t){var o=new Map;return e.forEach(function(e){return o.set(t(e),e)}),o}function Lt(e){var t=[];return e.forEach(function(e,o){return t.push(o)}),t}var Ft=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ht=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Wt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vt(arguments[t]));return e},Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return Ft(t,e),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return e.onDefaultColDefChanged()})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var o=!!this.columnDefs;this.colDefVersion++,this.columnDefs=e,this.createColumnsFromColumnDefs(o,t)},t.prototype.createColumnsFromColumnDefs=function(e,t){var o=this;void 0===t&&(t="api");var i=e?this.compareColumnStatesAndRaiseEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var n=this.primaryColumns,r=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(e){return o.primaryColumnsMap[e.getId()]=e}),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),i&&i(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:Et.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,t=this.primaryColumns;t&&(this.gridColumns.sort(function(o,i){var n=t.indexOf(o),r=t.indexOf(i),s=n>=0,a=r>=0;return s&&a?n-r:s?1:a?-1:e.gridColumns.indexOf(o)-e.gridColumns.indexOf(i)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,o=[];null!=t;)o.push(t),t=this.getDisplayedColAfter(t);return o},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.viewportColumns.map(function(e){return e.getId()}).join("#");this.extractViewport(),e!==this.viewportColumns.map(function(e){return e.getId()}).join("#")&&this.eventService.dispatchEvent({type:Et.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,t){if(_(this.secondaryColumns))return null;var o=this.getPrimaryColumn(t),i=null;return this.secondaryColumns.forEach(function(t){var n=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;Ve(n,e)&&r===o&&(i=t)}),i},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,o;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,o=this.displayedColumnsRight?He(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?He(this.displayedColumnsLeft):null,o=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(i){i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===o,e)})},t.prototype.autoSizeColumns=function(e){var t=this,o=e.columns,i=e.skipHeader,n=e.skipHeaderGroups,r=e.stopAtGroup,s=e.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],c=-1,u=null!=i?i:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),p=null!=n?n:u;0!==c;)c=0,this.actionOnGridColumns(o,function(e){if(l.indexOf(e)>=0)return!1;var o=t.autoWidthCalculator.getPreferredWidthForColumn(e,u);if(o>0){var i=t.normaliseColumnWidth(e,o);e.setActualWidth(i,a),l.push(e),c++}return!0},a);p||this.autoSizeColumnGroupsByColumns(o,r),this.fireColumnResizedEvent(l,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,t,o,i){void 0===i&&(i=null),e&&e.length&&this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.autoSizeColumn=function(e,t,o){void 0===o&&(o="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:o})},t.prototype.autoSizeColumnGroupsByColumns=function(e,t){var o,i,n,r,s,a=new Set;this.getGridColumns(e).forEach(function(e){for(var o=e.getParent();o&&o!=t;)o.isPadding()||a.add(o),o=o.getParent()});try{for(var l=Ht(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var p=(n=void 0,Ht(this.ctrlsService.getHeaderRowContainerCtrls())),h=p.next();!h.done&&!(s=h.value.getHeaderCtrlForColumn(u));h=p.next());}catch(d){n={error:d}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}s&&s.resizeLeafColumnsToFit()}}catch(f){o={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return[]},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:t})},t.prototype.getColumnsFromTree=function(e){var t=[],o=function(e){for(var i=0;i<e.length;i++){var n=e[i];n instanceof Le?t.push(n):n instanceof ot&&o(n.getChildren())}};return o(e),t},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,t,o,i){for(var n,r=[],s=null,a=function(a){var l,c=t[a],u=t.length-a,p=Math.min(c.getColSpan(e),u),h=[c];if(p>1){for(var d=p-1,f=1;f<=d;f++)h.push(t[a+f]);a+=d}o?(l=!1,h.forEach(function(e){o(e)&&(l=!0)})):l=!0,l&&(0===r.length&&s&&i&&i(c)&&r.push(s),r.push(c)),s=c,n=a},l=0;l<t.length;l++)a(l),l=n;return r},t.prototype.getViewportCenterColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(e){var o=e.getLeft();return E(o)&&o>t.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){if(e.isAutoHeight())return!0;if(e.isAutoHeaderHeight())return!0;var t=e.getLeft()||0,o=t+e.getActualWidth(),i=this.viewportLeft-200,n=this.viewportRight+200;return!(t<i&&o<i||t>n&&o>n)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,t,o,i,n,r){var s=this;if(void 0===r&&(r="api"),e&&!A(e)){var a=!1;e.forEach(function(e){var n=s.getPrimaryColumn(e);if(n){if(o){if(t.indexOf(n)>=0)return;t.push(n)}else{if(t.indexOf(n)<0)return;Ue(t,n)}i(n),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:n,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r}))}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||this.setColumnVisible(t,!0,o))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Et.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Et.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(e){return e.setPivotActive(!0,t)},Et.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,Et.EVENT_COLUMN_PIVOT_CHANGED,function(e,o){o.setPivotActive(e,t)},t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(e){return e.setPivotActive(!1,t)},Et.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,o,i,n){var r=this;t.length=0,E(e)&&e.forEach(function(e){var o=r.getPrimaryColumn(e);o&&t.push(o)}),(this.primaryColumns||[]).forEach(function(e){var o=t.indexOf(e)>=0;i(o,e)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n),this.fireColumnEvent(o,t,n)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,Et.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Et.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Et.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){var o=e.getMinWidth();E(o)&&t<o&&(t=o);var i=e.getMaxWidth();return E(i)&&e.isGreaterThanMax(t)&&(t=i),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,o,i){var n=this;void 0===i&&(i="api");var r=[];e.forEach(function(e){var o=n.getPrimaryOrGridColumn(e.key);if(o&&(r.push({width:e.newWidth,ratios:[1],columns:[o]}),"shift"===n.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var i=n.getDisplayedColAfter(o);if(!i)return;var s=o.getActualWidth()-e.newWidth,a=i.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[i]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:o,source:i})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.width,o=0,i=0,n=!0;return e.columns.forEach(function(e){var t=e.getMinWidth();o+=t||0;var r=e.getMaxWidth();E(r)&&r>0?i+=r:n=!1}),t>=o&&(!n||t<=i)},t.prototype.resizeColumnSets=function(e){var t=this,o=e.resizeSets,i=e.finished,n=e.source;if(!o||o.every(function(e){return t.checkMinAndMaxWidthsForSet(e)})){var r=[],s=[];o.forEach(function(e){var t=e.width,o=e.columns,i=e.ratios,a={},l={};o.forEach(function(e){return s.push(e)});for(var c=!0,u=0,p=function(){if(++u>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";c=!1;var e=[],n=0,r=t;o.forEach(function(t,o){l[t.getId()]?r-=a[t.getId()]:(e.push(t),n+=i[o])});var s=1/n;e.forEach(function(o,n){var u;n===e.length-1?u=r:(u=Math.round(i[n]*t*s),r-=u);var p=o.getMinWidth(),h=o.getMaxWidth();E(p)&&u<p?(u=p,l[o.getId()]=!0,c=!0):E(h)&&h>0&&u>h&&(u=h,l[o.getId()]=!0,c=!0),a[o.getId()]=u})};c&&"break"!==p(););o.forEach(function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),r.push(e))})});var a=r.length>0,l=[];a&&(l=this.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());var c=s.concat(l);(a||i)&&this.fireColumnResizedEvent(c,i,n,l)}else i&&this.fireColumnResizedEvent(o&&o.length>0?o[0].columns:null,i,n)},t.prototype.setColumnAggFunc=function(e,t,o){if(void 0===o&&(o="api"),e){var i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.fireColumnEvent(Et.EVENT_COLUMN_VALUE_CHANGED,[i],o))}},t.prototype.fireColumnEvent=function(e,t,o){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.moveRowGroupColumn=function(e,t,o){void 0===o&&(o="api");var i=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i),this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.moveColumns=function(e,t,o){if(void 0===o&&(o="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var i=this.getGridColumns(e);!this.doesMovePassRules(i,t)||(Ze(this.gridColumns,i,t),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_MOVED,columns:i,column:1===i.length?i[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:o}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var o=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(o)},t.prototype.doesOrderPassRules=function(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)},t.prototype.getProposedColumnOrder=function(e,t){var o=this.gridColumns.slice();return Ze(o,e,t),o},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;!e||e.length<=1||e.filter(function(e){return t.gridColumns.indexOf(e)<0}).length>0||e.sort(function(e,o){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(o)})},t.prototype.doesMovePassLockedPositions=function(e){var t=0,o=!0;return e.forEach(function(e){var i,n=(i=e.getColDef().lockPosition)?!0===i||"left"===i?0:2:1;n<t&&(o=!1),t=n}),o},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof ot){var i=o,n=i.getColGroupDef();if(n&&n.marryChildren){var r=[];i.getLeafColumns().forEach(function(t){var o=e.indexOf(t);r.push(o)}),Math.max.apply(Math,r)-Math.min.apply(Math,r)>i.getLeafColumns().length-1&&(t=!1)}}}),t},t.prototype.moveColumn=function(e,t,o){void 0===o&&(o="api"),this.moveColumns([e],t,o)},t.prototype.moveColumnByIndex=function(e,t,o){void 0===o&&(o="api"),this.moveColumn(this.gridColumns[e],t,o)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort(function(t,o){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&t.sort(function(t,o){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case De.PINNED_LEFT:return this.leftWidth;case De.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),o=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o,this.eventService.dispatchEvent({type:Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case De.PINNED_LEFT:return this.getDisplayedLeftColumns();case De.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return A(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return A(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,o){void 0===o&&(o="api"),this.setColumnsVisible([e],t,o)},t.prototype.setColumnsVisible=function(e,t,o){var i=this;void 0===t&&(t=!1),void 0===o&&(o="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(e){return e.isVisible()!==t&&(e.setVisible(t,o),!0)},o,function(){return{type:Et.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:o}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,o){void 0===o&&(o="api"),e&&this.setColumnsPinned([e],t,o)},t.prototype.setColumnsPinned=function(e,t,o){var i,n=this;void 0===o&&(o="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),i=!0===t||t===De.PINNED_LEFT?De.PINNED_LEFT:t===De.PINNED_RIGHT?De.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(e){return e.getPinned()!==i&&(e.setPinned(i),!0)},o,function(){return{type:Et.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:o}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,o,i){var n=this;if(!A(e)){var r=[];if(e.forEach(function(e){var o=n.getGridColumn(e);o&&!1!==t(o)&&r.push(o)}),r.length&&(this.updateDisplayedColumns(o),E(i)&&i)){var s=i();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o>0?t[o-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var o=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),n="After"===t?He(i):i[0],r="getDisplayedCol"+t;;){var s=this[r](n);if(!s)return null;var a=this.getColumnGroupAtLevel(s,o);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var o=e.getParent();!(o.getProvidedColumnGroup().getLevel()+o.getPaddingLevel()<=t);)o=o.getParent();return o},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,Wt([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,Wt([this.primaryColumns||[],this.groupAutoColumns||[]]))},t.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,Wt([this.primaryColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,o=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,n=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:n,sortIndex:r,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:o,flex:s}},t.prototype.getColumnState=function(){if(_(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e},t.prototype.orderColumnStateList=function(e){var t=Nt(this.gridColumns.map(function(e,t){return[e.getColId(),t]}));e.sort(function(e,o){return(t.has(e.colId)?t.get(e.colId):-1)-(t.has(o.colId)?t.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var t=this.getColumnsFromTree(this.primaryColumnTree),o=[],i=1e3,n=1e3,r=[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),t&&(r=r.concat(t)),r.forEach(function(e){var t=function(e,t){return null!=e?e:null!=t?t:null},r=e.getColDef(),s=t(r.sort,r.initialSort),a=t(r.sortIndex,r.initialSortIndex),l=t(r.hide,r.initialHide),c=t(r.pinned,r.initialPinned),u=t(r.width,r.initialWidth),p=t(r.flex,r.initialFlex),h=t(r.rowGroupIndex,r.initialRowGroupIndex),d=t(r.rowGroup,r.initialRowGroup);null!=h||null!=d&&0!=d||(h=null,d=null);var f=t(r.pivotIndex,r.initialPivotIndex),g=t(r.pivot,r.initialPivot);null!=f||null!=g&&0!=g||(f=null,g=null);var m=t(r.aggFunc,r.initialAggFunc),y={colId:e.getColId(),sort:s,sortIndex:a,hide:l,pinned:c,width:u,flex:p,rowGroup:d,rowGroupIndex:h,pivot:g,pivotIndex:f,aggFunc:m};_(h)&&d&&(y.rowGroupIndex=i++),_(f)&&g&&(y.pivotIndex=n++),o.push(y)}),this.applyColumnState({state:o,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,t){var o=this;if(void 0===t&&(t="api"),A(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var i=function(i,n,r){var s=o.compareColumnStatesAndRaiseEvents(t);o.autoGroupsNeedBuilding=!0;var a=n.slice(),l={},c={},u=[],p=[],h=0,d=o.rowGroupColumns.slice(),f=o.pivotColumns.slice();i.forEach(function(i){var n=i.colId||"";if(n.startsWith(De.GROUP_AUTO_COLUMN_ID))return u.push(i),void p.push(i);var s=r(n);s?(o.syncColumnWithStateItem(s,i,e.defaultState,l,c,!1,t),Ue(a,s)):(p.push(i),h+=1)});var g=function(i){return o.syncColumnWithStateItem(i,null,e.defaultState,l,c,!1,t)};a.forEach(g);var m=function(e,t,o,i){var n=e[o.getId()],r=e[i.getId()],s=null!=n,a=null!=r;if(s&&a)return n-r;if(s)return-1;if(a)return 1;var l=t.indexOf(o),c=t.indexOf(i),u=l>=0;return u&&c>=0?l-c:u?-1:1};o.rowGroupColumns.sort(m.bind(o,l,d)),o.pivotColumns.sort(m.bind(o,c,f)),o.updateGridColumns();var y=o.groupAutoColumns?o.groupAutoColumns.slice():[];return u.forEach(function(i){var n=o.getAutoColumn(i.colId);Ue(y,n),o.syncColumnWithStateItem(n,i,e.defaultState,null,null,!0,t)}),y.forEach(g),o.applyOrderAfterApplyState(e),o.updateDisplayedColumns(t),o.dispatchEverythingChanged(t),s(),{unmatchedAndAutoStates:p,unmatchedCount:h}};this.columnAnimationService.start();var n=i(e.state||[],this.primaryColumns||[],function(e){return o.getPrimaryColumn(e)}),r=n.unmatchedAndAutoStates,s=n.unmatchedCount;return(r.length>0||E(e.defaultState))&&(s=i(r,this.secondaryColumns||[],function(e){return o.getSecondaryColumn(e)}).unmatchedCount),this.columnAnimationService.finish(),0===s},t.prototype.applyOrderAfterApplyState=function(e){var t=this;if(e.applyOrder&&e.state){var o=[],i={};e.state.forEach(function(e){if(e.colId&&!i[e.colId]){var n=t.gridColumnsMap[e.colId];n&&(o.push(n),i[e.colId]=!0)}});var n=0;this.gridColumns.forEach(function(e){var t=e.getColId();null!=i[t]||(t.startsWith(De.GROUP_AUTO_COLUMN_ID)?Xe(o,e,n++):o.push(e))}),o=this.placeLockedColumns(o),this.doesMovePassMarryChildren(o)?this.gridColumns=o:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var t=this,o={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach(function(e){n[e.colId]=e}),function(){if(!t.gridOptionsWrapper.isSuppressColumnStateEvents()){var r=t.getPrimaryAndSecondaryAndAutoColumns(),s=function(o,i,n,r){Ve(i.map(r),n.map(r))||t.eventService.dispatchEvent({type:o,columns:n,column:1===n.length?n[0]:null,api:t.gridApi,columnApi:t.columnApi,source:e})},a=function(e){var t=[];return r.forEach(function(o){var i=n[o.getColId()];i&&e(i,o)&&t.push(o)}),t},l=function(e){return e.getColId()};s(Et.EVENT_COLUMN_ROW_GROUP_CHANGED,o.rowGroupColumns,t.rowGroupColumns,l),s(Et.EVENT_COLUMN_PIVOT_CHANGED,o.pivotColumns,t.pivotColumns,l),a(function(e,t){var o=null!=e.aggFunc,i=o!=t.isValueActive(),n=o&&e.aggFunc!=t.getAggFunc();return i||n}).length>0&&t.fireColumnEvent(Et.EVENT_COLUMN_VALUE_CHANGED,t.valueColumns,e),t.fireColumnResizedEvent(a(function(e,t){return e.width!=t.getActualWidth()}),!0,e),t.raiseColumnPinnedEvent(a(function(e,t){return e.pinned!=t.getPinned()}),e),t.raiseColumnVisibleEvent(a(function(e,t){return e.hide==t.isVisible()}),e),a(function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()}).length>0&&t.sortController.dispatchSortChangedEvents(e),t.raiseColumnMovedEvent(i,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,t){if(e.length){var o=1===e.length?e[0]:null,i=this.getCommonValue(e,function(e){return e.getPinned()});this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_PINNED,pinned:null!=i?i:null,columns:e,column:o,api:this.gridApi,columnApi:this.columnApi,source:t})}},t.prototype.getCommonValue=function(e,t){if(e&&0!=e.length){for(var o=t(e[0]),i=1;i<e.length;i++)if(o!==t(e[i]))return;return o}},t.prototype.raiseColumnVisibleEvent=function(e,t){if(e.length){var o=1===e.length?e[0]:null,i=this.getCommonValue(e,function(e){return e.isVisible()});this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:o,api:this.gridApi,columnApi:this.columnApi,source:t})}},t.prototype.raiseColumnMovedEvent=function(e,t){var o=this,i=this.getColumnState(),n={};i.forEach(function(e){return n[e.colId]=e});var r={};e.forEach(function(e){n[e.colId]&&(r[e.colId]=!0)});var s=e.filter(function(e){return r[e.colId]}),a=i.filter(function(e){return r[e.colId]}),l=[];a.forEach(function(e,t){var i=s&&s[t];if(i&&i.colId!==e.colId){var n=o.getGridColumn(i.colId);n&&l.push(n)}}),l.length&&this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_MOVED,columns:l,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.syncColumnWithStateItem=function(e,t,o,i,n,r,s){if(e){var a=function(e,i){var n={value1:void 0,value2:void 0},r=!1;return t&&(void 0!==t[e]&&(n.value1=t[e],r=!0),E(i)&&void 0!==t[i]&&(n.value2=t[i],r=!0)),!r&&o&&(void 0!==o[e]&&(n.value1=o[e]),E(i)&&void 0!==o[i]&&(n.value2=o[i])),n},l=a("hide").value1;void 0!==l&&e.setVisible(!l,s);var c=a("pinned").value1;void 0!==c&&e.setPinned(c);var u=this.columnUtils.calculateColMinWidth(e.getColDef()),p=a("flex").value1;if(void 0!==p&&e.setFlex(p),e.getFlex()<=0){var h=a("width").value1;null!=h&&null!=u&&h>=u&&e.setActualWidth(h,s)}var d=a("sort").value1;void 0!==d&&e.setSort(d===De.SORT_DESC||d===De.SORT_ASC?d:void 0,s);var f=a("sortIndex").value1;if(void 0!==f&&e.setSortIndex(f),!r&&e.isPrimary()){var g=a("aggFunc").value1;void 0!==g&&("string"==typeof g?(e.setAggFunc(g),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(E(g)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),Ue(this.valueColumns,e))));var m=a("rowGroup","rowGroupIndex"),y=m.value1,v=m.value2;void 0===y&&void 0===v||("number"==typeof v||y?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),i&&"number"==typeof v&&(i[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),Ue(this.rowGroupColumns,e)));var C=a("pivot","pivotIndex"),w=C.value1,b=C.value2;void 0===w&&void 0===b||("number"==typeof b||w?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),n&&"number"==typeof b&&(n[e.getId()]=b)):e.isPivotActive()&&(e.setPivotActive(!1,s),Ue(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var o=[];return e&&e.forEach(function(e){var i=t(e);i&&o.push(i)}),o},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,t,o){if(!e)return null;if("string"==typeof e&&o[e])return o[e];for(var i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);var o=this.getPrimaryColumn(t);return o?[o]:null},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&E(this.groupAutoColumns)&&!_(this.groupAutoColumns)&&this.groupAutoColumns.find(function(o){return t.columnsMatch(o,e)})||null},t.prototype.columnsMatch=function(e,t){var o=e===t,i=e.getColDef()===t,n=e.getColId()==t;return o||i||n},t.prototype.getDisplayNameForColumn=function(e,t,o){if(void 0===o&&(o=!1),!e)return null;var i=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,i):i},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,t,o){var i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,o):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,o,i,n){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:o,providedColumnGroup:i,location:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Mt(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var o,i=e.getColDef().pivotValueColumn,n=null;if(E(i)){var r=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,s=void 0!==e.getColDef().pivotTotalColumnIds;if(r&&!s)return t;n=i?i.getAggFunc():null,o=!0}else{var a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(n=e.getAggFunc(),o=!0):o=!1}if(o){var c="string"==typeof n?n:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(c,c)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof tt)return e;var o=this.getAllDisplayedTrees(),i="number"==typeof t,n=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,function(o){if(o instanceof tt){var r=o;(i?e===r.getGroupId()&&t===r.getInstanceId():e===r.getGroupId())&&(n=r)}}),n},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,function(t,o){return t.setValueActive(o,e)},function(){},function(){},function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0},function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc}),this.valueColumns.forEach(function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,function(t,o){return t.setRowGroupActive(o,e)},function(e){return e.rowGroupIndex},function(e){return e.initialRowGroupIndex},function(e){return e.rowGroup},function(e){return e.initialRowGroup})},t.prototype.extractColumns=function(e,t,o,i,n,r,s){void 0===e&&(e=[]),void 0===t&&(t=[]);var a=[],l=[];(this.primaryColumns||[]).forEach(function(o){var c=e.indexOf(o)<0,u=o.getColDef(),p=O(r(u)),h=O(s(u)),d=T(i(u)),f=T(n(u));(void 0!==p?p:void 0!==d?null!==d&&d>=0:c?void 0!==h?h:void 0!==f&&null!=f&&f>=0:t.indexOf(o)>=0)&&((c?null!=d||null!=f:null!=d)?a.push(o):l.push(o))});var c=function(e){var t=i(e.getColDef()),o=n(e.getColDef());return null!=t?t:o};a.sort(function(e,t){var o=c(e),i=c(t);return o===i?0:o<i?-1:1});var u=[].concat(a);return t.forEach(function(e){l.indexOf(e)>=0&&u.push(e)}),l.forEach(function(e){u.indexOf(e)<0&&u.push(e)}),t.forEach(function(e){u.indexOf(e)<0&&o(e,!1)}),u.forEach(function(e){t.indexOf(e)<0&&o(e,!0)}),u},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,function(t,o){return t.setPivotActive(o,e)},function(e){return e.pivotIndex},function(e){return e.initialPivotIndex},function(e){return e.pivot},function(e){return e.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(e){if(e instanceof ot){var o=e.getColGroupDef(),i={groupId:e.getGroupId(),open:o?o.openByDefault:void 0};t.push(i)}}),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(t){t instanceof ot&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,t){var o=this;void 0===t&&(t="api"),this.columnAnimationService.start();var i=[];e.forEach(function(e){var t=e.open,n=o.getProvidedColumnGroup(e.groupId);n&&n.isExpanded()!==t&&(o.logger.log("columnGroupOpened("+n.getGroupId()+","+t+")"),n.setExpanded(t),i.push(n))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach(function(e){o.eventService.dispatchEvent({type:Et.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:o.gridApi,columnApi:o.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,o){var i;void 0===o&&(o="api"),i=e instanceof ot?e.getId():e||"",this.setColumnGroupState([{groupId:i,open:t}],o)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){o instanceof ot&&o.getId()===e&&(t=o)}),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&_(this.secondaryColumns)?this.gridColumns.filter(function(t){var o=e.groupAutoColumns&&Ke(e.groupAutoColumns,t),i=e.valueColumns&&Ke(e.valueColumns,t);return o||i}):this.gridColumns.filter(function(t){return e.groupAutoColumns&&Ke(e.groupAutoColumns,t)||t.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach(function(e){E(e.getColDef().colSpan)&&(t=!0)}),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var t=function(t){var o=t.getColDef(),i=o.showRowGroup;o&&E(i)&&(e.groupDisplayColumns.push(t),"string"==typeof i?e.groupDisplayColumnsMap[i]=t:!0===i&&e.getRowGroupColumns().forEach(function(o){e.groupDisplayColumnsMap[o.getId()]=t}))};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return E(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,t){var o=this;void 0===t&&(t="api");var i=e&&e.length>0;if(i||!_(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);var n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(e){return o.secondaryColumnsMap[e.getId()]=e}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),o=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(t||o){var i=function(e){e.forEach(function(e){if(E(e.children)){var n=e;o&&o(n),i(n.children)}else t&&t(e)})};e&&i(e)}},t.prototype.updateGridColumns=function(){var e=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var t=this.secondaryColumns.every(function(t){return void 0!==e.gridColumnsMap[t.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,t&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(t){return e.gridColumnsMap[t.getId()]=t}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:Et.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(e){return e.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();e!==De.ROW_MODEL_TYPE_CLIENT_SIDE&&e!==De.ROW_MODEL_TYPE_SERVER_SIDE&&ie(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},t.prototype.orderGridColsLike=function(e){if(!_(e)){var t=Nt(e.map(function(e,t){return[e,t]})),o=!0;if(this.gridColumns.forEach(function(e){t.has(e)&&(o=!1)}),!o){var i=Nt(this.gridColumns.map(function(e){return[e,!0]})),n=e.filter(function(e){return i.has(e)}),r=Nt(n.map(function(e){return[e,!0]})),s=this.gridColumns.filter(function(e){return!r.has(e)}),a=n.slice();s.forEach(function(e){var t=e.getOriginalParent();if(t){for(var o=[];!o.length&&t;)t.getLeafColumns().forEach(function(e){var t=a.indexOf(e)>=0,i=o.indexOf(e)<0;t&&i&&o.push(e)}),t=t.getOriginalParent();if(o.length){var i=o.map(function(e){return a.indexOf(e)}),n=Math.max.apply(Math,Wt(i));Xe(a,e,n+1)}else a.push(e)}else a.push(e)}),this.gridColumns=a}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.placeLockedColumns=function(e){var t=[],o=[],i=[];return e.forEach(function(e){var n=e.getColDef().lockPosition;"right"===n?i.push(e):"left"===n||!0===n?t.push(e):o.push(e)}),Wt(t,o,i)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!_(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Et.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(e){return e.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this;if(this.primaryColumns){var o=this.primaryColumns.slice(0),i=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(n){if(i){var r=t.getWidthOfColsInList(n);n.forEach(function(t){r-=t.getActualWidth(),t.setLeft(r,e)})}else{var s=0;n.forEach(function(t){t.setLeft(s,e),s+=t.getActualWidth()})}Ye(o,n)}),o.forEach(function(t){t.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(e){e instanceof tt&&e.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(e){e instanceof Le&&t.push(e)})},t.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,t){var o;switch(e){case De.PINNED_LEFT:o=this.viewportRowLeft[t];break;case De.PINNED_RIGHT:o=this.viewportRowRight[t];break;default:o=this.viewportRowCenter[t]}return _(o)&&(o=[]),o},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach(function(t){return e[t.getId()]=!0});var t=function(o,i,n){for(var r=!1,s=0;s<o.length;s++){var a=o[s],l=!1;if(a instanceof Le)l=!0===e[a.getId()];else{var c=a.getDisplayedChildren();c&&(l=t(c,i,n+1))}l&&(r=!0,i[n]||(i[n]=[]),i[n].push(a))}return r};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var o=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var i=-1;e.resizingCols&&e.resizingCols.forEach(function(e){var o=t.displayedColumnsCenter.indexOf(e);i<o&&(i=o)});var n=function(e){var o=t.displayedColumnsCenter.indexOf(e)>i;return e.getFlex()&&o},r=this.displayedColumnsCenter.filter(function(e){return!n(e)}),s=this.displayedColumnsCenter.filter(function(e){return n(e)}),a=[];if(!s.length)return[];var l,c=[];e:for(;;){var u=s.reduce(function(e,t){return e+t.getFlex()},0);l=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var p=0;p<s.length;p++){var h=s[p],d=l*h.getFlex()/u,f=0,g=h.getMinWidth(),m=h.getMaxWidth();if(E(g)&&d<g?f=g:E(m)&&d>m&&(f=m),f){h.setActualWidth(f,o),Ue(s,h),a.push(h),r.push(h);continue e}c[p]=Math.round(d)}break}var y=l;return s.forEach(function(e,t){e.setActualWidth(Math.min(c[t],y),o),a.push(e),y-=c[t]}),e.skipSetLeft||this.setLeftValues(o),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(a,!0,o,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s},t.prototype.sizeColumnsToFit=function(e,t,o){void 0===t&&(t="sizeColumnsToFit");var i=this.getAllDisplayedColumns(),n=e===this.getWidthOfColsInList(i);if(!(e<=0||!i.length||n)){var r=[],s=[];i.forEach(function(e){!0===e.getColDef().suppressSizeToFit?s.push(e):r.push(e)});var a=r.slice(0),l=!1,c=function(e){Ue(r,e),s.push(e)};for(r.forEach(function(e){return e.resetActualWidth(t)});!l;){l=!0;var u=e-this.getWidthOfColsInList(s);if(u<=0)r.forEach(function(e){e.setMinimum(t)});else for(var p=u/this.getWidthOfColsInList(r),h=u,d=r.length-1;d>=0;d--){var f=r[d],g=f.getMinWidth(),m=f.getMaxWidth(),y=Math.round(f.getActualWidth()*p);E(g)&&y<g?(y=g,c(f),l=!1):E(m)&&f.isGreaterThanMax(y)?(y=m,c(f),l=!1):0===d&&(y=h),f.setActualWidth(y,t,!0),h-=y}}a.forEach(function(e){e.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),o||this.fireColumnResizedEvent(a,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],o=[],i=[];e.forEach(function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":o.push(e);break;default:i.push(e)}});var n=new _t;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,n,De.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,n,De.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,n,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var t=function(t){e.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(e){e instanceof tt&&e.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||t||e)this.groupAutoColumns=null;else{var o=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(o,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=o)}}},t.prototype.autoColsEqual=function(e,t){return Ve(e,t,function(e,t){return e.getColId()===t.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(e,t){return e+t.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(e){return e.getColDef().floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var o=0;o<t.length;o++){var i=this[t[o]]();if(i.length)return e?He(i):i[0]}return null},t.prototype.setColumnHeaderHeight=function(e,t){e.setAutoHeaderHeight(t)&&this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(function(e){return e.isAutoHeaderHeight()}).map(function(e){return e.getAutoHeaderHeight()||0});return Math.max.apply(Math,Wt([e],t))},Gt([Se("expressionService")],t.prototype,"expressionService",void 0),Gt([Se("columnFactory")],t.prototype,"columnFactory",void 0),Gt([Se("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Gt([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Gt([Se("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Gt([Se("columnUtils")],t.prototype,"columnUtils",void 0),Gt([Se("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Gt([Se("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Gt([Ee("aggFuncService")],t.prototype,"aggFuncService",void 0),Gt([Ee("valueCache")],t.prototype,"valueCache",void 0),Gt([Ee("animationFrameService")],t.prototype,"animationFrameService",void 0),Gt([Se("rowModel")],t.prototype,"rowModel",void 0),Gt([Se("columnApi")],t.prototype,"columnApi",void 0),Gt([Se("gridApi")],t.prototype,"gridApi",void 0),Gt([Se("sortController")],t.prototype,"sortController",void 0),Gt([Se("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Gt([we],t.prototype,"init",null),Gt([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Gt([xe("columnModel")],t);var o}(wt),jt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var t,o=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),n=T(e.width),r=T(e.initialWidth);return t=null!=n?n:null!=r?r:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(t,i),o)},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],i=!1,n=function(t,r){for(var s=0;s<t.length;s++){if(i)return;var a=t[s];a instanceof ot?(n(a.getChildren(),r+1),o[r]=a):a===e&&(i=!0)}};return n(t,0),i?o:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,o){var i=this;t&&t.forEach(function(t){t instanceof ot&&i.depthFirstOriginalTreeSearch(t,t.getChildren(),o),o(t,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof tt&&o.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof tt&&o.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("columnUtils")],t)}(wt),Ut=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ut(t,e),t.prototype.createDisplayedGroups=function(e,t,o,i,n){var r,s,a=this,l=[],c=this.mapOldGroupsById(n);return e.forEach(function(e){for(var n=a.getOriginalPathForColumn(t,e),u=[],p=!s,h=0;h<n.length;h++)if(p||n[h]!==s[h]){var d=a.createColumnGroup(n[h],o,c,i);u[h]=d,0==h?l.push(d):u[h-1].addChild(d)}else u[h]=r[h];0===u.length?l.push(e):He(u).addChild(e),r=u,s=n}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,o,i){var n=e.getGroupId(),r=t.getInstanceIdForKey(n),s=o[tt.createUniqueId(n,r)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),E(s)?s.reset():(s=new tt(e,n,r,i),this.context.createBean(s)),s},t.prototype.mapOldGroupsById=function(e){var t={},o=function(e){e.forEach(function(e){if(e instanceof tt){var i=e;t[e.getUniqueId()]=i,o(i.getChildren())}})};return e&&o(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var o=this;e.forEach(function(e){if(e.setParent(t),e instanceof tt){var i=e;o.setupParentsIntoColumns(i.getChildren(),i)}})},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],i=!1,n=function(e,r){for(var s=0;s<e.length;s++){if(i)return;var a=e[s];a instanceof ot?(n(a.getChildren(),r+1),o[r]=a):a===t&&(i=!0)}};return n(e,0),i?o:(console.warn("AG Grid: could not get path"),null)},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("displayedGroupCreator")],t)}(wt),Xt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},qt=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],e.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll"],e.ALL_PROPERTIES=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xt(arguments[t]));return e}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),Zt=function(){return(Zt=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Kt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Qt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kt(arguments[t]));return e},Jt=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map(function(t){return e.getCallbackForEvent(t)})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,o,i){void 0===i&&(i=!1),"object"!=typeof t&&(t={});var n=t,r=function(e){return void 0!==o[e]};return r("groupAggFiltering")&&"function"!=typeof o.groupAggFiltering&&(n.groupAggFiltering=e.toBoolean(o.groupAggFiltering),delete o.groupAggFiltering),Qt(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(r).forEach(function(e){return n[e]=o[e]}),e.BOOLEAN_PROPERTIES.filter(r).forEach(function(t){return n[t]=e.toBoolean(o[t])}),e.NUMBER_PROPERTIES.filter(r).forEach(function(t){return n[t]=e.toNumber(o[t])}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,o,i,n){if(t){var r=Zt({},t),s=o,a=function(e){return r[e]};a("groupAggFiltering")&&(s.groupAggFiltering="function"==typeof r.groupAggFiltering?r.groupAggFiltering:e.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),r.rowClass&&(i.setRowClass(r.rowClass.currentValue),delete r.rowClass),Qt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(a).forEach(function(e){return s[e]=r[e].currentValue}),e.BOOLEAN_PROPERTIES.filter(a).forEach(function(t){return s[t]=e.toBoolean(r[t].currentValue)}),e.NUMBER_PROPERTIES.filter(a).forEach(function(t){return s[t]=e.toNumber(r[t].currentValue)}),r.enableCellTextSelection&&(i.setEnableCellTextSelection(e.toBoolean(r.enableCellTextSelection.currentValue)),delete r.enableCellTextSelection),r.quickFilterText&&(i.setQuickFilter(r.quickFilterText.currentValue),delete r.quickFilterText),r.autoGroupColumnDef&&(i.setAutoGroupColumnDef(r.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete r.autoGroupColumnDef),r.columnDefs&&(i.setColumnDefs(r.columnDefs.currentValue,"gridOptionsChanged"),delete r.columnDefs),r.defaultColDef&&(i.setDefaultColDef(r.defaultColDef.currentValue,"gridOptionsChanged"),delete r.defaultColDef),r.paginationPageSize&&(i.paginationSetPageSize(e.toNumber(r.paginationPageSize.currentValue)),delete r.paginationPageSize),r.pivotMode&&(n.setPivotMode(e.toBoolean(r.pivotMode.currentValue)),delete r.pivotMode),r.groupRemoveSingleChildren&&(i.setGroupRemoveSingleChildren(e.toBoolean(r.groupRemoveSingleChildren.currentValue)),delete r.groupRemoveSingleChildren),r.suppressRowDrag&&(i.setSuppressRowDrag(e.toBoolean(r.suppressRowDrag.currentValue)),delete r.suppressRowDrag),r.suppressMoveWhenRowDragging&&(i.setSuppressMoveWhenRowDragging(e.toBoolean(r.suppressMoveWhenRowDragging.currentValue)),delete r.suppressMoveWhenRowDragging),r.suppressRowClickSelection&&(i.setSuppressRowClickSelection(e.toBoolean(r.suppressRowClickSelection.currentValue)),delete r.suppressRowClickSelection),r.suppressClipboardPaste&&(i.setSuppressClipboardPaste(e.toBoolean(r.suppressClipboardPaste.currentValue)),delete r.suppressClipboardPaste),r.headerHeight&&(i.setHeaderHeight(e.toNumber(r.headerHeight.currentValue)),delete r.headerHeight);var l=i;Object.keys(r).forEach(function(e){var o="set"+e.charAt(0).toUpperCase()+e.substring(1);l[o]&&l[o](t[e].currentValue)});var c={type:Et.EVENT_COMPONENT_STATE_CHANGED,api:o.api,columnApi:o.columnApi};L(t,function(e,t){c[e]=t}),i.dispatchEvent(c)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.PUBLIC_EVENTS=[],e.EXCLUDED_INTERNAL_EVENTS=[],e.STRING_PROPERTIES=qt.STRING_PROPERTIES,e.OBJECT_PROPERTIES=qt.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=qt.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=qt.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=qt.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=qt.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=qt.ALL_PROPERTIES,e}();Jt.EVENTS=N(Et),Jt.EXCLUDED_INTERNAL_EVENTS=[Et.EVENT_SCROLLBAR_WIDTH_CHANGED,Et.EVENT_CHECKBOX_CHANGED,Et.EVENT_HEIGHT_SCALE_CHANGED,Et.EVENT_BODY_HEIGHT_CHANGED,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Et.EVENT_SCROLL_VISIBILITY_CHANGED,Et.EVENT_COLUMN_HOVER_CHANGED,Et.EVENT_FLASH_CELLS,Et.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Et.EVENT_DISPLAYED_ROWS_CHANGED,Et.EVENT_LEFT_PINNED_WIDTH_CHANGED,Et.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Et.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Et.EVENT_POPUP_TO_FRONT,Et.EVENT_KEYBOARD_FOCUS,Et.EVENT_MOUSE_FOCUS,Et.EVENT_STORE_UPDATED,Et.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Et.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Et.EVENT_FILL_START,Et.EVENT_FILL_END,Et.EVENT_FULL_WIDTH_ROW_FOCUSED,Et.EVENT_HEADER_HEIGHT_CHANGED,Et.EVENT_COLUMN_HEADER_HEIGHT_CHANGED],Jt.PUBLIC_EVENTS=Jt.EVENTS.filter(function(e){return!Ke(Jt.EXCLUDED_INTERNAL_EVENTS,e)});var $t,eo,to,oo,io,no,ro,so,ao,lo,co,uo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),po=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return uo(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach(function(e){return t.addComponent(e)})},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("agStackComponentsRegistry")],t)}(wt),ho=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},fo=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],e.ALL_PROPERTIES=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ho(arguments[t]));return e}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),go=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},mo=function(){function e(e,t,o,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,i||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var o=e.nameToHex[t];if(o)return e.fromHexString(o);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.parseHex=function(e){var t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var o=0;o<e.length;o+=2)t.push(parseInt(""+e[o]+e[o+1],16));break;case 3:case 4:t=e.split("").map(function(e){return parseInt(e,16)}).map(function(e){return e+16*e})}if(t.length>=3&&t.every(function(e){return e>=0}))return 3===t.length&&t.push(255),t},e.fromHexString=function(t){var o=e.parseHex(t);if(o){var i=go(o,4);return new e(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.stringToRgba=function(e){for(var t=go([NaN,NaN],2),o=t[0],i=t[1],n=0;n<e.length;n++){var r=e[n];if(o||"("!==r){if(")"===r){i=n;break}}else o=n}var s=o&&i&&e.substring(o+1,i);if(s){var a=s.split(","),l=[];for(n=0;n<a.length;n++){var c=a[n],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===n?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},e.fromRgbaString=function(t){var o=e.stringToRgba(t);if(o){if(3===o.length)return new e(o[0],o[1],o[2]);if(4===o.length)return new e(o[0],o[1],o[2],o[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,o,i,n){void 0===n&&(n=1);var r=e.HSBtoRGB(t,o,i);return new e(r[0],r[1],r[2],n)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,o){var i=Math.min(e,t,o),n=Math.max(e,t,o),r=NaN;if(i!==n){var s=n-i,a=(n-e)/s,l=(n-t)/s,c=(n-o)/s;r=e===n?c-l:t===n?2+a-c:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==n?(n-i)/n:0,n]},e.HSBtoRGB=function(e,t,o){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var i=0,n=0,r=0;if(0===t)i=n=r=o;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=o*(1-t),c=o*(1-t*a),u=o*(1-t*(1-a));switch(s>>0){case 0:i=o,n=u,r=l;break;case 1:i=c,n=o,r=l;break;case 2:i=l,n=o,r=u;break;case 3:i=l,n=c,r=o;break;case 4:i=u,n=l,r=o;break;case 5:i=o,n=l,r=c}}return[i,n,r]},e.prototype.derive=function(t,o,i,n){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&i>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*o,1),0);s=Math.max(Math.min(s*i,1),0);var c=Math.max(Math.min(this.a*n,1),0),u=e.HSBtoRGB(a,l,s);return u.push(c),e.fromArray(u)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function yo(){if(lo)return lo;var e,t,o=navigator.userAgent,i=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(i[1]))return{name:"IE",version:t=null!=(e=/\brv[ :]+(\d+)/g.exec(o)||[])[1]?parseFloat(e[1]):0};if("Chrome"===i[1]&&null!=(e=o.match(/\bOPR|Edge\/(\d+)/)))return{name:"Opera",version:t=null!=e[1]?parseFloat(e[1]):0};i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=o.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]);var n=i[0];return t=null!=i[1]?parseFloat(i[1]):0,lo={name:n,version:t}}function vo(){return void 0===to&&(void 0===eo&&(eo=!!document.documentMode),to=!(eo||!window.StyleMedia)),to}function Co(){return void 0===$t&&($t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),$t}function wo(){if(void 0===oo){var e=window;oo=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return oo}function bo(){if(void 0===io){var e=window;io=void 0!==e.InstallTrigger}return io}function xo(){return void 0===no&&(no=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),no}function So(){return void 0===ro&&(ro=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),ro}function Eo(){return!Co()||yo().version>=15}function _o(e){if(!e)return null;var t=e.tabIndex,o=e.getAttribute("tabIndex");return-1!==t||null!==o&&(""!==o||bo())?t.toString():null}function Ao(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){var i=2*e;if(o.style.height=i+"px",i>t||o.clientHeight!==i)break;e=i}return document.body.removeChild(o),e}function Ro(){return null==ao&&To(),ao}function To(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var o=t.offsetWidth-t.clientWidth;0===o&&0===t.clientWidth&&(o=null),t.parentNode&&t.parentNode.removeChild(t),null!=o&&(ao=o,so=0===o)}function Oo(){return null==so&&To(),so}function Po(){var e,t,o=["webkit","moz","o","ms"],i=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(i),i.setAttribute("style",o.map(function(e){return"-"+e+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(i);if("touch"===r.overflowScrolling&&(n=!0),!n)try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=s.next();!a.done;a=s.next())if("touch"===r[a.value+"OverflowScrolling"]){n=!0;break}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i.parentNode&&i.parentNode.removeChild(i),n}function Do(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Io(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}function Mo(e,t,o){for(var i=e.parentElement,n=i&&i.firstChild;n;)t&&n.classList.toggle(t,n===e),o&&n.classList.toggle(o,n!==e),n=n.nextSibling}function No(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,o=t.call(e,De.INPUT_SELECTOR),i=t.call(e,De.FOCUSABLE_EXCLUDE),n=Ko(e);return o&&!i&&n}function ko(e,t){e.classList.toggle("ag-hidden",!t)}function Lo(e,t){e.classList.toggle("ag-invisible",!t)}function Fo(e,t){var o="disabled",i=t?function(e){return e.setAttribute(o,"")}:function(e){return e.removeAttribute(o)};i(e),bi(e.querySelectorAll("input"),function(e){return i(e)})}function Go(e,t,o){for(var i=0;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof o){if(++i>o)break}else if(e===o)break}return!1}function Ho(e){var t=window.getComputedStyle(e),o=t.width,i=t.paddingTop,n=t.paddingRight,r=t.paddingBottom,s=t.paddingLeft,a=t.marginTop,l=t.marginRight,c=t.marginBottom,u=t.marginLeft,p=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(o),paddingTop:parseFloat(i),paddingRight:parseFloat(n),paddingBottom:parseFloat(r),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(u),boxSizing:p}}function Vo(e){var t=Ho(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Wo(e){var t=Ho(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Bo(e){var t=Ho(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))}function jo(e){var t=Ho(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))}function zo(){if("boolean"==typeof co)return co;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,co=0===Math.floor(e.scrollLeft),document.body.removeChild(e),co}function Uo(e,t){var o=e.scrollLeft;return t&&(o=Math.abs(o),wo()&&!zo()&&(o=e.scrollWidth-e.clientWidth-o)),o}function Yo(e,t,o){o&&(zo()?t*=-1:(Co()||wo())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Xo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function qo(e,t){Zo(e.querySelector(t))}function Zo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ko(e){return null!==e.offsetParent}function Qo(e){if(null!==DOMParser)return(new DOMParser).parseFromString(e,"text/html").body.firstChild;var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Jo(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function $o(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null}function ei(e){return e&&e.clientHeight?e.clientHeight:0}function ti(e){return e&&e.clientWidth?e.clientWidth:0}function oi(e,t,o){o&&o.nextSibling===t||(o?o.nextSibling?e.insertBefore(t,o.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function ii(e,t){for(var o=0;o<t.length;o++){var i=t[o],n=e.children[o];n!==i&&e.insertBefore(i,n)}}function ni(e,t,o){o?o.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function ri(e,t){E(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)}function si(e,t){t&&Object.keys(t).forEach(function(o){var i=Pt(o);i&&(e.style[i]=t[o])})}function ai(e){return e.clientWidth<e.scrollWidth}function li(e){return e.clientHeight<e.scrollHeight}function ci(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ui(e,t)}function ui(e,t){t=di(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function pi(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):hi(e,t)}function hi(e,t){t=di(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function di(e){return"number"==typeof e?e+"px":e}function fi(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function gi(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&$(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function mi(e){return fi(e)||gi(e)}function yi(e){if(null==e)return[];var t=[];return bi(e,function(e){return t.push(e)}),t}function vi(e,t){if(e)for(var o=0;o<e.length;o++){var i=e[o];t(i.name,i.value)}}function Ci(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}function wi(e,t,o){null==o?e.removeAttribute(t):e.setAttribute(t,o.toString())}function bi(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o])}function xi(e){var t=e.toString(),o=/function (.{1,})\(/.exec(t);return o&&o.length>1?o[1]:""}function Si(e){var t=e.length,o=0;if(t<=1)return e;for(var i=0;i<e.length;i++){var n=e[i],r=n.toString().split("e-");r.length>1?o=Math.max(o,parseInt(r[1],10)):Math.floor(n)!==n&&(o=Math.max(o,n.toString().split(".")[1].length))}for(var s=0,a=0,l=0,c=0,u=0,p=0;p<t;p++)s+=p,a+=u=e[p],c+=p*p,l+=p*u;var h=(t*l-s*a)/(t*c-s*s),d=a/t-h*s/t,f=[];for(p=0;p<=t;p++)f.push(parseFloat((p*h+d).toFixed(o)));return f}function Ei(e){if(!e)return"";var t=[];return L(e,function(e,o){var i=Ot(e);t.push(i+": "+o+";")}),t.join(" ")}function _i(e){var t=document.createElement("div"),o=document.querySelector("#__ag__message");t.innerHTML=e,o||(o=Qo('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(o)),o.insertBefore(t,o.children[0])}function Ai(e,t){e.then(function(e){var o=e.getGui();null!=o&&("object"==typeof o?t.appendChild(o):t.innerHTML=o)})}function Ri(e,t,o){e.setAttribute(Oi(t),o.toString())}function Ti(e,t){e.removeAttribute(Oi(t))}function Oi(e){return"aria-"+e}function Pi(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Di(e){return e.isSortAscending()?"ascending":e.isSortDescending()?"descending":"none"}function Ii(e){return parseInt(e.getAttribute("aria-level"),10)}function Mi(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Ni(e){return e.getAttribute("aria-describedby")||""}function ki(e,t){var o="label";t?Ri(e,o,t):Ti(e,o)}function Li(e,t){var o="labelledby";t?Ri(e,o,t):Ti(e,o)}function Fi(e,t){var o="description";t?Ri(e,o,t):Ti(e,o)}function Gi(e,t){var o="describedby";t?Ri(e,o,t):Ti(e,o)}function Hi(e,t){Ri(e,"level",t)}function Vi(e,t){Ri(e,"disabled",t)}function Wi(e,t){Ri(e,"expanded",t)}function Bi(e){Ti(e,"expanded")}function ji(e,t){Ri(e,"setsize",t)}function zi(e,t){Ri(e,"posinset",t)}function Ui(e,t){Ri(e,"multiselectable",t)}function Yi(e,t){Ri(e,"rowcount",t)}function Xi(e,t){Ri(e,"rowindex",t)}function qi(e,t){Ri(e,"colcount",t)}function Zi(e,t){Ri(e,"colindex",t)}function Ki(e,t){Ri(e,"colspan",t)}function Qi(e,t){Ri(e,"sort",t)}function Ji(e){Ti(e,"sort")}function $i(e,t){var o="selected";t?Ri(e,o,t):Ti(e,o)}function en(e,t){Ri(e,"checked",void 0===t?"mixed":t)}function tn(e,t){void 0===t&&(t=",");var o=[],i=function(e){return"\r"===e||"\n"===e},n=!1;if(""===e)return[[""]];for(var r,s,a,l=function(l,c,u){var p=e[u-1],h=e[u],d=e[u+1],f=function(){o[l]||(o[l]=[]),o[l][c]||(o[l][c]="")};if(f(),'"'===h){if(n)return'"'===d?(o[l][c]+='"',u++):n=!1,r=l,s=c,a=u,"continue";if(void 0===p||p===t||i(p))return n=!0,r=l,s=c,a=u,"continue"}if(!n){if(h===t)return c++,f(),r=l,s=c,a=u,"continue";if(i(h))return c=0,l++,f(),"\r"===h&&"\n"===d&&u++,r=l,s=c,a=u,"continue"}o[l][c]+=h,r=l,s=c,a=u},c=0,u=0,p=0;p<e.length;p++)l(c,u,p),c=r,u=s,p=a;return o}function on(e,t){return e.toString().padStart(t,"0")}function nn(e,t){for(var o=[],i=e;i<=t;i++)o.push(i);return o}function rn(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function sn(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null}function an(e,t){for(var o="",i=0;i<t;i++)o+=String.fromCharCode(255&e),e>>>=8;return o}function ln(e,t,o){return"number"!=typeof e?"":cn(Math.round(100*e)/100,t,o)}function cn(e,t,o){return"number"!=typeof e?"":e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}function un(e){return null==e?null:e.reduce(function(e,t){return e+t},0)}var pn=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s};function hn(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o="-"),!e)return null;var i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return on(e,2)}).join(o);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(function(e){return on(e,2)}).join(":")),i}function dn(e){if(!e)return null;var t=pn(e.split(" "),2),o=t[0],i=t[1];if(!o)return null;var n=o.split("-").map(function(e){return parseInt(e,10)});if(3!==n.filter(function(e){return!isNaN(e)}).length)return null;var r=pn(n,3),s=r[0],a=r[1],l=r[2],c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l)return null;if(!i||"00:00:00"===i)return c;var u=pn(i.split(":").map(function(e){return parseInt(e,10)}),3),p=u[0],h=u[1],d=u[2];return p>=0&&p<24&&c.setHours(p),h>=0&&h<60&&c.setMinutes(h),d>=0&&d<60&&c.setSeconds(d),c}function fn(e,t,o){var i={},n=e.filter(function(e){return!t.some(function(t){return t===e})});return n.length>0&&n.forEach(function(e){return i[e]=gn(e,o)}),i}function gn(e,t,o,i){var n=i?vn:yn,r=t.map(function(t){return{value:t,relevance:n(e.toLowerCase(),t.toLocaleLowerCase())}});return r.sort(function(e,t){return t.relevance-e.relevance}),o&&(r=r.filter(function(e){return 0!==e.relevance})),r.map(function(e){return e.value})}function mn(e){var t,o,i,n=e.toLowerCase(),r=new Array(n.length-1);for(t=o=0,i=r.length;o<=i;t=o+=1)r[t]=n.slice(t,t+2);return r}function yn(e,t){if(0===e.length&&0===t.length)return 0;var o,i,n=mn(e),r=mn(t),s=n.length+r.length,a=0;for(o=0,i=n.length;o<i;o++){var l,c=n[o],u=void 0;for(u=0,l=r.length;u<l;u++)c===r[u]&&a++}return a>0?2*a/s:0}function vn(e,t){for(var o=e.replace(/\s/g,""),i=t.replace(/\s/g,""),n=0,r=0,s=0;s<o.length;s++){var a=i.indexOf(o[s],r);-1!==a&&(n+=100-100*(r=a)/1e4*100)}return n}var Cn={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function wn(e,t,o){var i=bn(e,t,o);if(i&&i.className.indexOf("ag-icon")>-1)return i;var n=document.createElement("span");return n.appendChild(i),n}function bn(e,t,o,i){var n=null,r=o&&o.getColDef().icons;if(r&&(n=r[e]),t&&!n){var s=t.getIcons();s&&(n=s[e])}if(!n){var a=document.createElement("span"),l=Cn[e];return l||(i?l=e:(console.warn("AG Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),Pi(a,"presentation"),a}var c=void 0;if("function"==typeof n)c=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");c=n}return"string"==typeof c?Qo(c):mi(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var xn=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.V="KeyV",e.D="KeyD",e.Z="KeyZ",e.Y="KeyY",e}();function Sn(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length,o=function(e){return vo()&&"Del"===e.key&&46===e.charCode}(e);return t||o}function En(e,t,o,i,n){var r=e.getSuppressKeyboardEventFunc(),s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r&&!s)return!1;var a={event:t,editing:n,column:i,api:e.getApi(),node:o,data:o.data,colDef:i.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!r&&r(a)}function _n(e,t,o,i){var n=i.getDefinition(),r=n&&n.suppressHeaderKeyboardEvent;return!!E(r)&&!!r({api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext(),colDef:n,column:i,headerRowIndex:o,event:t})}function An(e){var t;switch(e.keyCode){case 65:t=xn.A;break;case 67:t=xn.C;break;case 86:t=xn.V;break;case 68:t=xn.D;break;case 90:t=xn.Z;break;case 89:t=xn.Y;break;default:t=e.code}return t}function Rn(e,t,o){if(0===o)return!1;var i=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(i,n)<=o}function Tn(e,t){if(e){for(var o=function(e,o){var i=t[e.id],n=t[o.id],r=void 0!==i,s=void 0!==n;return r&&s?i-n:r||s?r?1:-1:e.__objectId-o.__objectId},i=!1,n=0;n<e.length-1;n++)if(o(e[n],e[n+1])>0){i=!0;break}i&&e.sort(o)}}function On(e,t){var o=[];!function e(i){i&&i.forEach(function(i){if(i.group||i.hasChildren()){o.push(i.key);var n=o.join("|");t(i,n),e(i.childrenAfterGroup),o.pop()}})}(e)}function Pn(e){var t=new Set;return e.forEach(function(e){return t.add(e)}),t}var Dn=function(){return(Dn=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},In=Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn(Dn({},h),d),s),u),f),m),p),a),r),y),i),v),C),c),w),g),n),b),x),l),Mn=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}(),Nn=(()=>(function(e){e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.RESOLVED=1]="RESOLVED"}(Nn||(Nn={})),Nn))(),kn=function(){function e(e){var t=this;this.status=Nn.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(e){return t.onDone(e)},function(e){return t.onReject(e)})}return e.all=function(t){return new e(function(e){var o=t.length,i=new Array(o);t.forEach(function(t,n){t.then(function(t){i[n]=t,0==--o&&e(i)})})})},e.resolve=function(t){return void 0===t&&(t=null),new e(function(e){return e(t)})},e.prototype.then=function(t){var o=this;return new e(function(e){o.status===Nn.RESOLVED?e(t(o.resolution)):o.waiters.push(function(o){return e(t(o))})})},e.prototype.resolveNow=function(e,t){return this.status===Nn.RESOLVED?t(this.resolution):e},e.prototype.onDone=function(e){this.status=Nn.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},e.prototype.onReject=function(e){console.warn("TBI")},e}(),Ln=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fn=function(){return(Fn=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Gn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hn=(()=>(function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(Hn||(Hn={})),Hn))(),Vn=function(e){function t(t){var o=e.call(this)||this;return o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=Hn.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=t,o}return Ln(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!So()&&this.state==Hn.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Hn.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Hn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Hn.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Hn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Hn.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,o=this.tooltipComp;window.setTimeout(function(){t(),e.getContext().destroyBean(o)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Fn({},this.parentComp.getTooltipParams());if(E(e.value)){this.state=Hn.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==Hn.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var o=t.getGui();this.tooltipComp=t,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom");var i=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.popupService.addPopup({eChild:o,ariaLabel:i("ariaLabelTooltip","Tooltip")});n&&(this.tooltipPopupDestroyFunc=n.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Gn([Se("popupService")],t.prototype,"popupService",void 0),Gn([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gn([Se("columnApi")],t.prototype,"columnApi",void 0),Gn([Se("gridApi")],t.prototype,"gridApi",void 0),Gn([we],t.prototype,"postConstruct",null),t}(wt),Wn=function(){function e(e){this.cssClassStates={},this.getGui=e}return e.prototype.addCssClass=function(e){var t=this,o=(e||"").split(" ");o.length>1?o.forEach(function(e){return t.addCssClass(e)}):!0!==this.cssClassStates[e]&&e.length&&(this.getGui().classList.add(e),this.cssClassStates[e]=!0)},e.prototype.removeCssClass=function(e){var t=this,o=(e||"").split(" ");o.length>1?o.forEach(function(e){return t.removeCssClass(e)}):!1!==this.cssClassStates[e]&&e.length&&(this.getGui().classList.remove(e),this.cssClassStates[e]=!1)},e.prototype.containsCssClass=function(e){return this.getGui().classList.contains(e)},e.prototype.addOrRemoveCssClass=function(e,t){var o=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1)return void i.forEach(function(e){return o.addOrRemoveCssClass(e,t)})}this.cssClassStates[e]!==t&&e.length&&(this.getGui().classList.toggle(e,t),this.cssClassStates[e]=t)}},e}(),Bn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),jn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zn=new Mn,Un=function(e){function t(t){var o=e.call(this)||this;return o.displayed=!0,o.visible=!0,o.compId=zn.next(),o.cssClassManager=new Wn(function(){return o.eGui}),t&&o.setTemplate(t),o}return Bn(t,e),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var t=this;this.tooltipText!=e&&(this.tooltipText&&(t.usingBrowserTooltips?t.getGui().removeAttribute("title"):t.tooltipFeature=t.destroyBean(t.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(t.usingBrowserTooltips?t.getGui().setAttribute("title",t.tooltipText):t.tooltipFeature=t.createBean(new Vn(t)))))},t.prototype.createChildComponentsFromTags=function(e,t){var o=this;yi(e.childNodes).forEach(function(i){if(i instanceof HTMLElement){var n=o.createComponentFromElement(i,function(e){e.getGui()&&o.copyAttributesFromNode(i,e.getGui())},t);if(n){if(n.addItems&&i.children.length){o.createChildComponentsFromTags(i,t);var r=Array.prototype.slice.call(i.children);n.addItems(r)}o.swapComponentForNode(n,e,i)}else i.childNodes&&o.createChildComponentsFromTags(i,t)}})},t.prototype.createComponentFromElement=function(e,o,i){var n=e.nodeName,r=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(n);if(s){t.elementGettingCreated=e;var a=new s(r);return a.setParentComponent(this),this.createBean(a,null,o),a}return null},t.prototype.copyAttributesFromNode=function(e,t){vi(e.attributes,function(e,o){return t.setAttribute(e,o)})},t.prototype.swapComponentForNode=function(e,t,o){var i=e.getGui();t.replaceChild(i,o),t.insertBefore(document.createComment(o.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,o)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var o=this;this.iterateOverQuerySelectors(function(i){o[i.attributeName]===t&&(o[i.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var o=t.__agComponentMetaData,i=ne(t.constructor);o&&o[i]&&o[i].querySelectors&&o[i].querySelectors.forEach(function(t){return e(t)}),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var o=Qo(e);this.setTemplateFromElement(o,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors(function(o){var i=function(e){return t[o.attributeName]=e};if(o.refSelector&&e.eGui.getAttribute("ref")===o.refSelector)i(e.eGui);else{var n=e.eGui.querySelector(o.querySelector);n&&i(n.__agComponent||n)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),null!=e)if(mi(e))t.appendChild(e);else{var o=e;t.appendChild(o.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,o))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,Lo(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,ko(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var o=this;this.eGui.addEventListener(e,t),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,t)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",jn([Se("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),jn([Ce],t.prototype,"preConstructOnComponent",null),jn([Ce],t.prototype,"createChildComponentsPreConstruct",null),t}(wt);function Yn(e){return Xn.bind(this,"[ref="+e+"]",e)}function Xn(e,t,o,i,n){var r,s,a,l;null!==e?"number"!=typeof n?(s="querySelectors",a={attributeName:i,querySelector:e,refSelector:t},(l=function(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(r=o,ne(r.constructor)))[s]||(l[s]=[]),l[s].push(a)):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var qn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kn=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return qn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+o("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance(function(o){if(o.getModelAsString){var i=o.getModelAsString(e);t.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")},Zn([Yn("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Zn([Se("columnModel")],t.prototype,"columnModel",void 0),t}(Un),Qn=function(){function e(e,t,o,i){var n=this;this.alive=!0,this.context=e,this.eParent=i,t.getDateCompDetails(o).newAgStackInstance().then(function(t){n.alive?(n.dateComp=t,t&&(i.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),n.tempValue&&t.setDate(n.tempValue),null!=n.disabled&&n.setDateCompDisabled(n.disabled))):e.destroyBean(t)})}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},e.prototype.setDisplayed=function(e){ko(this.eParent,e)},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e.prototype.afterGuiAttached=function(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)},e.prototype.setDateCompDisabled=function(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)},e}(),Jn=function(){return(Jn=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},$n=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e),this.checkForDeprecatedParams()},e.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(e){return"string"!=typeof e&&null!=e.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(e){return"string"!=typeof e&&null!=e.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if("string"!=typeof t)if([["displayKey"],["displayName"],["predicate","test"]].every(function(e){return!!e.some(function(e){return null!=t[e]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+e+"'"),!1)})){var o=t.test,i=Jn({},t);null!=o&&null==t.predicate&&(i.predicate=function(e,t){return o(e[0],t)},delete i.test),i.hideFilterInput&&null==i.numberOfInputs&&(i.numberOfInputs=0,delete i.hideFilterInput),e.customFilterOptions[t.displayKey]=i}else e.filterOptions=e.filterOptions.filter(function(e){return e===t})||[]})},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),er={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},tr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),or=function(){return(or=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ir=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nr=function(e){function t(t,o){void 0===o&&(o={});var i=e.call(this)||this;return i.eFocusableElement=t,i.callbacks=o,i.callbacks=or({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(e){if(!e.defaultPrevented){var t=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}}},o),i}return tr(t,e),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",function(e){e.defaultPrevented||lt(e)||(t.callbacks.shouldStopEventPropagation(e)?at(e):e.key===xn.TAB?t.callbacks.onTabKeyDown(e):t.callbacks.handleKeyDown&&t.callbacks.handleKeyDown(e))})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",ir([Se("focusService")],t.prototype,"focusService",void 0),ir([we],t.prototype,"postConstruct",null),t}(wt),rr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ar=function(e){function t(t){var o=e.call(this)||this;return o.filterNameKey=t,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return rr(t,e),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new nr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var t='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(t,e)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(!(!t||t.length<1||this.isReadOnly())){var o=document.createElement("div");o.classList.add("ag-filter-apply-panel"),Pn(t).forEach(function(t){return function(t){var i,n;switch(t){case"apply":i=e.translate("applyFilter"),n=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":i=e.translate("clearFilter"),n=function(){return e.onBtClear()};break;case"reset":i=e.translate("resetFilter"),n=function(){return e.onBtReset()};break;case"cancel":i=e.translate("cancelFilter"),n=function(t){e.onBtCancel(t)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var r=Qo('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+i+"\n                </button>");o.appendChild(r),e.addManagedListener(r,"click",n)}(t)}),this.getGui().appendChild(o)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=he(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var t=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){t.updateUiVisibility(),t.applyModel()})},t.prototype.onBtCancel=function(e){var t=this,o=this.getModel(),i=function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)};null!=o?this.setModelIntoUi(o).then(i):this.resetUiToDefaults().then(i)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!t&&this.close(o)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var t,o=e&&e.key;"Enter"!==o&&"Space"!==o||(t={keyboardEvent:e}),this.hidePopup(t),this.hidePopup=null}},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var o=this.isModelValid(this.getModelFromUi());Fo(this.getRefElement("applyFilterButton"),!o)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,o){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:o},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,er[e])},t.prototype.getCellValue=function(e){var t=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t.api,colDef:t.colDef,column:t.column,columnApi:t.columnApi,context:t.context,data:e.data,getValue:function(t){return e.data[t]},node:e})},sr([Se("rowModel")],t.prototype,"rowModel",void 0),sr([Se("valueService")],t.prototype,"valueService",void 0),sr([we],t.prototype,"postConstruct",null),t}(Un),lr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),cr=function(e){function t(t,o){var i=e.call(this,o)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=t||{},i}return lr(t,e),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,t=e.labelSeparator,o=e.label,i=e.labelWidth,n=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=o&&this.setLabel(o),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Xo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Pi(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Pi(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||ci(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return Fo(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(Un),ur=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pr=function(e){function t(t,o,i){var n=e.call(this,t,o)||this;return n.className=i,n}return ur(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var o=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(o.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return ui(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,o){return this.value===e||(this.previousValue=this.value,this.value=e,o||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.EVENT_CHANGED="valueChange",t}(cr),hr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),dr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fr=function(e){function t(t,o,i,n){var r=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(n?'role="'+n+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return r.pickerIcon=i,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return hr(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),Gi(this.eWrapper,o);var i=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},n=this.getGui();if(this.addManagedListener(n,"mousedown",function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&Ko(t.pickerComponent.getGui())&&n.contains(e.target)&&(t.skipClick=!0)}),this.addManagedListener(n,"keydown",function(e){switch(e.key){case xn.UP:case xn.DOWN:case xn.ENTER:case xn.SPACE:i();case xn.ESCAPE:t.isPickerDisplayed&&e.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var r=bn(this.pickerIcon,this.gridOptionsWrapper);r&&this.eIcon.appendChild(r)}},t.prototype.refreshLabel=function(){E(this.getLabel())?Li(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return ki(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return ci(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},dr([Yn("eLabel")],t.prototype,"eLabel",void 0),dr([Yn("eWrapper")],t.prototype,"eWrapper",void 0),dr([Yn("eDisplayField")],t.prototype,"eDisplayField",void 0),dr([Yn("eIcon")],t.prototype,"eIcon",void 0),t}(pr),gr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mr=function(e){function t(t){void 0===t&&(t="default");var o=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return o.cssIdentifier=t,o.options=[],o.itemEls=[],o}return gr(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.key;switch(t){case xn.ENTER:if(this.highlightedEl){var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case xn.DOWN:case xn.UP:var i=t===xn.DOWN,n=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),n=this.itemEls[r]}else n=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(n)}},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){var t=e.value,o=It(e.text||t);return this.options.push({value:t,text:o}),this.renderOption(t,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(t,o){zi(t,o+1),ji(t,e.length)})},t.prototype.renderOption=function(e,t){var o=this,i=document.createElement("div");Pi(i,"option"),i.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),i.innerHTML="<span>"+t+"</span>",i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",function(){return o.highlightItem(i)}),this.addManagedListener(i,"mouseleave",function(){return o.clearHighlighted()}),this.addManagedListener(i,"click",function(){return o.setValue(e)}),this.getGui().appendChild(i)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var o=this.options.findIndex(function(t){return t.value===e});if(-1!==o){var i=this.options[o];this.value=i.value,this.displayValue=null!=i.text?i.text:i.value,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=this.options.findIndex(function(t){return t.value===e.value});-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),$i(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),$i(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:pr.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"init",null),t}(Un),yr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cr=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return yr(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new mr("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,mr.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,pr.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),o=this.gridOptionsWrapper.getDocument(),i=this.addManagedListener(o.body,"wheel",function(o){!t.contains(o.target)&&e.hideList&&e.hideList()}),n=this.addManagedListener(t,"focusout",function(o){!t.contains(o.relatedTarget)&&e.hideList&&e.hideList()}),r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,n(),i(),e.isAlive()&&(Wi(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:r("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,ci(t,jo(this.eWrapper)),Wi(this.eWrapper,!0),t.style.maxHeight=Vo(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,o,i){return this.value===t?this:(i||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,o)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},vr([Se("popupService")],t.prototype,"popupService",void 0),vr([we],t.prototype,"init",null),t}(fr),wr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),br=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xr=function(e){function t(t,o,i,n){void 0===i&&(i="text"),void 0===n&&(n="input");var r=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+n+' ref="eInput" class="ag-input-field-input"></'+n+">\n                </div>\n            </div>",o)||this;return r.inputType=i,r.displayFieldTag=n,r}return wr(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,o=t.width,i=t.value;null!=o&&this.setWidth(o),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){E(this.getLabel())?Li(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(t){return e.setValue(t.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return ci(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return wi(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return ki(this.eInput,e),this},t.prototype.setDisabled=function(t){return Fo(this.eInput,t),e.prototype.setDisabled.call(this,t)},br([Yn("eLabel")],t.prototype,"eLabel",void 0),br([Yn("eWrapper")],t.prototype,"eWrapper",void 0),br([Yn("eInput")],t.prototype,"eInput",void 0),t}(pr),Sr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Er=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_r=(()=>(function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(_r||(_r={})),_r))(),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sr(t,e),t.prototype.getNumberOfInputs=function(e){var o=this.optionsFactory.getCustomOption(e);if(o){var i=o.numberOfInputs;return null!=i?i:1}return e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(_r.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(_r.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(_r.One),condition2:this.createCondition(_r.Two)}:this.createCondition(_r.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;if(i)o=this.areSimpleModelsEqual(e,t);else{var r=e,s=t;o=r.operator===s.operator&&this.areSimpleModelsEqual(r.condition1,s.condition1)&&this.areSimpleModelsEqual(r.condition2,s.condition2)}return o},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,o="OR"===t.operator;this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,_r.One),this.setConditionIntoUi(t.condition2,_r.Two)}else{var i=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(i.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(i,_r.One),this.setConditionIntoUi(null,_r.Two)}return kn.resolve()},t.prototype.doesFilterPass=function(e){var t=this,o=this.getModel();if(null==o)return!0;var i=o.operator,n=[];return i?n.push(o.condition1,o.condition2):n.push(o),n[i&&"OR"===i?"some":"every"](function(o){return t.individualConditionPasses(e,o)})},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new $n,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return Ke(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions(),o=[this.eType1,this.eType2];t.forEach(function(t){var i="string"==typeof t?e.createBoilerplateListOption(t):e.createCustomListOption(t);o.forEach(function(e){return e.addOption(i)})}),o.forEach(function(e){return e.setDisabled(t.length<=1)})},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var t=e.displayKey,o=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:o?this.gridOptionsWrapper.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(t)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(_r.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(_r.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,t=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(t,o){var i=e.isConditionVisible(o),n=e.isConditionDisabled(o);t.forEach(function(e){e instanceof xr||e instanceof Cr?(e.setDisabled(n),e.setDisplayed(i)):(Fo(e,n),ko(e,i))})}),t.forEach(function(t,o){ko(t,e.isConditionBodyVisible(o))}),this.forEachInput(function(t,o,i,n){e.setElementDisplayed(t,o<n),e.setElementDisabled(t,e.isConditionDisabled(i))}),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(t){if(e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var o=this.getInputs()[0][0];if(!o)return;o instanceof xr&&o.getInputElement().focus()}},t.prototype.resetPlaceholder=function(){var e=this,t=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(o,i,n,r){if(o instanceof xr){var s=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",a=0===i&&r>1?t("ariaFilterFromValue","Filter from value"):0===i?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");o.setInputPlaceholder(e.translate(s)),o.setInputAriaLabel(a)}})},t.prototype.setElementValue=function(e,t,o){e instanceof xr&&e.setValue(null!=t?String(t):null,o)},t.prototype.setElementDisplayed=function(e,t){e instanceof Un&&ko(e.getGui(),t)},t.prototype.setElementDisabled=function(e,t){e instanceof Un&&Fo(e.getGui(),t)},t.prototype.attachElementOnChange=function(e,t){e instanceof xr&&e.onValueChange(t)},t.prototype.forEachInput=function(e){var t=this,o=this.getInputs();this.getConditionTypes().forEach(function(i,n){for(var r=t.getNumberOfInputs(i),s=0;s<o[n].length;s++){var a=o[n][s];null!=a&&e(a,s,n,r)}})},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!!this.isReadOnly()||!this.isConditionVisible(e)||0!==e&&!this.isConditionUiComplete(e-1)},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var t=this.getConditionTypes()[e];return this.getNumberOfInputs(t)>0},t.prototype.isConditionUiComplete=function(e){return this.getConditionTypes()[e]!==t.EMPTY&&!this.getValues(e).some(function(e){return null==e})},t.prototype.resetUiToDefaults=function(e){var t=this,o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),i="ag-simple-filter-and-or-"+this.getCompId(),n=this.optionsFactory.getDefaultOption();return this.eType1.setValue(n,e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(i).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(i).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(o){t.setElementValue(o,null,e),t.setElementDisabled(o,t.isReadOnly())}),this.resetPlaceholder(),kn.resolve()},t.prototype.setConditionIntoUi=function(e,t){var o=this,i=this.mapValuesFromModel(e);this.forEachInput(function(e,n,r,s){r===t&&o.setElementValue(e,null!=i[n]?i[n]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var t=this;this.forEachInput(function(o,i,n,r){t.setElementValue(o,0===i&&0===n?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t),this.forEachInput(function(o){e.attachElementOnChange(o,t)})}},t.prototype.individualConditionPasses=function(e,t){var o=this.getCellValue(e.node),i=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(n,i,o);return null!=r?r:null==o?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,o,t,e)},t.prototype.evaluateCustomFilter=function(e,t,o){if(null!=e){var i=e.predicate;return null==i||t.some(function(e){return null==e})?void 0:i(t,o)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Er([Yn("eOptions1")],t.prototype,"eType1",void 0),Er([Yn("eOptions2")],t.prototype,"eType2",void 0),Er([Yn("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Er([Yn("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Er([Yn("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Er([Yn("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Er([Yn("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(ar),Rr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rr(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,o,i){var n=this.comparator(),r=null!=e[0]?n(e[0],o):0;switch(i.type){case t.EQUALS:return 0===r;case t.NOT_EQUAL:return 0!==r;case t.GREATER_THAN:return r>0;case t.GREATER_THAN_OR_EQUAL:return r>=0;case t.LESS_THAN:return r<0;case t.LESS_THAN_OR_EQUAL:return r<=0;case t.IN_RANGE:var s=n(e[1],o);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0;case t.BLANK:return this.isBlank(o);case t.NOT_BLANK:return!this.isBlank(o);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Ar),Or=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pr=function(){return(Pr=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Dr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ir=1/0,Mr=function(e){function t(){var t=e.call(this,"dateFilter")||this;return t.minValidYear=1e3,t.maxValidYear=Ir,t}return Or(t,e),t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},t.prototype.mapValuesFromModel=function(e){var t=e||{},o=t.dateFrom,i=t.dateTo,n=t.type;return[o&&dn(o)||null,i&&dn(i)||null].slice(0,this.getNumberOfInputs(n))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t;var o=function(e,o){if(null!=t[e]){if(!isNaN(t[e]))return null==t[e]?o:Number(t[e]);console.warn("AG Grid: DateFilter "+e+" is not a number")}return o};this.minValidYear=o("minValidYear",1e3),this.maxValidYear=o("maxValidYear",Ir),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t=function(t){return new Qn(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},t)};this.dateCondition1FromComp=t(this.eCondition1PanelFrom),this.dateCondition1ToComp=t(this.eCondition1PanelTo),this.dateCondition2FromComp=t(this.eCondition2PanelFrom),this.dateCondition2ToComp=t(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(e){return e.destroy()})})},t.prototype.setElementValue=function(e,t,o){e.setDate(t)},t.prototype.setElementDisplayed=function(e,t){e.setDisplayed(t)},t.prototype.setElementDisabled=function(e,t){e.setDisabled(t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===_r.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(t){var o=this;if(!e.prototype.isConditionUiComplete.call(this,t))return!1;var i=!0;return this.forEachInput(function(e,n,r,s){var a;r!==t||!i||n>=s||(i=i&&null!=(a=e.getDate())&&a.getUTCFullYear()>=o.minValidYear&&a.getUTCFullYear()<=o.maxValidYear)}),i},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={},i=this.getValues(e);return i.length>0&&(o.dateFrom=hn(i[0])),i.length>1&&(o.dateTo=hn(i[1])),Pr({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},o)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),o=e("ariaFilterValue","Filter Value");this.forEachInput(function(e){e.setInputPlaceholder(t),e.setInputAriaLabel(o)})},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var t=[];return this.forEachInput(function(o,i,n,r){e===n&&i<r&&t.push(o.getDate())}),t},t.DEFAULT_FILTER_OPTIONS=[Tr.EQUALS,Tr.GREATER_THAN,Tr.LESS_THAN,Tr.NOT_EQUAL,Tr.IN_RANGE,Tr.BLANK,Tr.NOT_BLANK],Dr([Yn("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),Dr([Yn("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),Dr([Yn("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),Dr([Yn("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),Dr([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Tr),Nr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nr(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(null!=e.operator){var t=e,o=t||{},i=o.condition1,n=o.condition2,r=this.optionsFactory.getCustomOption(i.type),s=this.optionsFactory.getCustomOption(n.type);return[this.conditionToString(i,r),t.operator,this.conditionToString(n,s)].join(" ")}var a=e,l=this.optionsFactory.getCustomOption(a.type),c=l||{},u=c.displayKey,p=c.displayName;return u&&p&&0===c.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(u,p),p):this.conditionToString(a,l)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){this.lastType=e?(e.operator?e.condition1:e).type:this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new $n,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveSingleInput=function(e){var t=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==t||1==t},t.prototype.isTypeEditable=function(e){var t=[Ar.IN_RANGE,Ar.EMPTY,Ar.BLANK,Ar.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0},t}(Un),Lr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gr=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Lr(t,e),t.prototype.getDefaultFilterOptions=function(){return Mr.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,t){var o=e.type,i=o==Ar.IN_RANGE||2===(t||{}).numberOfInputs,n=dn(e.dateFrom),r=dn(e.dateTo);return i?hn(n,!1)+"-"+hn(r,!1):null!=n?""+hn(n,!1):""+o},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent();var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){ko(this.eDateWrapper,e),ko(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)){e.prototype.setLastTypeFromModel.call(this,t);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(i),i?(this.dateComp.setDate(t?dn(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,t=hn(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var i=dn(t);o.onFloatingFilterChanged(e.getLastType()||null,i)}})},t.prototype.createDateComponent=function(){var e=this,t=ar.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o={onDateChanged:he(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Qn(this.getContext(),this.userComponentFactory,o,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},Fr([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Fr([Yn("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Fr([Yn("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(kr),Hr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Vr=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Hr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this,o=this.gridOptionsWrapper.getDocument(),i=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(i.type="date"),this.addManagedListener(i,"mousedown",function(){t.eDateInput.isDisabled()||i.focus()}),this.addManagedListener(i,"input",function(i){i.target===o.activeElement&&(t.eDateInput.isDisabled()||e.onDateChanged())});var n=e.filterParams||{},r=n.minValidYear,s=n.maxValidYear;r&&(i.min=r+"-01-01"),s&&(i.max=s+"-12-31")},t.prototype.getDate=function(){return dn(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(hn(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:wo()||bo()},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Yn("eDateInput")],t.prototype,"eDateInput",void 0),t}(Un),Wr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Br=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jr=function(e){function t(){return e.call(this,"numberFilter")||this}return Wr(t,e),t.prototype.mapValuesFromModel=function(e){var t=e||{},o=t.filter,i=t.filterTo;return[null==o?null:o,null==i?null:i].slice(0,this.getNumberOfInputs(t.type))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var o=this.getAllowedCharPattern();if(o){var i={allowedCharPattern:o};this.resetTemplate({"eValue-index0-1":i,"eValue-index1-1":i,"eValue-index0-2":i,"eValue-index1-2":i})}e.prototype.setParams.call(this,t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===_r.One?"1":"2",o=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+o+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></'+o+">\n                <"+o+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></'+o+">\n            </div>"},t.prototype.getValues=function(e){var t=this,o=[];return this.forEachInput(function(i,n,r,s){e===r&&n<s&&o.push(t.stringToFloat(i.getValue()))}),o},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var t=S(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(wo()||vo()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[Tr.EQUALS,Tr.NOT_EQUAL,Tr.LESS_THAN,Tr.LESS_THAN_OR_EQUAL,Tr.GREATER_THAN,Tr.GREATER_THAN_OR_EQUAL,Tr.IN_RANGE,Tr.BLANK,Tr.NOT_BLANK],Br([Yn("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Br([Yn("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Br([Yn("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Br([Yn("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Tr),zr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ur=function(){return(Ur=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Yr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xr=function(e){function t(){return e.call(this,"textFilter")||this}return zr(t,e),t.trimInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(o){e.prototype.setParams.call(this,o),this.textFilterParams=o,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(In.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(t){return e(t.filterOption,t.value,t.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var o=this,i=[];return this.forEachInput(function(n,r,s,a){if(e===s&&r<a){var l=S(n.getValue()),c=(o.textFilterParams.trimInput?t.trimInput(l):l)||null;i.push(c),n.setValue(c,!0)}}),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===_r.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var t=e||{};return[t.filter||null,t.filterTo||null].slice(0,this.getNumberOfInputs(t.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Ar.NOT_EQUAL,Ar.NOT_CONTAINS,Ar.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,t,o,i){var n=this,r=e.map(function(e){return n.formatter(e)})||[],s=this.formatter(t),a=this.textFilterParams,l=a.api,c=a.colDef,u=a.column,p=a.columnApi,h=a.context,d=a.textFormatter;if(o.type===Ar.BLANK)return this.isBlank(t);if(o.type===Ar.NOT_BLANK)return!this.isBlank(t);var f={api:l,colDef:c,column:u,columnApi:p,context:h,node:i.node,data:i.data,filterOption:o.type,value:s,textFormatter:d};return r.some(function(e){return n.matcher(Ur(Ur({},f),{filterText:e}))})},t.DEFAULT_FILTER_OPTIONS=[Ar.CONTAINS,Ar.NOT_CONTAINS,Ar.EQUALS,Ar.NOT_EQUAL,Ar.STARTS_WITH,Ar.ENDS_WITH,Ar.BLANK,Ar.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var o=e.value,i=e.filterText;if(null==i)return!1;switch(e.filterOption){case t.CONTAINS:return o.indexOf(i)>=0;case t.NOT_CONTAINS:return o.indexOf(i)<0;case t.EQUALS:return o===i;case t.NOT_EQUAL:return o!=i;case t.STARTS_WITH:return 0===o.indexOf(i);case t.ENDS_WITH:var n=o.lastIndexOf(i);return n>=0&&n===o.length-i.length;default:return!1}},Yr([Yn("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Yr([Yn("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Yr([Yn("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Yr([Yn("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Ar),qr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=ar.isUseApplyButton(this.params.filterParams);var o=this.params.filterParams.allowedCharPattern;if(null!=o&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:o}}),!this.isReadOnly()){var i=ar.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=he(this.syncUpWithParentFilter.bind(this),i),r=this.eFloatingFilterInput.getGui();this.addManagedListener(r,"input",n),this.addManagedListener(r,"keypress",n),this.addManagedListener(r,"keydown",n)}var s=t.column.getDefinition();(this.isReadOnly()||s.filterParams&&s.filterParams.filterOptions&&1===s.filterParams.filterOptions.length&&"inRange"===s.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var a=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(a+" "+l("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var t=this;if(!this.applyActive||e.key===xn.ENTER){var o=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(o=Xr.trimInput(o),this.eFloatingFilterInput.setValue(o,!0)),this.params.parentFilterInstance(function(e){e&&e.onFloatingFilterChanged(t.getLastType()||null,o||null)})}},t.prototype.conditionToString=function(e,t){return e.type==Ar.IN_RANGE||2===(t||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},Zr([Se("columnModel")],t.prototype,"columnModel",void 0),Zr([Yn("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),Zr([we],t.prototype,"postConstruct",null),t}(kr),Qr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.getDefaultFilterOptions=function(){return jr.DEFAULT_FILTER_OPTIONS},t}(Kr),$r=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $r(t,e),t.prototype.getDefaultFilterOptions=function(){return Xr.DEFAULT_FILTER_OPTIONS},t}(Kr),ts=function(){function e(e,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Pe,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",i,{passive:!0}),o.eElement.removeEventListener("touchmove",n,{passive:!0}),o.eElement.removeEventListener("touchend",r,{passive:!1})})}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var o=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){o.touching&&o.touchStart===i&&!o.moved&&(o.moved=!0,o.eventService.dispatchEvent({type:e.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:t}))},500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);t&&!Rn(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:e.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>e.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),os=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),is=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return os(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=Fe(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=It(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var i=bn(e,this.gridOptionsWrapper,o);i&&t.appendChild(i)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var o=new ts(this.getGui(),!0),i=t.isSuppressMenuHide(),n=i&&E(this.eMenu),r=n?new ts(this.eMenu,!0):o;this.params.enableMenu&&this.addManagedListener(r,ts[n?"EVENT_TAP":"EVENT_LONG_TAP"],function(o){t.getApi().showColumnMenuAfterMouseClick(e.params.column,o.touchStart)}),this.params.enableSorting&&this.addManagedListener(o,ts.EVENT_TAP,function(t){i&&e.eMenu.contains(t.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return o.destroy()}),n&&this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),t=So()&&e;return this.params.enableMenu&&!t},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}else Zo(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator&&this.eSortIndicator.setupSort(this.params.column),this.currentSort){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Le.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var i=e.params.column.isMoving(),n=(new Date).getTime();i||n-e.lastMovingChanged<50||e.params.progressSort(t?o.ctrlKey||o.metaKey:o.shiftKey)});var o=function(){var t;if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var o=null===(t=e.columnModel.getSourceColumnsForGroupColumn(e.params.column))||void 0===t?void 0:t.every(function(t){return e.params.column.getSort()==t.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!o)}};this.addManagedListener(this.eventService,Et.EVENT_SORT_CHANGED,o),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,o)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Le.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',is([Se("sortController")],t.prototype,"sortController",void 0),is([Se("menuFactory")],t.prototype,"menuFactory",void 0),is([Se("columnModel")],t.prototype,"columnModel",void 0),is([Yn("eFilter")],t.prototype,"eFilter",void 0),is([Yn("eSortIndicator")],t.prototype,"eSortIndicator",void 0),is([Yn("eMenu")],t.prototype,"eMenu",void 0),is([Yn("eLabel")],t.prototype,"eLabel",void 0),is([Yn("eText")],t.prototype,"eText",void 0),t}(Un),rs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ss=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},as=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return rs(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&ie(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!lt(t)){var o=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var o=function(e){at(e)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,ot.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,ot.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var o=new ts(e,!0);this.addManagedListener(o,ts.EVENT_TAP,t),this.addDestroyFunc(function(){return o.destroy()}),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();ko(this.eOpenIcon,e),ko(this.eCloseIcon,!e)}else ko(this.eOpenIcon,!1),ko(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var o=bn(e,this.gridOptionsWrapper,null);o&&this.getRefElement(t).appendChild(o)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ko(this.eOpenIcon,!1),void ko(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(E(e)){var t=It(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ss([Se("columnModel")],t.prototype,"columnModel",void 0),ss([Yn("agOpened")],t.prototype,"eOpenIcon",void 0),ss([Yn("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Un),ls=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),cs=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},us=function(e){function t(){var o=e.call(this)||this;return o.setTemplate(t.TEMPLATE),o}return ls(t,e),t.prototype.setupSort=function(e,t){var o=this;void 0===t&&(t=!1),this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,Et.EVENT_SORT_CHANGED,function(){return o.onSortChanged()}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return o.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,t,o){if(null!=t){var i=bn(e,this.gridOptionsWrapper,o);i&&t.appendChild(i)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!("asc"===e)),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!("desc"===e)),this.eSortNone){var t=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",t||!(null==e))}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var t=this.column.getColDef().showRowGroup;this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,Et.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);this.eSortMixed.classList.toggle("ag-hidden",!e)}},t.prototype.updateSortOrder=function(){var e,t=this;if(this.eSortOrder){var o=this.sortController.getColumnsWithSortingOrdered(),i=null!=(e=this.sortController.getDisplaySortIndexForColumn(this.column))?e:-1,n=o.some(function(e){var o;return null!=(o=t.sortController.getDisplaySortIndexForColumn(e))&&o});ko(this.eSortOrder,i>=0&&n),i>=0?this.eSortOrder.innerHTML=(i+1).toString():Xo(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',cs([Yn("eSortOrder")],t.prototype,"eSortOrder",void 0),cs([Yn("eSortAsc")],t.prototype,"eSortAsc",void 0),cs([Yn("eSortDesc")],t.prototype,"eSortDesc",void 0),cs([Yn("eSortMixed")],t.prototype,"eSortMixed",void 0),cs([Yn("eSortNone")],t.prototype,"eSortNone",void 0),cs([Se("columnModel")],t.prototype,"columnModel",void 0),cs([Se("sortController")],t.prototype,"sortController",void 0),t}(Un),ps=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),e.prototype.destroy.call(this)},t}(Un),ds=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fs=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ds(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),E(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.key;(t===xn.LEFT||t===xn.UP||t===xn.RIGHT||t===xn.DOWN||e.shiftKey&&t===xn.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Yn("eTextArea")],t.prototype,"eTextArea",void 0),t}(hs),gs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ms=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ys=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return gs(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,_(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===xn.ENTER;var o=!1;e.values.forEach(function(i){var n={value:i},r=t.valueFormatterService.formatValue(e.column,null,i);n.text=null!=r?r:i,t.eSelect.addOption(n),o=o||e.value===i}),o?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},ms([Se("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ms([Yn("eSelect")],t.prototype,"eSelect",void 0),t}(hs),vs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cs=function(e){function t(){var t=e.call(this)||this;return ie(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),t}return vs(t,e),t.prototype.isPopup=function(){return!0},t}(ys),ws=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),bs=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ws(t,e),t.prototype.init=function(e){this.params=e;var t,o=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===xn.BACKSPACE||e.eventKey===xn.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.eventKey!==xn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),null!=t&&o.setValue(t,!0),this.addManagedListener(o.getGui(),"keydown",function(e){var t=e.key;t!==xn.PAGE_UP&&t!==xn.PAGE_DOWN||e.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Co()||t.getFocusableElement().focus();var o=t.getInputElement();if(this.highlightAllOnFocus)o.select();else{var i=t.getValue(),n=E(i)&&i.length||0;n&&o.setSelectionRange(n,n)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Yn("eInput")],t.prototype,"eInput",void 0),t}(hs),xs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ss=function(e){function t(){var t=e.call(this)||this;return ie(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),t}return xs(t,e),t.prototype.isPopup=function(){return!0},t}(bs),Es=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_s=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o}return Es(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var o=Math.abs(t),i=e.formatValue(o),n=E(i)?i:o,r=t>=0;this.eDelta.innerHTML=r?"\u2191"+n:"\u2193"+n,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout(function(){t===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Xo(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;return t!==this.lastValue&&(E(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:E(e.value)?this.eValue.innerHTML=t:Xo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&("number"==typeof t&&"number"==typeof this.lastValue&&this.showDelta(e,t-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0))},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Se("filterManager")],t.prototype,"filterManager",void 0),t}(Un),As=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rs=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return As(t,e),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Qo('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){t===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var t=e.value;return _(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=t,E(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:E(e.value)?this.eCurrent.innerHTML=t:Xo(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Se("filterManager")],t.prototype,"filterManager",void 0),t}(Un),Ts=(()=>(function(e){e[e.Above=0]="Above",e[e.Below=1]="Below"}(Ts||(Ts={})),Ts))(),Os=function(){function e(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=he(this.onRowHeightChanged.bind(this),100),this.beans=t}return e.prototype.setData=function(e){this.setDataCommon(e,!1)},e.prototype.updateData=function(e){this.setDataCommon(e,!0)},e.prototype.setDataCommon=function(e,t){var o=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(e,o,t);this.dispatchLocalEvent(i)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,o,i){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:o,newData:t,update:i}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.getRowIndexString=function(){return this.rowPinned===De.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===De.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var o=E(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();var n=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(n)},e.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!e||e(this))},e.prototype.setRowSelectable=function(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsWrapper.isGroupSelectsChildren())){var o=this.calculateSelectedFromChildren();this.setSelected(null!=o&&o)}},e.prototype.setId=function(t){var o=this.beans.gridOptionsWrapper.getRowIdFunc();if(o)if(this.data){var i=this.getGroupKeys(!0);this.id=o({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},e.prototype.getGroupKeys=function(e){void 0===e&&(e=!1);var t=[],o=this;for(e&&(o=o.parent);o&&o.level>=0;)t.push(o.key),o=o.parent;return t.reverse(),t},e.prototype.isPixelInRange=function(e){return!(!E(this.rowTop)||!E(this.rowHeight))&&e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},e.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},e.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))},e.prototype.setRowHeight=function(t,o){void 0===o&&(o=!1),this.rowHeight=t,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=he(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},e.prototype.checkAutoHeights=function(){var e=!1,t=!0,o=0,i=this.__autoHeights;null!=i&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(n){var r=i[n.getId()];null!=r?(t=!1,r>o&&(o=r)):e=!0}),e||((t||o<10)&&(o=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),o!=this.rowHeight&&(this.setRowHeight(o),this.onRowHeightChangedDebounced())))},e.prototype.onRowHeightChanged=function(){var e=this.beans.rowModel;e.onRowHeightChanged&&e.onRowHeightChanged()},e.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t,o){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(Et.EVENT_ROW_GROUP_OPENED),{expanded:t,event:o||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t,o){var i=this.beans.columnModel.getPrimaryColumn(e),n=this.beans.valueService.getValue(i,this),r=this.beans.valueService.setValue(this,i,t,o);return this.dispatchCellChangedEvent(i,t,n),this.checkRowSelectable(),r},e.prototype.setGroupValue=function(e,t){var o=this.beans.columnModel.getGridColumn(e);_(this.groupData)&&(this.groupData={});var i=o.getColId(),n=this.groupData[i];n!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(o,t,n))},e.prototype.setAggData=function(e){var t=this,o=z([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&o.forEach(function(e){var o=t.beans.columnModel.getGridColumn(e);t.dispatchCellChangedEvent(o,t.aggData?t.aggData[e]:void 0,i?i[e]:void 0)})},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&A(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,o,i){this.dispatchLocalEvent({type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:o,oldValue:i})},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t=!1,o=!1,i=!1;if(!(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length))return this.selectable?this.selected:null;for(var n=0;n<this.childrenAfterGroup.length;n++){var r=this.childrenAfterGroup[n],s=r.isSelected();if(!r.selectable){var a=r.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:t=!0;break;case!1:o=!0;break;default:i=!0}}return i||t&&o?void 0:!!t||!o&&(this.selectable?this.selected:null)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:o,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===De.PINNED_TOP||this.rowPinned===De.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t,o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=!0===e.newValue,n=!0===e.clearSelection,r=!0===e.suppressFinishActions,s=!0===e.rangeSelect,a=o&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(s&&this.beans.selectionService.getLastSelectedNode()){var l=this.beans.selectionService.getLastSelectedNode()!==this,c=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(l&&c){var u=this.doRowRangeSelection(e.newValue);return this.beans.selectionService.setLastSelectedNode(this),u}}var p=0;return a&&this.group||this.selectThisNode(i,e.event)&&p++,o&&(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length)&&(p+=this.selectChildNodes(i,a)),r||(i&&(n||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(p+=this.beans.selectionService.clearOtherNodes(this)),p>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Et.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),i&&this.beans.selectionService.setLastSelectedNode(this)),p},e.prototype.doRowRangeSelection=function(e){var t=this;void 0===e&&(e=!0);var o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=this.beans.selectionService.getLastSelectedNode(),n=this.beans.rowModel.getNodesInRangeForSelection(this,i),r=0;return n.forEach(function(i){i.group&&o||!1===e&&t===i||i.selectThisNode(e)&&r++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Et.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),r},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t,o){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var i=Object.assign({},this.createGlobalRowEvent(Et.EVENT_ROW_SELECTED),{event:o||null});return this.beans.eventService.dispatchEvent(i),!0},e.prototype.selectChildNodes=function(e,t){var o=t?this.childrenAfterAggFilter:this.childrenAfterGroup;if(_(o))return 0;for(var i=0,n=0;n<o.length;n++)i+=o[n].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return i},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new Pe),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,o=!0,i=!1,n=null;o&&!i;){var r=t.parent;E(r)&&t.firstChild?r.rowGroupColumn===e&&(i=!0,n=r):o=!1,t=r}return i?n:null},e.prototype.isFullWidthCell=function(){var e=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e({rowNode:this})},e.prototype.getRoute=function(){if(null!=this.key){for(var e=[],t=this;null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_GROUP_CHANGED="groupChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_DISPLAYED_CHANGED="displayedChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",e}(),Ps=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ds=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Is=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ps(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.rowNode.isSelected(),o=void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(i+" ("+o+")")},t.prototype.onCheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;if(this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(e){return at(e)}),this.addGuiEventListener("dblclick",function(e){return at(e)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(e){var o=t.eCheckbox.getValue();void 0===t.eCheckbox.getPreviousValue()||void 0===o?0===t.onUncheckedClicked(e||{})&&t.onCheckedClicked(e):o?t.onCheckedClicked(e):t.onUncheckedClicked(e||{})}),this.addManagedListener(this.rowNode,Os.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var o=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.rowNode,Os.EVENT_DATA_CHANGED,o),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,o),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&"function"==typeof e.checkboxSelection},Ds([Yn("eCheckbox")],t.prototype,"eCheckbox",void 0),Ds([we],t.prototype,"postConstruct",null),t}(Un),Ms=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ns=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ks=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ls=(()=>(function(e){e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel"}(Ls||(Ls={})),Ls))(),Fs=(()=>(function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(Fs||(Fs={})),Fs))(),Gs=(()=>(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(Gs||(Gs={})),Gs))(),Hs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var o;return Ms(t,e),o=t,t.prototype.init=function(){this.ePinnedIcon=wn("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=wn("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=wn("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=wn("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=wn("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=wn("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=wn("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=wn("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=wn("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o,t)},t.prototype.removeDragSource=function(e){var t=this.dragSourceAndParamsList.find(function(t){return t.dragSource===e});t&&(this.dragService.removeDragSource(t.params),Ue(this.dragSourceAndParamsList,t))},t.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach(function(t){return e.dragService.removeDragSource(t.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(e,t){var o,i,n,r,s=this,a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var c=this.dropTargets.filter(function(t){return s.isMouseOnDropTarget(e,t)}),u=this.findCurrentDropTarget(e,c);if(u!==this.lastDropTarget)null!==this.lastDropTarget&&null===u&&(null===(i=(o=this.dragSource).onGridExit)||void 0===i||i.call(o,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(r=(n=this.dragSource).onGridEnter)||void 0===r||r.call(n,this.dragItem)),this.leaveLastTargetIfExists(e,a,l,t),this.enterDragTargetIfExists(u,e,a,l,t),this.lastDropTarget=u;else if(u&&u.onDragging){var p=this.createDropTargetEvent(u,e,a,l,t);u.onDragging(p)}},t.prototype.getAllContainersFromDropTarget=function(e){var t=e.getSecondaryContainers?e.getSecondaryContainers():null,o=[[e.getContainer()]];return t?o.concat(t):o},t.prototype.allContainersIntersect=function(e,t){var o,i;try{for(var n=ks(t),r=n.next();!r.done;r=n.next()){var s=r.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;if(!(e.clientX>=s.left&&e.clientX<s.right&&e.clientY>=s.top&&e.clientY<s.bottom))return!1}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(e,t){var o,i,n=this.getAllContainersFromDropTarget(t),r=!1;try{for(var s=ks(n),a=s.next();!a.done;a=s.next())if(this.allContainersIntersect(e,a.value)){r=!0;break}}catch(l){o={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&r&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(e,t){var o,i,n,r,s=t.length;if(0===s)return null;if(1===s)return t[0];var a=this.gridOptionsWrapper.getDocument().elementsFromPoint(e.x,e.y);try{for(var l=ks(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var p=(n=void 0,ks(t)),h=p.next();!h.done;h=p.next()){var d=h.value;if(-1!==Qe(this.getAllContainersFromDropTarget(d)).indexOf(u))return d}}catch(f){n={error:f}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}}}catch(g){o={error:g}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(e,t,o,i,n){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,o,i,n);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(e,t,o,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var n=this.createDropTargetEvent(this.lastDropTarget,e,t,o,i);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(e){this.dropTargets.push(e)},t.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter(function(t){return t.getContainer()!==e.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(e){return e.external})},t.prototype.findExternalZone=function(e){return this.dropTargets.filter(function(e){return e.external}).find(function(t){return t.getContainer()===e.getContainer()})||null},t.prototype.getHorizontalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientX,o=e.clientX;return t===o?null:t>o?Gs.Left:Gs.Right},t.prototype.getVerticalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientY,o=e.clientY;return t===o?null:t>o?Fs.Up:Fs.Down},t.prototype.createDropTargetEvent=function(e,t,o,i,n){var r=e.getContainer(),s=r.getBoundingClientRect(),a=this;return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:i,hDirection:o,dragSource:a.dragSource,fromNudge:n,dragItem:a.dragItem,api:a.gridApi,columnApi:a.columnApi,dropZoneTarget:r}},t.prototype.positionGhost=function(e){var t=this.eGhost;if(t){var o=t.getBoundingClientRect().height,i=Do()-2,n=Io()-2,r=e.pageY-o/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=a.defaultView||window,c=l.pageYOffset||a.documentElement.scrollTop,u=l.pageXOffset||a.documentElement.scrollLeft;i>0&&s+t.clientWidth>i+u&&(s=i+u-t.clientWidth),s<0&&(s=0),n>0&&r+t.clientHeight>n+c&&(r=n+c-t.clientHeight),r<0&&(r=0),t.style.left=s+"px",t.style.top=r+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Qo(o.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;se(i)&&(i=i()),t.innerHTML=It(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var n=this.gridOptionsWrapper.getDocument(),r=null;try{r=n.fullscreenElement}catch(s){}finally{r||(r=n.querySelector("body"))}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(e,t){void 0===t&&(t=!1),Xo(this.eGhostIcon);var i=null;switch(e||(e=this.dragSource.defaultIconName||o.ICON_NOT_ALLOWED),e){case o.ICON_PINNED:i=this.ePinnedIcon;break;case o.ICON_MOVE:i=this.eMoveIcon;break;case o.ICON_LEFT:i=this.eLeftIcon;break;case o.ICON_RIGHT:i=this.eRightIcon;break;case o.ICON_GROUP:i=this.eGroupIcon;break;case o.ICON_AGGREGATE:i=this.eAggregateIcon;break;case o.ICON_PIVOT:i=this.ePivotIcon;break;case o.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case o.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),i===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||i&&this.eGhostIcon.appendChild(i)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ns([Se("dragService")],t.prototype,"dragService",void 0),Ns([Se("environment")],t.prototype,"environment",void 0),Ns([Se("columnApi")],t.prototype,"columnApi",void 0),Ns([Se("gridApi")],t.prototype,"gridApi",void 0),Ns([we],t.prototype,"init",null),Ns([be],t.prototype,"clearDragSourceParamsList",null),o=Ns([xe("dragAndDropService")],t)}(wt),Vs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ws=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(e){function t(t,o,i,n,r,s){var a=e.call(this)||this;return a.cellValueFn=t,a.rowNode=o,a.column=i,a.customGui=n,a.dragStartPixels=r,a.suppressVisibilityChange=s,a.dragSource=null,a}return Vs(t,e),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(bn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new Us(this,this.beans,this.rowNode,this.column):new zs(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,t){this.setTemplateFromElement(e),this.addDragSource(t)},t.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&ie(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.addDragSource=function(e){var t=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var o={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},i=this.column&&this.column.getColDef().rowDragText,n=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:Ls.RowDrag,eElement:this.getGui(),dragItemName:function(){var e=t.getSelectedCount();return i?i(o,e):1===e?t.cellValueFn():e+" "+n("rowDragRows","rows")},getDragItem:function(){return o},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ws([Se("beans")],t.prototype,"beans",void 0),Ws([we],t.prototype,"postConstruct",null),Ws([be],t.prototype,"removeDragSource",null),t}(Un),js=function(e){function t(t,o,i){var n=e.call(this)||this;return n.parent=t,n.rowNode=o,n.column=i,n}return Vs(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=!0,o=!1;this.column&&(t=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=se(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):(this.parent.setDisplayed(t),this.parent.setVisible(!0))}},t}(wt),zs=function(e){function t(t,o,i,n){var r=e.call(this,t,i,n)||this;return r.beans=o,r}return Vs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},Ws([we],t.prototype,"postConstruct",null),t}(js),Us=function(e){function t(t,o,i,n){var r=e.call(this,t,i,n)||this;return r.beans=o,r}return Vs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Et.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Et.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),i=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(t&&!i||o)},Ws([we],t.prototype,"postConstruct",null),t}(js),Ys=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xs=function(){return(Xs=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},qs=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.init=function(e,t,o,i,n,r,s){this.params=s,this.eGui=t,this.eCheckbox=o,this.eExpanded=i,this.eContracted=n,this.comp=e,this.compClass=r;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==s.value,u=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var p=s.node;p.footer&&(u=(s.colDef&&s.colDef.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))}this.cellIsBlank=!a&&(l||c||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,t=e.node,o=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var i=function(){Wi(o,!!t.expanded)};this.expandListener=this.addManagedListener(t,Os.EVENT_EXPANDED_CHANGED,i)||null,i()}else Bi(o)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter())return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e)return!0;if(!0===e.showRowGroup)return!0;var t=this.columnModel.getRowGroupColumns();return!t||0===t.length||t[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===De.PINNED_LEFT,t=this.params.pinned===De.PINNED_RIGHT,o=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!t:!o:this.columnModel.isPinningLeft()?!e:!o},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent)for(var o=t.parent;null!=o;){if(o.rowGroupColumn&&e.isRowGroupDisplayed(o.rowGroupColumn.getId())){this.displayedGroupNode=o;break}o=o.parent}_(this.displayedGroupNode)&&(this.displayedGroupNode=t)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,t=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var i=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=i}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),o=e.valueFormatted;this.comp.setInnerRenderer(t,null!=o?o:e.value)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;var o=this.params,i=this.params,n=this.valueFormatterService.formatValue(e,i.node,i.value);return Xs(Xs({},o),{valueFormatted:n})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,t="";if(e){var o=F(this.params);o.value=this.params.value,"function"==typeof e?t=e(o):"string"==typeof e?t=this.expressionService.evaluate(e,o):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");var i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)},t.prototype.getInnerCompDetails=function(e){var t=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var o=this.userComponentFactory.getInnerRendererDetails(e,e),i=function(e){return e&&e.componentClass==t.compClass};if(o&&!i(o))return o;var n=this.displayedGroupNode.rowGroupColumn,r=n?n.getColDef():void 0;if(r){var s=this.userComponentFactory.getCellRendererDetails(r,e);if(s&&!i(s))return s;if(i(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Os.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow();this.comp.setChildCount(t&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,t=bn("groupExpanded",this.gridOptionsWrapper,null),o=bn("groupContracted",this.gridOptionsWrapper,null);t&&this.eExpanded.appendChild(t),o&&this.eContracted.appendChild(o);var i=e.eGridCell;this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(i,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Os.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var n=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Os.EVENT_ALL_CHILDREN_COUNT_CHANGED,n),this.addManagedListener(this.displayedGroupNode,Os.EVENT_MASTER_CHANGED,n),this.addManagedListener(this.displayedGroupNode,Os.EVENT_GROUP_CHANGED,n),this.addManagedListener(this.displayedGroupNode,Os.EVENT_HAS_CHILDREN_CHANGED,n)},t.prototype.onExpandClicked=function(e){lt(e)||(at(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var t=this.displayedGroupNode,o=!t.expanded;!o&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(o,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||t)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.displayedGroupNode,o=e.columnModel,i=e.params.node,n=this.isExpandable();if(n){var r=!!this.showingValueForOpenedParent||i.expanded;this.comp.setExpandedDisplayed(r),this.comp.setContractedDisplayed(!r)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var s=o.isPivotMode(),a=s&&t.leafGroup,l=n&&!a,c=i.footer&&-1===i.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Os.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node,o=!!e.colDef,i=this.gridOptionsWrapper.isTreeData(),n=!o||i||!0===e.colDef.showRowGroup?t.uiLevel:0;e.padding>=0&&ie(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var t=new Bs(function(){return e.params.value},this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroupNode,o=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(o){var i=new Is;this.getContext().createBean(i),i.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(i)})}this.comp.setCheckboxVisible(o)},t.prototype.onKeyDown=function(e){e.key!==xn.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){lt(e)||dt(this.eExpanded,e)||dt(this.eContracted,e)||this.onExpandOrContract(e)},qs([Se("expressionService")],t.prototype,"expressionService",void 0),qs([Se("valueFormatterService")],t.prototype,"valueFormatterService",void 0),qs([Se("columnModel")],t.prototype,"columnModel",void 0),qs([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),qs([Se("gridOptions")],t.prototype,"gridOptions",void 0),qs([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(wt),Ks=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Qs=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Js=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Ks(t,e),t.prototype.init=function(e){var t=this,o={setInnerRenderer:function(e,o){return t.setRenderDetails(e,o)},setChildCount:function(e){return t.eChildCount.innerHTML=e},addOrRemoveCssClass:function(e,o){return t.addOrRemoveCssClass(e,o)},setContractedDisplayed:function(e){return ko(t.eContracted,e)},setExpandedDisplayed:function(e){return ko(t.eExpanded,e)},setCheckboxVisible:function(e){return t.eCheckbox.classList.toggle("ag-invisible",!e)}},i=this.createManagedBean(new Zs),n=!e.colDef,r=this.getGui();i.init(o,r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&Pi(r,"gridcell")},t.prototype.setRenderDetails=function(e,t){var o=this;if(e){var i=e.newAgStackInstance();if(!i)return;i.then(function(e){if(e){var t=function(){return o.context.destroyBean(e)};o.isAlive()?(o.eValue.appendChild(e.getGui()),o.addDestroyFunc(t)):t()}})}else this.eValue.innerText=t},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Qs([Yn("eExpanded")],t.prototype,"eExpanded",void 0),Qs([Yn("eContracted")],t.prototype,"eContracted",void 0),Qs([Yn("eCheckbox")],t.prototype,"eCheckbox",void 0),Qs([Yn("eValue")],t.prototype,"eValue",void 0),Qs([Yn("eChildCount")],t.prototype,"eChildCount",void 0),t}(Un),$s=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ea=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ta=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return $s(t,e),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=bn("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ea([Yn("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),ea([Yn("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Un),oa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ia=function(e){function t(){return e.call(this)||this}return oa(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),n=o.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(n)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(Un),na=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ra=function(e){function t(){return e.call(this)||this}return na(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),n=o.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(n)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(Un),sa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),aa=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return sa(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=It(t)},t}(hs),la=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ca=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:Vr,agColumnHeader:ns,agColumnGroupHeader:as,agSortIndicator:us,agTextColumnFloatingFilter:es,agNumberColumnFloatingFilter:Jr,agDateColumnFloatingFilter:Gr,agReadOnlyFloatingFilter:Kn,agAnimateShowChangeCellRenderer:_s,agAnimateSlideCellRenderer:Rs,agGroupCellRenderer:Js,agGroupRowRenderer:Js,agLoadingCellRenderer:ta,agCellEditor:bs,agTextCellEditor:bs,agSelectCellEditor:ys,agPopupTextCellEditor:Ss,agPopupSelectCellEditor:Cs,agLargeTextCellEditor:fs,agTextColumnFilter:Xr,agNumberColumnFilter:jr,agDateColumnFilter:Mr,agLoadingOverlay:ia,agNoRowsOverlay:ra,agTooltipComponent:aa},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComps={},t.fwComps={},t}return la(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&L(this.gridOptions.components,function(t,o){return e.registerJsComponent(t,o)}),null!=this.gridOptions.frameworkComponents&&L(this.gridOptions.frameworkComponents,function(t,o){return e.registerFwComponent(t,o)})},t.prototype.registerDefaultComponent=function(e,t){var o=this.translateIfDeprecated(e);this.agGridDefaults[o]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[o]=t},t.prototype.registerJsComponent=function(e,t){var o=this.translateIfDeprecated(e);this.fwComps[o]?console.error("Trying to register a component that you have already registered for frameworks: "+o):this.jsComps[o]=t},t.prototype.registerFwComponent=function(e,t){ie(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var o=this.translateIfDeprecated(e);this.fwComps[o]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e),o=function(e,t){return{componentFromFramework:t,component:e}},i=this.getFrameworkOverrides().frameworkComponent(t);if(null!=i)return o(i,!0);var n=this.fwComps[t];if(n)return o(n,!0);var r=this.jsComps[t];if(r)return o(r,this.getFrameworkOverrides().isFrameworkComponent(r));var s=this.agGridDefaults[t];return s?o(s,!1):(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("AG Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(ie(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)},"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},ca([Se("gridOptions")],t.prototype,"gridOptions",void 0),ca([Se("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ca([we],t.prototype,"init",null),ca([xe("userComponentRegistry")],t)}(wt),pa={propertyName:"dateComponent",cellRenderer:!1},ha={propertyName:"headerComponent",cellRenderer:!1},da={propertyName:"headerGroupComponent",cellRenderer:!1},fa={propertyName:"cellRenderer",cellRenderer:!0},ga={propertyName:"cellEditor",cellRenderer:!1},ma={propertyName:"innerRenderer",cellRenderer:!0},ya={propertyName:"loadingOverlayComponent",cellRenderer:!1},va={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Ca={propertyName:"tooltipComponent",cellRenderer:!1},wa={propertyName:"filter",cellRenderer:!1},ba={propertyName:"floatingFilterComponent",cellRenderer:!1},xa={propertyName:"toolPanel",cellRenderer:!1},Sa={propertyName:"statusPanel",cellRenderer:!1},Ea={propertyName:"fullWidthCellRenderer",cellRenderer:!0},_a={propertyName:"loadingCellRenderer",cellRenderer:!0},Aa={propertyName:"groupRowRenderer",cellRenderer:!0},Ra={propertyName:"detailCellRenderer",cellRenderer:!0},Ta=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Oa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pa=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oa(t,e),t.prototype.getHeaderCompDetails=function(e,t){return this.getCompDetails(e,ha,"agColumnHeader",t)},t.prototype.getHeaderGroupCompDetails=function(e){var t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,da,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ea,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,_a,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Aa,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ra,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,t){return this.getCompDetails(e,ma,null,t)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,t){return this.getCompDetails(e,ma,null,t)},t.prototype.getCellRendererDetails=function(e,t){return this.getCompDetails(e,fa,null,t)},t.prototype.getCellEditorDetails=function(e,t){return this.getCompDetails(e,ga,"agCellEditor",t,!0)},t.prototype.getFilterDetails=function(e,t,o){return this.getCompDetails(e,wa,o,t,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,pa,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,ya,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,va,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Ca,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,t){return this.getCompDetails(e,fa,null,t)},t.prototype.getFloatingFilterCompDetails=function(e,t,o){return this.getCompDetails(e,ba,o,t)},t.prototype.getToolPanelCompDetails=function(e,t){return this.getCompDetails(e,xa,null,t,!0)},t.prototype.getStatusPanelCompDetails=function(e,t){return this.getCompDetails(e,Sa,null,t,!0)},t.prototype.getCompDetails=function(e,t,o,i,n){var r=this;void 0===n&&(n=!1);var s=t.propertyName,a=t.cellRenderer,l=this.getCompKeys(e,t,i),c=l.compName,u=l.jsComp,p=l.fwComp,h=l.paramsFromSelector,d=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(e){var t=r.userComponentRegistry.retrieve(e);t&&(u=t.componentFromFramework?void 0:t.component,p=t.componentFromFramework?t.component:void 0)};if(null!=c&&g(c),null==u&&null==p&&null!=o&&g(o),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),u||p){var m=this.mergeParamsWithApplicationProvidedParams(e,t,i,h),y=null==u,v=u||p;return{componentFromFramework:y,componentClass:v,params:m,type:t,popupFromSelector:d,popupPositionFromSelector:f,newAgStackInstance:function(){return r.newAgStackInstance(v,y,m,t)}}}n&&console.error("Could not find component "+c+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,t,o){var i,n,r,s,a,l,c=this,u=t.propertyName;if(e){var p=e,h=p[u+"Selector"],d=h?h(o):null,f=function(e,t){var o=function(){var e="AG Grid: As of v27, the property "+u+"Framework is deprecated. The property "+u+" can now be used for JavaScript AND Framework Components.";ie(function(){return console.warn(e)},"UserComponentFactory."+u+"FrameworkDeprecated")};"string"==typeof e?i=e:"string"==typeof t?(o(),i=t):null!=e&&!0!==e?c.getFrameworkOverrides().isFrameworkComponent(e)?r=e:n=e:null!=t&&(o(),r=t)};if(d){if(null!=d.frameworkComponent){var g="AG Grid: As of v27, the return for "+u+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";ie(function(){return console.warn(g)},"UserComponentFactory."+u+"FrameworkSelectorDeprecated"),f(d.frameworkComponent,void 0)}else f(d.component,void 0);s=d.params,a=d.popup,l=d.popupPosition}else f(p[u],p[u+"Framework"])}return{compName:i,jsComp:n,fwComp:r,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},t.prototype.newAgStackInstance=function(e,t,o,i){var n;if(t){var r=this.componentMetadataProvider.retrieve(i.propertyName);n=this.frameworkComponentWrapper.wrap(e,r.mandatoryMethodList,r.optionalMethodList,i)}else n=new e;var s=this.initComponent(n,o);return null==s?kn.resolve(n):s.then(function(){return n})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,t,o,i){void 0===i&&(i=null);var n={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Y(n,o);var r=e&&e[t.propertyName+"Params"];return"function"==typeof r?Y(n,r(o)):"object"==typeof r&&Y(n,r),Y(n,i),n},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var t=null,o=this.getCompKeys(e,wa),i=o.compName,n=o.jsComp,r=o.fwComp;return i?t=Ta.getFloatingFilterType(i):null==n&&null==r&&!0===e.filter&&(t=Me.isRegistered(Ie.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),t},Pa([Se("gridOptions")],t.prototype,"gridOptions",void 0),Pa([Se("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Pa([Se("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Pa([Se("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Pa([Ee("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Pa([xe("userComponentFactory")],t)}(wt),Ia=(()=>(function(e){e[e.SINGLE_SHEET=0]="SINGLE_SHEET",e[e.MULTI_SHEET=1]="MULTI_SHEET"}(Ia||(Ia={})),Ia))(),Ma=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Na=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Ma(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var t=this.dragSources.find(function(t){return t.dragSource===e});t&&(this.removeListener(t),Ue(this.dragSources,t))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){var o=this;void 0===t&&(t=!1);var i=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",i);var n=null,r=this.gridOptionsWrapper.isSuppressTouch();t&&!r&&e.eElement.addEventListener("touchstart",n=function(t){t.cancelable&&t.preventDefault(),o.onTouchStart(e,t)},{passive:!0}),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:n,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var o=this;this.currentDragParams=e,this.dragging=!1;var i=t.touches[0];this.touchLastTime=i,this.touchStart=i;var n=function(t){return o.onTouchUp(t,e.eElement)},r=e.eElement,s=[{target:document,type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(t){return o.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:n,options:{passive:!0}},{target:r,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var o=this,i=t;if(!(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var n=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:n,type:"mousemove",listener:function(t){return o.onMouseMove(t,e.eElement)}},{target:n,type:"mouseup",listener:function(t){return o.onMouseUp(t,e.eElement)}},{target:n,type:"contextmenu",listener:function(e){return e.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(e){e.target.addEventListener(e.type,e.listener,e.options)}),this.dragEndFunctions.push(function(){e.forEach(function(e){e.target.removeEventListener(e.type,e.listener,e.options)})})},t.prototype.isEventNearStartEvent=function(e,t){var o=this.currentDragParams.dragStartPixels;return Rn(e,t,E(o)?o:4)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:Et.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:o}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){Co()&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.isOverFormFieldElement=function(e){var t,o;return!!(null===(o=null===(t=e.target)||void 0===t?void 0:t.tagName.toLocaleLowerCase())||void 0===o?void 0:o.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,t){var o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:Et.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(e){return e()}),this.dragEndFunctions.length=0},Na([Se("loggerFactory")],t.prototype,"loggerFactory",void 0),Na([Se("columnApi")],t.prototype,"columnApi",void 0),Na([Se("gridApi")],t.prototype,"gridApi",void 0),Na([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),Na([we],t.prototype,"init",null),Na([be],t.prototype,"removeAllListeners",null),Na([xe("dragService")],t)}(wt),La=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fa=function(){return(Fa=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Ga=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var o;return La(t,e),o=t,t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(e){var t=this,o=[],i=this.getFilterModel();if(e){var n=Pn(Object.keys(e));this.allColumnFilters.forEach(function(i,r){o.push(t.setModelOnFilterWrapper(i.filterPromise,e[r])),n.delete(r)}),n.forEach(function(i){var n=t.columnModel.getPrimaryColumn(i)||t.columnModel.getGridColumn(i);if(n)if(n.isFilterAllowed()){var r=t.getOrCreateFilterWrapper(n,"NO_UI");r?o.push(t.setModelOnFilterWrapper(r.filterPromise,e[i])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+i)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+i);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+i)})}else this.allColumnFilters.forEach(function(e){o.push(t.setModelOnFilterWrapper(e.filterPromise,null))});kn.all(o).then(function(){var e=t.getFilterModel(),o=[];t.allColumnFilters.forEach(function(t,n){In.jsonEquals(i?i[n]:null,e?e[n]:null)||o.push(t.column)}),o.length>0&&t.onFilterChanged({columns:o})})},t.prototype.setModelOnFilterWrapper=function(e,t){return new kn(function(o){e.then(function(e){"function"!=typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),o()),(e.setModel(t)||kn.resolve()).then(function(){return o()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(t,o){var i=t.filterPromise.resolveNow(null,function(e){return e});if(null==i)return null;if("function"==typeof i.getModel){var n=i.getModel();E(n)&&(e[o]=n)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.doAggregateFiltersPass=function(e,t){return this.doColumnFiltersPass(e,t,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var t=function(e){return!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},o=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(i){if(i.filterPromise.resolveNow(!1,t)){var n=i.filterPromise.resolveNow(null,function(e){return e});!function(t){if(!t.isPrimary())return!0;var i=!e.columnModel.isPivotActive();return!(!t.isValueActive()||!i)&&(!!e.columnModel.isPivotMode()||o)}(i.column)?e.activeColumnFilters.push(n):e.activeAggregateFilters.push(n)}})},t.prototype.updateFilterFlagInColumns=function(e,t){this.allColumnFilters.forEach(function(o){var i=o.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()});o.column.setFilterActive(i,e,t)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,t,o){for(var i=o?this.activeAggregateFilters:this.activeColumnFilters,n=o?e.aggData:e.data,r=0;r<i.length;r++){var s=i[r];if(null!=s&&s!==t){if("function"!=typeof s.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!s.doesFilterPass({node:e,data:n}))return!1}}return!0},t.prototype.parseQuickFilter=function(e){return E(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(e){if(null==e||"string"==typeof e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e)},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var t=this;void 0===e&&(e={});var o=function(){return t.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var t=e.filterInstance,o=e.additionalEventAttributes,i=e.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(e){e.filterPromise&&e.filterPromise.then(function(e){e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()})});var n={type:Et.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:i||[]};o&&Y(n,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})},t.prototype.doesRowPassQuickFilterNoCache=function(e,t){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(i){var n=o.getQuickFilterTextForColumn(i,e);return E(n)&&n.indexOf(t)>=0})},t.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},t.prototype.doesRowPassQuickFilter=function(e){var t=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(i){return o?t.doesRowPassQuickFilterCache(e,i):t.doesRowPassQuickFilterNoCache(e,i)})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(e,t){var o=this.valueService.getValue(e,t,!0),i=e.getColDef();if(i.getQuickFilterText){var n={value:o,node:t,data:t.data,column:e,colDef:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};o=i.getQuickFilterText(n)}return E(o)?o.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(e){var t=this,i=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(o){var n=t.getQuickFilterTextForColumn(o,e);E(n)&&i.push(n)}),e.quickFilterAggregateText=i.join(o.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(e){e.filterPromise.then(function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var t=this;return function(o){return t.valueService.getValue(e,o.node,!0)}},t.prototype.getFilterComponent=function(e,t,o){var i;if(void 0===o&&(o=!0),o)return(null===(i=this.getOrCreateFilterWrapper(e,t))||void 0===i?void 0:i.filterPromise)||null;var n=this.cachedFilter(e);return n?n.filterPromise:null},t.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,t){if(!e.isFilterAllowed())return null;var o=this.cachedFilter(e);return o?"NO_UI"!==t&&this.putIntoGui(o,t):(o=this.createFilterWrapper(e,t),this.allColumnFilters.set(e.getColId(),o)),o},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.createFilterInstance=function(e){var t,o=this,i=Me.isRegistered(Ie.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",n=e.getColDef(),r=Fa(Fa({},this.createFilterParams(e,n)),{filterModifiedCallback:function(){o.eventService.dispatchEvent({type:Et.EVENT_FILTER_MODIFIED,api:o.gridApi,columnApi:o.columnApi,column:e,filterInstance:t})},filterChangedCallback:function(i){o.callOnFilterChangedOutsideRenderCycle({filterInstance:t,additionalEventAttributes:i,columns:[e]})},doesRowPassOtherFilter:function(e){return o.doesRowPassOtherFilters(t,e)}}),s=this.userComponentFactory.getFilterDetails(n,r,i);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then(function(e){return t=e}),a},t.prototype.createFilterParams=function(e,t){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:e,colDef:F(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},t.prototype.createFilterWrapper=function(e,t){var o={column:e,filterPromise:null,compiledElement:null,guiPromise:kn.resolve(null)};return o.filterPromise=this.createFilterInstance(e),o.filterPromise&&this.putIntoGui(o,t),o},t.prototype.putIntoGui=function(e,t){var o=this,i=document.createElement("div");i.className="ag-filter",e.guiPromise=new kn(function(n){e.filterPromise.then(function(r){var s=r.getGui();E(s)||console.warn("AG Grid: getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"==typeof s&&(s=Qo(s)),i.appendChild(s),n(i),o.eventService.dispatchEvent({type:Et.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i,api:o.gridApi,columnApi:o.columnApi})})})},t.prototype.onColumnsChanged=function(){var e=this,t=[];this.allColumnFilters.forEach(function(o,i){(o.column.isPrimary()?e.columnModel.getPrimaryColumn(i):e.columnModel.getGridColumn(i))||(t.push(o.column),e.disposeFilterWrapper(o,"filterDestroyed"))}),t.length>0&&this.onFilterChanged({columns:t})},t.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var o=this.allColumnFilters.get(e.getColId());o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged({columns:[e]}))},t.prototype.disposeFilterWrapper=function(e,t){var o=this;e.filterPromise.then(function(i){(i.setModel(null)||kn.resolve()).then(function(){o.getContext().destroyBean(i),e.column.setFilterActive(!1,t),o.allColumnFilters.delete(e.column.getColId())})})},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allColumnFilters.forEach(function(e){return t.disposeFilterWrapper(e,"filterDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",Ga([Se("valueService")],t.prototype,"valueService",void 0),Ga([Se("columnModel")],t.prototype,"columnModel",void 0),Ga([Se("rowModel")],t.prototype,"rowModel",void 0),Ga([Se("columnApi")],t.prototype,"columnApi",void 0),Ga([Se("gridApi")],t.prototype,"gridApi",void 0),Ga([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ga([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),Ga([we],t.prototype,"init",null),Ga([be],t.prototype,"destroy",null),o=Ga([xe("filterManager")],t)}(wt),Va=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Wa=function(e){function t(t,o){var i=e.call(this,t)||this;return i.ctrl=o,i}return Va(t,e),t.prototype.getCtrl=function(){return this.ctrl},t}(Un),Ba=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ja=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},za=function(e){function t(o){return e.call(this,t.TEMPLATE,o)||this}return Ba(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},addOrRemoveBodyCssClass:function(t,o){return e.eFloatingFilterBody.classList.toggle(t,o)},addOrRemoveButtonWrapperCssClass:function(t,o){return e.eButtonWrapper.classList.toggle(t,o)},setCompDetails:function(t){return e.setCompDetails(t)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(e){return t.style.width=e},setMenuIcon:function(t){return e.eButtonShowMainFilter.appendChild(t)}},t,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var t=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(e){return t.afterCompCreated(e)})},t.prototype.afterCompCreated=function(e){var t=this;e&&(this.addDestroyFunc(function(){return t.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',ja([Yn("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),ja([Yn("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),ja([Yn("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),ja([we],t.prototype,"postConstruct",null),t}(Wa),Ua=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return e.parse([t]);if(Array.isArray(t)){var o=[];return t.forEach(function(t){var i=e.DEFAULT_BY_KEY[t];i?o.push(i):console.warn("AG Grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))}),0===o.length?null:{toolPanels:o,defaultToolPanel:o[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var o=[];return t?(t.forEach(function(t){var i=null;if("string"==typeof t){var n=e.DEFAULT_BY_KEY[t];if(!n)return void console.warn("AG Grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));i=n}else i=t;o.push(i)}),o):o},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},e}(),Ya=function(){return(Ya=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Xa=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qa=function(e,t){return function(o,i){t(o,i,e)}},Za=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Ka=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Za(arguments[t]));return e};function Qa(e){return!0===e||"true"===e}function Ja(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}function $a(e,t){var o=parseInt(e,10);return rn(o)&&o>0?o:t}var el=function(){function e(){this.propertyEventService=new Pe,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var t;return t=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Ua.parse(this.gridOptions.sideBar));var t=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var o=function(e){return"AG Grid: '"+e+"' is not supported on the Server-Side Row Model"};E(this.gridOptions.groupDefaultExpanded)&&console.warn(o("groupDefaultExpanded")),E(this.gridOptions.groupDefaultExpanded)&&console.warn(o("groupIncludeFooter")),E(this.gridOptions.groupDefaultExpanded)&&console.warn(o("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Me.assertRegistered(Ie.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one.");var i=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};i("radioButtonOff"),i("radioButtonOn"),i("checkboxChecked"),i("checkboxUnchecked"),i("checkboxIndeterminate"),this.getScrollbarWidth()},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(t){var o=Object.getOwnPropertyNames(t),i=Ka(fo.ALL_PROPERTIES,fo.FRAMEWORK_PROPERTIES);e.checkProperties(o,i,i,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Ka(qt.ALL_PROPERTIES,qt.FRAMEWORK_PROPERTIES,N(Et).map(function(e){return Jt.getCallbackForEvent(e)})),o=Ka(t,["api","columnApi"]);this.checkProperties(e,o,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},e.prototype.checkProperties=function(e,t,o,i,n){var r=fn(e,t,o);L(r,function(e,t){console.warn("ag-grid: invalid "+i+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))}),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+i+" properties please check: "+n)},e.prototype.mergeGridCommonParams=function(e){var t=this;return e?function(o){var i=Ya(Ya({},o),{api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()});return e(i)}:e},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var o=e[this.getDomDataKey()];return o?o[t]:void 0},e.prototype.setDomData=function(e,t,o){var i=this.getDomDataKey(),n=e[i];_(n)&&(e[i]=n={}),n[t]=o},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isSuppressRowDeselection=function(){return Qa(this.gridOptions.suppressRowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return Qa(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return Qa(this.gridOptions.pivotMode)},e.prototype.isSuppressExpandablePivotGroups=function(){return Qa(this.gridOptions.suppressExpandablePivotGroups)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===De.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===De.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===De.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return _(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===De.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return Qa(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return Qa(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return Qa(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return Qa(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return Qa(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return Qa(this.gridOptions.suppressTouch)},e.prototype.isMaintainColumnOrder=function(){return Qa(this.gridOptions.maintainColumnOrder)},e.prototype.isSuppressRowTransform=function(){return Qa(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressColumnStateEvents=function(){return Qa(this.gridOptions.suppressColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return Qa(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!Qa(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return Qa(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){return Qa(this.gridOptions.groupSelectsChildren)},e.prototype.isSuppressRowHoverHighlight=function(){return Qa(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isColumnHoverHighlight=function(){return Qa(this.gridOptions.columnHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return Qa(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return Qa(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMaintainOrder=function(){return Qa(this.gridOptions.groupMaintainOrder)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.isColumnsSortingCoupledToGroup=function(){var e,t=this.getAutoGroupColumnDef();return this.isRowModelDefault()&&!(null===(e=t)||void 0===e?void 0:e.comparator)},e.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Qa(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},e.prototype.isGroupRowsSticky=function(){return Qa(this.gridOptions.groupRowsSticky)},e.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},e.prototype.isGroupRemoveSingleChildren=function(){return Qa(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return Qa(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return Qa(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return Qa(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return Qa(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return Qa(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellFocus=function(){return Qa(this.gridOptions.suppressCellFocus)},e.prototype.isSuppressMultiSort=function(){return Qa(this.gridOptions.suppressMultiSort)},e.prototype.isAlwaysMultiSort=function(){return Qa(this.gridOptions.alwaysMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isPivotSuppressAutoColumn=function(){return Qa(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return Qa(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressRowGroupHidesColumns=function(){return Qa(this.gridOptions.suppressRowGroupHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return Qa(this.gridOptions.suppressScrollOnNewData)},e.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Qa(this.gridOptions.suppressScrollWhenPopupsAreOpen)},e.prototype.isRowDragEntireRow=function(){return Qa(this.gridOptions.rowDragEntireRow)},e.prototype.isSuppressRowDrag=function(){return Qa(this.gridOptions.suppressRowDrag)},e.prototype.isRowDragManaged=function(){return Qa(this.gridOptions.rowDragManaged)},e.prototype.isSuppressMoveWhenRowDragging=function(){return Qa(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isRowDragMultiRow=function(){return Qa(this.gridOptions.rowDragMultiRow)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||De.DOM_LAYOUT_NORMAL;return-1===[De.DOM_LAYOUT_PRINT,De.DOM_LAYOUT_AUTO_HEIGHT,De.DOM_LAYOUT_NORMAL].indexOf(e)?(ie(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+De.DOM_LAYOUT_NORMAL+", "+De.DOM_LAYOUT_AUTO_HEIGHT+" and "+De.DOM_LAYOUT_PRINT)},"warn about dom layout values"),De.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return Qa(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return Qa(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Qa(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowHorizontalScroll=function(){return Qa(this.gridOptions.alwaysShowHorizontalScroll)},e.prototype.isAlwaysShowVerticalScroll=function(){return Qa(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isDebounceVerticalScrollbar=function(){return Qa(this.gridOptions.debounceVerticalScrollbar)},e.prototype.isSuppressLoadingOverlay=function(){return Qa(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return Qa(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return Qa(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return Qa(this.gridOptions.functionsPassive)},e.prototype.isSuppressChangeDetection=function(){return Qa(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return Qa(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return Qa(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return Qa(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return Qa(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return Qa(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return Qa(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return Qa(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return Ja(this.gridOptions.undoRedoCellEditingLimit)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},e.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.isServerSideInfiniteScroll=function(){return Qa(this.gridOptions.serverSideInfiniteScroll)},e.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},e.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},e.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},e.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,t=e.initialGroupOrderComparator,o=e.defaultGroupOrderComparator;return t?this.mergeGridCommonParams(t):o?function(e){return o(e.nodeA,e.nodeB)}:void 0},e.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,t=e.isFullWidthRow,o=e.isFullWidthCell;return t?this.mergeGridCommonParams(t):o?function(e){return o(e.rowNode)}:void 0},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return Qa(this.gridOptions.embedFullWidthRows)||Qa(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.isDetailRowAutoHeight=function(){return Qa(this.gridOptions.detailRowAutoHeight)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isReadOnlyEdit=function(){return Qa(this.gridOptions.readOnlyEdit)},e.prototype.isImmutableData=function(){var e=null!=this.gridOptions.getRowId,t=Qa(this.gridOptions.immutableData);return!Qa(this.gridOptions.resetRowDataOnUpdate)&&(e||t)},e.prototype.isEnsureDomOrder=function(){return Qa(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!Qa(this.gridOptions.enableCharts)&&Me.assertRegistered(Ie.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return Qa(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return Qa(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenCellsLoseFocus=function(){return Qa(this.gridOptions.stopEditingWhenCellsLoseFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){var e=Ja(this.gridOptions.maxConcurrentDatasourceRequests);return null==e?2:e<=0?void 0:e},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return Ja(this.gridOptions.paginationPageSize)},e.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Qa(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return $a(this.gridOptions.cacheBlockSize)},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return Qa(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return Qa(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isEnableRtl=function(){return Qa(this.gridOptions.enableRtl)},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return Qa(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return Qa(this.gridOptions.angularCompileFilters)},e.prototype.isDebug=function(){return Qa(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return Qa(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return Qa(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return Qa(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return Qa(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return Qa(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return Qa(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Qa(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return Qa(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressRowVirtualisation=function(){return Qa(this.gridOptions.suppressRowVirtualisation)},e.prototype.isSuppressContextMenu=function(){return Qa(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return Qa(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return Qa(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isSuppressCopySingleCellRanges=function(){return Qa(this.gridOptions.suppressCopySingleCellRanges)},e.prototype.isCopyHeadersToClipboard=function(){return Qa(this.gridOptions.copyHeadersToClipboard)},e.prototype.isCopyGroupHeadersToClipboard=function(){return Qa(this.gridOptions.copyGroupHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return Qa(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return Qa(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return Qa(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Qa(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},e.prototype.getAsyncTransactionWaitMillis=function(){return E(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:De.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return Qa(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Qa(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return Qa(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return Qa(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return Qa(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Qa(this.gridOptions.suppressAggFilteredOnly)},e.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return Qa(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},e.prototype.isShowOpenedGroup=function(){return Qa(this.gridOptions.showOpenedGroup)},e.prototype.isReactUi=function(){return Qa(this.gridOptions.reactUi)},e.prototype.isSuppressReactUi=function(){return Qa(this.gridOptions.suppressReactUi)},e.prototype.isEnableRangeSelection=function(){return Me.isRegistered(Ie.RangeSelectionModule)&&Qa(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return Qa(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return Qa(this.gridOptions.enableFillHandle)},e.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(ie(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},e.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},e.prototype.isSuppressMultiRangeSelection=function(){return Qa(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return Qa(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return Qa(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.mergeGridCommonParams(e):Qa(e)?function(){return!0}:void 0},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!Qa(this.gridOptions.masterDetail)&&Me.assertRegistered(Ie.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return Qa(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return E(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return Qa(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return Qa(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return Qa(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isSuppressClipboardApi=function(){return Qa(this.gridOptions.suppressClipboardApi)},e.prototype.isFunctionsReadOnly=function(){return Qa(this.gridOptions.functionsReadOnly)},e.prototype.isEnableCellTextSelect=function(){return Qa(this.gridOptions.enableCellTextSelection)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(e){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+Dt(e)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===e&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===e&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},e.prototype.isSuppressCsvExport=function(){return Qa(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return Qa(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return Qa(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Qa(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},e.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,t=e.getGroupRowAgg,o=e.groupRowAggNodes;return t?this.mergeGridCommonParams(t):o?function(e){return o(e.nodes)}:void 0},e.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},e.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},e.prototype.getRowIdFunc=function(){var e=this.gridOptions,t=e.getRowId,o=e.getRowNodeId;return t?this.mergeGridCommonParams(t):o?function(e){return o(e.data)}:void 0},e.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},e.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},e.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},e.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},e.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},e.prototype.isTreeData=function(){return!!Qa(this.gridOptions.treeData)&&Me.assertRegistered(Ie.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return Qa(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return Qa(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return Qa(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return Qa(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},e.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},e.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},e.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},e.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},e.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},e.prototype.getViewportRowModelPageSize=function(){return $a(this.gridOptions.viewportRowModelPageSize,5)},e.prototype.getViewportRowModelBufferSize=function(){return(e=this.gridOptions.viewportRowModelBufferSize)>=0?e:5;var e},e.prototype.isServerSideSortAllLevels=function(){var e=Qa(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):e},e.prototype.isServerSideFilterAllLevels=function(){var e=Qa(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):e},e.prototype.isServerSideSortOnServer=function(){var e=Qa(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):e},e.prototype.isServerSideFilterOnServer=function(){var e=Qa(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&e?(ie(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):e},e.prototype.getPostSortFunc=function(){var e=this.gridOptions,t=e.postSortRows,o=e.postSort;return t?this.mergeGridCommonParams(t):o?function(e){return o(e.nodes)}:void 0},e.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},e.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},e.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},e.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},e.prototype.getClipboardDelimiter=function(){return E(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},e.prototype.setProperty=function(e,t,o){void 0===o&&(o=!1);var i=this.gridOptions,n=i[e];(o||n!==t)&&(i[e]=t,this.propertyEventService.dispatchEvent({type:e,currentValue:t,previousValue:n}))},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipDelay=function(e){var t=this.gridOptions,o="show"===e?t.tooltipShowDelay:t.tooltipHideDelay,i=Dt(e);return E(o)?(o<0&&ie(function(){return console.warn("ag-grid: tooltip"+i+"Delay should not be lower than 0")},"tooltip"+i+"DelayWarn"),Math.max(200,o)):null},e.prototype.isTooltipMouseTrack=function(){return Qa(this.gridOptions.tooltipMouseTrack)},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Qa(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&E(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&E(e)?e:document},e.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(E(e)&&e>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var o=this.getFromTheme(null,"headerCellMinWidth");return E(o)?Math.max(o,t.MIN_COL_WIDTH):t.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(ie(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=De.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ro();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:Et.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var t=function(t,o,i){null!=e[t]&&(console.warn("AG Grid: since version "+i+", '"+t+"' is deprecated / renamed, please use the new property name '"+o+"' instead."),null==e[o]&&(e[o]=e[t]))};if(t("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),t("deltaRowDataMode","immutableData","23.1.x"),t("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),t("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),t("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var o=e.groupRowRendererParams;e.groupRowInnerRenderer&&(o.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(o.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(o.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(e.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),e.groupDisplayType="custom"),e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator),t("processSecondaryColDef","processPivotResultColDef","28.0.x"),t("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),e.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),e.serverSideInfiniteScroll="partial"===e.serverSideStoreType),t("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&_(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(_(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),_(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){var e=this,t=this.gridOptions,o=t.localeText,i=t.getLocaleText;return i?function(t,o,n){var r={key:t,defaultValue:o,variableValues:n,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return i(r)}:t.localeTextFunc||function(e,t,i){var n=o&&o[e];if(n&&i&&i.length)for(var r=0;!(r>=i.length)&&-1!==n.indexOf("${variable}");)n=n.replace("${variable}",i[r++]);return null!=n?n:t}},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var o=Jt.getCallbackForEvent(e);"function"==typeof this.gridOptions[o]&&this.gridOptions[o](t)}},e.prototype.setRowHeightVariable=function(e){var t=e+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=t&&this.eGridDiv.style.setProperty("--ag-line-height",t)},e.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||_(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getRowHeightForNode=function(e,t,o){if(void 0===t&&(t=!1),null==o&&(o=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:o,estimated:!0};var i={node:e,data:e.data},n=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(i);if(this.isNumeric(n))return 0===n&&ie(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,n),estimated:!1}}return e.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},e.prototype.getFromTheme=function(e,t){var o=this.environment.getTheme().theme;return o&&0===o.indexOf("ag-theme")?this.environment.getSassVariable(o,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.matchesGroupDisplayType=function(e,t){var o=["groupRows","multipleColumns","custom","singleColumn"];return o.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):t===e},e.prototype.matchesTreeDataDisplayType=function(e,t){var o=["auto","custom"];return o.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):t===e},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",e.PROP_TAB_TO_NEXT_CELL="tabToNextCell",e.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",e.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",e.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",e.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_GET_ROW_CLASS="getRowClass",e.PROP_GET_ROW_STYLE="getRowStyle",e.PROP_GET_ROW_HEIGHT="getRowHeight",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",e.PROP_ROW_CLASS="rowClass",e.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",e.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",e.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",e.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",e.PROP_GET_CHILD_COUNT="getChildCount",e.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",e.PROP_GET_ROW_NODE_ID="getRowNodeId",e.PROP_GET_ROW_ID="getRowId",e.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",e.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",e.PROP_IS_ROW_SELECTABLE="isRowSelectable",e.PROP_IS_ROW_MASTER="isRowMaster",e.PROP_POST_SORT="postSort",e.PROP_POST_SORT_ROWS="postSortRows",e.PROP_GET_DOCUMENT="getDocument",e.PROP_POST_PROCESS_POPUP="postProcessPopup",e.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",e.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",e.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",e.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",e.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",e.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",e.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",e.PROP_SEND_TO_CLIPBOARD="sendToClipboard",e.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",e.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",e.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",e.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",e.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",e.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",e.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",e.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Xa([Se("gridOptions")],e.prototype,"gridOptions",void 0),Xa([Se("eventService")],e.prototype,"eventService",void 0),Xa([Se("environment")],e.prototype,"environment",void 0),Xa([Se("eGridDiv")],e.prototype,"eGridDiv",void 0),Xa([qa(0,Ae("gridApi")),qa(1,Ae("columnApi"))],e.prototype,"agWire",null),Xa([be],e.prototype,"destroy",null),Xa([we],e.prototype,"init",null),t=Xa([xe("gridOptionsWrapper")],e)}(),tl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ol=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},il=(()=>(function(e){e.AUTO_HEIGHT="ag-layout-auto-height",e.NORMAL="ag-layout-normal",e.PRINT="ag-layout-print"}(il||(il={})),il))(),nl=function(e){function t(t){var o=e.call(this)||this;return o.view=t,o}return tl(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),t={autoHeight:e===De.DOM_LAYOUT_AUTO_HEIGHT,normal:e===De.DOM_LAYOUT_NORMAL,print:e===De.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(t.autoHeight?il.AUTO_HEIGHT:t.print?il.PRINT:il.NORMAL,t)},ol([Se("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ol([we],t.prototype,"postConstruct",null),t}(wt),rl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},al=function(e){function t(t){var o=e.call(this)||this;return o.scrollLeft=-1,o.nextScrollTop=-1,o.scrollTop=-1,o.eBodyViewport=t,o.resetLastHorizontalScrollElementDebounced=he(o.resetLastHorizontalScrollElement.bind(o),500),o}return rl(t,e),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var t=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?he(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",t)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),i=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),n=this.ctrlsService.getBottomCenterRowContainerCtrl(),r=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(t),n.setContainerTranslateX(t),o.setContainerTranslateX(t),i.setContainerTranslateX(t);var s=this.centerRowContainerCtrl.getViewportElement();Yo(this.lastHorizontalScrollElement===s?r.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var t=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",t.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Uo(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var t=Uo(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var t=this,o={type:Et.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var e=Object.assign({},o,{type:Et.EVENT_BODY_SCROLL_END});t.eventService.dispatchEvent(e)},100)},t.prototype.shouldBlockScrollUpdate=function(e,t,o){if(void 0===o&&(o=!1),o&&!So())return!1;if("vertical"===e){var i=Vo(this.eBodyViewport);if(t<0||t+i>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===e){var n=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&zo()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+n>r)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&zo()?e>0?0:t:Math.min(Math.max(e,0),t)),Yo(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null);for(var o=this.rowModel.getRowCount(),i="function"==typeof e,n=-1,r=0;r<o;r++){var s=this.rowModel.getRow(r);if(i){if(e(s)){n=r;break}}else if(e===s||e===s.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)},t.prototype.ensureIndexVisible=function(e,t){if(this.gridOptionsWrapper.getDomLayout()!==De.DOM_LAYOUT_PRINT){var o=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=o)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var i,n=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),r=this.paginationProxy.getRow(e);do{var s=r.rowTop,a=r.rowHeight,l=this.paginationProxy.getPixelOffset(),c=r.rowTop-l,u=c+r.rowHeight,p=this.getVScrollPosition(),h=this.heightScaler.getDivStretchOffset(),d=p.top+h,f=p.bottom+h,g=f-d,m=this.heightScaler.getScrollPositionForPixel(c),y=this.heightScaler.getScrollPositionForPixel(u-g),v=Math.min((m+y)/2,c),C=null;"top"===t?C=m:"bottom"===t?C=y:"middle"===t?C=v:d+n>c?C=m-n:f<u&&(C=y),null!==C&&(this.eBodyViewport.scrollTop=C,this.rowRenderer.redrawAfterScroll()),i=s!==r.rowTop||a!==r.rowHeight}while(i);this.animationFrameService.flushAllFrames()}}},t.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var i=this.getPositionedHorizontalScroll(o,t);null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,t){var o=this.isColumnOutsideViewport(e),i=o.columnBeforeStart,n=o.columnAfterEnd,r=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?i:n)||r,c=a?n:i;"auto"!==t&&(l="start"===t,c="end"===t);var u="middle"===t;if(l||c||u){var p=this.getColumnBounds(e),h=p.colLeft,d=p.colRight;return u?p.colMiddle-s/2:l?a?d:h:a?h-s:d-s}return null},t.prototype.isColumnOutsideViewport=function(e){var t=this.getViewportBounds(),o=t.start,i=t.end,n=this.getColumnBounds(e),r=n.colLeft,s=n.colRight,a=this.enableRtl;return{columnBeforeStart:a?o>s:i<s,columnAfterEnd:a?i<r:o>r}},t.prototype.getColumnBounds=function(e){var t=this.enableRtl,o=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,s=t?o-n:n;return{colLeft:s,colMiddle:s+i/2*r,colRight:s+i*r}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}},sl([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),sl([Se("animationFrameService")],t.prototype,"animationFrameService",void 0),sl([Se("columnApi")],t.prototype,"columnApi",void 0),sl([Se("gridApi")],t.prototype,"gridApi",void 0),sl([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),sl([Se("rowModel")],t.prototype,"rowModel",void 0),sl([Se("rowContainerHeightService")],t.prototype,"heightScaler",void 0),sl([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),sl([Se("columnModel")],t.prototype,"columnModel",void 0),sl([we],t.prototype,"postConstruct",null),t}(wt),ll=function(){function e(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var o=t||this.shouldSkipVerticalScroll();if(!o||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!o,this.tickDown=e.clientY>i.bottom-n&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){var e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-e),this.tickRight&&this.setHorizontalPosition(o+e)}this.onScrollCallback&&this.onScrollCallback()},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),cl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ul=function(){return(ul=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},pl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hl=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},dl=function(e){function t(t){var o=e.call(this)||this;return o.isMultiRowDrag=!1,o.isGridSorted=!1,o.isGridFiltered=!1,o.isRowGroupActive=!1,o.eContainer=t,o}return cl(t,e),t.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var t=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,Et.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_MODEL_UPDATED,function(){t()}),t(),this.ctrlsService.whenReady(function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new ll({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return t.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return t.getScrollFeature().setVerticalScrollPosition(e)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!A(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Ls.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Hs.ICON_NOT_ALLOWED:Hs.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var t=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var o=this.gridOptionsWrapper.isRowDragMultiRow(),i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hl(arguments[t]));return e}(this.selectionService.getSelectedNodes()).sort(function(e,o){return null==e.rowIndex||null==o.rowIndex?0:t.getRowIndexNumber(e)-t.getRowIndexNumber(o)}),n=e.dragItem.rowNode;return o&&-1!==i.indexOf(n)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[n])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(Et.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(e){e.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Et.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,t){var o=this.isFromThisGrid(e),i=this.gridOptionsWrapper.isRowDragManaged(),n=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))},t.prototype.getRowIndexNumber=function(e){return parseInt(He(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var t=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),i=o&&o.highlighted===Ts.Below,n=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=i?1:0;if(this.isFromThisGrid(e))r.forEach(function(e){e.rowTop<n&&(s-=1)}),this.moveRows(r,n,s);else{var a=this.gridOptionsWrapper.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===Ts.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map(function(e){return e.data}).filter(function(e){return!t.clientSideRowModel.getRowNode(a?a({data:e,level:0}):e.id)}),addIndex:l})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,t,o){void 0===o&&(o=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,o)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var t=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var o={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,o=e):(e.onDragEnter&&(o.onDragEnter=function(o){e.onDragEnter(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(o.onDragLeave=function(o){e.onDragLeave(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(o.onDragging=function(o){e.onDragging(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(o.onDragStop=function(o){e.onDragStop(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(ul({isInterestedIn:function(e){return e===Ls.RowDrag},getIconName:function(){return Hs.ICON_MOVE},external:!0},o))}else ie(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var t=this,o=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:o,onDragEnter:e.onDragEnter?function(o){i(o),e.onDragEnter(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:e.onDragLeave?function(o){n(o),e.onDragLeave(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_LEAVE,o))}:n,onDragging:e.onDragging?function(o){r(o),e.onDragging(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?function(o){s(o),e.onDragStop(t.draggingToRowDragEvent(Et.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:o,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:s,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,t){var o,i,n=this.mouseEventService.getNormalisedPosition(t).y,r=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(n),o=this.rowModel.getRow(r)),t.vDirection){case Fs.Down:i="down";break;case Fs.Up:i="up";break;default:i=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:o,y:n,vDirection:i}},t.prototype.dispatchGridEvent=function(e,t){var o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(Et.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(Et.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(e){e.setDragging(!1)})},pl([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),pl([Se("rowModel")],t.prototype,"rowModel",void 0),pl([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),pl([Se("columnModel")],t.prototype,"columnModel",void 0),pl([Se("focusService")],t.prototype,"focusService",void 0),pl([Se("sortController")],t.prototype,"sortController",void 0),pl([Se("filterManager")],t.prototype,"filterManager",void 0),pl([Se("selectionService")],t.prototype,"selectionService",void 0),pl([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),pl([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),pl([Ee("rangeService")],t.prototype,"rangeService",void 0),pl([Se("columnApi")],t.prototype,"columnApi",void 0),pl([Se("gridApi")],t.prototype,"gridApi",void 0),pl([we],t.prototype,"postConstruct",null),t}(wt),fl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ml=(()=>(function(e){e.ANIMATION_ON="ag-row-animation",e.ANIMATION_OFF="ag-row-no-animation"}(ml||(ml={})),ml))(),yl="ag-selectable",vl="ag-force-vertical-scroll",Cl="ag-column-moving",wl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return fl(t,e),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,t,o,i,n,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=o,this.eTop=i,this.eBottom=n,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new nl(this.comp)),this.bodyScrollFeature=this.createManagedBean(new al(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,o,n,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Et.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var t=this;e.forEach(function(e){t.addManagedListener(e,"focusin",function(t){var o=Go(t.target,"ag-root",e);e.classList.toggle("ag-has-focus",!o)}),t.addManagedListener(e,"focusout",function(t){var o=t.target,i=t.relatedTarget,n=e.contains(i),r=Go(i,"ag-root",e);Go(o,"ag-root",e)||n&&!r||e.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?Cl:null,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(e?yl:null,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var t=function(t){var i=t.relatedTarget;if(null!==_o(i)){var n=o.some(function(e){return e.contains(i)})&&e.mouseEventService.isElementInThisGrid(i);if(!n){var r=e.popupService;n=r.getActivePopups().some(function(e){return e.contains(i)})||r.isElementWithinCustomPopup(i)}n||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];o.forEach(function(o){return e.addManagedListener(o,"focusout",t)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(e?vl:null,e),e||li(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(t?ml.ANIMATION_ON:ml.ANIMATION_OFF,t)};t(),this.addManagedListener(this.eventService,Et.EVENT_HEIGHT_SCALE_CHANGED,t)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(t){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&t.preventDefault();var o=t.target;o!==e.eBodyViewport&&o!==e.ctrlsService.getCenterRowContainerCtrl().getViewportElement()||e.contextMenuFactory&&e.contextMenuFactory.onContextMenu(t,null,null,null,null,e.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new dl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,t=e.getPinnedTopTotalHeight();t&&(t+=1);var o=e.getPinnedBottomTotalHeight();o&&(o+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(o),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(o?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var t=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+t+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),t=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;e>0&&(o+=e+1),t>0&&(o+=t+1),this.comp.setStickyTopTop(o+"px")},t.prototype.sizeColumnsToFit=function(e){var t=this,o=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,i=Wo(this.eBodyViewport)-o;i>0?this.columnModel.sizeColumnsToFit(i,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){t.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){t.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},gl([Se("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),gl([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),gl([Se("columnModel")],t.prototype,"columnModel",void 0),gl([Se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),gl([Ee("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),gl([Se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),gl([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),gl([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gl([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),gl([Se("popupService")],t.prototype,"popupService",void 0),gl([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),gl([Se("rowModel")],t.prototype,"rowModel",void 0),t}(wt),bl=(()=>(function(e){e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE"}(bl||(bl={})),bl))(),xl=(()=>(function(e){e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION"}(xl||(xl={})),xl))(),Sl=function(){function e(e,t){this.beans=e,this.cellCtrl=t}return e.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected",0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),$i(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},e.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.right,i=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",n)},e.prototype.isSingleCell=function(){var e=this.beans.rangeService;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},e.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(e){return Ke([xl.DIMENSION,xl.VALUE],e.type)})},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.getRangeBorders=function(){var e,t,o=this,i=this.beans.gridOptionsWrapper.isEnableRtl(),n=!1,r=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,p=c.columnModel;i?(e=p.getDisplayedColAfter(l),t=p.getDisplayedColBefore(l)):(e=p.getDisplayedColBefore(l),t=p.getDisplayedColAfter(l));var h=u.getCellRanges().filter(function(e){return u.isCellInSpecificRange(o.cellCtrl.getCellPosition(),e)});e||(a=!0),t||(r=!0);for(var d=0;d<h.length&&!(n&&r&&s&&a);d++){var f=h[d],g=u.getRangeStartRow(f),m=u.getRangeEndRow(f);!n&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(n=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!a&&e&&f.columns.indexOf(e)<0&&(a=!0),!r&&t&&f.columns.indexOf(t)<0&&(r=!0)}return{top:n,right:r,bottom:s,left:a}},e.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},e.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,o=e.rangeService,i=o.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;var r=He(i),s=this.cellCtrl.getCellPosition(),a=t.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),l=t.isEnableRangeHandle(),c=1===n&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var u=i[0].type===xl.DIMENSION&&o.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=r.type===xl.VALUE}return c&&null!=r.endRow&&o.isContiguousRange(r)&&o.isBottomRightCell(r,s)},e.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,o=He(e.rangeService.getCellRanges()).type,i=t.isEnableFillHandle()&&_(o)?bl.FILL:bl.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)},e.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},e}(),El=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_l=function(e){function t(t,o){var i=e.call(this)||this;return i.cellCtrl=t,i.beans=o,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return El(t,e),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Ve(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,t){return e+t.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var o=this.column,i=this.column.getPinned(),n=0;o&&n<e&&(t.push(o),(o=this.beans.columnModel.getDisplayedColAfter(o))&&!_(o))&&i===o.getPinned();n++);return t},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?He(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===De.PINNED_LEFT)return e;var t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===De.PINNED_RIGHT?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(wt),Al=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rl=function(e){function t(t,o){var i=e.call(this)||this;return i.staticClasses=[],i.cellCtrl=t,i.beans=o,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i}return Al(t,e),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,t=this.column.getColDef(),o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(t.cellClassRules,o,function(t){return e.cellComp.addOrRemoveCssClass(t,!0)},function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"==typeof e.cellStyle){var o={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};t=(0,e.cellStyle)(o)}else t=e.cellStyle;this.cellComp.setUserStyles(t)}},t.prototype.applyClassesFromColDef=function(){var e=this,t=this.column.getColDef(),o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(t){return e.cellComp.addOrRemoveCssClass(t,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,o),this.staticClasses.length&&this.staticClasses.forEach(function(t){return e.cellComp.addOrRemoveCssClass(t,!0)})},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(wt),Tl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ol=function(e){function t(t,o){var i=e.call(this)||this;return i.ctrl=t,i.beans=o,i}return Tl(t,e),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Vn({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}}),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,t=e.getColumn?e.getColumn():void 0,o=e.getColDef?e.getColDef():void 0,i=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:o,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(wt),Pl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dl=function(){function e(){}return e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Pl([Se("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Pl([Se("paginationProxy")],e.prototype,"paginationProxy",void 0),Pl([Se("context")],e.prototype,"context",void 0),Pl([Se("columnApi")],e.prototype,"columnApi",void 0),Pl([Se("gridApi")],e.prototype,"gridApi",void 0),Pl([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pl([Se("expressionService")],e.prototype,"expressionService",void 0),Pl([Se("rowRenderer")],e.prototype,"rowRenderer",void 0),Pl([Se("templateService")],e.prototype,"templateService",void 0),Pl([Se("valueService")],e.prototype,"valueService",void 0),Pl([Se("eventService")],e.prototype,"eventService",void 0),Pl([Se("columnModel")],e.prototype,"columnModel",void 0),Pl([Se("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Pl([Se("navigationService")],e.prototype,"navigationService",void 0),Pl([Se("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Pl([Ee("rangeService")],e.prototype,"rangeService",void 0),Pl([Se("focusService")],e.prototype,"focusService",void 0),Pl([Ee("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Pl([Se("popupService")],e.prototype,"popupService",void 0),Pl([Se("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Pl([Se("stylingService")],e.prototype,"stylingService",void 0),Pl([Se("columnHoverService")],e.prototype,"columnHoverService",void 0),Pl([Se("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Pl([Se("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Pl([Se("animationFrameService")],e.prototype,"animationFrameService",void 0),Pl([Se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Pl([Se("sortController")],e.prototype,"sortController",void 0),Pl([Se("filterManager")],e.prototype,"filterManager",void 0),Pl([Se("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Pl([Se("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Pl([Se("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Pl([Se("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Pl([Se("selectionService")],e.prototype,"selectionService",void 0),Pl([Ee("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),Pl([Se("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Pl([Se("rowModel")],e.prototype,"rowModel",void 0),Pl([Se("ctrlsService")],e.prototype,"ctrlsService",void 0),Pl([Se("ctrlsFactory")],e.prototype,"ctrlsFactory",void 0),Pl([Se("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Pl([Se("valueCache")],e.prototype,"valueCache",void 0),Pl([Se("rowNodeEventThrottle")],e.prototype,"rowNodeEventThrottle",void 0),Pl([we],e.prototype,"postConstruct",null),Pl([xe("beans")],e)}(),Il=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ml=function(e){function t(t,o,i){var n=e.call(this)||this;return n.cellCtrl=t,n.beans=o,n.column=i,n}return Il(t,e),t.prototype.onMouseEvent=function(e,t){if(!lt(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,o=t.eventService,i=t.rangeService,n=t.gridOptionsWrapper;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);var r=this.cellCtrl.createEvent(e,Et.EVENT_CELL_CLICKED);o.dispatchEvent(r);var s=this.column.getColDef();s.onCellClicked&&window.setTimeout(function(){return s.onCellClicked(r)},0),(n.isSingleClickEdit()||s.singleClickEdit)&&!n.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!So()||ut("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},t.prototype.onCellDoubleClicked=function(e){var t=this.column.getColDef(),o=this.cellCtrl.createEvent(e,Et.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(function(){return t.onCellDoubleClicked(o)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var t=e.ctrlKey,o=e.metaKey,i=e.shiftKey,n=e.target,r=this.beans,s=r.eventService,a=r.rangeService;if(!this.isRightClickInExistingRange(e)){var l=a&&0!=a.getCellRanges().length;if(!i||!l){var c=vo()&&!this.cellCtrl.isEditing()&&!No(n);this.cellCtrl.focusCell(c)}if(i&&l&&e.preventDefault(),!this.containsWidget(n)){if(a){var u=this.cellCtrl.getCellPosition();i?a.extendLatestRangeToCell(u):a.setRangeToCell(u,t||o)}s.dispatchEvent(this.cellCtrl.createEvent(e,Et.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeService;return!(!t||!t.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return Go(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,Et.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,Et.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var t=this.cellCtrl.getGui(),o=t.contains(e.target),i=t.contains(e.relatedTarget);return o&&i},t.prototype.destroy=function(){},t}(Dl),Nl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kl=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.cellCtrl=t,s.beans=o,s.rowNode=n,s.rowCtrl=r,s}return Nl(t,e),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case xn.ENTER:this.onEnterKeyDown(e);break;case xn.F2:this.onF2KeyDown(e);break;case xn.ESCAPE:this.onEscapeKeyDown(e);break;case xn.TAB:this.onTabKeyDown(e);break;case xn.BACKSPACE:case xn.DELETE:this.onBackspaceOrDeleteKeyPressed(t,e);break;case xn.DOWN:case xn.UP:case xn.RIGHT:case xn.LEFT:this.onNavigationKeyPressed(e,t)}},t.prototype.onNavigationKeyPressed=function(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(e,void 0,t)},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,xn.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(xn.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(xn.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):Sn(e)&&(this.cellCtrl.startRowOrCellEdit(null,t,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){var o=this.rowNode.isSelected(),i=!o;if(i||!t.isSuppressRowDeselection()){var n=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:n});void 0===o&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n})}}e.preventDefault()},t.prototype.destroy=function(){},t}(wt),Ll=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fl=function(e){function t(t,o,i,n){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return r.rowNode=t,r.column=o,r.beans=i,r.eCell=n,r}return Ll(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(bn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(e){e.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,o=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),o?o({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var o=JSON.stringify(t.rowNode.data);e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o)}catch(i){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(Un),Gl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hl=function(){return(Hl=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Vl="ag-cell-not-inline-editing",Wl=0,Bl=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.suppressRefreshCell=!1,r.column=t,r.rowNode=o,r.beans=i,r.rowCtrl=n,r.instanceId=t.getId()+"-"+Wl++,r.createCellPosition(),r.addFeatures(),r}return Gl(t,e),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new _l(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Rl(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new Ml(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new kl(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Sl(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new Ol({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var t=e.column.getColDef(),o=e.rowNode.data;if(t.tooltipField&&E(o))return Q(o,t.tooltipField,e.column.isTooltipFieldContainsDots());var i=t.tooltipValueGetter;return i?i({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},t.prototype.setComp=function(e,t,o,i,n){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=t,this.eCellWrapper=o,this.printLayout=i,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var r=It(this.column.getId());this.cellComp.setColId(r),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(t),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),n&&this.isCellEditable()?this.startEditing():this.showValue()},t.prototype.setupAutoHeight=function(){var e=this;if(this.column.isAutoHeight()){var t=this.eCellWrapper,o=t.parentElement,i=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,n=function(r){if(!e.editing&&e.isAlive()){var s=Ho(o),a=t.offsetHeight+s.paddingTop+s.paddingBottom;if(r<5){var l=e.beans.gridOptionsWrapper.getDocument();if(!l||!l.contains(t)||0==a)return void e.beans.frameworkOverrides.setTimeout(function(){return n(r+1)},0)}var c=Math.max(a,i);e.rowNode.setRowAutoHeight(c,e.column)}},r=function(){return n(0)};r();var s=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(function(){s(),e.rowNode.setRowAutoHeight(void 0,e.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var t=null!=this.valueFormatted?this.valueFormatted:this.value,o=this.createCellRendererParams(),i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o);this.cellComp.setRenderDetails(i,t,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),o=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||o||i},t.prototype.startEditing=function(e,t,o,i){var n,r;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),void 0===i&&(i=null),this.isCellEditable()&&!this.editing){var s=this.createCellEditorParams(e,t,o),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),c=null!=(null===(n=l)||void 0===n?void 0:n.popupFromSelector)?l.popupFromSelector:!!a.cellEditorPopup,u=null!=(null===(r=l)||void 0===r?void 0:r.popupPositionFromSelector)?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0,c),this.cellComp.setEditDetails(l,c,u);var p=this.createEvent(i,Et.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}},t.prototype.setEditing=function(e,t){void 0===t&&(t=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=t,this.setInlineEditingClass())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var t={newValueExists:!1};if(e)return t;var o=this.cellComp.getCellEditor();return o?o.isCancelAfterEnd&&o.isCancelAfterEnd()?t:{newValue:o.getValue(),newValueExists:!0}:t},t.prototype.saveNewValue=function(e,t){if(t===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,t),!1;this.suppressRefreshCell=!0;var o=this.rowNode.setDataValue(this.column,t);return this.suppressRefreshCell=!1,o},t.prototype.dispatchEventForSaveValueReadOnly=function(e,t){var o=this.rowNode,i={type:Et.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:o.data,node:o,oldValue:e,newValue:t,value:t,source:void 0};this.beans.eventService.dispatchEvent(i)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var t=this.takeValueFromCellEditor(e),o=t.newValue,i=t.newValueExists,n=this.getValueFromValueService(),r=!1;return i&&(r=this.saveNewValue(n,o)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,o),r},t.prototype.dispatchEditingStoppedEvent=function(e,t){var o=Hl(Hl({},this.createEvent(null,Et.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t});this.beans.eventService.dispatchEvent(o)},t.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editing&&!this.editingInPopup,t=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",e),this.cellComp.addOrRemoveCssClass(Vl,!e),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",t),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,t,o){return{value:this.getValueFromValueService(),key:e,eventKey:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:o,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(t,o,i,n){return e.registerRowDragger(t,o,n)},addRowCompListener:function(t,o){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(t,o)}}},t.prototype.parseValue=function(e){var t=this.column.getColDef(),o={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},i=t.valueParser;return E(i)?this.beans.expressionService.evaluate(i,o):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var t=this.column.getColDef(),o=null!=e&&!!e.newData,i=null!=e&&!!e.suppressFlash||!!t.suppressCellFlash,n=e&&e.forceRefresh||null==t.field&&null==t.valueGetter&&null==t.showRowGroup||o,r=this.updateAndFormatValue();if(n||r){this.showValue(o);var s=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!i&&!s&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,xn.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,t,o){var i=this,n="ag-cell-"+e,r="ag-cell-"+e+"-animation",s=this.beans.gridOptionsWrapper;t||(t=s.getCellFlashDelay()),E(o)||(o=s.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(r,!1),window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(n,!1),i.cellComp.addOrRemoveCssClass(r,!0),i.eGui.style.transition="background-color "+o+"ms",window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(r,!1),i.eGui.style.transition="")},o))},t)},t.prototype.onFlashCells=function(e){if(this.cellComp){var t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var t=this.callValueFormatter(e);return null!=t?t:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var t=this.value,o=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(t,this.value)||this.valueFormatted!=o},t.prototype.valuesAreEqual=function(e,t){var o=this.column.getColDef();return o.equals?o.equals(e,t):e===t},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,o=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),i=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,t&&o&&!i)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,o=this.getGui();this.beans.gridOptionsWrapper.setDomData(o,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(o,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,t){return{type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,t){this.cellMouseListenerFeature.onMouseEvent(e,t)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Zi(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,t,o){void 0===o&&(o=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,t,this):this.startEditing(e,t,!0,o)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var t=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o=this.beans.gridOptionsWrapper.isFullRowEdit();t||o||!this.editing||this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:S(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Vl,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onNewColumnsLoaded=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var t=this.column.getColDef(),o=this.createEvent(e,Et.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout(function(){return t.onCellContextMenu(o)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new Is;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Fl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,t,o){var i=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,t);else{var n=this.createRowDragComp(e,t,o);n&&(this.customRowDragComp=n,this.addDestroyFunc(function(){return i.beans.context.destroyBean(n)}))}},t.prototype.createRowDragComp=function(e,t,o){var i=this,n=this.beans.gridOptionsWrapper.isPagination(),r=this.beans.gridOptionsWrapper.isRowDragManaged(),s=this.beans.gridOptionsWrapper.isRowModelDefault();if(r){if(!s)return void ie(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(n)return void ie(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var a=new Bs(function(){return i.value},this.rowNode,this.column,e,t,o);return this.beans.context.createBean(a),a},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(wt),jl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zl=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Ul=(()=>(function(e){e.Normal="Normal",e.FullWidth="FullWidth",e.FullWidthLoading="FullWidthLoading",e.FullWidthGroup="FullWidthGroup",e.FullWidthDetail="FullWidthDetail"}(Ul||(Ul={})),Ul))(),Yl=0,Xl=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.beans=o,s.rowNode=t,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=n,s.printLayout=r,s.instanceId=t.id+"-"+Yl++,s.setAnimateFlags(i),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return jl(t,e),t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,t,o){var i={rowComp:e,element:t,containerType:o};this.allRowGuis.push(i),o===Cc.LEFT?this.leftGui=i:o===Cc.RIGHT?this.rightGui=i:o===Cc.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},t.prototype.isCacheable=function(){return this.rowType===Ul.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},t.prototype.setCached=function(e){var t=e?"none":"";this.allRowGuis.forEach(function(e){return e.element.style.display=t})},t.prototype.initialiseRowComps=function(){var e=this,o=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&ue(this.onTopChanged.bind(this)),this.fadeRowIn&&ue(function(){e.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var i=this.getRowBusinessKey(),n=It(this.rowNode.id),r=It(i);this.allRowGuis.forEach(function(i){var s=i.rowComp;s.setRole("row"),e.getInitialRowClasses(i.containerType).forEach(function(e){return s.addOrRemoveCssClass(e,!0)}),e.rowNode.group&&Wi(i.element,1==e.rowNode.expanded),null!=n&&s.setRowId(n),null!=r&&s.setRowBusinessKey(r),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&s.setTabIndex(-1),o.setDomData(i.element,t.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return o.setDomData(i.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,i.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(i.element),e.isFullWidth()&&e.setupFullWidth(i),o.isRowDragEntireRow()&&e.addRowDraggerToRow(i),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){e.isAlive()&&i.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},t.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())ie(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var t=new Bs(function(){return"1 row"},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(t,this.beans.context)}},t.prototype.setupFullWidth=function(e){var t=this.getPinnedForContainer(e.containerType),o=this.createFullWidthParams(e.element,t),i=Me.isRegistered(Ie.MasterDetailModule);if(this.rowType!=Ul.FullWidthDetail||i){var n;switch(this.rowType){case Ul.FullWidthDetail:n=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(o);break;case Ul.FullWidthGroup:n=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(o);break;case Ul.FullWidthLoading:n=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(o);break;default:n=this.beans.userComponentFactory.getFullWidthCellRendererDetails(o)}e.rowComp.showFullWidth(n)}else Me.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+Ie.MasterDetailModule)},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getCellElement=function(e){var t=this.getCellCtrl(e);return t?t.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.setRowType=function(){var e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),o=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),n=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(i);this.rowType=e?Ul.FullWidthLoading:o?Ul.FullWidthDetail:t?Ul.FullWidth:n?Ul.FullWidthGroup:Ul.Normal},t.prototype.updateColumnLists=function(e){var t=this;void 0===e&&(e=!1),this.isFullWidth()||(e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.updateColumnListsImpl():this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){t.active&&t.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},t.prototype.createCellCtrls=function(e,t,o){var i=this;void 0===o&&(o=null);var n={list:[],map:{}},r=function(e,t){n.list.push(t),n.map[e]=t};return t.forEach(function(t){var o=t.getInstanceId(),n=e.map[o];n||(n=new Bl(t,i.rowNode,i.beans,i)),r(o,n)}),e.list.forEach(function(e){null!=n.map[e.getColumn().getInstanceId()]||(i.isCellEligibleToBeRemoved(e,o)?e.destroy():r(e.getColumn().getInstanceId(),e))}),n},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var o=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);var i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,De.PINNED_LEFT);var n=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,De.PINNED_RIGHT)}this.allRowGuis.forEach(function(t){t.rowComp.setCellCtrls((t.containerType===Cc.LEFT?e.leftCellCtrls:t.containerType===Cc.RIGHT?e.rightCellCtrls:e.centerCellCtrls).list)})},t.prototype.isCellEligibleToBeRemoved=function(e,t){var o=!0;if(e.getColumn().getPinned()!=t)return o;var i=e.isEditing(),n=this.beans.focusService.isCellFocused(e.getCellPosition());if(i||n){var r=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(r)>=0)&&o}return o},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var t=E(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Ul.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,t=function(t,o){if(!t)return!0;var i=t.rowComp.getFullWidthCellRenderer();if(!i)return!1;if(!i.refresh)return!1;var n=e.createFullWidthParams(t.element,o);return i.refresh(n)},o=t(this.fullWidthGui,null),i=t(this.centerGui,null),n=t(this.leftGui,De.PINNED_LEFT),r=t(this.rightGui,De.PINNED_RIGHT);return o&&i&&n&&r},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Os.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Os.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,Et.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Et.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Et.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Et.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Et.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Et.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,Et.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Os.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(e){return e.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Os.EVENT_CELL_CHANGED,function(t){e.getAllCellCtrls().forEach(function(e){return e.onCellChanged(t)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(t){var o=e===Ts.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Ts.Above),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-group",e),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),Wi(o.element,e&&t)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:S(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var t=this.allRowGuis.find(function(t){return t.element.contains(e.target)});if((t?t.element:null)===e.target){var o=this.rowNode,i=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:i&&i.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!lt(e)){var t=this.allRowGuis.find(function(t){return t.element.contains(e.target)}),o=t?t.element:null,i=o===e.target,n=null;i||(n=this.beans.focusService.findNextFocusableElement(o,!1,e.shiftKey)),(this.isFullWidth()&&i||!n)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var t,o=this.rowNode,i=this.isFullWidth()&&e.rowIndex===o.rowIndex&&e.rowPinned==o.rowPinned,n=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;n&&(n.classList.toggle("ag-full-width-focus",i),i&&n.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,t){var o={list:[],map:{}};return e.list.forEach(function(e){e!==t&&(o.list.push(e),o.map[e.getInstanceId()]=e)}),o},t.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}},t.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},t.prototype.createRowEventWithSource=function(e,t){var o=this.createRowEvent(e,t);return o.source=this,o},t.prototype.onRowDblClick=function(e){if(!lt(e)){var t=this.createRowEventWithSource(Et.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Go(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode;this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:this.beans.columnModel.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!lt(e)&&!this.lastMouseDownOnDragger){var t=this.createRowEventWithSource(Et.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var o=e.ctrlKey||e.metaKey,i=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var n=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?n?this.rowNode.setSelectedParams({newValue:!1,event:e}):o?r&&this.rowNode.setSelectedParams({newValue:!1,event:e}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:e}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n&&!o,rangeSelect:i,event:e})}}},t.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.rowType===Ul.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var o=function(){var o=e.clientHeight;null!=o&&o>0&&t.beans.frameworkOverrides.setTimeout(function(){t.rowNode.setRowHeight(o),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()},0)},i=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(i),o()}},t.prototype.createFullWidthParams=function(e,t){var o=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(e,t,i,n){return o.addFullWidthRowDragging(e,t,i,n)}}},t.prototype.addFullWidthRowDragging=function(e,t,o,i){if(void 0===o&&(o=""),this.isFullWidth()){var n=new Bs(function(){return o},this.rowNode,void 0,e,t,i);this.createManagedBean(n,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(e){e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(o,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-row-last",t)}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1);var t=this.getAllCellCtrls().map(function(t){return t.stopEditing(e)});if(this.editingRow){if(!e&&t.some(function(e){return e})){var o=this.createRowEvent(Et.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}this.setEditingRow(!1)}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(t){t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var t=this.createRowEvent(e?Et.EVENT_ROW_EDITING_STARTED:Et.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},t.prototype.startRowEditing=function(e,t,o,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null),this.editingRow||(this.getAllCellCtrls().forEach(function(n){var r=n===o;r?n.startEditing(e,t,r,i):n.startEditing(null,null,r,i)}),this.setEditingRow(!0))},t.prototype.getAllCellCtrls=function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zl(arguments[t]));return e}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach(function(t){e.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass(t,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(t){e.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass(t,!0)})},function(t){e.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass(t,!1)})})},t.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(t){return t.rowComp.setUserStyles(e)})},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},t.prototype.getPinnedForContainer=function(e){return e===Cc.LEFT?De.PINNED_LEFT:e===Cc.RIGHT?De.PINNED_RIGHT:null},t.prototype.getInitialRowClasses=function(e){var t=this.getPinnedForContainer(e),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var t,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(t=o({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},e,t)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(){var e=this,t=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",t),$i(o.element,!!t||void 0);var i=e.createAriaLabel();ki(o.element,null==i?"":i)})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return t.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return t.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Os.EVENT_MOUSE_ENTER,function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Os.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),i)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,t=this.beans.gridOptionsWrapper.getDefaultRowHeight(),o=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,i=o?Math.min(t,o)-2+"px":void 0;this.allRowGuis.forEach(function(t){t.element.style.height=e+"px",i&&t.element.style.setProperty("--ag-line-height",i)})}},t.prototype.addEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Et.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Et.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,o)},t.prototype.removeEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Et.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Et.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,o)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(Et.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),e.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(e){return e.list.forEach(function(e){return e.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&E(e)){var t=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()?t:this.beans.rowContainerHeightService.getRealPixelPosition(t);this.setRowTopStyle(o+"px")}},t.prototype.getInitialRowTop=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.getInitialRowTopShared():void 0},t.prototype.getInitialTransform=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?void 0:"translateY("+this.getInitialRowTopShared()+")"},t.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(t);e=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return e+"px"},t.prototype.setRowTopStyle=function(e){var t=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(o){return t?o.rowComp.setTop(e):o.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var t=null;return this.getAllCellCtrls().forEach(function(o){o.getColumn()==e&&(t=o)}),null!=t||this.getAllCellCtrls().forEach(function(o){o.getColSpanningList().indexOf(e)>=0&&(t=o)}),t},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),t=this.beans.headerNavigationService.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,i=t+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",o),t.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Xi(t.element,i)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(wt),ql=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kl=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return ql(t,e),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(t){var o=e.processKeyboardEvent.bind(e,t);e.addManagedListener(e.element,t,o)})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",ut("touchstart")?"touchstart":"mousedown"].forEach(function(t){var o=e.processMouseEvent.bind(e,t);e.addManagedListener(e.element,t,o)})},t.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!lt(t)){var o=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,o,i):(i&&i.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(So()){var t=new ts(this.element);this.addManagedListener(t,ts.EVENT_LONG_TAP,function(t){var o=e.getRowForEvent(t.touchEvent),i=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,o,i)}),this.addDestroyFunc(function(){return t.destroy()})}},t.prototype.getRowForEvent=function(e){for(var t=e.target;t;){var o=this.gridOptionsWrapper.getDomData(t,Xl.DOM_DATA_KEY_ROW_CTRL);if(o)return o;t=t.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,t,o,i){var n=o?o.getRowNode():null,r=i?i.getColumn():null,s=null;r&&(i.dispatchCellContextMenuEvent(e||t),s=this.valueService.getValue(r,n));var a=this.ctrlsService.getGridBodyCtrl(),l=i?i.getGui():a.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,n,r,s,l)},t.prototype.processKeyboardEvent=function(e,t){var o=pt(this.gridOptionsWrapper,t,Bl.DOM_DATA_KEY_CELL_CTRL),i=pt(this.gridOptionsWrapper,t,Xl.DOM_DATA_KEY_ROW_CTRL);t.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))},t.prototype.processCellKeyboardEvent=function(e,t,o){var i=e.getRowNode(),n=e.getColumn(),r=e.isEditing();if(!En(this.gridOptionsWrapper,o,i,n,r))switch(t){case"keydown":!r&&this.navigationService.handlePageScrollingKey(o)||e.onKeyDown(o),this.doGridOperations(o,e.isEditing());break;case"keypress":e.onKeyPress(o)}if("keydown"===t){var s=e.createEvent(o,Et.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===t){var a=e.createEvent(o,Et.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,t,o){var i=e.getRowNode(),n=this.focusService.getFocusedCell();if(!En(this.gridOptionsWrapper,o,i,n&&n.column,!1)&&"keydown"===t)switch(o.key){case xn.UP:case xn.DOWN:e.onKeyboardNavigate(o);break;case xn.TAB:e.onTabKeyDown(o)}if("keydown"===t){var r=e.createRowEvent(Et.EVENT_CELL_KEY_DOWN,o);this.eventService.dispatchEvent(r)}if("keypress"===t){var s=e.createRowEvent(Et.EVENT_CELL_KEY_PRESS,o);this.eventService.dispatchEvent(s)}},t.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t&&this.mouseEventService.isEventFromThisGrid(e)){var o=An(e);return o===xn.A?this.onCtrlAndA(e):o===xn.C?this.onCtrlAndC(e):o===xn.V?this.onCtrlAndV():o===xn.D?this.onCtrlAndD(e):o===xn.Z?e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo():o===xn.Y?this.undoRedoService.redo():void 0}},t.prototype.onCtrlAndA=function(e){var t=this,o=t.pinnedRowModel,i=t.rangeService,n=De.PINNED_BOTTOM,r=De.PINNED_TOP;if(i&&t.paginationProxy.isRowsToRender()){var s=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}([o.isEmpty(r),o.isEmpty(n)],2),a=s[0]?null:r,l=void 0,c=void 0;s[1]?(l=null,c=this.paginationProxy.getRowCount()-1):(l=n,c=o.getPinnedBottomRowData().length-1);var u=this.columnModel.getAllDisplayedColumns();if(A(u))return;i.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:u[0],columnEnd:He(u)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){Me.isRegistered(Ie.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){Me.isRegistered(Ie.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},Zl([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),Zl([Se("valueService")],t.prototype,"valueService",void 0),Zl([Ee("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Zl([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Zl([Se("navigationService")],t.prototype,"navigationService",void 0),Zl([Se("focusService")],t.prototype,"focusService",void 0),Zl([Se("undoRedoService")],t.prototype,"undoRedoService",void 0),Zl([Se("columnModel")],t.prototype,"columnModel",void 0),Zl([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Zl([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Zl([Ee("rangeService")],t.prototype,"rangeService",void 0),Zl([Ee("clipboardService")],t.prototype,"clipboardService",void 0),Zl([we],t.prototype,"postConstruct",null),t}(wt),Ql=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Jl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$l=function(e){function t(t){var o=e.call(this)||this;return o.centerContainerCtrl=t,o}return Ql(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,Et.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,t=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=Vo(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:Et.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},Jl([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Jl([Se("columnModel")],t.prototype,"columnModel",void 0),Jl([Se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Jl([Se("columnApi")],t.prototype,"columnApi",void 0),Jl([Se("gridApi")],t.prototype,"gridApi",void 0),Jl([we],t.prototype,"postConstruct",null),t}(wt),ec=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),tc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oc=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return ec(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Et.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;ko(this.element,t),t&&ui(this.element,e)},tc([Se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),tc([we],t.prototype,"postConstruct",null),t}(wt),ic=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),nc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rc=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return ic(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Et.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;ko(this.element,t),t&&ui(this.element,e)},nc([Se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),nc([we],t.prototype,"postConstruct",null),t}(wt),sc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ac=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lc=function(e){function t(t,o){var i=e.call(this)||this;return i.eContainer=t,i.eWrapper=o,i}return sc(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Et.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?e+"px":"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)},ac([Se("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),ac([we],t.prototype,"postConstruct",null),t}(wt),cc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pc=function(e){function t(t){var o=e.call(this)||this;return o.eContainer=t,o}return cc(t,e),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!_(this.rangeService)){var t={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(t),this.addDestroyFunc(function(){return e.dragService.removeDragSource(t)})}},uc([Ee("rangeService")],t.prototype,"rangeService",void 0),uc([Se("dragService")],t.prototype,"dragService",void 0),uc([we],t.prototype,"postConstruct",null),t}(wt),hc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),dc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fc=function(e){function t(t){var o=e.call(this)||this;return o.callback=t,o}return hc(t,e),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,t=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT,o=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),n=e.getDisplayedColumnsRightWidth();this.callback(t?o+i+n:o)},dc([Se("columnModel")],t.prototype,"columnModel",void 0),dc([we],t.prototype,"postConstruct",null),t}(wt),gc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yc=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},vc=(()=>(function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.FULL_WIDTH="fullWidth",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.TOP_CENTER="topCenter",e.TOP_FULL_WIDTH="topFullWidth",e.STICKY_TOP_LEFT="stickyTopLeft",e.STICKY_TOP_RIGHT="stickyTopRight",e.STICKY_TOP_CENTER="stickyTopCenter",e.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.BOTTOM_CENTER="bottomCenter",e.BOTTOM_FULL_WIDTH="bottomFullWidth"}(vc||(vc={})),vc))(),Cc=(()=>(function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.FULL_WIDTH="fullWidth"}(Cc||(Cc={})),Cc))(),wc=Nt([[vc.CENTER,"ag-center-cols-container"],[vc.LEFT,"ag-pinned-left-cols-container"],[vc.RIGHT,"ag-pinned-right-cols-container"],[vc.FULL_WIDTH,"ag-full-width-container"],[vc.TOP_CENTER,"ag-floating-top-container"],[vc.TOP_LEFT,"ag-pinned-left-floating-top"],[vc.TOP_RIGHT,"ag-pinned-right-floating-top"],[vc.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[vc.STICKY_TOP_CENTER,"ag-sticky-top-container"],[vc.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[vc.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[vc.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[vc.BOTTOM_CENTER,"ag-floating-bottom-container"],[vc.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[vc.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[vc.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),bc=Nt([[vc.CENTER,"ag-center-cols-viewport"],[vc.TOP_CENTER,"ag-floating-top-viewport"],[vc.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[vc.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),xc=Nt([[vc.CENTER,"ag-center-cols-clipper"]]),Sc=function(e){function t(t){var o=e.call(this)||this;return o.name=t,o}return gc(t,e),t.getRowContainerCssClasses=function(e){return{container:wc.get(e),viewport:bc.get(e),wrapper:xc.get(e)}},t.getPinned=function(e){switch(e){case vc.BOTTOM_LEFT:case vc.TOP_LEFT:case vc.STICKY_TOP_LEFT:case vc.LEFT:return De.PINNED_LEFT;case vc.BOTTOM_RIGHT:case vc.TOP_RIGHT:case vc.STICKY_TOP_RIGHT:case vc.RIGHT:return De.PINNED_RIGHT;default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([vc.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new $l(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case vc.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case vc.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case vc.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case vc.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case vc.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case vc.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case vc.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case vc.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case vc.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case vc.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case vc.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case vc.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,t){e.indexOf(this.name)>=0&&t()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,t,o,i){var n=this;this.comp=e,this.eContainer=t,this.eViewport=o,this.eWrapper=i,this.createManagedBean(new Kl(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var r=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yc(arguments[t]));return e}([vc.TOP_CENTER,vc.TOP_LEFT,vc.TOP_RIGHT],[vc.BOTTOM_CENTER,vc.BOTTOM_LEFT,vc.BOTTOM_RIGHT],[vc.CENTER,vc.LEFT,vc.RIGHT],[vc.STICKY_TOP_CENTER,vc.STICKY_TOP_LEFT,vc.STICKY_TOP_RIGHT]),s=[vc.CENTER,vc.LEFT,vc.RIGHT,vc.FULL_WIDTH],a=[vc.CENTER,vc.TOP_CENTER,vc.STICKY_TOP_CENTER,vc.BOTTOM_CENTER],l=[vc.RIGHT,vc.BOTTOM_RIGHT,vc.TOP_RIGHT,vc.STICKY_TOP_RIGHT];this.forContainers([vc.LEFT,vc.BOTTOM_LEFT,vc.TOP_LEFT,vc.STICKY_TOP_LEFT],function(){return n.createManagedBean(new oc(n.eContainer))}),this.forContainers(l,function(){return n.createManagedBean(new rc(n.eContainer))}),this.forContainers(s,function(){return n.createManagedBean(new lc(n.eContainer,n.eWrapper))}),this.forContainers(r,function(){return n.createManagedBean(new pc(n.eContainer))}),this.forContainers(a,function(){return n.createManagedBean(new fc(function(e){return n.comp.setContainerWidth(e+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([vc.STICKY_TOP_CENTER,vc.STICKY_TOP_LEFT,vc.STICKY_TOP_RIGHT,vc.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var t=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,t),t()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([vc.TOP_CENTER,vc.STICKY_TOP_CENTER,vc.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([vc.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([vc.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===vc.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==e?"100%":"calc(100% + "+e+"px)")}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",t)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},t.prototype.getCenterWidth=function(){return Wo(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Uo(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return t()})},t.prototype.isViewportVisible=function(){return Ko(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return ai(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Uo(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||ai(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){Yo(this.eViewport,e,this.enableRtl)},t.prototype.onDisplayedRowsChanged=function(){var e=this,t=this.name===vc.TOP_FULL_WIDTH||this.name===vc.STICKY_TOP_FULL_WIDTH||this.name===vc.BOTTOM_FULL_WIDTH||this.name===vc.FULL_WIDTH,o=this.getRowCtrls().filter(function(o){var i=o.isFullWidth(),n=e.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT,r=e.embedFullWidthRows||n;return t?!r&&i:r||!i});this.comp.setRowCtrls(o)},t.prototype.getRowCtrls=function(){switch(this.name){case vc.TOP_CENTER:case vc.TOP_LEFT:case vc.TOP_RIGHT:case vc.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case vc.STICKY_TOP_CENTER:case vc.STICKY_TOP_LEFT:case vc.STICKY_TOP_RIGHT:case vc.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case vc.BOTTOM_CENTER:case vc.BOTTOM_LEFT:case vc.BOTTOM_RIGHT:case vc.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},mc([Se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),mc([Se("dragService")],t.prototype,"dragService",void 0),mc([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),mc([Se("columnModel")],t.prototype,"columnModel",void 0),mc([Se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),mc([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),mc([we],t.prototype,"postConstruct",null),t}(wt),Ec=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_c=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ac='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+vc.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+vc.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+vc.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+vc.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+vc.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+vc.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+vc.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+vc.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+vc.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+vc.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+vc.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+vc.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+vc.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+vc.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+vc.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+vc.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Rc=function(e){function t(){return e.call(this,Ac)||this}return Ec(t,e),t.prototype.init=function(){var e=this,t=function(e,t){var o=e+"px";t.style.minHeight=o,t.style.height=o},o={setRowAnimationCssOnBodyViewport:function(t,o){return e.setRowAnimationCssOnBodyViewport(t,o)},setColumnCount:function(t){return qi(e.getGui(),t)},setRowCount:function(t){return Yi(e.getGui(),t)},setTopHeight:function(o){return t(o,e.eTop)},setBottomHeight:function(o){return t(o,e.eBottom)},setTopDisplay:function(t){return e.eTop.style.display=t},setBottomDisplay:function(t){return e.eBottom.style.display=t},setStickyTopHeight:function(t){return e.eStickyTop.style.height=t},setStickyTopTop:function(t){return e.eStickyTop.style.top=t},setStickyTopWidth:function(t){return e.eStickyTop.style.width=t},setColumnMovingCss:function(t,o){return e.addOrRemoveCssClass(Cl,o)},updateLayoutClasses:function(t,o){var i=e.eBodyViewport.classList;i.toggle(il.AUTO_HEIGHT,o.autoHeight),i.toggle(il.NORMAL,o.normal),i.toggle(il.PRINT,o.print),e.addOrRemoveCssClass(il.AUTO_HEIGHT,o.autoHeight),e.addOrRemoveCssClass(il.NORMAL,o.normal),e.addOrRemoveCssClass(il.PRINT,o.print)},setAlwaysVerticalScrollClass:function(t,o){return e.eBodyViewport.classList.toggle(vl,o)},registerBodyViewportResizeListener:function(t){var o=e.resizeObserverService.observeResize(e.eBodyViewport,t);e.addDestroyFunc(function(){return o()})},setPinnedTopBottomOverflowY:function(t){return e.eTop.style.overflowY=e.eBottom.style.overflowY=t},setCellSelectableCss:function(t,o){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(e){return e.classList.toggle(yl,o)})}};this.ctrl=this.createManagedBean(new wl),this.ctrl.setComp(o,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Ui(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,t){var o=this.eBodyViewport.classList;o.toggle(ml.ANIMATION_ON,t),o.toggle(ml.ANIMATION_OFF,!t)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},_c([Se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_c([Ee("rangeService")],t.prototype,"rangeService",void 0),_c([Yn("eBodyViewport")],t.prototype,"eBodyViewport",void 0),_c([Yn("eStickyTop")],t.prototype,"eStickyTop",void 0),_c([Yn("eTop")],t.prototype,"eTop",void 0),_c([Yn("eBottom")],t.prototype,"eBottom",void 0),_c([Yn("gridHeader")],t.prototype,"headerRootComp",void 0),_c([we],t.prototype,"init",null),t}(Un),Tc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Oc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:Et.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Oc([Se("columnApi")],t.prototype,"columnApi",void 0),Oc([Se("gridApi")],t.prototype,"gridApi",void 0),Oc([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Oc([we],t.prototype,"postConstruct",null),Oc([xe("scrollVisibleService")],t)}(wt),Dc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ic=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=o.gridInstanceSequence.next(),t}var o;return Dc(t,e),o=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(e){e[o.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return pt(this.gridOptionsWrapper,e,Bl.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(e){return this.isElementInThisGrid(e.target)},t.prototype.isElementInThisGrid=function(e){for(var t=e;t;){var i=t[o.GRID_DOM_KEY];if(E(i))return i===this.gridInstanceId;t=t.parentElement}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,o,i=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_NORMAL;if(null!=e.clientX||null!=e.clientY?(t=e.clientX,o=e.clientY):(t=e.x,o=e.y),i){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition();t+=n.getScrollFeature().getHScrollPosition().left,o+=r.top}return{x:t,y:o}},t.gridInstanceSequence=new Mn,t.GRID_DOM_KEY="__ag_grid_instance",Ic([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),o=Ic([xe("mouseEventService")],t)}(wt),Nc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kc=function(){return(kc=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Lc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fc=function(e){function t(){var t=e.call(this)||this;return t.onPageDown=de(t.onPageDown,100),t.onPageUp=de(t.onPageUp,100),t}return Nc(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.gridBodyCon=t.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var t=e.key,o=e.altKey,i=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,r=this.mouseEventService.getCellPositionForEvent(e);if(!r)return!1;var s=!1;switch(t){case xn.PAGE_HOME:case xn.PAGE_END:i||o||(this.onHomeOrEndKey(t),s=!0);break;case xn.LEFT:case xn.RIGHT:case xn.UP:case xn.DOWN:!i||o||n||(this.onCtrlUpDownLeftRight(t,r),s=!0);break;case xn.PAGE_DOWN:i||o||(this.onPageDown(r),s=!0);break;case xn.PAGE_UP:i||o||(this.onPageUp(r),s=!0)}return s&&e.preventDefault(),s},t.prototype.navigateTo=function(e){var t=e.scrollIndex,o=e.scrollType,i=e.scrollColumn,n=e.focusIndex,r=e.focusColumn;E(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),E(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,o),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell({rowIndex:n,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:n,rowPinned:null,column:r})},t.prototype.onPageDown=function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),i=this.paginationProxy.getPixelOffset(),n=this.paginationProxy.getRowIndexAtPixel(t.top+o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n):this.navigateToNextPage(e,n)},t.prototype.onPageUp=function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),i=this.paginationProxy.getRowIndexAtPixel(t.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i,!0):this.navigateToNextPage(e,i,!0)},t.prototype.navigateToNextPage=function(e,t,o){var i,n;void 0===o&&(o=!1);var r,s=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),p=o?(null===(i=u)||void 0===i?void 0:i.rowHeight)-s-c:s-c,h=(null===(n=u)||void 0===n?void 0:n.rowTop)+p,d=this.paginationProxy.getRowIndexAtPixel(h+c);d===e.rowIndex&&(t=d=e.rowIndex+(o?-1:1)),o?(r="bottom",d<a&&(d=a),t<a&&(t=a)):(r="top",d>l&&(d=l),t>l&&(t=l)),this.isRowTallerThanView(d)&&(t=d,r="top"),this.navigateTo({scrollIndex:t,scrollType:r,scrollColumn:null,focusIndex:d,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,t,o){var i=this;void 0===o&&(o=!1),this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(function(){var n=i.getNextFocusIndexForAutoHeight(e,o);i.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,t){var o;void 0===t&&(t=!1);for(var i=t?-1:1,n=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow(),s=0,a=e.rowIndex;a>=0&&a<=r;){var l=this.paginationProxy.getRow(a);if(l){var c=null!=(o=l.rowHeight)?o:0;if(s+c>n)break;s+=c}a+=i}return Math.max(0,Math.min(a,r))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.gridOptionsWrapper.getScrollbarWidth(),o=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=t),o},t.prototype.isRowTallerThanView=function(e){var t=this.paginationProxy.getRow(e);if(!t)return!1;var o=t.rowHeight;return"number"==typeof o&&o>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,t){var o=this.cellNavigationService.getNextCellToFocus(e,t,!0),i=o.rowIndex,n=o.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})},t.prototype.onHomeOrEndKey=function(e){var t=e===xn.PAGE_HOME,o=this.columnModel.getAllDisplayedColumns(),i=t?o[0]:He(o),n=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})},t.prototype.onTabKeyDown=function(e,t){var o=t.shiftKey;if(this.tabToNextCellCommon(e,o,t))t.preventDefault();else if(o){var i=e.getRowPosition(),n=i.rowIndex;(i.rowPinned?0===n:n===this.paginationProxy.getPageFirstRow())&&(t.preventDefault(),this.focusService.focusLastHeader(t))}else e instanceof Bl&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(o)&&t.preventDefault()},t.prototype.tabToNextCell=function(e,t){var o=this.focusService.getFocusedCell();if(!o)return!1;var i=this.getCellByPosition(o);return!!(i||(i=this.rowRenderer.getRowByPosition(o))&&i.isFullWidth())&&this.tabToNextCellCommon(i,e,t)},t.prototype.tabToNextCellCommon=function(e,t,o){var i=e.isEditing();if(!i&&e instanceof Bl){var n=e.getRowCtrl();n&&(i=n.isEditing())}return(i?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t,o):this.moveToNextEditingCell(e,t,o):this.moveToNextCellNotEditing(e,t))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t,o){void 0===o&&(o=null);var i=e.getCellPosition();e.stopEditing();var n=this.findNextCellToFocusOn(i,t,!0);return null!=n&&(n.startEditing(null,null,!0,o),n.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,t,o){void 0===o&&(o=null);var i=e.getCellPosition(),n=this.findNextCellToFocusOn(i,t,!0);if(null==n)return!1;var r=n.getCellPosition(),s=this.isCellEditable(i),a=this.isCellEditable(r),l=r&&i.rowIndex===r.rowIndex&&i.rowPinned===r.rowPinned;return s&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,void 0,o)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,t){var o,i=this.columnModel.getAllDisplayedColumns();o=e instanceof Xl?kc(kc({},e.getRowPosition()),{column:t?i[0]:He(i)}):e.getCellPosition();var n=this.findNextCellToFocusOn(o,t,!1);if(n instanceof Bl)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return E(n)},t.prototype.findNextCellToFocusOn=function(e,t,o){for(var i=e;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);var n=this.gridOptionsWrapper.getTabToNextCellFunc();if(E(n)){var r=n({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:i||null});E(r)?(r.floating&&(ie(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),r.rowPinned=r.floating),i={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var s=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:s+i.rowIndex,column:i.column}}),null}var a=this.gridOptionsWrapper.isFullRowEdit();if(!o||a||this.isCellEditable(i)){this.ensureCellVisible(i);var l=this.getCellByPosition(i);if(l){if(!l.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),l}else{var c=this.rowRenderer.getRowByPosition(i);if(c&&c.isFullWidth())return c}}}},t.prototype.isCellEditable=function(e){var t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)},t.prototype.getCellByPosition=function(e){var t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===De.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===De.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,t,o,i){for(var n=o,r=!1;n&&(n===o||!this.isValidNavigateCell(n));)this.gridOptionsWrapper.isEnableRtl()?t===xn.LEFT&&(n=this.getLastCellOfColSpan(n)):t===xn.RIGHT&&(n=this.getLastCellOfColSpan(n)),r=_(n=this.cellNavigationService.getNextCellToFocus(t,n));if(r&&e&&e.key===xn.UP&&(n={rowIndex:-1,rowPinned:null,column:o.column}),i){var s=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(E(s)){var a=s({key:t,previousCellPosition:o,nextCellPosition:n||null,event:e});E(a)?(a.floating&&(ie(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),a.rowPinned=a.floating),n={rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}):n=null}}if(n)if(n.rowIndex<0){var l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:o.column},event:e||void 0})}else{var c=this.getNormalisedPosition(n);c?this.focusPosition(c):this.tryToFocusFullWidthRow(n)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,t){void 0===t&&(t=!1);var o=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;var n=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?He(o):o[0])};this.focusPosition(r);var s=null!=n&&this.rowPositionUtils.before(r,n);return this.eventService.dispatchEvent({type:Et.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:s}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getCellByPosition(e);if(!t)return e;var o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:He(o),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var t,o=this.gridOptionsWrapper.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(o&&(null===(t=i)||void 0===t?void 0:t.sticky))&&_(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Lc([Se("columnApi")],t.prototype,"columnApi",void 0),Lc([Se("gridApi")],t.prototype,"gridApi",void 0),Lc([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),Lc([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Lc([Se("focusService")],t.prototype,"focusService",void 0),Lc([Se("animationFrameService")],t.prototype,"animationFrameService",void 0),Lc([Ee("rangeService")],t.prototype,"rangeService",void 0),Lc([Se("columnModel")],t.prototype,"columnModel",void 0),Lc([Se("rowModel")],t.prototype,"rowModel",void 0),Lc([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Lc([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),Lc([Se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Lc([Se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Lc([Se("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Lc([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Lc([we],t.prototype,"postConstruct",null),Lc([xe("navigationService")],t)}(wt),Gc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hc=function(e){function t(t){var o=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.params=t,o}return Gc(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,t=this.getGui(),o=this.params;this.addManagedListener(t,"keydown",function(t){En(e.gridOptionsWrapper,t,o.node,o.column,!0)||o.onKeyDown(t)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(hs),Vc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Wc=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=t,s.column=o.getColumn(),s.rowNode=o.getRowNode(),s.rowCtrl=o.getRowCtrl(),s.eRow=n,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=o.isForceWrapper(),s.refreshWrapper(!1);var l=function(e,t,o){var i=o||a;null!=t&&""!=t?i.setAttribute(e,t):i.removeAttribute(e)},c={addOrRemoveCssClass:function(e,t){return s.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return si(a,e)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(e){return l("tabindex",e.toString())},setRole:function(e){return Pi(a,e)},setColId:function(e){return l("col-id",e)},setTitle:function(e){return l("title",e)},setIncludeSelection:function(e){return s.includeSelection=e},setIncludeRowDrag:function(e){return s.includeRowDrag=e},setIncludeDndSource:function(e){return s.includeDndSource=e},setRenderDetails:function(e,t,o){return s.setRenderDetails(e,t,o)},setEditDetails:function(e,t,o){return s.setEditDetails(e,t,o)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=o,o.setComp(c,s.getGui(),s.eCellWrapper,i,r),s}return Vc(t,e),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,t,o){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var i=this.refreshWrapper(!1);e?!o&&!i&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}},t.prototype.setEditDetails=function(e,t,o){e?this.createCellEditorInstance(e,t,o):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var t=this.includeRowDrag||this.includeDndSource||this.includeSelection,o=t||this.forceWrapper,i=o&&null==this.eCellWrapper;i&&(this.eCellWrapper=Qo('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var n=!o&&null!=this.eCellWrapper;n&&(Zo(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!o);var r=!e&&o,s=r&&null==this.eCellValue;s&&(this.eCellValue=Qo('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!r&&null!=this.eCellValue;a&&(Zo(this.eCellValue),this.eCellValue=void 0);var l=i||n||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),t=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),t.push(this.checkboxSelectionComp.getCheckboxId())),t.push(e),Gi(this.getGui(),t.join(" "))},t.prototype.createCellEditorInstance=function(e,t,o){var i=this,n=this.editorVersion,r=e.newAgStackInstance();if(r){var s=e.params;r.then(function(e){return i.afterCellEditorCreated(n,e,s,t,o)}),_(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var t=this.getParentOfValue();Xo(t);var o=null!=e?It(e):null;null!=o&&(t.innerHTML=o)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Zo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Zo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==e.componentClass)return!1;var t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t},t.prototype.createCellRendererInstance=function(e){var t=this,o=this.beans.gridOptionsWrapper.isAngularCompileRows(),i=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),n=this.rendererVersion,r=e.componentClass,s=function(){if(t.rendererVersion===n&&t.isAlive()){var o=e.newAgStackInstance(),i=t.afterCellRendererCreated.bind(t,n,r);o&&o.then(i)}};o||i||!this.firstRender?s():this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2")},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,t,o){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=o,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var i=this.getParentOfValue();Xo(i),i.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(o)},t.prototype.afterCellEditorCreated=function(e,t,o,i,n){if(e!==this.editorVersion)this.beans.context.destroyBean(t);else{if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing();if(!t.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui(),i||void 0!==t.isPopup&&t.isPopup()?(i||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(o,n)):this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached()}},t.prototype.addInCellEditor=function(){var e=this.getGui(),t=this.beans.gridOptionsWrapper.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,t){var o=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Hc(e));var n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);var r=this.beans.popupService,s=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),a=null!=t?t:i.getPopupPosition?i.getPopupPosition():"over",l={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:n,keepWithinBounds:!0},c="under"===a?r.positionPopupUnderComponent.bind(r,l):r.positionPopupOverComponent.bind(r,l),u=this.beans.gridOptionsWrapper.getLocaleTextFunc(),p=r.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:function(){o.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),e.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),t=this.beans.gridOptionsWrapper.getDocument();e.contains(t.activeElement)&&e.focus({preventScroll:!0}),Xo(this.getParentOfValue())},t}(Un),Bc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),jc=function(e){function t(t,o,i){var n=e.call(this)||this;n.cellComps={},n.beans=o,n.rowCtrl=t,n.setTemplate('<div comp-id="'+n.getCompId()+'" style="'+n.getInitialStyle()+'"/>');var r=n.getGui(),s=r.style;return t.setComp({setDomOrder:function(e){return n.domOrder=e},setCellCtrls:function(e){return n.setCellCtrls(e)},showFullWidth:function(e){return n.showFullWidth(e)},getFullWidthCellRenderer:function(){return n.getFullWidthCellRenderer()},addOrRemoveCssClass:function(e,t){return n.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return si(r,e)},setTop:function(e){return s.top=e},setTransform:function(e){return s.transform=e},setRowIndex:function(e){return r.setAttribute("row-index",e)},setRole:function(e){return Pi(r,e)},setRowId:function(e){return r.setAttribute("row-id",e)},setRowBusinessKey:function(e){return r.setAttribute("row-business-key",e)},setTabIndex:function(e){return r.setAttribute("tabindex",e.toString())}},n.getGui(),i),n}return Bc(t,e),t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),t=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+t},t.prototype.showFullWidth=function(e){var t=this,o=e.newAgStackInstance();o&&o.then(function(e){if(t.isAlive()){var o=e.getGui();t.getGui().appendChild(o),t.rowCtrl.setupDetailRowAutoHeight(o),t.setFullWidthRowComp(e)}else t.beans.context.destroyBean(e)})},t.prototype.setCellCtrls=function(e){var t=this,o=Object.assign({},this.cellComps);e.forEach(function(e){var i=e.getInstanceId();null==t.cellComps[i]?t.newCellComp(e):o[i]=null});var i=U(o).filter(function(e){return null!=e});this.destroyCells(i),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var t=this;if(this.domOrder){var o=[];e.forEach(function(e){var i=t.cellComps[e.getInstanceId()];i&&o.push(i.getGui())}),ii(this.getGui(),o)}},t.prototype.newCellComp=function(e){var t=new Wc(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=U(this.cellComps).filter(function(e){return null!=e});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var t=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){t.fullWidthCellRenderer=t.beans.context.destroyBean(t.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var t=this;e.forEach(function(e){if(e){var o=e.getCtrl().getInstanceId();t.cellComps[o]===e&&(e.detach(),e.destroy(),t.cellComps[o]=null)}})},t}(Un),zc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Uc=function(){return(Uc=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Yc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xc=function(e){function t(){var t,o,i=e.call(this,(t=Un.elementGettingCreated.getAttribute("name"),o=Sc.getRowContainerCssClasses(t),t===vc.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer"></div>\n                </div>\n            </div>':t===vc.TOP_CENTER||t===vc.STICKY_TOP_CENTER||t===vc.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+o.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer"></div>'))||this;return i.rowComps={},i.name=Un.elementGettingCreated.getAttribute("name"),i.type=function(e){switch(e){case vc.CENTER:case vc.TOP_CENTER:case vc.STICKY_TOP_CENTER:case vc.BOTTOM_CENTER:return Cc.CENTER;case vc.LEFT:case vc.TOP_LEFT:case vc.STICKY_TOP_LEFT:case vc.BOTTOM_LEFT:return Cc.LEFT;case vc.RIGHT:case vc.TOP_RIGHT:case vc.STICKY_TOP_RIGHT:case vc.BOTTOM_RIGHT:return Cc.RIGHT;case vc.FULL_WIDTH:case vc.TOP_FULL_WIDTH:case vc.STICKY_TOP_FULL_WIDTH:case vc.BOTTOM_FULL_WIDTH:return Cc.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(i.name),i}return zc(t,e),t.prototype.postConstruct=function(){var e=this,t={setViewportHeight:function(t){return e.eViewport.style.height=t},setRowCtrls:function(t){return e.setRowCtrls(t)},setDomOrder:function(t){e.domOrder=t},setContainerWidth:function(t){return e.eContainer.style.width=t}};this.createManagedBean(new Sc(this.name)).setComp(t,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var t=this,o=Uc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(e){var i=e.getInstanceId(),n=o[i];if(n)t.rowComps[i]=n,delete o[i],t.ensureDomOrder(n.getGui());else{var r=t.newRowComp(e);t.rowComps[i]=r,t.appendRow(r.getGui())}}),U(o).forEach(function(e){t.eContainer.removeChild(e.getGui()),e.destroy()}),Pi(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?ni(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(oi(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},t.prototype.newRowComp=function(e){return Sc.getPinned(this.name),new jc(e,this.beans,this.type)},Yc([Se("beans")],t.prototype,"beans",void 0),Yc([Yn("eViewport")],t.prototype,"eViewport",void 0),Yc([Yn("eContainer")],t.prototype,"eContainer",void 0),Yc([Yn("eWrapper")],t.prototype,"eWrapper",void 0),Yc([we],t.prototype,"postConstruct",null),Yc([be],t.prototype,"preDestroy",null),t}(Un),qc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zc=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=e.dragItem.columns;o&&o.forEach(function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))})}},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Hs.ICON_PINNED:Hs.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},qc([Se("columnModel")],e.prototype,"columnModel",void 0),qc([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Kc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qc=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!E(e)}return e.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},e.prototype.getIconName=function(){return this.pinned?Hs.ICON_PINNED:Hs.ICON_MOVE},e.prototype.onDragEnter=function(e){var t=e.dragItem.columns;if(e.dragSource.type===Ls.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var o=e.dragItem.visibleState,i=(t||[]).filter(function(e){return o[e.getId()]});this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},e.prototype.onDragLeave=function(e){this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var i=e.filter(function(e){return!e.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,t,o)}},e.prototype.setColumnsPinned=function(e,t,o){if(void 0===o&&(o="api"),e){var i=e.filter(function(e){return!e.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,t,o)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){return this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),o=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>o-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t,o){var i=this;if(void 0===t&&(t=!1),void 0===o&&(o=!1),this.lastDraggingEvent=e,!_(e.hDirection)){var n=this.normaliseX(e.x);t||this.checkCenterForScrolling(n);var r=this.normaliseDirection(e.hDirection),s=e.dragSource.type,a=e.dragSource.getDragItem().columns;a=a.filter(function(e){return!e.getColDef().lockPinned||e.getPinned()==i.pinned}),this.attemptMoveColumns(s,a,r,n,t,o)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case Gs.Left:return Gs.Right;case Gs.Right:return Gs.Left;default:console.error("AG Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),o=je(e.map(function(e){return t.indexOf(e)})),i=o[0];return He(o)-i!=o.length-1?null:i},e.prototype.attemptMoveColumns=function(e,t,o,i,n,r){var s=o===Gs.Left,a=o===Gs.Right;if(e===Ls.HeaderCell){var l=[];t.forEach(function(e){for(var t=null,o=e.getParent();null!=o&&1===o.getDisplayedLeafColumns().length;)t=o,o=o.getParent();null!=t?t.getLeafColumns().forEach(function(e){l.includes(e)||l.push(e)}):l.includes(e)||l.push(e)}),t=l}var c=t.slice();this.columnModel.sortColumnsLikeGridColumns(c);var u=this.calculateValidMoves(c,a,i),p=this.calculateOldIndex(c);if(0!==u.length){var h=u[0],d=null!==p&&!n;if(e==Ls.HeaderCell&&(d=null!==p),d&&!r){if(s&&h>=p)return;if(a&&h<=p)return}for(var f=this.columnModel.getAllDisplayedColumns(),g=[],m=null,y=0;y<u.length;y++){var v=u[y],C=this.columnModel.getProposedColumnOrder(c,v);if(this.columnModel.doesOrderPassRules(C)){var w=C.filter(function(e){return f.includes(e)});if(null===m)m=w;else if(!In.areEqual(w,m))break;var b=this.groupFragCount(C);g.push({move:v,fragCount:b})}}0!==g.length&&(g.sort(function(e,t){return e.fragCount-t.fragCount}),this.columnModel.moveColumns(c,g[0].move,"uiColumnDragged"))}},e.prototype.groupFragCount=function(e){function t(e){for(var t=[],o=e.getOriginalParent();null!=o;)t.push(o),o=o.getOriginalParent();return t}for(var o=0,i=function(i){var n,r=t(e[i]),s=t(e[i+1]);n=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(r.length>s.length?[r,s]:[s,r],2),s=n[1],(r=n[0]).forEach(function(e){-1===s.indexOf(e)&&o++})},n=0;n<e.length-1;n++)i(n);return o},e.prototype.calculateValidMoves=function(e,t,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(e){return e.getColDef().suppressMovable}))return[];var i,n=this.columnModel.getDisplayedColumns(this.pinned),r=this.columnModel.getAllGridColumns(),s=n.filter(function(t){return Ke(e,t)}),a=n.filter(function(t){return!Ke(e,t)}),l=r.filter(function(t){return!Ke(e,t)}),c=0,u=o;if(t){var p=0;s.forEach(function(e){return p+=e.getActualWidth()}),u-=p}if(u>0){for(var h=0;h<a.length&&!((u-=a[h].getActualWidth())<0);h++)c++;t&&c++}c>0?i=l.indexOf(a[c-1])+1:-1===(i=l.indexOf(a[0]))&&(i=0);var d=[i],f=function(e,t){return e-t};if(t){for(var g=i+1,m=r.length-1;g<=m;)d.push(g),g++;d.sort(f)}else{m=r.length-1;for(var y=r[g=i];g<=m&&this.isColumnHidden(n,y);)g++,d.push(g),y=r[g];for(g=i-1;g>=0;)d.push(g),g--;d.sort(f).reverse()}return d},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Hs.ICON_LEFT:Hs.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Hs.ICON_MOVE))},e.prototype.moveInterval=function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=null,o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=o.scrollHorizontally(-e):this.needToMoveRight&&(t=o.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns.filter(function(e){return!e.getColDef().lockPinned});i.length>0&&(this.dragAndDropService.setGhostIcon(Hs.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(i,this.needToMoveLeft?De.PINNED_LEFT:De.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},Kc([Se("columnModel")],e.prototype,"columnModel",void 0),Kc([Se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Kc([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Kc([Se("ctrlsService")],e.prototype,"ctrlsService",void 0),Kc([we],e.prototype,"init",null),e}(),Jc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$c=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},eu=function(e){function t(t,o){var i=e.call(this)||this;return i.pinned=t,i.eContainer=o,i}return Jc(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){switch(e.pinned){case De.PINNED_LEFT:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case De.PINNED_RIGHT:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===Ls.HeaderCell||e===Ls.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Qc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Zc(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Ls.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},$c([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),$c([Se("columnModel")],t.prototype,"columnModel",void 0),$c([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),$c([we],t.prototype,"postConstruct",null),$c([we],t.prototype,"init",null),t}(wt),tu=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},ou=function(){function e(){}return e.getHeaderClassesFromColDef=function(e,t,o,i){return _(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,o,i)},e.getToolPanelClassesFromColDef=function(e,t,o,i){return _(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,o,i)},e.getClassParams=function(e,t,o,i){return{colDef:e,column:o,columnGroup:i,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()}},e.getColumnClassesFromCollDef=function(e,t,o,i,n){return _(e)?[]:"string"==typeof(r="function"==typeof e?e(this.getClassParams(t,o,i,n)):e)?[r]:Array.isArray(r)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tu(arguments[t]));return e}(r):[];var r},e}(),iu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),nu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ru=function(e){function t(o){var i=e.call(this,t.TEMPLATE,o)||this;return i.headerCompVersion=0,i.column=o.getColumnGroupChild(),i.pinned=o.getPinned(),i}return iu(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),o=function(e,o,i){var n=i||t;null!=o&&""!=o?n.setAttribute(e,o):n.removeAttribute(e)};this.ctrl.setComp({setWidth:function(e){return t.style.width=e},addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setColId:function(e){return o("col-id",e)},setTitle:function(e){return o("title",e)},setAriaDescription:function(e){return Fi(t,e)},setAriaSort:function(e){return e?Qi(t,e):Ji(t)},setUserCompDetails:function(t){return e.setUserCompDetails(t)},getUserCompInstance:function(){return e.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var t=this;this.headerCompVersion++;var o=this.headerCompVersion;e.newAgStackInstance().then(function(e){return t.afterCompCreated(o,e)})},t.prototype.afterCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',nu([Yn("eResize")],t.prototype,"eResize",void 0),nu([Yn("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),nu([we],t.prototype,"postConstruct",null),nu([be],t.prototype,"destroyHeaderComp",null),t}(Wa),su=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),au=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lu=function(e){function t(o){return e.call(this,t.TEMPLATE,o)||this}return su(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),o=function(e,o){return null!=o?t.setAttribute(e,o):t.removeAttribute(e)};this.ctrl.setComp({addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},addOrRemoveResizableCssClass:function(t,o){return e.eResize.classList.toggle(t,o)},setWidth:function(e){return t.style.width=e},setColId:function(e){return t.setAttribute("col-id",e)},setAriaExpanded:function(e){return o("aria-expanded",e)},setTitle:function(e){return o("title",e)},setUserCompDetails:function(t){return e.setUserCompDetails(t)}},t,this.eResize)},t.prototype.setUserCompDetails=function(e){var t=this;e.newAgStackInstance().then(function(e){return t.afterHeaderCompCreated(e)})},t.prototype.afterHeaderCompCreated=function(e){var t=this,o=function(){return t.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(o),this.ctrl.setDragSource(e.getGui())):o()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',au([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),au([Yn("eResize")],t.prototype,"eResize",void 0),au([we],t.prototype,"postConstruct",null),t}(Wa),cu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pu=(()=>(function(e){e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter"}(pu||(pu={})),pu))(),hu=function(e){function t(t){var o=e.call(this)||this;o.headerComps={};var i=t.getType()==pu.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==pu.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),o.ctrl=t,o}return cu(t,e),t.prototype.init=function(){var e=this;this.ctrl.setComp({setTransform:function(t){return e.getGui().style.transform=t},setHeight:function(t){return e.getGui().style.height=t},setTop:function(t){return e.getGui().style.top=t},setHeaderCtrls:function(t){return e.setHeaderCtrls(t)},setWidth:function(t){return e.getGui().style.width=t},setAriaRowIndex:function(t){return Xi(e.getGui(),t)}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var t=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(e){var i=e.getInstanceId(),n=o[i];delete o[i],null==n&&(n=t.createHeaderComp(e),t.getGui().appendChild(n.getGui())),t.headerComps[i]=n}),L(o,function(e,o){t.getGui().removeChild(o.getGui()),t.destroyBean(o)}),this.gridOptionsWrapper.isEnsureDomOrder()){var i=U(this.headerComps);i.sort(function(e,t){return e.getCtrl().getColumnGroupChild().getLeft()-t.getCtrl().getColumnGroupChild().getLeft()});var n=i.map(function(e){return e.getGui()});ii(this.getGui(),n)}}},t.prototype.createHeaderComp=function(e){var t;switch(this.ctrl.getType()){case pu.COLUMN_GROUP:t=new lu(e);break;case pu.FLOATING_FILTER:t=new za(e);break;default:t=new ru(e)}return this.createBean(t),t.setParentComponent(this),t},uu([we],t.prototype,"init",null),uu([be],t.prototype,"destroyHeaderCtrls",null),t}(Un),du=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gu=0,mu=function(e){function t(t,o){var i=e.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=t,i.parentRowCtrl=o,i.instanceId=t.getUniqueId()+"-"+gu++,i}return du(t,e),t.prototype.shouldStopEventPropagation=function(e){var t=this.focusService.getFocusedHeader();return _n(this.gridOptionsWrapper,e,t.headerRowIndex,t.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsWrapper.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var t=this.getWrapperHasFocus();switch(e.key){case xn.PAGE_DOWN:case xn.PAGE_UP:case xn.PAGE_HOME:case xn.PAGE_END:t&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,o=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,o,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,o,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",fu([Se("focusService")],t.prototype,"focusService",void 0),fu([Se("beans")],t.prototype,"beans",void 0),fu([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(wt),yu=(()=>(function(e){e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing"}(yu||(yu={})),yu))(),vu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};function Cu(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}var wu=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},e.prototype.registerSideBarComp=function(e){this.sideBarComp=e},e.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case De.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case De.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case De.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.__getContext=function(){return this.context},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;L(this.detailGridInfoMap,function(o,i){E(i)&&(e(i,t),t++)})},e.prototype.getDataAsCsv=function(e){if(Me.assertRegistered(Ie.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){Me.assertRegistered(Ie.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getExcelExportMode=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},t,e).exportMode},e.prototype.getDataAsExcel=function(e){if(Me.assertRegistered(Ie.ExcelExportModule,"api.getDataAsExcel")){var t=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(t)!==Ia.MULTI_SHEET)return this.excelCreator.getDataAsExcel(e);console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},e.prototype.exportDataAsExcel=function(e){if(Me.assertRegistered(Ie.ExcelExportModule,"api.exportDataAsExcel")){var t=this.getExcelExportMode(e);this.excelCreator.getFactoryMode(t)!==Ia.MULTI_SHEET?this.excelCreator.exportDataAsExcel(e):console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},e.prototype.getSheetDataForExcel=function(e){if(Me.assertRegistered(Ie.ExcelExportModule,"api.getSheetDataForExcel")){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(Ia.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},e.prototype.getMultipleSheetsAsExcel=function(e){if(Me.assertRegistered(Ie.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(e)},e.prototype.exportMultipleSheetsAsExcel=function(e){if(Me.assertRegistered(Ie.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setGridAriaProperty=function(e,t){if(e){var o=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+e;null===t?o.removeAttribute(i):o.setAttribute(i,t)}},e.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+De.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+De.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+De.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},e.prototype.setFloatingTopRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){void 0===t&&(t="api"),this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.setDefaultColDef=function(e,t){void 0===t&&(t="api"),this.gridOptionsWrapper.setProperty("defaultColDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},e.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",e)},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),this.rowRenderer.redrawRows(e?e.rowNodes:void 0)},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){_(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),E(e)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:yu.MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){_(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=yu.EVERYTHING,o={group:yu.EVERYTHING,filter:yu.FILTER,map:yu.MAP,aggregate:yu.AGGREGATE,sort:yu.SORT,pivot:yu.PIVOT};if(E(e)&&(t=o[e]),_(t))console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(o).join(", "));else{var i=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return Cu(this.sideBarComp.getToolPanelInstance(e));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.addVirtualRowListener=function(e,t,o){"string"!=typeof e&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,o)},e.prototype.addRenderedRowListener=function(e,t,o){"virtualRowSelected"===e&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,o)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,o){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(e)},e.prototype.selectNode=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){_(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:yu.AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},e.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){_(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){_(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){_(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterInstance=function(e,t){var o=this.getFilterInstanceImpl(e,function(e){if(t){var o=Cu(e);t(o)}});return Cu(o)},e.prototype.getFilterInstanceImpl=function(e,t){var o=this.columnModel.getPrimaryColumn(e);if(o){var i=this.filterManager.getFilterComponent(o,"NO_UI"),n=i&&i.resolveNow(null,function(e){return e});return n?setTimeout(t,0,n):i&&i.then(function(e){t(e)}),n}},e.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return Cu(this.statusBarService.getStatusPanel(e))},e.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,o){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:o,forceBrowserFocus:!0})},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(el.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(el.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(el.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_HEADER_HEIGHT,e)},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(el.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(el.PROP_FILL_HANDLE_DIRECTION,e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GROUP_HEADER_HEIGHT,e)},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_FLOATING_FILTERS_HEIGHT,e)},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PIVOT_HEADER_HEIGHT,e)},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PIVOT_GROUP_HEADER_HEIGHT,e)},e.prototype.setIsExternalFilterPresent=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_EXTERNAL_FILTER_PRESENT,e)},e.prototype.setDoesExternalFilterPass=function(e){this.gridOptionsWrapper.setProperty(el.PROP_DOES_EXTERNAL_FILTER_PASS,e)},e.prototype.setNavigateToNextCell=function(e){this.gridOptionsWrapper.setProperty(el.PROP_NAVIGATE_TO_NEXT_CELL,e)},e.prototype.setTabToNextCell=function(e){this.gridOptionsWrapper.setProperty(el.PROP_TAB_TO_NEXT_CELL,e)},e.prototype.setTabToNextHeader=function(e){this.gridOptionsWrapper.setProperty(el.PROP_TAB_TO_NEXT_HEADER,e)},e.prototype.setNavigateToNextHeader=function(e){this.gridOptionsWrapper.setProperty(el.PROP_NAVIGATE_TO_NEXT_HEADER,e)},e.prototype.setGroupRowAggNodes=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GROUP_ROW_AGG_NODES,e)},e.prototype.setGetGroupRowAgg=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_GROUP_ROW_AGG,e)},e.prototype.setGetBusinessKeyForNode=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_BUSINESS_KEY_FOR_NODE,e)},e.prototype.setGetChildCount=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_CHILD_COUNT,e)},e.prototype.setProcessRowPostCreate=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PROCESS_ROW_POST_CREATE,e)},e.prototype.setGetRowNodeId=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_ROW_NODE_ID,e)},e.prototype.setGetRowId=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_ROW_ID,e)},e.prototype.setGetRowClass=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_ROW_CLASS,e)},e.prototype.setIsFullWidthCell=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_FULL_WIDTH_CELL,e)},e.prototype.setIsFullWidthRow=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_FULL_WIDTH_ROW,e)},e.prototype.setIsRowSelectable=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_ROW_SELECTABLE,e)},e.prototype.setIsRowMaster=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_ROW_MASTER,e)},e.prototype.setPostSort=function(e){this.gridOptionsWrapper.setProperty(el.PROP_POST_SORT,e)},e.prototype.setPostSortRows=function(e){this.gridOptionsWrapper.setProperty(el.PROP_POST_SORT_ROWS,e)},e.prototype.setGetDocument=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_DOCUMENT,e)},e.prototype.setGetContextMenuItems=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_CONTEXT_MENU_ITEMS,e)},e.prototype.setGetMainMenuItems=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_MAIN_MENU_ITEMS,e)},e.prototype.setProcessCellForClipboard=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PROCESS_CELL_FOR_CLIPBOARD,e)},e.prototype.setSendToClipboard=function(e){this.gridOptionsWrapper.setProperty(el.PROP_SEND_TO_CLIPBOARD,e)},e.prototype.setProcessCellFromClipboard=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PROCESS_CELL_FROM_CLIPBOARD,e)},e.prototype.setProcessSecondaryColDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(e)},e.prototype.setProcessSecondaryColGroupDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(e)},e.prototype.setProcessPivotResultColDef=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PROCESS_PIVOT_RESULT_COL_DEF,e)},e.prototype.setProcessPivotResultColGroupDef=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,e)},e.prototype.setPostProcessPopup=function(e){this.gridOptionsWrapper.setProperty(el.PROP_POST_PROCESS_POPUP,e)},e.prototype.setDefaultGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(el.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,e)},e.prototype.setInitialGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(el.PROP_INITIAL_GROUP_ORDER_COMPARATOR,e)},e.prototype.setGetChartToolbarItems=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_CHART_TOOLBAR_ITEMS,e)},e.prototype.setPaginationNumberFormatter=function(e){this.gridOptionsWrapper.setProperty(el.PROP_PAGINATION_NUMBER_FORMATTER,e)},e.prototype.setGetServerSideStoreParams=function(e){this.setGetServerSideGroupLevelParams(e)},e.prototype.setGetServerSideGroupLevelParams=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_SERVER_SIDE_GROUP_PARAMS,e)},e.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,e)},e.prototype.setIsApplyServerSideTransaction=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,e)},e.prototype.setIsServerSideGroup=function(e){this.gridOptionsWrapper.setProperty(el.PROP_IS_SERVER_SIDE_GROUP,e)},e.prototype.setGetServerSideGroupKey=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_SERVER_SIDE_GROUP_KEY,e)},e.prototype.setGetRowStyle=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_ROW_STYLE,e)},e.prototype.setGetRowHeight=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GET_ROW_HEIGHT,e)},e.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("AG Grid: sideBar is not loaded")},e.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("AG Grid: sideBar is not loaded")},e.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},e.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},e.prototype.setSideBar=function(e){this.gridOptionsWrapper.setProperty("sideBar",Ua.parse(e))},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(el.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},e.prototype.doLayout=function(){ie(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},e.prototype.resetRowHeights=function(){if(E(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(el.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var o=this.columnModel.getPrimaryColumn(e);return _(o)&&(o=this.columnModel.getGridColumn(e)),_(o)?null:this.valueService.getValue(o,t)},e.prototype.addEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,o)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,o)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(J.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},e.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return Mt(e)},e.prototype.addRangeSelection=function(e){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.getChartModels")&&Me.assertRegistered(Ie.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.getChartRef=function(e){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.getChartRef")&&Me.assertRegistered(Ie.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(e)},e.prototype.getChartImageDataURL=function(e){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.getChartImageDataURL")&&Me.assertRegistered(Ie.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(e)},e.prototype.createRangeChart=function(e){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.createRangeChart")&&Me.assertRegistered(Ie.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createCrossFilterChart=function(e){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.createCrossFilterChart")&&Me.assertRegistered(Ie.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},e.prototype.restoreChart=function(e,t){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.restoreChart")&&Me.assertRegistered(Ie.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,t)},e.prototype.createPivotChart=function(e){if(Me.assertRegistered(Ie.RangeSelectionModule,"api.createPivotChart")&&Me.assertRegistered(Ie.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var o=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(o,t,"columnMenu")},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var o=this.columnModel.getGridColumn(e);o||(o=this.columnModel.getPrimaryColumn(e)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("AG Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(el.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},e.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e).map(Cu)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e).map(Cu)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(t){var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var i=this.navigationService.getCellByPosition(o);i&&i.startRowOrCellEdit(e.key,e.charPress)}else console.warn("AG Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyServerSideTransactionAsync=function(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},e.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyTransaction=function(e){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},e.prototype.setDeltaSort=function(e){this.gridOptionsWrapper.setProperty("deltaSort",e)},e.prototype.updateRowData=function(e){return ie(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){ie(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,o){void 0===o&&(o=!1),console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=e.map(function(e){return e.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},e.prototype.addItems=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){void 0===e&&(e=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:e,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},e.prototype.refreshServerSide=function(e){this.serverSideRowModel||console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'."),this.serverSideRowModel.refreshStore(e)},e.prototype.refreshServerSideStore=function(e){return ie(function(){return console.warn("AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0")},"refreshServerSideStore-renamed"),this.refreshServerSide(e)},e.prototype.getServerSideStoreState=function(){return ie(function(){return console.warn("AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0")},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},e.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},e.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},e.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(e,t)},e.prototype.setRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},e.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},e.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},e.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},e.prototype.setRowClass=function(e){this.gridOptionsWrapper.setProperty(el.PROP_ROW_CLASS,e)},vu([Ee("immutableService")],e.prototype,"immutableService",void 0),vu([Ee("csvCreator")],e.prototype,"csvCreator",void 0),vu([Ee("excelCreator")],e.prototype,"excelCreator",void 0),vu([Se("rowRenderer")],e.prototype,"rowRenderer",void 0),vu([Se("navigationService")],e.prototype,"navigationService",void 0),vu([Se("filterManager")],e.prototype,"filterManager",void 0),vu([Se("columnModel")],e.prototype,"columnModel",void 0),vu([Se("selectionService")],e.prototype,"selectionService",void 0),vu([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),vu([Se("valueService")],e.prototype,"valueService",void 0),vu([Se("alignedGridsService")],e.prototype,"alignedGridsService",void 0),vu([Se("eventService")],e.prototype,"eventService",void 0),vu([Se("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),vu([Se("context")],e.prototype,"context",void 0),vu([Se("rowModel")],e.prototype,"rowModel",void 0),vu([Se("sortController")],e.prototype,"sortController",void 0),vu([Se("paginationProxy")],e.prototype,"paginationProxy",void 0),vu([Se("focusService")],e.prototype,"focusService",void 0),vu([Se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),vu([Ee("rangeService")],e.prototype,"rangeService",void 0),vu([Ee("clipboardService")],e.prototype,"clipboardService",void 0),vu([Ee("aggFuncService")],e.prototype,"aggFuncService",void 0),vu([Se("menuFactory")],e.prototype,"menuFactory",void 0),vu([Ee("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),vu([Se("valueCache")],e.prototype,"valueCache",void 0),vu([Se("animationFrameService")],e.prototype,"animationFrameService",void 0),vu([Ee("statusBarService")],e.prototype,"statusBarService",void 0),vu([Ee("chartService")],e.prototype,"chartService",void 0),vu([Ee("undoRedoService")],e.prototype,"undoRedoService",void 0),vu([Ee("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),vu([Ee("ssrmTransactionManager")],e.prototype,"serverSideTransactionManager",void 0),vu([Se("ctrlsService")],e.prototype,"ctrlsService",void 0),vu([Ee("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),vu([we],e.prototype,"init",null),vu([be],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),vu([xe("gridApi")],e)}(),bu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xu=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=o,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=n,r.beans=i,r}return bu(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?He(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Le.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,el.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=E(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup(),o=t.getLeft(),i=t.getOldLeft(),n=this.modifyLeftForPrintLayout(t,i),r=this.modifyLeftForPrintLayout(t,o);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===r&&e.setLeft(r)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){if(this.beans.gridOptionsWrapper.getDomLayout()!==De.DOM_LAYOUT_PRINT)return t;if(e.getPinned()===De.PINNED_LEFT)return t;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return e.getPinned()===De.PINNED_RIGHT?o+this.beans.columnModel.getBodyContainerWidth()+t:o+t},t.prototype.setLeft=function(e){var t;if(E(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof Le)t=this.columnOrGroup;else{var o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&Ki(this.ariaEl,o.length),t=o[0]}var i=this.beans.columnModel.getAriaColumnIndex(t);Zi(this.ariaEl,i)},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(wt),Su=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Eu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_u=function(e){function t(t,o){var i=e.call(this)||this;return i.columns=t,i.element=o,i}return Su(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Eu([Se("columnHoverService")],t.prototype,"columnHoverService",void 0),Eu([we],t.prototype,"postConstruct",null),t}(wt),Au=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ru=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tu=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.column=t,i}return Au(t,e),t.prototype.setComp=function(t,o,i,n){e.prototype.setGui.call(this,o),this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n;var r=this.column.getColDef();this.active=!(!r.filter&&!r.filterFramework||!r.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=bn("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new nr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();var o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var t=this.beans.columnModel,o=this.column;do{if(!(o=e?t.getDisplayedColBefore(o):t.getDisplayedColAfter(o)))break}while(!o.getColDef().filter||!o.getColDef().floatingFilter);return o},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();switch(t.key){case xn.UP:case xn.DOWN:o||t.preventDefault();case xn.LEFT:case xn.RIGHT:if(o)return;t.stopPropagation();case xn.ENTER:o&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case xn.ESCAPE:o||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Go(e.relatedTarget,"ag-floating-filter");if(t&&o&&e.target===this.eGui){var i=this.lastFocusEvent;i&&i&&i.key===xn.TAB&&this.focusService.focusInto(this.eGui,i.shiftKey)}var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new _u([this.column],this.eGui));var t=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,Et.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupLeft=function(){var e=new xu(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var t=this.column.getColDef(),o=this.filterManager.createFilterParams(this.column,t),i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(t,wa,o),n=this.userComponentFactory.getDefaultFloatingFilterType(t);null==n&&(n="agReadOnlyFloatingFilter");var r={column:this.column,filterParams:i,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(t){return e.parentFilterInstance(t)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.getFloatingFilterCompDetails(t,r,n);s&&this.comp.setCompDetails(s)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(e){return e&&e.getModel()}):null},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){var t=this.getFilterComponent();null!=t&&t.then(function(t){e(Cu(t))})},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var t=function(t){var o=e.comp.getFloatingFilterComp();if(o){var i=e.currentParentModel();o.then(function(e){e&&e.onParentModelChanged(i,t)})}};this.addManagedListener(this.column,Le.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)}},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth()+"px";e.comp.setWidth(t)};this.addManagedListener(this.column,Le.EVENT_WIDTH_CHANGED,t),t()},Ru([Se("filterManager")],t.prototype,"filterManager",void 0),Ru([Se("columnHoverService")],t.prototype,"columnHoverService",void 0),Ru([Se("menuFactory")],t.prototype,"menuFactory",void 0),t}(mu),Ou=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Du=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.pinned=t,s.column=o,s.eResize=i,s.comp=n,s.ctrl=r,s}return Ou(t,e),t.prototype.postConstruct=function(){var e,t,o=this,i=this.column.getColDef(),n=[],r=function(){n.forEach(function(e){return e()}),n.length=0},s=function(){var s=o.column.isResizable(),a=!o.gridOptionsWrapper.isSuppressAutoSize()&&!i.suppressAutoSize;(s!==e||a!==t)&&(e=s,t=a,r(),function(){if(ko(o.eResize,e),e){var i=o.horizontalResizeService.addResizeBar({eResizeBar:o.eResize,onResizeStart:o.onResizeStart.bind(o),onResizing:o.onResizing.bind(o,!1),onResizeEnd:o.onResizing.bind(o,!0)});if(n.push(i),t){var r=o.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){o.columnModel.autoSizeColumn(o.column,r,"uiColumnResized")};o.eResize.addEventListener("dblclick",s);var a=new ts(o.eResize);a.addEventListener(ts.EVENT_DOUBLE_TAP,s),o.addDestroyFunc(function(){o.eResize.removeEventListener("dblclick",s),a.removeEventListener(ts.EVENT_DOUBLE_TAP,s),a.destroy()})}}}())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)},t.prototype.onResizing=function(e,t){var o=this.normaliseResizeAmount(t);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+o}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var t=e,o=this.pinned!==De.PINNED_LEFT,i=this.pinned===De.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?o&&(t*=-1):i&&(t*=-1),t},Pu([Se("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Pu([Se("columnModel")],t.prototype,"columnModel",void 0),Pu([we],t.prototype,"postConstruct",null),t}(wt),Iu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Mu=function(e){function t(t,o,i){void 0===o&&(o="ag-checkbox"),void 0===i&&(i="checkbox");var n=e.call(this,t,o,i)||this;return n.labelAlignment="right",n.selected=!1,n.readOnly=!1,n.passive=!1,n}return Iu(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,o,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:o,event:i});var n=this.getInputElement();this.eventService.dispatchEvent({type:Et.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:o})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var t=this.isSelected(),o=this.selected=e.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,t,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(xr),Nu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ku=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lu=function(e){function t(t){var o=e.call(this)||this;o.cbSelectAllVisible=!1,o.processingEventFromCheckbox=!1,o.column=t;var i=t.getColDef();return o.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,o}return Nu(t,e),t.prototype.onSpaceKeyPressed=function(e){var t=this.cbSelectAll,o=this.gridOptionsWrapper.getDocument();t.isDisplayed()&&!t.getGui().contains(o.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Mu),this.cbSelectAll.addCssClass("ag-header-select-all"),Pi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Mu.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+t+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,t=0,o=0,i=function(i){e.gridOptionsWrapper.isGroupSelectsChildren()&&i.group||(i.isSelected()?t++:i.selectable&&o++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(i):this.gridApi.forEachNode(i),{notSelected:o,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===De.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},ku([Se("gridApi")],t.prototype,"gridApi",void 0),ku([Se("columnApi")],t.prototype,"columnApi",void 0),ku([Se("rowModel")],t.prototype,"rowModel",void 0),ku([Se("selectionService")],t.prototype,"selectionService",void 0),t}(wt),Fu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hu=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=t,i}return Fu(t,e),t.prototype.setComp=function(t,o,i,n){var r=this;e.prototype.setGui.call(this,o),this.comp=t,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Du(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new _u([this.column],o)),this.createManagedBean(new xu(this.column,o,this.beans)),this.createManagedBean(new nr(o,{shouldStopEventPropagation:function(e){return r.shouldStopEventPropagation(e)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)},t.prototype.createParams=function(){var e=this,t=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,o){e.sortController.setSortForColumn(e.column,t,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Lu(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t),t.key===xn.SPACE&&this.selectAllFeature.onSpaceKeyPressed(t),t.key===xn.ENTER&&this.onEnterKeyPressed(t)},t.prototype.onEnterKeyPressed=function(e){var t=this.comp.getUserCompInstance();t&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,t=this.createManagedBean(new Ol({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));t.setComp(this.comp),this.refreshFunctions.push(function(){return t.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,t=function(){var t=e.column.getColDef(),o=ou.getHeaderClassesFromColDef(t,e.gridOptionsWrapper,e.column,null),i=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(t){i.has(t)?i.delete(t):e.comp.addOrRemoveCssClass(t,!0)}),i.forEach(function(t){return e.comp.addOrRemoveCssClass(t,!1)})};this.refreshFunctions.push(t),t()},t.prototype.setDragSource=function(e){var t=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var o=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:Ls.HeaderCell,eElement:e,defaultIconName:o?Hs.ICON_HIDE:Hs.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(e){var i,n;if(o){var r=(null===(n=null===(i=e)||void 0===i?void 0:i.columns)||void 0===n?void 0:n.filter(function(e){return!e.getColDef().lockVisible}))||[];t.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:function(e){var i,n;if(o){var r=(null===(n=null===(i=e)||void 0===i?void 0:i.columns)||void 0===n?void 0:n.filter(function(e){return!e.getColDef().lockVisible}))||[];t.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onNewColumnsLoaded=function(){var e=this.columnModel.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var t=this.comp.getUserCompInstance();return!!t&&!!t.refresh&&t.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,t=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,Le.EVENT_WIDTH_CHANGED,t),t()},t.prototype.setupMovingCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Le.EVENT_MOVING_CHANGED,t),t()},t.prototype.setupMenuClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Le.EVENT_MENU_VISIBLE_CHANGED,t),t()},t.prototype.setupSortableClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.column,Le.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,t=function(){var t=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};t(),this.addRefreshFunction(t)},t.prototype.setupAutoHeight=function(e){var t,o=this,i=function(t){if(o.isAlive()){var n=Ho(o.getGui()),r=e.offsetHeight+n.paddingTop+n.paddingBottom;if(t<5){var s=o.beans.gridOptionsWrapper.getDocument();if(!s||!s.contains(e)||0==r)return void o.beans.frameworkOverrides.setTimeout(function(){return i(t+1)},0)}o.columnModel.setColumnHeaderHeight(o.column,r)}},n=!1,r=function(){var e=o.column.isAutoHeaderHeight();e&&!n&&s(),!e&&n&&a()},s=function(){n=!0,i(0),t=o.resizeObserverService.observeResize(e,function(){return i(0)})},a=function(){n=!1,t&&t(),t=void 0};r(),this.addDestroyFunc(function(){return a()}),this.addManagedListener(this.column,Le.EVENT_WIDTH_CHANGED,function(){return n&&i(0)}),this.addManagedListener(this.column,Le.EVENT_SORT_CHANGED,function(){n&&o.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(r)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Di(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,t=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,Et.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupFilterCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,Le.EVENT_FILTER_ACTIVE_CHANGED,t),t()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},Gu([Se("columnModel")],t.prototype,"columnModel",void 0),Gu([Se("columnHoverService")],t.prototype,"columnHoverService",void 0),Gu([Se("sortController")],t.prototype,"sortController",void 0),Gu([Se("menuFactory")],t.prototype,"menuFactory",void 0),Gu([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Gu([Se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Gu([Se("gridApi")],t.prototype,"gridApi",void 0),Gu([Se("columnApi")],t.prototype,"columnApi",void 0),Gu([be],t.prototype,"removeDragSource",null),t}(mu),Vu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Wu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bu=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.eResize=o,r.comp=t,r.pinned=i,r.columnGroup=n,r}return Vu(t,e),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var t=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())}),t.length>0&&e.columnModel.autoSizeColumns({columns:t,skipHeader:o,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},t.prototype.onResizeStart=function(e){var t=this;this.calculateInitialValues();var o=null;if(e&&(o=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),o){var i=o.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(function(e){return e.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,t){var o=this.normaliseDragChange(t);this.resizeColumns(this.resizeStartWidth+o,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,t){void 0===t&&(t=!0);var o=[];o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:o,finished:t,source:"uiColumnDragged"}),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,t=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=t.filter(function(e){return e.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(t){return e.resizeStartWidth+=t.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==De.PINNED_LEFT&&(t*=-1):this.pinned===De.PINNED_RIGHT&&(t*=-1),t},Wu([Se("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Wu([Se("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Wu([Se("columnModel")],t.prototype,"columnModel",void 0),Wu([we],t.prototype,"postConstruct",null),t}(wt),ju=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zu=function(e){function t(t,o){var i=e.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=o,i.comp=t,i}return ju(t,e),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,tt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(o){o.addEventListener(Le.EVENT_WIDTH_CHANGED,t),o.addEventListener(Le.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push(function(){o.removeEventListener(Le.EVENT_WIDTH_CHANGED,t),o.removeEventListener(Le.EVENT_VISIBLE_CHANGED,t)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(wt),Uu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xu=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.columnGroup=t,i}return Uu(t,e),t.prototype.setComp=function(t,o,i){e.prototype.setGui.call(this,o),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var n=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new _u(r,o)),this.createManagedBean(new xu(this.columnGroup,o,this.beans)),this.createManagedBean(new zu(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Bu(t,i,n,this.columnGroup)),this.createManagedBean(new nr(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,t=this.displayName,o={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(t){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var i=this.columnGroup,n=i.getLeafColumns();i.getParent()&&i.getParent().getLeafColumns().length===n.length;)i=i.getParent();var r=i.getColGroupDef();r&&(t=r.headerName),t||(t=n?this.columnModel.getDisplayNameForColumn(n[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(o);this.comp.setUserCompDetails(s)},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef(),o={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return t&&t.headerTooltip}};t&&(o.getColDef=function(){return t}),this.createManagedBean(new Ol(o,this.beans)).setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ot.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ot.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,t=this.columnGroup.getColGroupDef(),o=ou.getHeaderClassesFromColDef(t,this.gridOptionsWrapper,null,this.columnGroup);o.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),o.forEach(function(t){return e.comp.addOrRemoveCssClass(t,!0)})},t.prototype.setupMovingCss=function(){var e=this,t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};t.forEach(function(t){e.addManagedListener(t,Le.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();if(this.expandable&&o&&t.key===xn.ENTER){var i=this.columnGroup,n=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var t=this;if(!this.isSuppressMoving()){var o=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),n={type:Ls.HeaderCell,eElement:e,defaultIconName:i?Hs.ICON_HIDE:Hs.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach(function(e){return e.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return o.forEach(function(e){return e.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(e){var o,n;if(i){var r=(null===(n=null===(o=e)||void 0===o?void 0:o.columns)||void 0===n?void 0:n.filter(function(e){return!e.getColDef().lockVisible}))||[];t.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:function(e){var o,n;if(i){var r=(null===(n=null===(o=e)||void 0===o?void 0:o.columns)||void 0===n?void 0:n.filter(function(e){return!e.getColDef().lockVisible}))||[];t.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return t.dragAndDropService.removeDragSource(n)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(function(e){return t[e.getId()]=e.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(t){e.indexOf(t)>=0&&(o.push(t),Ue(e,t))}),e.forEach(function(e){return o.push(e)}),{columns:o,visibleState:t}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},Yu([Se("columnModel")],t.prototype,"columnModel",void 0),Yu([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Yu([Se("gridApi")],t.prototype,"gridApi",void 0),Yu([Se("columnApi")],t.prototype,"columnApi",void 0),t}(mu),qu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ku=0,Qu=function(e){function t(t,o,i){var n=e.call(this)||this;return n.instanceId=Ku++,n.headerCellCtrls={},n.rowIndex=t,n.pinned=o,n.type=i,n}return qu(t,e),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Co()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Et.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return N(this.headerCellCtrls).find(function(t){return t.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(De.PINNED_RIGHT)+this.columnModel.getContainerWidth(De.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),t=[],o=0;this.columnModel.hasFloatingFilters()&&(e++,o=1);for(var i=this.columnModel.getColumnGroupHeaderRowHeight(),n=this.columnModel.getColumnHeaderRowHeight(),r=e-(1+o),s=0;s<r;s++)t.push(i);for(t.push(n),s=0;s<o;s++)t.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=t[s];var l=t[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(l)},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(o){if(!o.isEmptyGroup()){var i=o.getUniqueId(),n=t[i];if(delete t[i],n&&n.getColumnGroupChild()!=o&&(e.destroyBean(n),n=void 0),null==n)switch(e.type){case pu.FLOATING_FILTER:n=e.createBean(new Tu(o,e));break;case pu.COLUMN_GROUP:n=e.createBean(new Xu(o,e));break;default:n=e.createBean(new Hu(o,e))}e.headerCellCtrls[i]=n}}),L(t,function(t,o){var i;e.focusService.isHeaderWrapperFocused(i=o)&&e.columnModel.isDisplayed(i.getColumnGroupChild())?e.headerCellCtrls[t]=o:e.destroyBean(o)});var o=U(this.headerCellCtrls);this.comp.setHeaderCtrls(o)},t.prototype.destroyCtrls=function(){var e=this;L(this.headerCellCtrls,function(t,o){e.destroyBean(o)}),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var t=[],o=this.getActualDepth();return[De.PINNED_LEFT,null,De.PINNED_RIGHT].forEach(function(i){var n=e.columnModel.getVirtualHeaderGroupRow(i,o);t=t.concat(n)}),t},t.prototype.getActualDepth=function(){return this.type==pu.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,t){var o=U(this.headerCellCtrls).find(function(t){return t.getColumnGroupChild()==e});return!!o&&(o.focus(t),!0)},Zu([Se("columnModel")],t.prototype,"columnModel",void 0),Zu([Se("focusService")],t.prototype,"focusService",void 0),Zu([be],t.prototype,"destroyCtrls",null),t}(wt),Ju=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$u=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ep=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},tp=function(e){function t(t){var o=e.call(this)||this;return o.groupsRowCtrls=[],o.pinned=t,o}return Ju(t,e),t.prototype.setComp=function(e,t){this.comp=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(t),this.addManagedListener(this.eventService,Et.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var t=new eu(this.pinned,e);this.createManagedBean(t)},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!1);var o,i=new Mn,n=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var e=t.columnModel.getHeaderRowCount()-1;t.groupsRowCtrls=t.destroyBeans(t.groupsRowCtrls);for(var o=0;o<e;o++){var n=t.createBean(new Qu(i.next(),t.pinned,pu.COLUMN_GROUP));t.groupsRowCtrls.push(n)}}(),o=i.next(),(null==t.columnsRowCtrl||!e||t.columnsRowCtrl.getRowIndex()!==o)&&(t.destroyBean(t.columnsRowCtrl),t.columnsRowCtrl=t.createBean(new Qu(o,t.pinned,pu.COLUMN))),function(){var o=function(){t.filtersRowCtrl=t.destroyBean(t.filtersRowCtrl)};if(t.columnModel.hasFloatingFilters()){var n=i.next();if(t.filtersRowCtrl){var r=t.filtersRowCtrl.getRowIndex()!==n;e&&!r||o()}t.filtersRowCtrl||(t.filtersRowCtrl=t.createBean(new Qu(n,t.pinned,pu.FLOATING_FILTER)))}else o()}();var r=this.getAllCtrls();this.comp.setCtrls(r),this.restoreFocusOnHeader(n)},t.prototype.restoreFocusOnHeader=function(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ep(arguments[t]));return e}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new fc(function(t){return e.comp.setCenterWidth(t+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var t=this.pinned===De.PINNED_LEFT,o=this.pinned===De.PINNED_RIGHT,i=function(){var i=t?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=i){var n=0==i,r=e.gridOptionsWrapper.isEnableRtl(),s=e.gridOptionsWrapper.getScrollbarWidth(),a=e.scrollVisibleService.isVerticalScrollShowing()&&(r&&t||!r&&o);e.comp.setPinnedContainerWidth((a?i+s:i)+"px"),e.comp.addOrRemoveCssClass("ag-hidden",n)}};this.addManagedListener(this.eventService,Et.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Et.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Et.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,Et.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Le){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(var t=0;t<this.groupsRowCtrls.length;t++){var o=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(o)return o}},t.prototype.getHtmlElementForColumnHeader=function(e){var t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null},t.prototype.getRowType=function(e){var t=this.getAllCtrls()[e];return t?t.getType():void 0},t.prototype.focusHeader=function(e,t,o){var i=this.getAllCtrls()[e];return!!i&&i.focusHeader(t,o)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},$u([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),$u([Se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),$u([Se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),$u([Se("columnModel")],t.prototype,"columnModel",void 0),$u([Se("focusService")],t.prototype,"focusService",void 0),t}(wt),op=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ip=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},np=function(e){function t(t){var o=e.call(this)||this;return o.headerRowComps={},o.rowCompsList=[],o.pinned=t,o}return op(t,e),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var t={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setCtrls:function(t){return e.setCtrls(t)},setCenterWidth:function(t){return e.eCenterContainer.style.width=t},setContainerTransform:function(t){return e.eCenterContainer.style.transform=t},setPinnedContainerWidth:function(t){var o=e.getGui();o.style.width=t,o.style.maxWidth=t,o.style.minWidth=t}};this.createManagedBean(new tp(this.pinned)).setComp(t,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==De.PINNED_LEFT?t.PINNED_LEFT_TEMPLATE:this.pinned==De.PINNED_RIGHT?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var t,o=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(e){var n=e.getInstanceId(),r=i[n];delete i[n];var s=r||o.createBean(new hu(e));o.headerRowComps[n]=s,o.rowCompsList.push(s),function(e){var i=e.getGui();i.parentElement!=o.eRowContainer&&o.eRowContainer.appendChild(i),t&&oi(o.eRowContainer,i,t),t=i}(s)}),U(i).forEach(function(e){return o.destroyRowComp(e)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',ip([Yn("eCenterContainer")],t.prototype,"eCenterContainer",void 0),ip([we],t.prototype,"init",null),ip([be],t.prototype,"destroyRowComps",null),t}(Un),rp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ap=(()=>(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(ap||(ap={})),ap))(),lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.gridBodyCon=t.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)},t.prototype.navigateVertically=function(e,t,o){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;var i=t.headerRowIndex,n=t.column,r=this.getHeaderRowCount(),s=e===ap.UP,a=s?i-1:i+1,l=null,c=!1;a<0&&(a=0,l=n,c=!0),a>=r&&(a=-1);var u=this.getHeaderRowType(i);if(!c){if(u===pu.COLUMN_GROUP){var p=n;l=s?n.getParent():p.getDisplayedChildren()[0]}else u===pu.FLOATING_FILTER?l=n:(p=n,l=s?p.getParent():p);if(!l)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:o})},t.prototype.navigateHorizontally=function(e,t,o){void 0===t&&(t=!1);var i,n,r=this.focusService.getFocusedHeader(),s=e===ap.LEFT,a=this.gridOptionsWrapper.isEnableRtl();return(i=this.headerPositionUtils.findHeader(r,n=s!==a?"Before":"After"))?this.focusService.focusHeaderPosition({headerPosition:i,direction:n,fromTab:t,allowUserOverride:!0,event:o}):!t||this.focusNextHeaderRow(r,n,o)},t.prototype.focusNextHeaderRow=function(e,t,o){var i=e.headerRowIndex,n=null;return"Before"===t?i>0&&(n=this.headerPositionUtils.findColAtEdgeForHeaderRow(i-1,"end")):n=this.headerPositionUtils.findColAtEdgeForHeaderRow(i+1,"start"),this.focusService.focusHeaderPosition({headerPosition:n,direction:t,fromTab:!0,allowUserOverride:!0,event:o})},t.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var o;if(e instanceof tt){var i=e.getDisplayedLeafColumns();o="Before"===t?He(i):i[0]}else o=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},sp([Se("focusService")],t.prototype,"focusService",void 0),sp([Se("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),sp([Se("animationFrameService")],t.prototype,"animationFrameService",void 0),sp([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),sp([we],t.prototype,"postConstruct",null),sp([xe("headerNavigationService")],t)}(wt),cp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),up=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cp(t,e),t.prototype.setComp=function(e,t,o){this.comp=e,this.eGui=t,this.createManagedBean(new nr(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,el.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,el.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,el.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,el.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,el.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e,t=this.columnModel,o=this.gridOptionsWrapper,i=0,n=t.getHeaderRowCount();t.hasFloatingFilters()&&(n++,i=1);var r=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=n-(1+i);e=i*o.getFloatingFiltersHeight(),e+=a*r,this.headerHeight!==(e+=s)&&(this.headerHeight=e,this.comp.setHeightAndMinHeight(e+1+"px"),this.eventService.dispatchEvent({type:Et.EVENT_HEADER_HEIGHT_CHANGED}))},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==t?ap.LEFT:ap.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var t=null;switch(e.key){case xn.LEFT:t=ap.LEFT;case xn.RIGHT:E(t)||(t=ap.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case xn.UP:t=ap.UP;case xn.DOWN:E(t)||(t=ap.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var t=this.gridOptionsWrapper.getDocument(),o=e.relatedTarget;!o&&this.eGui.contains(t.activeElement)||this.eGui.contains(o)||this.focusService.clearFocusedHeader()},up([Se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),up([Se("focusService")],t.prototype,"focusService",void 0),up([Se("columnModel")],t.prototype,"columnModel",void 0),up([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(wt),hp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),dp=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return hp(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setHeightAndMinHeight:function(t){e.getGui().style.height=t,e.getGui().style.minHeight=t}};this.createManagedBean(new pp).setComp(t,this.getGui(),this.getFocusableElement());var o=function(t){e.createManagedBean(t),e.appendChild(t)};o(new np(De.PINNED_LEFT)),o(new np(null)),o(new np(De.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(Un),fp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fp(t,e),t.prototype.addResizeBar=function(e){var t=this,o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(o,!0),function(){return t.dragService.removeDragSource(o)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},gp([Se("dragService")],t.prototype,"dragService",void 0),gp([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),gp([xe("horizontalResizeService")],t)}(wt),yp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yp(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var o=this;this.showPopup(e,function(i){o.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})},t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,o){var i=this;this.showPopup(e,function(n){i.popupService.positionPopupUnderComponent({type:o,eventSource:t,ePopup:n,keepWithinBounds:!0,column:e})},t)},t.prototype.showPopup=function(e,t,o){var i=this,n=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!n)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var r,s=document.createElement("div");Pi(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(e){return i.trapFocusWithin(e,s)}),n.guiPromise.then(function(e){return s.appendChild(e)});var a=o||this.ctrlsService.getGridBodyCtrl().getGui(),l=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(t){e.setMenuVisible(!1,"contextMenu");var n=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),n&&o&&Ko(o)){var r=i.focusService.findTabbableParent(o);r&&r.focus()}},positionCallback:function(){return t(s)},anchorToElement:a,ariaLabel:l("ariaLabelColumnMenu","Column Menu")});c&&(this.hidePopup=r=c.hideFunc),n.filterPromise.then(function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:r})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.key!==xn.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},vp([Se("filterManager")],t.prototype,"filterManager",void 0),vp([Se("popupService")],t.prototype,"popupService",void 0),vp([Se("focusService")],t.prototype,"focusService",void 0),vp([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),vp([xe("menuFactory")],t)}(wt),wp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),bp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xp=function(e){function t(o){var i=e.call(this,t.getTemplate(o.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=o,o.items&&o.items.forEach(function(e){return i.addItem(e)}),i}return wp(t,e),t.prototype.postConstruct=function(){this.createManagedBean(new nr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument();switch(e.key){case xn.RIGHT:case xn.LEFT:if(!this.eHeader.contains(t.activeElement))return;var o=this.items.indexOf(this.activeItem),i=e.key===xn.RIGHT?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===i)return;e.preventDefault();var n=this.items[i];this.showItemWrapper(n),n.eHeaderButton.focus();break;case xn.UP:case xn.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,o=t.focusService,i=t.eHeader,n=t.eBody,r=t.activeItem,s=this.gridOptionsWrapper.getDocument().activeElement;if(e.preventDefault(),i.contains(s))o.focusInto(n,e.shiftKey);else if(o.isFocusUnderManagedComponent(n))r.eHeaderButton.focus();else{var a=o.findNextFocusableElement(n,!1,e.shiftKey);a?a.focus():r.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");Pi(t,"tab"),t.setAttribute("tabIndex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),ki(t,e.titleLabel);var o={tabbedItem:e,eHeaderButton:t};this.items.push(o),t.addEventListener("click",this.showItemWrapper.bind(this,o))},t.prototype.showItem=function(e){var t=this.items.find(function(t){return t.tabbedItem===e});t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this,o=e.tabbedItem,i=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:o}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Xo(this.eBody),o.bodyPromise.then(function(e){t.eBody.appendChild(e);var i=!t.focusService.isKeyboardMode();if(t.focusService.focusInto(t.eBody,!1,i),o.afterAttachedCallback&&o.afterAttachedCallback(t.afterAttachedParams),t.params.keepScrollPosition){var n=o.getScrollableContainer&&o.getScrollableContainer()||e;t.lastScrollListener=t.addManagedListener(n,"scroll",function(){t.tabbedItemScrollMap.set(o.name,n.scrollTop)});var r=t.tabbedItemScrollMap.get(o.name);void 0!==r&&setTimeout(function(){n.scrollTop=r},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),i.classList.add("ag-tab-selected"),this.activeItem=e):me(this.params.onActiveItemClicked)},bp([Se("focusService")],t.prototype,"focusService",void 0),bp([Yn("eHeader")],t.prototype,"eHeader",void 0),bp([Yn("eBody")],t.prototype,"eBody",void 0),bp([we],t.prototype,"postConstruct",null),t}(Un),Sp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ep=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return Sp(t,e),t.prototype.observeResize=function(e,t){var o,i,n,r,s,a=this,l=this.gridOptionsWrapper.getDocument().defaultView||window,c=he(t,50),u=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return l.ResizeObserver&&!u?((o=new l.ResizeObserver(c)).observe(e),function(){return o.disconnect()}):(i=ti(e),n=ei(e),r=!0,(s=function(){if(r){var o=ti(e),l=ei(e);(o!==i||l!==n)&&(i=o,n=l,t()),a.doNextPolyfillTurn(s)}})(),function(){return r=!1})},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var t=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],t.forEach(function(e){return e()})},50))},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("resizeObserverService")],t)}(wt),_p=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ap=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return _p(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,o){this.verifyAnimationFrameOn(o);var i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],i),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort(function(e,o){return e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,o=t.list,i=this.createTasksP2,n=i.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0,c=this.ctrlsService.getGridBodyCtrl();l||a<e;){if(!c.getScrollFeature().executeAnimationFrameScroll()){var u=void 0;if(o.length)this.sortTaskList(t),u=o.pop().task;else if(n.length)this.sortTaskList(i),u=n.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-s}o.length||n.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),t=this.gridOptionsWrapper.getDocument().defaultView||window;t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var t=this,o=!1;return function(){t.isOn()?o||(o=!0,t.addDestroyTask(function(){o=!1,e()})):t.getFrameworkOverrides().setTimeout(e,0)}},Ap([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Ap([we],t.prototype,"init",null),Ap([xe("animationFrameService")],t)}(wt),Tp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Op=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pp=function(e){function t(t,o){var i=e.call(this)||this;return i.element=t,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},o),i}return Tp(t,e),t.prototype.center=function(){var e=this.offsetParent,t=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(o,i)},t.prototype.initialisePosition=function(){var e=this.config,t=e.centered,o=e.forcePopupParentAsOffsetParent,i=e.minWidth,n=e.width,r=e.minHeight,s=e.height,a=e.x,l=e.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,p=!!this.element.offsetParent;if(p){var h=this.findBoundaryElement(),d=window.getComputedStyle(h);if(null!=d.minWidth){var f=h.offsetWidth-this.element.offsetWidth;u=parseInt(d.minWidth,10)-f}if(null!=d.minHeight){var g=h.offsetHeight-this.element.offsetHeight;c=parseInt(d.minHeight,10)-g}}if(this.minHeight=r||c,this.minWidth=i||u,n&&this.setWidth(n),s&&this.setHeight(s),n&&s||this.refreshSize(),t)this.center();else if(a||l)this.offsetElement(a,l);else if(p&&o&&this.boundaryEl){var m=parseFloat(this.boundaryEl.style.top),y=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,t){if(this.config.popup&&e!==this.movable){this.movable=e;var o=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(o),this.moveElementDragListener=o):(this.dragService.removeDragSource(o),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var t=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(o){var i=!!e[o],n=t.getResizerElement(o),r={dragStartPixels:0,eElement:n,onDragStart:function(e){return t.onResizeStart(e,o)},onDragging:t.onResize.bind(t),onDragStop:function(e){return t.onResizeEnd(e,o)}};!!t.resizable[o]===i&&(t.isAlive()||i)||(i?(t.dragService.addDragSource(r),t.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none")})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,t=e.height,o=e.width;-1!==o&&(this.element.style.width=o+"px"),-1!==t&&(this.element.style.height=t+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var t=this.config.popup,o=this.element,i=!1;if("string"==typeof e&&-1!==e.indexOf("%"))hi(o,e),e=Bo(o),i=!0;else if(this.positioned){var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var s=this.offsetParent.clientHeight,a=t?this.position.y:n.top;s&&e+a>s+(t?0:r.top)&&(e=s-a)}this.getHeight()!==e&&(i?(o.style.maxHeight="unset",o.style.minHeight="unset"):t?hi(o,e):(o.style.height=e+"px",o.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var t=this.element,o=this.config.popup,i=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ui(t,e),e=jo(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var n=this.offsetParent.clientWidth,r=o?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ui(t,e):(t.style.width=e+"px",t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:o,x:e,y:t,keepWithinBounds:!0}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top))},t.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=e.e,o=e.isTop,i=e.topBuffer,n=t.clientX-this.dragStartPosition.x,r=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!e.isLeft,!!e.anywhereWithin,n)?0:n,movementY:this.shouldSkipY(t,!!o,i,r)?0:r}},t.prototype.shouldSkipX=function(e,t,o,i){var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;return!!(a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right)||(t?i<0&&e.clientX>a+r.left||i>0&&e.clientX<a+r.left:o?i<0&&e.clientX>s.right||i>0&&e.clientX<a+r.left:i<0&&e.clientX>s.right||i>0&&e.clientX<s.right)},t.prototype.shouldSkipY=function(e,t,o,i){void 0===o&&(o=0);var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;return!!(a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom)||(t?i<0&&e.clientY>a+r.top+o||i>0&&e.clientY<a+r.top:i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var t=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".ag-resizer-wrapper");e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");var o=this.config;o.popup||o.forcePopupParentAsOffsetParent||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(function(e){return!e.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],t=0,o=0,i=0;i<e.length;i++){var n=e[i];if(n!==this.element){var r=this.minHeight||0,s=this.minWidth||0;if(n.style.flex&&"0 0 auto"!==n.style.flex){var a=window.getComputedStyle(n);a.minHeight&&(r=parseInt(a.minHeight,10)),a.minWidth&&(s=parseInt(a.minWidth,10))}else r=n.offsetHeight,s=n.offsetWidth;t+=r,o+=s}}return{height:t,width:o}},t.prototype.applySizeToSiblings=function(e){var t=null,o=this.getSiblings();if(o){for(var i=0;i<o.length;i++){var n=o[i];n!==t&&(e?n.style.height=n.offsetHeight+"px":n.style.width=n.offsetWidth+"px",n.style.flex="0 0 auto",n===this.element&&(t=o[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var t=this.config,o=t.popup,i=t.forcePopupParentAsOffsetParent,n=this.currentResizer,r=n.isTop,s=n.isLeft,a=n.isRight||s,l=n.isBottom||r,c=this.calculateMouseMovement({e:e,isLeft:s,isTop:r}),u=c.movementX,p=c.movementY,h=this.position.x,d=this.position.y,f=0,g=0;if(a&&u){var m=s?-1:1,y=this.getWidth(),v=y+u*m,C=!1;s&&(h+(f=y-v)<=0||v<=this.minWidth)&&(C=!0,f=0),C||this.setWidth(v)}if(l&&p){m=r?-1:1;var w=this.getHeight(),b=w+p*m,x=!1;r?(d+(g=w-b)<=0||b<=this.minHeight)&&(x=!0,g=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(x=!0),x||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((o||i)&&f||g)&&this.offsetElement(h+f,d+g)}},t.prototype.onResizeEnd=function(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var o={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(o)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t,o=this.position,i=o.x,n=o.y;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());var r=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:t});this.offsetElement(i+r.movementX,n+r.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Op([Se("popupService")],t.prototype,"popupService",void 0),Op([Se("dragService")],t.prototype,"dragService",void 0),t}(wt),Dp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ip=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,t){var o=this.getHeaderCellForColumn(e);if(!o)return-1;var i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(o),this.addElementsToContainerAndGetWidth(i)},t.prototype.getPreferredWidthForColumnGroup=function(e){var t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var t=this,o=document.createElement("span");o.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();i.appendChild(o),e.forEach(function(e){return t.cloneItemIntoDummy(e,o)});var n=o.offsetWidth;return i.removeChild(o),n+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){var i=o.getHtmlElementForColumnHeader(e);null!=i&&(t=i)}),t},t.prototype.cloneItemIntoDummy=function(e,t){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var i=document.createElement("div"),n=i.classList;["ag-header-cell","ag-header-group-cell"].some(function(e){return o.classList.contains(e)})?(n.add("ag-header","ag-header-row"),i.style.position="static"):n.add("ag-row");for(var r=e.parentElement;r;){if(["ag-header-row","ag-row"].some(function(e){return r.classList.contains(e)})){for(var s=0;s<r.classList.length;s++){var a=r.classList[s];"ag-row-position-absolute"!=a&&n.add(a)}break}r=r.parentElement}i.appendChild(o),t.appendChild(i)},Ip([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),Ip([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Ip([Se("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Ip([we],t.prototype,"postConstruct",null),Ip([xe("autoWidthCalculator")],t)}(wt),Np=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lp=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Fp=function(e){function t(t,o){var i=e.call(this)||this;return i.createRowCon=t,i.destroyRowCtrls=o,i.stickyRowCtrls=[],i.containerHeight=0,i}return Np(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.gridBodyCtrl=t.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=0;if(this.gridOptionsWrapper.isGroupRowsSticky()){for(var t=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),i=function(i){t.push(i);for(var n=i;n.expanded;)n=He(n.childrenAfterSort);var r=n.rowTop+n.rowHeight,s=o+e+i.rowHeight;i.stickyRowTop=r<s?e+(r-s):e,e=0,t.forEach(function(t){var o=t.stickyRowTop+t.rowHeight;e<o&&(e=o)})};;){var n=o+e,r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r);if(null==s)break;if(s.level<0)break;for(var a=[],l=s.parent;l.level>=0;)a.push(l),l=l.parent;var c=a.reverse().find(function(e){return t.indexOf(e)<0});if(c)i(c);else{if(!(s.group&&s.expanded&&!s.footer&&s.rowTop<n))break;i(s)}}this.refreshNodesAndContainerHeight(t,e)}else this.refreshNodesAndContainerHeight([],e)},t.prototype.refreshNodesAndContainerHeight=function(e,t){var o,i,n,r=this,s=this.stickyRowCtrls.filter(function(t){return-1===e.indexOf(t.getRowNode())}),a=e.filter(function(e){return-1===r.stickyRowCtrls.findIndex(function(t){return t.getRowNode()===e})}),l={};s.forEach(function(e){l[e.getRowNode().id]=e,r.stickyRowCtrls=r.stickyRowCtrls.filter(function(t){return t!==e})});try{for(var c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(l)),u=c.next();!u.done;u=c.next())u.value.getRowNode().sticky=!1}catch(h){o={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}this.destroyRowCtrls(l,!1);var p=a.map(function(e){return e.sticky=!0,r.createRowCon(e,!1,!1)});(n=this.stickyRowCtrls).push.apply(n,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lp(arguments[t]));return e}(p)),this.stickyRowCtrls.forEach(function(e){return e.setRowTop(e.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(e,t){return t.getRowNode().rowIndex-e.getRowNode().rowIndex}),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t))},kp([Se("rowModel")],t.prototype,"rowModel",void 0),kp([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),kp([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),kp([we],t.prototype,"postConstruct",null),t}(wt),Gp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vp=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Wp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vp(arguments[t]));return e},Bp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t}return Gp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,Et.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,el.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.stickyRowFeature=this.createManagedBean(new Fp(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new jp(null!=e?e:3)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=U(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(e,t){return e.getRowNode().rowIndex-t.getRowNode.rowIndex});var t=U(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Wp(e,t,o)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_CELL_FOCUSED,function(t){e.getAllCellCtrls().forEach(function(e){return e.onCellFocused(t)}),e.getFullWidthRowCtrls().forEach(function(e){e.onFullWidthRowFocused(t)})}),this.addManagedListener(this.eventService,Et.EVENT_FLASH_CELLS,function(t){e.getAllCellCtrls().forEach(function(e){return e.onFlashCells(t)})}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(e){return e.onColumnHover()})}),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(e){return e.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(e){return e.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Et.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(e){return e.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(e){return e.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Et.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnModel.getAllGridColumns();t&&t.forEach(function(t){var o=function(o){e.getAllCellCtrls().forEach(function(e){e.getColumn()===t&&o(e)})},i=function(){o(function(e){return e.onLeftChanged()})},n=function(){o(function(e){return e.onWidthChanged()})},r=function(){o(function(e){return e.onFirstRightPinnedChanged()})},s=function(){o(function(e){return e.onLastLeftPinnedChanged()})};t.addEventListener(Le.EVENT_LEFT_CHANGED,i),t.addEventListener(Le.EVENT_WIDTH_CHANGED,n),t.addEventListener(Le.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.addEventListener(Le.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push(function(){t.removeEventListener(Le.EVENT_LEFT_CHANGED,i),t.removeEventListener(Le.EVENT_WIDTH_CHANGED,n),t.removeEventListener(Le.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.removeEventListener(Le.EVENT_LAST_LEFT_PINNED_CHANGED,s)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var t=[];return this.getAllRowCtrls().forEach(function(o){var i=o.getCellElement(e);i&&t.push(i)}),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,t){var o=this;e.forEach(function(e){e.destroyFirstPass(),e.destroySecondPass()}),e.length=0,t&&t.forEach(function(t){var i=new Xl(t,o.beans,!1,!1,o.printLayout);e.push(i)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return _(e)||L(this.rowCtrlsByRowIndex,function(o,i){var n=i.getRowNode();e.indexOf(n)>=0&&t.push(o)}),t},t.prototype.redrawRows=function(e){var t=null!=e&&e.length>0;if(t){var o=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(o)}this.redrawAfterModelUpdate({recycleRows:t})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t,o=(null===(t=e)||void 0===t?void 0:t.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==o)return null;var i=this.gridOptionsWrapper.getDocument().activeElement,n=this.gridOptionsWrapper.getDomData(i,Bl.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsWrapper.getDomData(i,Xl.DOM_DATA_KEY_ROW_CTRL);return n||r?o:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var o=!this.printLayout&&!!e.recycleRows,i=e.animate&&this.gridOptionsWrapper.isAnimateRows(),n=o?this.recycleRows():null;o||this.removeAllRowComps();var r=function(){if(null==t||null==n)return!1;var e=!1;return L(n,function(o,i){var n=i.getRowNode();n.rowIndex==t.rowIndex&&n.rowPinned==t.rowPinned&&(e=!0)}),e}();this.redraw(n,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),r||this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,o=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!o&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(t){t.stopEditing(e)})},t.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(e){return e.onNewColumnsLoaded()})},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(t){return e=e.concat(t.getAllCellCtrls())}),e},t.prototype.getAllRowCtrls=function(){var e=this,t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Wp(this.topRowCtrls,this.bottomRowCtrls,t);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(t){return o.push(e.rowCtrlsByRowIndex[t])}),o},t.prototype.addRenderedRowListener=function(e,t,o){var i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,o)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,o=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(e){return e.flashCell({flashDelay:t,fadeDelay:o})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(e){if(e.refreshShouldDestroy()){var o=e.getRowCtrl();o&&o.refreshCell(e)}else e.refreshCell(t)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(e){e.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){return this.getCellCtrls(e.rowNodes,e.columns).map(function(e){return e.getCellRenderer()}).filter(function(e){return null!=e})},t.prototype.getCellEditorInstances=function(e){var t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(e){var o=e.getCellEditor();o&&t.push(o)}),t},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(t){if(t.isEditing()){var o=t.getCellPosition();e.push(o)}}),e},t.prototype.mapRowNodes=function(e){if(e){var t={top:{},bottom:{},normal:{}};return e.forEach(function(e){var o=e.id;e.rowPinned===De.PINNED_TOP?t.top[o]=e:e.rowPinned===De.PINNED_BOTTOM?t.bottom[o]=e:t.normal[o]=e}),t}},t.prototype.isRowInMap=function(e,t){var o=e.id,i=e.rowPinned;return i===De.PINNED_BOTTOM?null!=t.bottom[o]:i===De.PINNED_TOP?null!=t.top[o]:null!=t.normal[o]},t.prototype.getCellCtrls=function(e,t){var o,i=this,n=this.mapRowNodes(e),r=[];E(t)&&(o={},t.forEach(function(e){var t=i.columnModel.getGridColumn(e);E(t)&&(o[t.getId()]=!0)}));var s=function(e){var t=e.getRowNode();(null==n||i.isRowInMap(t,n))&&e.getAllCellCtrls().forEach(function(e){var t=e.getColumn().getId();o&&!o[t]||r.push(e)})};return L(this.rowCtrlsByRowIndex,function(e,t){s(t)}),this.topRowCtrls&&this.topRowCtrls.forEach(s),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(s),r},t.prototype.destroy=function(){this.removeAllRowComps(),e.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];L(this.rowCtrlsByRowIndex,function(t,o){null==o.getRowNode().id&&e.push(t)}),this.removeRowCtrls(e);var t={};return L(this.rowCtrlsByRowIndex,function(e,o){var i=o.getRowNode();t[i.id]=o}),this.rowCtrlsByRowIndex={},t},t.prototype.removeRowCtrls=function(e){var t=this;e.forEach(function(e){var o=t.rowCtrlsByRowIndex[e];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete t.rowCtrlsByRowIndex[e]})},t.prototype.redrawAfterScroll=function(){var e;if(this.stickyRowFeature&&Eo()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=e){var t=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==t&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach(function(e){return t[e]=!0});var o=Object.keys(this.rowCtrlsByRowIndex).filter(function(e){return!t[e]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var t=this,o=nn(this.firstRenderedRow,this.lastRenderedRow),i=function(e,i){var n=i.getRowNode().rowIndex;null!=n&&(n<t.firstRenderedRow||n>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(i)&&o.push(n)};return L(this.rowCtrlsByRowIndex,i),L(e,i),o.sort(function(e,t){return e-t}),o=o.filter(function(e){var o=t.paginationProxy.getRow(e);return o&&!o.sticky})},t.prototype.redraw=function(e,t,o){var i=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var n=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(n),this.printLayout&&(t=!1);var r=[];n.forEach(function(n){var s=i.createOrUpdateRowCtrl(n,e,t,o);E(s)&&r.push(s)}),e&&(!o||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(function(){i.destroyRowCtrls(e,t),i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:Et.EVENT_DISPLAYED_ROWS_CHANGED})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(t){var o=t.getRowNode().rowIndex;e.push(o.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var t=this,o=this.mapRowNodes(e);return U(this.rowCtrlsByRowIndex).filter(function(e){if(!e.isFullWidth())return!1;var i=e.getRowNode();return!(null!=o&&!t.isRowInMap(i,o))})},t.prototype.refreshFullWidthRows=function(e){var t=[],o=!!e,i=o?{}:void 0;o&&i&&e.forEach(function(e){return i[e.id]=!0}),this.getFullWidthRowCtrls().forEach(function(e){var n=e.getRowNode();if((!o||!i||i[n.id]||i[n.level>0&&n.parent?n.parent.id:void 0])&&!e.refreshFullWidth()){var r=e.getRowNode().rowIndex;t.push(r.toString())}}),this.removeRowCtrls(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,t,o,i){var n,r=this.rowCtrlsByRowIndex[e];if(r||E(n=this.paginationProxy.getRow(e))&&E(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null),!r){if(n||(n=this.paginationProxy.getRow(e)),!E(n))return;r=this.createRowCon(n,o,i)}return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r},t.prototype.destroyRowCtrls=function(e,t){var o=this,i=[];L(e,function(e,n){n&&(o.cachedRowCtrls&&n.isCacheable()?o.cachedRowCtrls.addRow(n):(n.destroyFirstPass(),t?(o.zombieRowCtrls[n.getInstanceId()]=n,i.push(function(){n.destroySecondPass(),delete o.zombieRowCtrls[n.getInstanceId()]})):n.destroySecondPass()))}),t&&(i.push(function(){o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}),ae(i))},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,o=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var i=this.gridOptionsWrapper.getRowBufferInPixels(),n=this.ctrlsService.getGridBodyCtrl(),r=this.gridOptionsWrapper.isSuppressRowVirtualisation(),s=!1,a=void 0,l=void 0;do{var c=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getCurrentPagePixelRange(),p=u.pageFirstPixel,h=u.pageLastPixel,d=this.rowContainerHeightService.getDivStretchOffset(),f=n.getScrollFeature().getVScrollPosition(),g=f.top,m=f.bottom;r?(a=p+d,l=h+d):(a=Math.max(g+c-i,p)+d,l=Math.min(m+c+i,h)+d),this.firstVisibleVPixel=Math.max(g+c,p)+d,s=this.ensureAllRowsInRangeHaveHeightsCalculated(a,l)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(a),v=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();y<C&&(y=C),v>w&&(v=w),e=y,t=v}else e=0,t=-1;var b=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_NORMAL,x=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),S=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(b&&!x&&t-e>S&&(t=e+S),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:Et.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var E={type:Et.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return o.eventService.dispatchEventOnce(E)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){var o=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return o&&this.updateContainerHeights(),o},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),o=this.focusService.isRowNodeFocused(t),i=e.isEditing();return!!(o||i||t.detail)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowCon=function(e,t,o){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;var n=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Xl(e,this.beans,t,o&&!n&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(t){return e[t].getRowNode()})},t.prototype.getRowByPosition=function(e){var t,o=e.rowIndex;switch(e.rowPinned){case De.PINNED_TOP:t=this.topRowCtrls[o];break;case De.PINNED_BOTTOM:t=this.bottomRowCtrls[o];break;default:(t=this.rowCtrlsByRowIndex[o])||(t=this.getStickyTopRowCtrls().find(function(e){return e.getRowNode().rowIndex===o})||null)}return t},t.prototype.getRowNode=function(e){switch(e.rowPinned){case De.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case De.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,t){return!(null==e||null==t||t<this.firstRenderedRow||e>this.lastRenderedRow)},Hp([Se("animationFrameService")],t.prototype,"animationFrameService",void 0),Hp([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Hp([Se("columnModel")],t.prototype,"columnModel",void 0),Hp([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Hp([Se("rowModel")],t.prototype,"rowModel",void 0),Hp([Se("focusService")],t.prototype,"focusService",void 0),Hp([Se("columnApi")],t.prototype,"columnApi",void 0),Hp([Se("gridApi")],t.prototype,"gridApi",void 0),Hp([Se("beans")],t.prototype,"beans",void 0),Hp([Se("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Hp([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Hp([we],t.prototype,"postConstruct",null),Hp([xe("rowRenderer")],t)}(wt),jp=function(){function e(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return e.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},e.prototype.getRow=function(e){if(null==e||null==e.id)return null;var t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null},e.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Ue(this.entriesList,e)},e.prototype.getEntries=function(){return this.entriesList},e}(),zp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Up=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zp(t,e),t.prototype.formatValue=function(e,t,o,i,n){void 0===n&&(n=!0);var r,s=null,a=e.getColDef();if(i?r=i:n&&(r=t&&t.rowPinned&&a.pinnedRowValueFormatter?a.pinnedRowValueFormatter:a.valueFormatter),r){var l={value:o,node:t,data:t?t.data:null,colDef:a,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};s=this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[o]||"";return null==s&&Array.isArray(o)&&(s=o.join(", ")),s},Up([Se("expressionService")],t.prototype,"expressionService",void 0),Up([xe("valueFormatterService")],t)}(wt),Xp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),qp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return A(e===De.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var o=t===De.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(A(o))return 0;for(var i=0;i<o.length;i++){var n=o[i];if(n.rowTop+n.rowHeight-1>=e)return i}return o.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:Et.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:Et.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,t){var o=this,i=[];if(e){var n=0;e.forEach(function(e,r){var s=new Os(o.beans);s.data=e,s.id=(t?Os.ID_PREFIX_TOP_PINNED:Os.ID_PREFIX_BOTTOM_PINNED)+r,s.rowPinned=t?De.PINNED_TOP:De.PINNED_BOTTOM,s.setRowTop(n),s.setRowHeight(o.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(r),n+=s.rowHeight,i.push(s)})}return i},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){A(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){A(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=He(e);return t.rowTop+t.rowHeight},qp([Se("columnApi")],t.prototype,"columnApi",void 0),qp([Se("gridApi")],t.prototype,"gridApi",void 0),qp([Se("beans")],t.prototype,"beans",void 0),qp([we],t.prototype,"init",null),qp([xe("pinnedRowModel")],t)}(wt),Kp=(()=>(function(e){e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled"}(Kp||(Kp={})),Kp))(),Qp=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,o){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var n=e.childrenAfterGroup[i];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,o):o&&t(n)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,o=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},o++,t=t.parent;return o},e.prototype.populateColumnsMap=function(e,t){var o=this;if(this.keepingColumns&&t)for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(function(e){return o.nodeIdsToColumns[i.id][e.getId()]=!0}),i=i.parent},e.prototype.linkPathItems=function(e,t){for(var o=e,i=0;i<t;i++){var n=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(n),o=o.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return o[e.getId()]})},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return!o[e.getId()]})},e}(),Jp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$p=function(e){function t(o){var i=e.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=o,i}return Jp(t,e),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,t){this.successCommon(e,t)},t.prototype.pageLoaded=function(e,t,o){this.successCommon(e,{rowData:t,rowCount:o})},t.prototype.isRequestMostRecentAndLive=function(e){var t=e===this.version,o=this.isAlive();return t&&o},t.prototype.successCommon=function(e,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(o))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(wt),eh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),th=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeBlockLoadsCount=0,t.blocks=[],t.active=!0,t}var o,i;return eh(t,e),o=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();e&&e>0&&(this.checkBlockToLoadDebounce=In.debounce(this.performCheckBlocksToLoad.bind(this),e))},t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e),e.addEventListener($p.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(e){In.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:o.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,t=this.blocks.filter(function(e){return e.getState()===$p.STATE_WAITING_TO_LOAD}).slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(function(e){return e.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach(function(t){var o=t.getBlockStateJson();e[o.id]=o.state}),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",th([we],t.prototype,"postConstruct",null),th([(0,i=Ae("loggerFactory"),function(e,t){i(e,t,0)})],t.prototype,"setBeans",null),o=th([xe("rowNodeBlockLoader")],t)}(wt),ih=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),nh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return ih(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Et.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,o,i){var n=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:Et.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Et.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:Et.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return _(this.topRowBounds)||_(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(E(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Et.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!rn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*(this.currentPage+1)-1;if(t>e&&(t=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),t===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(t+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!rn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},nh([Se("rowModel")],t.prototype,"rowModel",void 0),nh([Se("columnApi")],t.prototype,"columnApi",void 0),nh([Se("gridApi")],t.prototype,"gridApi",void 0),nh([we],t.prototype,"postConstruct",null),nh([xe("paginationProxy")],t)}(wt),sh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ah=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sh(t,e),t.prototype.processAllCellClasses=function(e,t,o,i){this.processClassRules(e.cellClassRules,t,o,i),this.processStaticCellClasses(e,t,o)},t.prototype.processClassRules=function(e,t,o,i){if(null!=e){for(var n=Object.keys(e),r={},s={},a=function(o){var i,a=n[o],c=e[a];"string"==typeof c?i=l.expressionService.evaluate(c,t):"function"==typeof c&&(i=c(t)),a.split(" ").forEach(function(e){null!=e&&""!=e.trim()&&(i?r[e]=!0:s[e]=!0)})},l=this,c=0;c<n.length;c++)a(c);i&&Object.keys(s).forEach(i),Object.keys(r).forEach(o)}},t.prototype.getStaticCellClasses=function(e,t){var o,i=e.cellClass;return i?("string"==typeof(o="function"==typeof i?i(t):i)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,t,o){this.getStaticCellClasses(e,t).forEach(function(e){o(e)})},ah([Se("expressionService")],t.prototype,"expressionService",void 0),ah([xe("stylingService")],t)}(wt),ch=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uh=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return ch(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Et.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Mu),ph=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hh=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return ph(t,e),t.prototype.setValue=function(t,o){return e.prototype.setValue.call(this,t,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Mu),dh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fh=function(e){function t(t,o,i){return void 0===o&&(o="ag-text-field"),void 0===i&&(i="text"),e.call(this,t,o,i)||this}return dh(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,o){var i=e.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=E(t)?t:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(t){t.key&&!e.test(t.key)&&t.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(t){var o,i=null===(o=t.clipboardData)||void 0===o?void 0:o.getData("text");i&&i.split("").some(function(t){return!e.test(t)})&&t.preventDefault()})},t}(xr),gh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mh=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return gh(t,e),t.prototype.setValue=function(t,o){var i=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(xr),yh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vh=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return yh(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var e=parseFloat(t.eInput.value),o=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==o&&t.setValue(o)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,wi(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,wi(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,wi(this.eInput,"step",e)),this},t.prototype.setValue=function(t,o){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,o)},t}(fh),Ch=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wh=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return Ch(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,o=t.min,i=t.max,n=t.step;null!=o&&this.setMinValue(o),null!=i&&this.setMaxValue(i),this.setStep(n||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(t){e.setValue(t.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var i=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,i},t}(xr),bh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sh=function(e){function t(o){var i=e.call(this,o,t.TEMPLATE)||this;return i.labelAlignment="top",i}return bh(t,e),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,o=pr.EVENT_CHANGED;return this.addManagedListener(this.eText,o,function(){var o=parseFloat(t.eText.getValue());t.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,o,function(){var o=t.eSlider.getValue();t.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:pr.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',xh([Yn("eLabel")],t.prototype,"eLabel",void 0),xh([Yn("eSlider")],t.prototype,"eSlider",void 0),xh([Yn("eText")],t.prototype,"eText",void 0),xh([we],t.prototype,"init",null),t}(cr),Eh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_h=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ah=function(e){function t(o){var i=e.call(this,o,t.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return Eh(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var o=parseFloat(e);o>180&&(o-=360),t.setValue(o)}),this.updateNumberInput(),E(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,pr.EVENT_CHANGED,function(){var e=t.gridOptionsWrapper.getDocument();t.eAngleValue.getInputElement().contains(e.activeElement)||t.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,i=t.height/2;o.style.left=t.width/2+8*Math.cos(e)+"px",o.style.top=i+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,o=Math.atan2(t,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,o=Math.atan2(e.clientY-t.top-t.height/2,e.clientX-t.left-t.width/2);this.setValue(o,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,pr.EVENT_CHANGED,function(){e(t.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var o;return o=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:pr.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return ui(this.getGui(),e),this},t.prototype.setDisabled=function(t){return e.prototype.setDisabled.call(this,t),this.eAngleValue.setDisabled(t),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',_h([Yn("eLabel")],t.prototype,"eLabel",void 0),_h([Yn("eParentCircle")],t.prototype,"eParentCircle",void 0),_h([Yn("eChildCircle")],t.prototype,"eChildCircle",void 0),_h([Yn("eAngleValue")],t.prototype,"eAngleValue",void 0),_h([Se("dragService")],t.prototype,"dragService",void 0),t}(cr),Rh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Th=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oh=function(e){function t(o){var i=e.call(this,t.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=o.picker,i}return Rh(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var o=e.clientX-t.left,i=e.clientY-t.top;o=Math.max(o,0),o=Math.min(o,t.width),i=Math.max(i,0),i=Math.min(i,t.height),this.setSpectrumValue(o/t.width,1-i/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var o=this.spectrumHueSlider,i=o.getBoundingClientRect(),n=e.clientX-t.left;n=Math.max(n,0),n=Math.min(n,t.width),this.H=1-n/t.width,o.style.left=n+i.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var o=this.spectrumAlphaSlider,i=o.getBoundingClientRect(),n=e.clientX-t.left;n=Math.max(n,0),n=Math.min(n,t.width),this.A=n/t.width,o.style.left=n+i.width/2+"px",this.update()}},t.prototype.update=function(){var e=mo.fromHSB(360*this.H,this.S,this.B,this.A),t=mo.fromHSB(360*this.H,1,1),o=e.toRgbaString(),i=this.picker;mo.fromString(i.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),i.setValue(o),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,t){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var i=this.spectrumDragger,n=i.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,i.style.left=e*o.width-n.width/2+"px",i.style.top=(1-t)*o.height-n.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map(function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'});this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=mo.fromString(e),o=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(t.toHSB(),3),i=o[0],n=o[1],r=o[2];this.H=(isNaN(i)?0:i)/360,this.A=t.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(n,r)},t.prototype.onRecentColorClick=function(e){var o=e.target;if(E(o.id)){var i=parseInt(o.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=mo.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;this.colorChanged&&o[0]!==e&&(o=o.filter(function(t){return t!=e}),(o=[e].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Th([Yn("spectrumColor")],t.prototype,"spectrumColor",void 0),Th([Yn("spectrumVal")],t.prototype,"spectrumVal",void 0),Th([Yn("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Th([Yn("spectrumHue")],t.prototype,"spectrumHue",void 0),Th([Yn("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Th([Yn("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Th([Yn("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Th([Yn("recentColors")],t.prototype,"recentColors",void 0),Th([we],t.prototype,"postConstruct",null),t}(Un),Ph=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ih=function(e){function t(o){var i=e.call(this,t.getTemplate(o))||this;return i.closable=!0,i.config=o,i}return Ph(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,o=t.component,i=t.closable,n=t.hideTitleBar,r=t.title,s=t.minWidth,a=void 0===s?250:s,l=t.width,c=t.minHeight,u=void 0===c?250:c,p=t.height,h=t.centered,d=t.popup,f=t.x,g=t.y;this.positionableFeature=new Pp(this.getGui(),{minWidth:a,width:l,minHeight:u,height:p,centered:h,x:f,y:g,popup:d,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();o&&this.setBodyComponent(o),n?this.eTitleBar.classList.add("ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=i?i:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(t){var o=e.gridOptionsWrapper.getDocument();if(m.contains(t.relatedTarget)||m.contains(o.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var i=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");i&&i.focus()}}),d&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var o=this.closeButtonComp=new Un(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o);var i=o.getGui(),n=bn("close",this.gridOptionsWrapper);n.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(n),this.addTitleBarButton(o),o.addManagedListener(i,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var o=this.eTitleBarButtons,i=o.children,n=i.length;null==t&&(t=n),t=Math.max(0,Math.min(t,n)),e.addCssClass("ag-panel-title-bar-button");var r=e.getGui();0===t?o.insertAdjacentElement("afterbegin",r):t===n?o.insertAdjacentElement("beforeend",r):i[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Vo(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Wo(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Dh([Yn("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Dh([Yn("eTitleBar")],t.prototype,"eTitleBar",void 0),Dh([Yn("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Dh([Yn("eTitle")],t.prototype,"eTitle",void 0),Dh([we],t.prototype,"postConstruct",null),t}(Un),Mh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nh=function(){return(Nh=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},kh=function(e){function t(t){var o=e.call(this,Nh(Nh({},t),{popup:!0}))||this;return o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.lastPosition={x:0,y:0,width:0,height:0},o}return Mh(t,e),t.prototype.postConstruct=function(){var t=this,o=this.getGui(),i=this.config,n=i.movable,r=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),e.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(e){o.contains(e.relatedTarget)||t.popupService.bringPopupToFront(o)}),n&&this.setMovable(n),s&&this.setMaximizable(s),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,o=t.alwaysOnTop,i=t.modal,n=t.title,r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:o,ariaLabel:n||r("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var t=this.lastPosition,o=t.x,i=t.y,n=t.height;this.setWidth(t.width),this.setHeight(n),this.positionableFeature.offsetElement(o,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){ko(this.maximizeIcon,!this.isMaximized),ko(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var o=this.eTitleBar;if(o&&e!==this.isMaximizable){var i=this.maximizeButtonComp=this.createBean(new Un('<div class="ag-dialog-button"></span>')),n=i.getGui();n.appendChild(this.maximizeIcon=bn("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(this.minimizeIcon=bn("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),i.addManagedListener(n,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){t.isMaximized=!1,t.refreshMaximizeIcon()})}},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Se("popupService")],t.prototype,"popupService",void 0),t}(Ih),Lh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fh=function(e){function t(t){var o=e.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(o.value=t.color),o}return Lh(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),o=this.createBean(new kh({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250}));this.isPickerDisplayed=!0,o.addCssClass("ag-color-dialog"),Wi(this.eWrapper,!0);var i=this.createBean(new Oh({picker:this}));return i.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)}),o.setParentComponent(this),o.setBodyComponent(i),i.setValue(this.getValue()),o.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,i.isAlive()&&e.destroyBean(i)),e.isAlive()&&(Wi(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),o},t.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,e.prototype.setValue.call(this,t))},t.prototype.getValue=function(){return this.value},t}(fr),Gh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vh=function(e){function t(o){void 0===o&&(o={});var i=e.call(this,t.getTemplate(o))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var n=o.enabled,r=o.items,s=o.suppressEnabledCheckbox,a=o.suppressOpenCloseIcons;return i.title=o.title,i.cssIdentifier=o.cssIdentifier||"default",i.enabled=null==n||n,i.items=r||[],i.alignItems=o.alignItems||"center",null!=s&&(i.suppressEnabledCheckbox=s),null!=a&&(i.suppressOpenCloseIcons=a),i}return Gh(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(wn("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(wn("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(t){switch(t.key){case xn.ENTER:case xn.SPACE:t.preventDefault(),e.toggleGroupExpand();break;case xn.RIGHT:case xn.LEFT:t.preventDefault(),e.toggleGroupExpand(t.key===xn.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Wi(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;ko(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ko(this.eGroupOpenedIcon,e&&this.expanded),ko(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ko(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),ko(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},t.prototype.addItem=function(e){var t=this.eContainer,o=e instanceof Un?e.getGui():e;o.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),t.appendChild(o),this.items.push(o)},t.prototype.hideItem=function(e,t){this.items[t].classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange(function(o){t.setEnabled(o,!0),e(o)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Hh([Yn("eTitleBar")],t.prototype,"eTitleBar",void 0),Hh([Yn("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Hh([Yn("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Hh([Yn("eToolbar")],t.prototype,"eToolbar",void 0),Hh([Yn("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Hh([Yn("eTitle")],t.prototype,"eTitle",void 0),Hh([Yn("eContainer")],t.prototype,"eContainer",void 0),Hh([we],t.prototype,"postConstruct",null),t}(Un),Wh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jh=function(e){function t(t){var o=e.call(this)||this;o.skipTabGuardFocus=!1;var i=t.eTopGuard,n=t.eBottomGuard,r=t.focusInnerElement,s=t.onFocusIn,a=t.onFocusOut,l=t.shouldStopEventPropagation,c=t.onTabKeyDown,u=t.handleKeyDown,p=t.eFocusableElement;return o.comp=t.comp,o.eTopGuard=i,o.eBottomGuard=n,o.providedFocusInnerElement=r,o.eFocusableElement=p,o.providedFocusIn=s,o.providedFocusOut=a,o.providedShouldStopEventPropagation=l,o.providedOnTabKeyDown=c,o.providedHandleKeyDown=u,o}return Wh(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new nr(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)},onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var t=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();var i=this.getNextFocusableElement(e.shiftKey);o&&setTimeout(function(){return t.activateTabGuards()},0),i&&(i.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()},Bh([Se("focusService")],t.prototype,"focusService",void 0),Bh([we],t.prototype,"postConstruct",null),t}(wt),zh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Uh=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Yh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zh(t,e),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var t=[this.eTopGuard,this.eBottomGuard],o={setTabIndex:function(e){t.forEach(function(t){return null!=e?t.setAttribute("tabIndex",e):t.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new jh({comp:o,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard","ag-tab-guard-"+e),Pi(t,"presentation"),t},t.prototype.addTabGuards=function(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Xo(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Uh(arguments[t]));return e}(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(t,o){mi(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,o)},t}(Un),Xh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),qh=function(){return(qh=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Zh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kh=function(e){function t(t){void 0===t&&(t=1);var o=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=t,o.menuItems=[],o}return Xh(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),o=t&&t.getGui();o&&o.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case xn.UP:case xn.RIGHT:case xn.DOWN:case xn.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case xn.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach(function(e){"separator"===e?t.addSeparator():"string"==typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)})},t.prototype.addItem=function(e){var t=this,o=this.createManagedBean(new td(qh(qh({},e),{isAnotherSubMenuOpen:function(){return t.menuItems.some(function(e){return e.isSubMenuOpen()})}})));o.setParentComponent(this),Hi(o.getGui(),this.level),this.menuItems.push(o),this.appendChild(o.getGui()),this.addManagedListener(o,td.EVENT_MENU_ITEM_SELECTED,function(e){t.dispatchEvent(e)}),this.addManagedListener(o,td.EVENT_MENU_ITEM_ACTIVATED,function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(e){return!e.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(Qo('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var o=e&&e.getParentComponent&&e.getParentComponent();if(!o||!(o instanceof t||o instanceof td))break;e=o}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case xn.UP:case xn.DOWN:var t=this.findNextItem(e===xn.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?xn.RIGHT:xn.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof td&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter(function(e){return!e.isDisabled()});if(t.length){if(!this.activeMenuItem)return e?He(t):t[0];var o;e&&t.reverse();for(var i=!1,n=0;n<t.length;n++){var r=t[n];if(i){o=r;break}r===this.activeMenuItem&&(i=!0)}return o||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},Zh([Se("focusService")],t.prototype,"focusService",void 0),Zh([we],t.prototype,"postConstruct",null),t}(Yh),Qh=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Jh=function(e){function t(t){var o=e.call(this)||this;return o.wrappedComponent=t,o.setTemplateFromElement(t.getGui()),o}return Qh(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.key===xn.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([we],t.prototype,"postConstruct",null),t}(Yh),$h=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ed=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},td=function(e){function t(t){var o=e.call(this)||this;return o.params=t,o.isActive=!1,o.subMenuIsOpen=!1,o.setTemplate('<div class="'+o.getClassName()+'" tabindex="-1" role="treeitem"></div>'),o}return $h(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Vi(t,!0)):(this.addGuiEventListener("click",function(t){return e.onItemSelected(t)}),this.addGuiEventListener("keydown",function(t){t.key!==xn.ENTER&&t.key!==xn.SPACE||(t.preventDefault(),e.onItemSelected(t))}),this.addGuiEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(t){return e.addCssClass(t)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var o=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var i,n=Qo('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var r=Ii(this.getGui()),s=isNaN(r)?1:r+1,a=this.createBean(new Kh(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),n.appendChild(a.getGui()),this.addManagedListener(a,t.EVENT_MENU_ITEM_SELECTED,function(e){return o.dispatchEvent(e)}),a.addGuiEventListener("mouseenter",function(){return o.cancelDeactivate()}),i=function(){return o.destroyBean(a)},e&&setTimeout(function(){return a.activateFirstItem()},0)}else{var l=this.params.subMenu,c=this.createBean(new Jh(l));c.setParentComponent(this);var u=c.getGui(),p="mouseenter",h=function(){return o.cancelDeactivate()};u.addEventListener(p,h),i=function(){return u.removeEventListener(p,h)},n.appendChild(u),l.afterGuiAttached&&setTimeout(function(){return l.afterGuiAttached()},0)}var d=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:d,ePopup:n}),g=this.gridOptionsWrapper.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:f,anchorToElement:d,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Wi(d,!0),this.hideSubMenu=function(){m&&m.hideFunc(),o.subMenuIsOpen=!1,Wi(d,!1),i()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Wi(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){t.isAlive()&&t.isActive&&t.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Qo('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(bn("check",this.gridOptionsWrapper)):this.params.icon&&(mi(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Qo('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Vn(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Qo('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Qo('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var o=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Wi(t,!1),e.appendChild(bn(o,this.gridOptionsWrapper))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,ed([Se("popupService")],t.prototype,"popupService",void 0),ed([we],t.prototype,"init",null),t}(Un),od=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),id=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nd=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return od(t,e),o=t,t.addKeyboardModeEvents=function(e,t){var i=o.instancesMonitored.get(e);i&&i.length>0?-1===i.indexOf(t)&&i.push(t):(o.instancesMonitored.set(e,[t]),e.addEventListener("keydown",o.toggleKeyboardMode),e.addEventListener("mousedown",o.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(e,t){var i=o.instancesMonitored.get(e),n=[];i&&i.length&&(n=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nd(arguments[t]));return e}(i).filter(function(e){return e!==t}),o.instancesMonitored.set(e,n)),0===n.length&&(e.removeEventListener("keydown",o.toggleKeyboardMode),e.removeEventListener("mousedown",o.toggleKeyboardMode))},t.toggleKeyboardMode=function(e){var t=o.keyboardModeActive,i="keydown"===e.type;if(!(i&&(e.ctrlKey||e.metaKey||e.altKey)||t&&i||!t&&!i)){o.keyboardModeActive=i;var n=e.target.ownerDocument;if(n){var r=o.instancesMonitored.get(n);r&&r.forEach(function(e){e.dispatchEvent({type:i?Et.EVENT_KEYBOARD_FOCUS:Et.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var e=this,t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.ctrlsService.whenReady(function(t){e.gridCtrl=t.gridCtrl;var i=e.gridOptionsWrapper.getDocument();o.addKeyboardModeEvents(i,e.gridCtrl),e.addDestroyFunc(function(){return e.unregisterGridCompController(e.gridCtrl)})})},t.prototype.unregisterGridCompController=function(e){var t=this.gridOptionsWrapper.getDocument();o.removeKeyboardModeEvents(t,e)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return o.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var e=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Xl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var e=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,mu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(e,t){for(var o=e;o;){if(this.gridOptionsWrapper.getDomData(o,t))return!1;o=o.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e){var t=e.rowIndex,o=e.rowPinned,i=e.forceBrowserFocus,n=void 0!==i&&i,r=e.preventScrollOnBrowserFocus,s=void 0!==r&&r,a=this.columnModel.getGridColumn(e.column);a?(this.focusedCellPosition=a?{rowIndex:t,rowPinned:S(o),column:a}:null,this.onCellFocused(n,s)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumnGroupChild(),o=e.getRowIndex(),i=e.getPinned(),n=this.focusedHeaderPosition,r=n.column;return t===r&&o===n.headerRowIndex&&i==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e){var t=e.direction,o=e.fromTab,i=e.event,n=e.headerPosition;if(e.allowUserOverride){var r,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();o?(r=s.getTabToNextHeaderFunc())&&(n=r({backwards:"Before"===t,previousHeaderPosition:a,nextHeaderPosition:n,headerRowCount:l})):(r=s.getNavigateToNextHeaderFunc())&&i&&(n=r({key:i.key,previousHeaderPosition:a,nextHeaderPosition:n,headerRowCount:l,event:i}))}return!!n&&(-1===n.headerRowIndex?this.focusGridView(n.column):(this.headerNavigationService.scrollToColumn(n.column,t),this.ctrlsService.getHeaderRowContainerCtrl(n.column.getPinned()).focusHeader(n.headerRowIndex,n.column,i)))},t.prototype.focusFirstHeader=function(){var e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))},t.prototype.focusLastHeader=function(e){var t=this.headerNavigationService.getHeaderRowCount()-1,o=He(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:o},event:e})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===S(t)},t.prototype.findFocusableElements=function(e,t,o){void 0===o&&(o=!1);var i=De.FOCUSABLE_EXCLUDE;t&&(i+=", "+t),o&&(i+=', [tabindex="-1"]');var n,r=Array.prototype.slice.apply(e.querySelectorAll(De.FOCUSABLE_SELECTOR)),s=Array.prototype.slice.apply(e.querySelectorAll(i));return s.length?(n=s,r.filter(function(e){return-1===n.indexOf(e)})):r},t.prototype.focusInto=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);var i=this.findFocusableElements(e,null,o),n=t?He(i):i[0];return!!n&&(n.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,o){void 0===e&&(e=this.eGridDiv);var i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),n=this.gridOptionsWrapper.getDocument().activeElement,r=(t?i.findIndex(function(e){return e.contains(n)}):i.indexOf(n))+(o?-1:1);return r<0||r>=i.length?null:i[r]},t.prototype.isFocusUnderManagedComponent=function(e){var t=this.gridOptionsWrapper.getDocument(),o=e.querySelectorAll("."+nr.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var i=0;i<o.length;i++)if(o[i].contains(t.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var o=0;e&&null===_o(e)&&++o<=t;)e=e.parentElement;return null===_o(e)?null:e},t.prototype.onCellFocused=function(e,t){var o={type:Et.EVENT_CELL_FOCUSED,forceBrowserFocus:e,preventScrollOnBrowserFocus:t,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var i=o.rowIndex=this.focusedCellPosition.rowIndex,n=o.rowPinned=this.focusedCellPosition.rowPinned;o.column=this.focusedCellPosition.column;var r=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n});r&&(o.isFullWidthCell=r.isFullWidth())}this.eventService.dispatchEvent(o)},t.prototype.focusGridView=function(e,t){if(this.gridOptionsWrapper.isSuppressCellFocus())return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var i=o.rowIndex,n=o.rowPinned,r=this.getFocusedHeader();return!e&&r&&(e=r.column),!(null==i||!e||(this.navigationService.ensureCellVisible({rowIndex:i,column:e,rowPinned:n}),this.setFocusedCell({rowIndex:i,column:e,rowPinned:S(n),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:i,rowPinned:n,column:e}),0))},t.prototype.focusNextGridCoreContainer=function(e){return!!this.gridCtrl.focusNextInnerContainer(e)||(e||this.gridCtrl.isDetailGrid()||this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,id([Se("eGridDiv")],t.prototype,"eGridDiv",void 0),id([Se("columnModel")],t.prototype,"columnModel",void 0),id([Se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),id([Se("columnApi")],t.prototype,"columnApi",void 0),id([Se("gridApi")],t.prototype,"gridApi",void 0),id([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),id([Se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),id([Ee("rangeService")],t.prototype,"rangeService",void 0),id([Se("navigationService")],t.prototype,"navigationService",void 0),id([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),id([we],t.prototype,"init",null),o=id([xe("focusService")],t)}(wt),sd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ad=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ld=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},cd=(()=>(function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal"}(cd||(cd={})),cd))(),ud=0,pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return sd(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.gridCtrl=t.gridCtrl,e.addManagedListener(e.gridCtrl,Et.EVENT_KEYBOARD_FOCUS,function(){e.popupList.forEach(function(e){return e.element.classList.add(rd.AG_KEYBOARD_FOCUS)})}),e.addManagedListener(e.gridCtrl,Et.EVENT_MOUSE_FOCUS,function(){e.popupList.forEach(function(e){return e.element.classList.remove(rd.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect(),i=this.keepXYWithinBounds(e.ePopup,t.top-o.top,cd.vertical),n=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=n+"px";var r,s=o.right-o.left-n;function a(){return t.right-o.left-2}function l(){return t.left-o.left-n}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=i+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=e.ePopup,o=e.nudgeX,i=e.nudgeY,n=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:t,x:n.x,y:n.y,nudgeX:o,nudgeY:i,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=e.alignSide||"left",i=this.getParentRect(),n=t.left-i.left;"right"===o&&(n-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:n,y:t.top-i.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-o.left,y:t.top-o.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,o,i,n,r){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:n,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:i})},t.prototype.positionPopup=function(e){var t=e.ePopup,o=e.nudgeX,i=e.nudgeY,n=e.x,r=e.y;o&&(n+=o),i&&(r+=i),e.keepWithinBounds&&(n=this.keepXYWithinBounds(t,n,cd.horizontal),r=this.keepXYWithinBounds(t,r,cd.vertical)),t.style.left=n+"px",t.style.top=r+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.getPopupParent();t===e.body&&(t=e.documentElement);var o=getComputedStyle(t),i=t.getBoundingClientRect();return{top:i.top+parseFloat(o.borderTopWidth)||0,left:i.left+parseFloat(o.borderLeftWidth)||0,right:i.right+parseFloat(o.borderRightWidth)||0,bottom:i.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,t,o){var i=o===cd.vertical,n=i?"clientHeight":"clientWidth",r=i?"top":"left",s=i?"offsetHeight":"offsetWidth",a=i?"scrollTop":"scrollLeft",l=this.gridOptionsWrapper.getDocument(),c=l.documentElement,u=this.getPopupParent(),p=u.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),d=u===l.body,f=e[s],g=d?(i?Bo:jo)(c)+c[a]:u[n];d&&(g-=Math.abs(h[r]-p[r]));var m=g-f;return Math.min(Math.max(t,0),Math.abs(m))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this,o=this.getPopupParent(),i=o.getBoundingClientRect(),n=e.element.getBoundingClientRect(),r=i.top-n.top,s=i.left-n.left,a=r,l=s,c=e.ePopup.style.top,u=parseInt(c.substring(0,c.length-1),10),p=e.ePopup.style.left,h=parseInt(p.substring(0,p.length-1),10);return new kn(function(i){t.getFrameworkOverrides().setInterval(function(){var i=o.getBoundingClientRect(),n=e.element.getBoundingClientRect();if(0==n.top&&0==n.left&&0==n.height&&0==n.width)e.hidePopup();else{var c=i.top-n.top;if(c!=a){var p=t.keepXYWithinBounds(e.ePopup,u+r-c,cd.vertical);e.ePopup.style.top=p+"px"}a=c;var d=i.left-n.left;if(d!=l){var f=t.keepXYWithinBounds(e.ePopup,h+s-d,cd.horizontal);e.ePopup.style.left=f+"px"}l=d}},200).then(function(e){i(function(){null!=e&&window.clearInterval(e)})})})},t.prototype.addPopup=function(e){var t,o=this,i=e.modal,n=e.eChild,r=e.closeOnEsc,s=e.closedCallback,a=e.click,l=e.alwaysOnTop,c=e.afterGuiAttached,u=e.positionCallback,p=e.anchorToElement,h=e.ariaLabel,d=this.gridOptionsWrapper.getDocument(),f=new kn(function(e){return e(function(){})});if(!d)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex(function(e){return e.element===n});if(-1!==g){var m=this.popupList[g];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var y=this.getPopupParent();null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var v=document.createElement("div"),C=this.environment.getTheme().allThemes;C.length&&(t=v.classList).add.apply(t,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ld(arguments[t]));return e}(C)),v.classList.add("ag-popup"),n.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||Pi(n,"dialog"),ki(n,h),this.focusService.isKeyboardMode()&&n.classList.add(rd.AG_KEYBOARD_FOCUS),v.appendChild(n),y.appendChild(v),l?this.setAlwaysOnTop(v,!0):this.bringPopupToFront(v);var w=!1,b=function(e){v.contains(d.activeElement)&&e.key===xn.ESCAPE&&E({keyboardEvent:e})},x=function(e){return E({mouseEvent:e})},S=function(e){return E({touchEvent:e})},E=function(e){void 0===e&&(e={});var t=e.mouseEvent,i=e.touchEvent,r=e.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:t,touchEvent:i},n)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:t,touchEvent:i})||w||(w=!0,y.removeChild(v),d.removeEventListener("keydown",b),d.removeEventListener("mousedown",x),d.removeEventListener("touchstart",S),d.removeEventListener("contextmenu",x),o.eventService.removeEventListener(Et.EVENT_DRAG_STARTED,x),s&&s(t||i||r),o.popupList=o.popupList.filter(function(e){return e.element!==n}),f&&f.then(function(e){return e&&e()}))};return c&&c({hidePopup:E}),window.setTimeout(function(){r&&d.addEventListener("keydown",b),i&&(d.addEventListener("mousedown",x),o.eventService.addEventListener(Et.EVENT_DRAG_STARTED,x),d.addEventListener("touchstart",S),d.addEventListener("contextmenu",x))},0),u&&u(),p&&(f=this.keepPopupPositionedRelativeTo({element:p,ePopup:n,hidePopup:E})),this.popupList.push({element:n,wrapper:v,hideFunc:E,stopAnchoringPromise:f,instanceId:ud++,isAnchored:!!p}),{hideFunc:E,stopAnchoringPromise:f}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(e){return e.isAnchored})},t.prototype.isEventFromCurrentPopup=function(e,t){var o=e.mouseEvent||e.touchEvent;if(!o)return!1;var i=this.popupList.findIndex(function(e){return e.element===t});if(-1===i)return!1;for(var n=i;n<this.popupList.length;n++)if(dt(this.popupList[n].element,o))return!0;return this.isElementWithinCustomPopup(o.target)},t.prototype.isElementWithinCustomPopup=function(e){for(var t=this.gridOptionsWrapper.getDocument();e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,o=e.mouseEvent,i=e.touchEvent,n=null;if(o?n=o:i&&(n=i.touches[0]),n&&t){var r=o?o.screenY:0,s=Math.abs(t.screenX-(o?o.screenX:0))<5,a=Math.abs(t.screenY-r)<5;if(s&&a)return!0}return!1},t.prototype.getWrapper=function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var o=this.getWrapper(e);o&&(o.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=o.length,n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=n.length,s=this.getWrapper(e);if(s&&!(i<=1)&&t.contains(e)){var a=o.indexOf(s),l=s.querySelectorAll("div"),c=[];for(l.forEach(function(e){0!==e.scrollTop&&c.push([e,e.scrollTop])}),r?s.classList.contains("ag-always-on-top")?a!==i-1&&He(n).insertAdjacentElement("afterend",s):a!==i-r-1&&n[0].insertAdjacentElement("beforebegin",s):a!==i-1&&He(o).insertAdjacentElement("afterend",s);c.length;){var u=c.pop();u[0].scrollTop=u[1]}var p={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(p)}},ad([Se("environment")],t.prototype,"environment",void 0),ad([Se("focusService")],t.prototype,"focusService",void 0),ad([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),ad([we],t.prototype,"postConstruct",null),ad([xe("popupService")],t)}(wt),hd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),dd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fd=function(e){function t(o,i,n){void 0===o&&(o="default"),void 0===i&&(i="listbox");var r=e.call(this,t.getTemplate(o))||this;return r.cssIdentifier=o,r.ariaRole=i,r.listName=n,r.renderedRows=new Map,r.rowHeight=20,r.isDestroyed=!1,r}return hd(t,e),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)},focusInnerElement:function(t){return e.focusInnerElement(t)},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),t=this.eContainer;Pi(t,this.ariaRole),ki(t,e)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Mi(t)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case xn.UP:case xn.DOWN:this.navigate(e.key===xn.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout(function(){var o=t.renderedRows.get(e);o&&o.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(t,o){return e(t.rowComponent,o)})},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var o=e*this.rowHeight,i=o+this.rowHeight,n=this.getGui(),r=n.scrollTop,s=n.offsetHeight,a=r+s<i;r>o?n.scrollTop=o:a&&(n.scrollTop=i-s)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",fe(function(){return e.eContainer.clientHeight>=t*e.rowHeight},function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())})}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(t,o){return e.removeRow(o)})},t.prototype.drawVirtualRows=function(){if(this.isAlive()){var e=this.getGui(),t=e.scrollTop,o=t+e.offsetHeight,i=Math.floor(t/this.rowHeight),n=Math.floor(o/this.rowHeight);this.ensureRowsRendered(i,n)}},t.prototype.ensureRowsRendered=function(e,t){var o=this;this.renderedRows.forEach(function(i,n){(n<e||n>t)&&n!==o.lastFocusedRowIndex&&o.removeRow(n)});for(var i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)},t.prototype.insertRow=function(e){var t=this,o=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Pi(i,"tree"===this.ariaRole?"treeitem":"option"),ji(i,this.model.getRowCount()),zi(i,e+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var n=this.model.isRowSelected(e);$i(i,!!n),en(i,n)}i.style.height=this.rowHeight+"px",i.style.top=this.rowHeight*e+"px";var r=this.componentCreator(o,i);r.addGuiEventListener("focusin",function(){return t.lastFocusedRowIndex=e}),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,e.prototype.destroy.call(this))},dd([Se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),dd([Se("focusService")],t.prototype,"focusService",void 0),dd([Yn("eContainer")],t.prototype,"eContainer",void 0),dd([we],t.prototype,"postConstruct",null),t}(Yh),gd=["mouseover","mouseout","mouseenter","mouseleave"],md=["touchstart","touchend","touchmove","touchcancel"],yd=function(){function e(){this.isOutsideAngular=function(e){return Ke(gd,e)}}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.setInterval=function(e,t){return new kn(function(o){o(window.setInterval(e,t))})},e.prototype.addEventListener=function(e,t,o,i){var n=Ke(md,t);e.addEventListener(t,o,{capture:!!i,passive:n})},e.prototype.dispatchEvent=function(e,t,o){void 0===o&&(o=!1),t()},e.prototype.frameworkComponent=function(e){return null},e.prototype.isFrameworkComponent=function(e){return!1},e}(),vd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wd=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vd(t,e),t.prototype.getNextCellToFocus=function(e,t,o){return void 0===o&&(o=!1),o?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,t){var o,i,n=e===xn.UP,r=e===xn.LEFT;if(n||e===xn.DOWN)i=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=t.column;else{var s=this.columnModel.getAllDisplayedColumns(),a=this.gridOptionsWrapper.isEnableRtl();i=t.rowIndex,o=r!==a?s[0]:He(s)}return{rowIndex:i,rowPinned:null,column:o}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,t){for(var o=t,i=!1;!i;){switch(e){case xn.UP:o=this.getCellAbove(o);break;case xn.DOWN:o=this.getCellBelow(o);break;case xn.RIGHT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(o):this.getCellToRight(o);break;case xn.LEFT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,console.warn("AG Grid: unknown key for navigation "+e)}i=!o||this.isCellGoodToFocusOn(o)}return o},t.prototype.isCellGoodToFocusOn=function(e){var t,o=e.column;switch(e.rowPinned){case De.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case De.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!!t&&!o.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,o=e.rowPinned;if(this.isLastRowInContainer(e))switch(o){case De.PINNED_BOTTOM:return null;case De.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(De.PINNED_BOTTOM)?{rowIndex:0,rowPinned:De.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(De.PINNED_BOTTOM)?{rowIndex:0,rowPinned:De.PINNED_BOTTOM}:null}var i=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(i)||{rowIndex:t+1,rowPinned:o}},t.prototype.getNextStickyPosition=function(e,t){if(this.gridOptionsWrapper.isGroupRowsSticky()&&e&&e.sticky){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wd(arguments[t]));return e}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(e,t){return e.getRowNode().rowIndex-t.getRowNode().rowIndex}),i=t?-1:1,n=o.findIndex(function(t){return t.getRowNode().rowIndex===e.rowIndex}),r=o[n+i];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,o=e.rowIndex;return t===De.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=o:t===De.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=o:this.paginationProxy.getPageLastRow()<=o},t.prototype.getRowAbove=function(e){var t=e.rowIndex,o=e.rowPinned;if(o?0===t:t===this.paginationProxy.getPageFirstRow())return o===De.PINNED_TOP?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(De.PINNED_TOP)?this.getLastFloatingTopRow():null;var i=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(i,!0)||{rowIndex:t-1,rowPinned:o}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:De.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),o=e.rowIndex,i=e.rowPinned,n=this.columnModel.getDisplayedColAfter(e.column);if(!n){n=t[0];var r=this.getRowBelow(e);if(_(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,i=r?r.rowPinned:null}return{rowIndex:o,column:n,rowPinned:i}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),o=e.rowIndex,i=e.rowPinned,n=this.columnModel.getDisplayedColBefore(e.column);if(!n){n=He(t);var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,i=r?r.rowPinned:null}return{rowIndex:o,column:n,rowPinned:i}},Cd([Se("columnModel")],t.prototype,"columnModel",void 0),Cd([Se("rowModel")],t.prototype,"rowModel",void 0),Cd([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),Cd([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Cd([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Cd([xe("cellNavigationService")],t)}(wt),xd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Sd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return xd(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,Et.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach(function(t){if(t.api){var o=t.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(t){t.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e)}):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e.getColId())}):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){switch(e.type){case Et.EVENT_COLUMN_MOVED:case Et.EVENT_COLUMN_VISIBLE:case Et.EVENT_COLUMN_PINNED:case Et.EVENT_COLUMN_RESIZED:t.processColumnEvent(e);break;case Et.EVENT_COLUMN_GROUP_OPENED:t.processGroupOpenedEvent(e);break;case Et.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var t=e.columnGroup,o=null;if(t){var i=t.getGroupId();o=this.columnModel.getProvidedColumnGroup(i)}t&&!o||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(o,t.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,o=this,i=e.column,n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),!i||n){var r=this.getMasterColumns(e);switch(e.type){case Et.EVENT_COLUMN_MOVED:var s=e,a=e.columnApi.getColumnState().map(function(e){return{colId:e.colId}});this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex);break;case Et.EVENT_COLUMN_VISIBLE:var l=e;a=e.columnApi.getColumnState().map(function(e){return{colId:e.colId,hide:e.hide}}),this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+l.visible);break;case Et.EVENT_COLUMN_PINNED:var c=e;a=e.columnApi.getColumnState().map(function(e){return{colId:e.colId,pinned:e.pinned}}),this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+c.pinned);break;case Et.EVENT_COLUMN_RESIZED:var u=e,p={};r.forEach(function(t){o.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth()),p[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}}),null===(t=u.flexColumns)||void 0===t||t.forEach(function(e){p[e.getId()]&&delete p[e.getId()]}),this.columnModel.setColumnWidths(Object.values(p),!1,u.finished,"alignedGridChanged")}var h=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),d=this.gridOptionsWrapper.getAlignedGrids();d&&d.forEach(function(e){e.api&&e.api.setAlwaysShowVerticalScroll(h)})}},Sd([Se("columnModel")],t.prototype,"columnModel",void 0),Sd([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Sd([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Sd([we],t.prototype,"init",null),Sd([xe("alignedGridsService")],t);var o}(wt),_d=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ad=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _d(t,e),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Et.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return L(this.selectedNodes,function(t,o){o&&e.push(o)}),e},t.prototype.getSelectedRows=function(){var e=[];return L(this.selectedNodes,function(t,o){o&&o.data&&e.push(o.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;L(this.selectedNodes,function(t,o){o&&o.group&&(e.selectedNodes[o.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===De.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Qp(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst(function(e){if(e!==t){var o=e.calculateSelectedFromChildren();e.selectThisNode(null!==o&&o)}})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,o={},i=0;return L(this.selectedNodes,function(n,r){r&&r.id!==e.id&&(i+=t.selectedNodes[r.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&r.parent&&(o[r.parent.id]=r.parent))}),L(o,function(e,t){var o=t.calculateSelectedFromChildren();t.selectThisNode(null!==o&&o)}),i},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(this.selectedNodes[t.id]=t.isSelected()?t:void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){E(t)&&e.id!==t.id&&t&&this.selectedNodes[t.id]==e&&(this.selectedNodes[t.id]=t)},t.prototype.syncInNewRowNode=function(e){E(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===De.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(o){for(var i=0,n=o.length;i<n;i++){var r=o[i];r.isSelected()?t.push(r):r.group&&r.children&&e(r.children)}}(e),t}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return L(this.selectedNodes,function(t,o){o&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},o=this.rowModel.getType()===De.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!o)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else L(this.selectedNodes,function(e,o){o&&t(o)}),this.reset();o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Et.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==De.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,o=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(o):t.forEachNode(o),this.rowModel.getType()===De.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Et.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var o=this.rowModel.getRow(e);this.selectNode(o,t)},Ad([Se("rowModel")],t.prototype,"rowModel",void 0),Ad([Se("columnApi")],t.prototype,"columnApi",void 0),Ad([Se("gridApi")],t.prototype,"gridApi",void 0),Ad([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Ad([we],t.prototype,"init",null),Ad([xe("selectionService")],t);var o}(wt),Td=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Od=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){void 0===e&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},e.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},e.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},e.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnModel.getColumnState()},e.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},e.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},e.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},e.prototype.moveColumn=function(e,t){"number"==typeof e?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(e,t,"api")):this.columnModel.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,o,i){void 0===o&&(o=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,o,i)},e.prototype.setColumnWidths=function(e,t,o){void 0===t&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,o)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(e,t)},e.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},e.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},e.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(e)},e.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},e.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(In.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},e.prototype.columnGroupOpened=function(e,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},e.prototype.setColumnState=function(e){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:e,applyOrder:!0},"api")},e.prototype.getOriginalColumnGroup=function(e){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(e)},Td([Se("columnModel")],e.prototype,"columnModel",void 0),Td([be],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Td([xe("columnApi")],e)}(),Pd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Id=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return Pd(t,e),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(Et.EVENT_CELL_VALUE_CHANGED,function(t){return e.callColumnCellValueChangedHandler(t)},this.gridOptionsWrapper.useAsyncEvents())},t.prototype.getValue=function(e,t,o,i){if(void 0===o&&(o=!1),void 0===i&&(i=!1),this.initialised||this.init(),t){var n,r=e.getColDef(),s=r.field,a=e.getId(),l=t.data,c=t.groupData&&void 0!==t.groupData[a],u=!i&&t.aggData&&void 0!==t.aggData[a];if(o&&r.filterValueGetter?n=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&u?n=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?n=Q(l,s,e.isFieldContainsDots()):c?n=t.groupData[a]:u?n=t.aggData[a]:r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(n=Q(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof n&&0===n.indexOf("=")){var p=n.substring(1);n=this.executeValueGetter(p,l,e,t)}if(null==n){var h=this.getOpenedGroup(t,e);if(null!=h)return h}return n}},t.prototype.getOpenedGroup=function(e,t){if(this.gridOptionsWrapper.isShowOpenedGroup()&&t.getColDef().showRowGroup)for(var o=t.getColDef().showRowGroup,i=e.parent;null!=i;){if(i.rowGroupColumn&&(!0===o||o===i.rowGroupColumn.getId()))return i.key;i=i.parent}},t.prototype.setValue=function(e,t,o,i){var n=this.columnModel.getPrimaryColumn(t);if(!e||!n)return!1;_(e.data)&&(e.data={});var r=n.getColDef(),s=r.field,a=r.newValueHandler,l=r.valueSetter;if(_(s)&&_(a)&&_(l))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var c,u={node:e,data:e.data,oldValue:this.getValue(n,e),newValue:o,colDef:n.getColDef(),column:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return u.newValue=o,void 0===(c=a&&E(a)?a(u):E(l)?this.expressionService.evaluate(l,u):this.setValueUsingField(e.data,s,o,n.isFieldContainsDots()))&&(c=!0),!!c&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(n,e),this.eventService.dispatchEvent({type:Et.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,columnApi:u.columnApi,colDef:u.colDef,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:i}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var t=e.colDef.onCellValueChanged;"function"==typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,t,o,i){if(!t)return!1;if(i)for(var n=t.split("."),r=e;n.length>0&&r;){var s=n.shift();0===n.length?r[s]=o:r=r[s]}else e[t]=o;return!0},t.prototype.executeFilterValueGetter=function(e,t,o,i){var n={data:t,node:i,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,i)};return this.expressionService.evaluate(e,n)},t.prototype.executeValueGetter=function(e,t,o,i){var n=o.getId(),r=this.valueCache.getValue(i,n);if(void 0!==r)return r;var s={data:t,node:i,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,i)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(i,n,a),a},t.prototype.getValueCallback=function(e,t){var o=this.columnModel.getPrimaryColumn(t);return o?this.getValue(o,e):null},t.prototype.getKeyForNode=function(e,t){var o=this.getValue(e,t),i=e.getColDef().keyCreator,n=o;return i&&(n=i({value:o,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof n||null==n||"[object Object]"===(n=String(n))&&ie(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),n},Dd([Se("expressionService")],t.prototype,"expressionService",void 0),Dd([Se("columnModel")],t.prototype,"columnModel",void 0),Dd([Se("valueCache")],t.prototype,"valueCache",void 0),Dd([we],t.prototype,"init",null),Dd([xe("valueService")],t)}(wt),Md=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Md(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?this.evaluateExpression(e,t):void console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(o){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+o),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Nd([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Nd([xe("expressionService")],t);var o}(wt),Ld=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Fd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return Ld(t,e),t.prototype.getTemplate=function(e,t){var o=this.templateCache[e];if(o)return o;var i=this.waitingCallbacks[e],n=this;if(!i){this.waitingCallbacks[e]=i=[];var r=new XMLHttpRequest;r.onload=function(){n.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&i.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var o=this.waitingCallbacks[t],i=0;i<o.length;i++)(0,o[i])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+t)},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("templateService")],t)}(wt),Gd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new Wd(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Hd([(0,o=Ae("gridOptionsWrapper"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Hd([xe("loggerFactory")],t);var o}(wt),Wd=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},e}(),Bd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),jd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bd(t,e),t.prototype.setComp=function(e,t,o){var i=this;this.view=e,this.eGridHostDiv=t,this.eGui=o,this.dragAndDropService.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(e){return e===Ls.HeaderCell||e===Ls.ToolPanel},getIconName:function(){return Hs.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new nl(this.view)),this.addRtlSupport(),this.addManagedListener(this,Et.EVENT_KEYBOARD_FOCUS,function(){i.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Et.EVENT_MOUSE_FOCUS,function(){i.view.addOrRemoveKeyboardFocusClass(!1)});var n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return n()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,t;return(null===(t=null===(e=this.focusService.findTabbableParent(this.getGui()))||void 0===e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Me.isRegistered(Ie.RowGroupingModule)},t.prototype.showSideBar=function(){return Me.isRegistered(Ie.SideBarModule)},t.prototype.showStatusBar=function(){return Me.isRegistered(Ie.StatusBarModule)},t.prototype.showWatermark=function(){return Me.isRegistered(Ie.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Et.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var t=this.gridOptionsWrapper.getDocument(),o=this.view.getFocusableContainers(),i=o.findIndex(function(e){return e.contains(t.activeElement)})+(e?-1:1);return!(i<=0||i>=o.length)&&this.focusService.focusInto(o[i])},t.prototype.focusInnerElement=function(e){var t=this.view.getFocusableContainers();if(e){if(t.length>1)return this.focusService.focusInto(He(t),!0);var o=He(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(o,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},jd([Se("columnApi")],t.prototype,"columnApi",void 0),jd([Se("gridApi")],t.prototype,"gridApi",void 0),jd([Se("focusService")],t.prototype,"focusService",void 0),jd([Se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),jd([Se("columnModel")],t.prototype,"columnModel",void 0),jd([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),jd([Se("mouseEventService")],t.prototype,"mouseEventService",void 0),jd([Se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(wt),Ud=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xd=function(e){function t(t){var o=e.call(this,void 0)||this;return o.eGridDiv=t,o}return Ud(t,e),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var t={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(t){return e.addCssClass(t)},addOrRemoveKeyboardFocusClass:function(t){return e.addOrRemoveCssClass(rd.AG_KEYBOARD_FOCUS,t)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(t){e.getGui().style.userSelect=null!=t?t:"",e.getGui().style.webkitUserSelect=null!=t?t:""},setCursor:function(t){e.getGui().style.cursor=null!=t?t:""}};this.ctrl=this.createManagedBean(new zd);var o=this.createTemplate();this.setTemplate(o),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(t){return e.ctrl.focusInnerElement(t)}})},t.prototype.insertGridIntoDom=function(){var e=this,t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(function(){e.eGridDiv.removeChild(t),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,t){var o=this.eRootWrapperBody.classList;o.toggle(il.AUTO_HEIGHT,t.autoHeight),o.toggle(il.NORMAL,t.normal),o.toggle(il.PRINT,t.print),this.addOrRemoveCssClass(il.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(il.NORMAL,t.normal),this.addOrRemoveCssClass(il.PRINT,t.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(e){return Ko(e)})},Yd([Se("loggerFactory")],t.prototype,"loggerFactory",void 0),Yd([Yn("gridBody")],t.prototype,"gridBodyComp",void 0),Yd([Yn("sideBar")],t.prototype,"sideBarComp",void 0),Yd([Yn("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Yd([we],t.prototype,"postConstruct",null),t}(Yh),qd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kd=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Qd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kd(arguments[t]));return e},Jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return qd(t,e),o=t,t.prototype.progressSort=function(e,t,o){var i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,o)},t.prototype.setSortForColumn=function(e,t,o,i){var n;t!==De.SORT_ASC&&t!==De.SORT_DESC&&(t=null);var r=[e];if(this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){var s=null===(n=this.columnModel.getSourceColumnsForGroupColumn(e))||void 0===n?void 0:n.filter(function(e){return e.getColDef().sortable});s&&(r=Qd([e],s))}r.forEach(function(e){return e.setSort(t,i)}),(o||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarTheseColumns(r,i),this.updateSortIndex(e),this.dispatchSortChangedEvents(i)},t.prototype.updateSortIndex=function(e){var t=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),i=t&&o||e,n=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(e){return e.setSortIndex(null)});var r=n.filter(function(t){return t!==e});Qd(r,[i]).forEach(function(e,t){return e.setSortIndex(t)})},t.prototype.onSortChanged=function(e){this.dispatchSortChangedEvents(e)},t.prototype.isSortActive=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e&&e.length>0},t.prototype.dispatchSortChangedEvents=function(e){this.eventService.dispatchEvent({type:Et.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e})},t.prototype.clearSortBarTheseColumns=function(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){e.includes(o)||o.setSort(void 0,t)})},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():o.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var i,n=t.indexOf(e.getSort());return o.DEFAULT_SORTING_ORDER.indexOf(i=n<0||n==t.length-1?t[0]:t[n+1])<0?(console.warn("AG Grid: invalid sort type "+i),null):i},t.prototype.getColumnsOrderedForSort=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),t={};return e.forEach(function(e,o){return t[e.getId()]=o}),e.sort(function(e,o){var i=e.getSortIndex(),n=o.getSortIndex();return null!=i&&null!=n?i-n:null==i&&null==n?t[e.getId()]>t[o.getId()]?1:-1:null==n?-1:1}),e},t.prototype.getIndexableColumnsOrdered=function(){var e=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(t){var o;return t.getColDef().showRowGroup?!(!t.getColDef().field||!t.getSort())||(null===(o=e.columnModel.getSourceColumnsForGroupColumn(t))||void 0===o?void 0:o.some(function(e){return!!e.getSort()})):!!t.getSort()}):this.getColumnsWithSortingOrdered()},t.prototype.getColumnsWithSortingOrdered=function(){return this.getColumnsOrderedForSort().filter(function(e){return!!e.getSort()})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(e){return{sort:e.getSort(),colId:e.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(e){return{sort:e.getSort(),column:e}})},t.prototype.canColumnDisplayMixedSort=function(e){var t=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=!!e.getColDef().showRowGroup;return t&&o},t.prototype.getDisplaySortForColumn=function(e){var t,o=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null===(t=o)||void 0===t?void 0:t.length))return e.getSort();var i=e.getColDef().field?Qd([e],o):o,n=i[0].getSort();return i.every(function(e){return e.getSort()==n})?n:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(e){var t=this;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.getColumnsWithSortingOrdered().indexOf(e);var o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return o?e.getSort()?this.getDisplaySortIndexForColumn(o):null:this.getIndexableColumnsOrdered().filter(function(e){return!t.columnModel.getGroupDisplayColumnForGroup(e.getId())}).indexOf(e)},t.DEFAULT_SORTING_ORDER=[De.SORT_ASC,De.SORT_DESC,null],Zd([Se("columnModel")],t.prototype,"columnModel",void 0),Zd([Se("columnApi")],t.prototype,"columnApi",void 0),Zd([Se("gridApi")],t.prototype,"gridApi",void 0),o=Zd([xe("sortController")],t)}(wt),$d=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ef=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Et.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},ef([Se("columnApi")],t.prototype,"columnApi",void 0),ef([Se("gridApi")],t.prototype,"gridApi",void 0),ef([xe("columnHoverService")],t)}(wt),of=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),nf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return of(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){return e.gridBodyCtrl=t.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===t&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout(function(){return e.forEach(function(e){return e()})},0),window.setTimeout(function(){return t.forEach(function(e){return e()})},300))},nf([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),nf([we],t.prototype,"postConstruct",null),nf([xe("columnAnimationService")],t)}(wt),sf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),af=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return sf(t,e),o=t,t.prototype.createAutoGroupColumns=function(e,t){var o=this,i=[],n=this.gridOptionsWrapper.isTreeData(),r=this.gridOptionsWrapper.isGroupMultiAutoColumn();return n&&r&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),r=!1),r?t.forEach(function(t,n){i.push(o.createOneAutoGroupColumn(e,t,n))}):i.push(this.createOneAutoGroupColumn(e)),i},t.prototype.createOneAutoGroupColumn=function(e,t,i){var n,r=this.generateDefaultColDef(t);n=t?De.GROUP_AUTO_COLUMN_ID+"-"+t.getId():o.GROUP_AUTO_COLUMN_BUNDLE_ID,Y(r,this.gridOptionsWrapper.getAutoGroupColumnDef()),(r=this.columnFactory.mergeColDefs(r)).colId=n,this.gridOptionsWrapper.isTreeData()||_(r.field)&&_(r.valueGetter)&&_(r.filterValueGetter)&&(r.filter=!1),i&&i>0&&(r.headerCheckboxSelection=!1);var s=e.find(function(e){return e.getId()==n});if(s)return s.setColDef(r,null),this.columnFactory.applyColumnState(s,r),s;var a=new Le(r,null,n,!0);return this.context.createBean(a),a},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),o={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework||t.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){var i=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:i.headerValueGetter}),(i.cellRenderer||i.cellRendererFramework)&&Object.assign(o,{cellRendererParams:{innerRenderer:i.cellRenderer,innerRendererFramework:i.cellRendererFramework,innerRendererParams:i.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},t.GROUP_AUTO_COLUMN_BUNDLE_ID=De.GROUP_AUTO_COLUMN_ID,af([Se("columnModel")],t.prototype,"columnModel",void 0),af([Se("columnFactory")],t.prototype,"columnFactory",void 0),o=af([xe("autoGroupColService")],t)}(wt),cf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cf(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(t){e.centerRowContainerCon=t.centerRowContainerCtrl,e.addManagedListener(e.eventService,Et.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,Et.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){var o=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",o)}}},uf([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),uf([we],t.prototype,"postConstruct",null),uf([xe("paginationAutoPageSizeService")],t)}(wt),hf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),df=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ff=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return hf(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},df([we],t.prototype,"init",null),df([xe("valueCache")],t)}(wt),gf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gf(t,e),t.prototype.init=function(){this.rowModel.getType()===De.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Et.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==De.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),i=new Qp(o,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i)}this.rowRenderer.refreshCells()}},mf([Se("rowModel")],t.prototype,"rowModel",void 0),mf([Se("rowRenderer")],t.prototype,"rowRenderer",void 0),mf([we],t.prototype,"init",null),mf([xe("changeDetectionService")],t)}(wt),vf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.adaptFunction=function(e,t){var o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?o.functionAdapter(t):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){return this.eGui},t.prototype.init=function(t){var o=e(t),i=typeof o;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=o?o:Qo("<span></span>"):Qo("<span>"+o+"</span>")},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},Cf([Se("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Cf([xe("agComponentUtils")],t)}(wt),bf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bf(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},xf([Se("agComponentUtils")],t.prototype,"agComponentUtils",void 0),xf([we],t.prototype,"postConstruct",null),xf([xe("componentMetadataProvider")],t)}(wt),Ef=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_f=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Af={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Rf={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Tf={},Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ef(t,e),t.prototype.getSassVariable=function(e,t){var o="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),i=Af[o][t],n=0;Tf[e]||(Tf[e]={});var r=Tf[e][t];if(null!=r)return r;if(Rf[t]){var s=Rf[t],a=document.createElement("div");a.classList.add(e),a.style.position="absolute";var l=s.reduce(function(e,t){var o=document.createElement("div");return o.style.position="static",o.classList.add(t),e.appendChild(o),o},a);if(document.body){document.body.appendChild(a);var c=-1!==t.toLowerCase().indexOf("height")?"height":"width";n=parseInt(window.getComputedStyle(l)[c],10),document.body.removeChild(a)}}return Tf[e][t]=n||i,Tf[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,t=this.eGridDiv,o=null,i=[];t;){if(o=e.exec(t.className)){var n=t.className.match(e);n&&(i=n);break}t=t.parentElement||void 0}if(!o)return{allThemes:i};var r=o[0];if(void 0===o[2]){var s=r.replace("ag-","ag-theme-");ie(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+s+".")},"using-old-theme")}return{theme:r,el:t,themeFamily:r.replace(/-dark$/,""),allThemes:i}},_f([Se("eGridDiv")],t.prototype,"eGridDiv",void 0),_f([xe("environment")],t)}(wt),Pf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Df=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},If=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return Pf(t,e),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Et.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Ao(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+t+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(t)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:Et.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:Et.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)},Df([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),Df([(0,o=Ae("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"agWire",null),Df([we],t.prototype,"postConstruct",null),Df([xe("rowContainerHeightService")],t);var o}(wt),Mf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterGroup})},t.prototype.recurseDown=function(e,t){var o=this;e&&e.forEach(function(e){var i;e.group&&(e.hasChildren()&&o.recurseDown(t(e),t),i=o.groupSelectsChildren?E((t(e)||[]).find(function(e){return!0===e.selectable})):!!o.isRowSelectableFunc&&o.isRowSelectableFunc(e),e.setRowSelectable(i))})},Nf([we],t.prototype,"init",null),Nf([xe("selectableService")],t)}(wt),Lf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ff=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gf=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return Lf(t,e),t.prototype.postConstruct=function(){var e=this,t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",bn(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",bn(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",bn(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",bn(t?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Et.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(t){var o=t.el,i=t.fn;e.addManagedListener(o,"click",i),e.addManagedListener(o,"keydown",function(e){e.key!==xn.ENTER&&e.key!==xn.SPACE||(e.preventDefault(),i())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(t)return t({value:e});var o=this.gridOptionsWrapper.getLocaleTextFunc();return cn(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),i=e("of","of"),n=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+o+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+i+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+n+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+i+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===o-1||i,this.lastButtonDisabled=!t||i||e===o-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,t){Vi(e,t),e.classList.toggle("ag-disabled",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var e,t,o=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(t=(e=i*o+1)+i-1,n&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),o=e?this.paginationProxy.getMasterRowCount():null;if(1===o){var i=this.paginationProxy.getRow(0);if(i&&i.group&&!i.groupData&&!i.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(o);else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Ff([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Ff([Se("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ff([Yn("btFirst")],t.prototype,"btFirst",void 0),Ff([Yn("btPrevious")],t.prototype,"btPrevious",void 0),Ff([Yn("btNext")],t.prototype,"btNext",void 0),Ff([Yn("btLast")],t.prototype,"btLast",void 0),Ff([Yn("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Ff([Yn("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Ff([Yn("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Ff([Yn("lbCurrent")],t.prototype,"lbCurrent",void 0),Ff([Yn("lbTotal")],t.prototype,"lbTotal",void 0),Ff([we],t.prototype,"postConstruct",null),t}(Un),Hf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Vf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wf=(()=>(function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(Wf||(Wf={})),Wf))(),Bf=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o.manuallyDisplayed=!1,o}return Hf(t,e),t.prototype.updateLayoutClasses=function(e,t){var o=this.eOverlayWrapper.classList;o.toggle(il.AUTO_HEIGHT,t.autoHeight),o.toggle(il.NORMAL,t.normal),o.toggle(il.PRINT,t.print)},t.prototype.postConstruct=function(){this.createManagedBean(new nl(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Et.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===Wf.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===Wf.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var e=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(e,Wf.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var e=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(e,Wf.NoRows)}},t.prototype.showOverlay=function(e,t){var o=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(e){o.inProgress=!1,o.eOverlayWrapper.appendChild(e.getGui()),o.activeOverlay=e,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Xo(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!t?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Vf([Se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Vf([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),Vf([Se("gridApi")],t.prototype,"gridApi",void 0),Vf([Se("columnModel")],t.prototype,"columnModel",void 0),Vf([Yn("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Vf([we],t.prototype,"postConstruct",null),t}(Un),jf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jf(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e=De.PINNED_TOP:this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e=De.PINNED_BOTTOM),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t=null,o=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return o?(t=De.PINNED_BOTTOM,e=o-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t=De.PINNED_TOP,e=i-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case De.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case De.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned},t.prototype.before=function(e,t){switch(e.rowPinned){case De.PINNED_TOP:if(t.rowPinned!==De.PINNED_TOP)return!0;break;case De.PINNED_BOTTOM:if(t.rowPinned!==De.PINNED_BOTTOM)return!1;break;default:if(E(t.rowPinned))return t.rowPinned!==De.PINNED_TOP}return e.rowIndex<t.rowIndex},t.prototype.rowMax=function(e){var t,o=this;return e.forEach(function(e){(void 0===t||o.before(t,e))&&(t=e)}),t},t.prototype.rowMin=function(e){var t,o=this;return e.forEach(function(e){(void 0===t||o.before(e,t))&&(t=e)}),t},zf([Se("rowModel")],t.prototype,"rowModel",void 0),zf([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),zf([Se("paginationProxy")],t.prototype,"paginationProxy",void 0),zf([xe("rowPositionUtils")],t)}(wt),Yf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yf(t,e),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,t,o){return e+"."+(null==o?"null":o)+"."+t.getId()},t.prototype.equals=function(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("cellPositionUtils")],t)}(wt),qf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zf=function(e){this.cellValueChanges=e},Kf=function(e){function t(t,o,i){var n=e.call(this,t)||this;return n.initialRange=o,n.finalRange=i,n}return qf(t,e),t}(Zf),Qf=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),Jf=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$f=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},eg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){var o={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,o),n=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,o);if(i||n||t.isPasting||t.isFilling){var r=e.oldValue,s=e.value,a={rowPinned:e.rowPinned,rowIndex:e.rowIndex,columnId:e.column.getColId(),newValue:s,oldValue:r};t.cellValueChanges.push(a)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return Jf(t,e),t.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Qf(e),this.redoStack=new Qf(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Et.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Et.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Et.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.oldValue}),e instanceof Kf?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.newValue}),e instanceof Kf?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,t){var o=this;e.cellValueChanges.forEach(function(e){var i=e.columnId,n=o.getRowNode({rowIndex:e.rowIndex,rowPinned:e.rowPinned});n.displayed&&n.setDataValue(i,t(e))})},t.prototype.processRangeAndCellFocus=function(e,t){var o;if(t){var i=t.startRow,n=t.endRow;return o={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:t.startColumn.getColId()},this.setLastFocusedCell(o),void this.gridApi.addCellRange({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:t.startColumn,columns:t.columns})}var r=e[0],s=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell(o={rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId})},t.prototype.setLastFocusedCell=function(e){var t=e.rowIndex,o=e.columnId,i=e.rowPinned;this.gridApi.ensureIndexVisible(t),this.gridApi.ensureColumnVisible(o),Me.isRegistered(Ie.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell({rowIndex:t,column:o,rowPinned:i,forceBrowserFocus:!0})},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_ROW_EDITING_STARTED,function(t){e.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,Et.EVENT_ROW_EDITING_STOPPED,function(){var t=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(t),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_CELL_EDITING_STARTED,function(t){e.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,Et.EVENT_CELL_EDITING_STOPPED,function(){if(e.activeCellEdit=null,!e.activeRowEdit&&!e.isPasting&&!e.isFilling){var t=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(t)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,Et.EVENT_PASTE_END,function(){var t=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,Et.EVENT_FILL_END,function(t){var o=new Kf(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(o),e.isFilling=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case De.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case De.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},$f([Se("focusService")],t.prototype,"focusService",void 0),$f([Se("gridApi")],t.prototype,"gridApi",void 0),$f([Se("rowModel")],t.prototype,"rowModel",void 0),$f([Se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$f([Se("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),$f([Se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),$f([we],t.prototype,"init",null),$f([xe("undoRedoService")],t)}(wt),tg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),og=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tg(t,e),t.prototype.findHeader=function(e,t){var o;if(o=e.column instanceof tt?this.columnModel["getDisplayedGroup"+t](e.column):this.columnModel["getDisplayedCol"+t](e.column))return{column:o,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var o=this.columnModel.getAllDisplayedColumns(),i=o["start"===t?0:o.length-1];if(i){var n=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);return n==pu.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(i,e)}:{headerRowIndex:null==n?-1:e,column:i}}},og([Se("columnModel")],t.prototype,"columnModel",void 0),og([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),og([xe("headerPositionUtils")],t)}(wt),ng=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,o){var i=this,n=[],r={};return e.forEach(function(e){for(var s=!0,a=i.createDefFromColumn(e,t,o),l=e.getOriginalParent();l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var u=r[l.getGroupId()];if(u){u.children.push(a),s=!1;break}(c=i.createDefFromGroup(l))&&(c.children=[a],r[c.groupId]=c,a=c,l=l.getOriginalParent())}}s&&n.push(a)}),n},e.prototype.createDefFromGroup=function(e){var t=H(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},e.prototype.createDefFromColumn=function(e,t,o){var i=H(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?o.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("columnDefFactory")],e)}(),rg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sg=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return E(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Je(t,this.processClassesFromGridOptions(e.rowNode)),Je(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned===De.PINNED_LEFT&&t.push("ag-cell-last-left-pinned"),e.pinned===De.PINNED_RIGHT&&t.push("ag-cell-first-right-pinned")),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],o=function(e){"string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(function(e){return t.push(e)})},i=this.gridOptionsWrapper.getRowClass();if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];o(i)}var n=this.gridOptionsWrapper.getRowClassFunc();return n&&o(n({data:e.data,node:e,rowIndex:e.rowIndex})),t},e.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(e){t.push(e)},function(e){}),t},e.prototype.processRowClassRules=function(e,t,o){var i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),i,t,o)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},rg([Se("stylingService")],e.prototype,"stylingService",void 0),rg([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),rg([xe("rowCssClassCalculator")],e)}(),ag=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lg=function(){function e(){}return e.prototype.doFullSort=function(e,t){var o=e.map(function(e,t){return{currentPos:t,rowNode:e}});return o.sort(this.compareRowNodes.bind(this,t)),o.map(function(e){return e.rowNode})},e.prototype.compareRowNodes=function(e,t,o){for(var i=t.rowNode,n=o.rowNode,r=0,s=e.length;r<s;r++){var a,l=e[r],c=l.sort===De.SORT_DESC,u=this.getValue(i,l.column),p=this.getValue(n,l.column),h=this.getComparator(l,i);if(a=h?h(u,p,i,n,c):In.defaultComparator(u,p,this.gridOptionsWrapper.isAccentedSort()),!isNaN(a)&&0!==a)return l.sort===De.SORT_ASC?a:-1*a}return t.currentPos-o.currentPos},e.prototype.getComparator=function(e,t){var o=e.column,i=o.getColDef().comparator;if(null!=i)return i;if(o.getColDef().showRowGroup){var n=!t.group&&o.getColDef().field;if(n){var r=this.columnModel.getPrimaryColumn(n);if(r)return r.getColDef().comparator}}},e.prototype.getValue=function(e,t){var o;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){var i=this.columnModel.getGroupDisplayColumnForGroup(t.getId());if(!i)return;return null===(o=e.groupData)||void 0===o?void 0:o[i.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)},ag([Se("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ag([Se("valueService")],e.prototype,"valueService",void 0),ag([Se("columnModel")],e.prototype,"columnModel",void 0),ag([xe("rowNodeSorter")],e)}(),cg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ug=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ready=!1,t.readyCallbacks=[],t}var o;return cg(t,e),o=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var e=this.createReadyParams();this.readyCallbacks.forEach(function(t){return t(e)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(e){this.fakeHScrollCtrl=e,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(e){this.gridHeaderCtrl=e,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(e){this.centerRowContainerCtrl=e,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(e){this.leftRowContainerCtrl=e,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(e){this.rightRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(e){this.topCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(e){this.topLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(e){this.topRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(e){this.bottomRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerHeaderContainer=function(e,t){switch(t){case De.PINNED_LEFT:this.leftHeaderRowContainerCtrl=e;break;case De.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e}this.checkReady()},t.prototype.registerGridBodyCtrl=function(e){this.gridBodyCtrl=e,this.checkReady()},t.prototype.registerGridCtrl=function(e){this.gridCtrl=e,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(e){switch(e){case De.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case De.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe(o.NAME)],t)}(wt),pg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registry={},t}return pg(t,e),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var t=this.registry[e];if(null!=t)return new t},function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([xe("ctrlsFactory")],t)}(wt),dg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gg=function(e){function t(){return e.call(this)||this}return dg(t,e),t.prototype.setComp=function(e,t,o,i){this.view=e,this.eViewport=o,this.eContainer=i,this.eGui=t,this.addManagedListener(this.eventService,Et.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,n),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",xo()||So())},t.prototype.addActiveListenerToggles=function(){var e=this;["mouseenter","mousedown","touchstart"].forEach(function(t){return e.addManagedListener(e.eGui,t,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(t){return e.addManagedListener(e.eGui,t,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Oo()},t.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,Et.EVENT_BODY_SCROLL,function(t){"horizontal"===t.direction&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Et.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.columnModel.getDisplayedColumnsRightWidth(),o=!this.enableRtl&&e,i=this.gridOptionsWrapper.getScrollbarWidth();o&&(t+=i),this.view.setRightSpacerFixedWidth(t),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",t<=i);var n=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(n+=i),this.view.setLeftSpacerFixedWidth(n),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",n<=i)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,o=this.gridOptionsWrapper.isSuppressHorizontalScroll(),i=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=o?0:0===i&&t?15:i;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",t),this.view.setHeight(n),this.view.setViewportHeight(n),this.view.setContainerHeight(n)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},fg([Se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),fg([Se("columnModel")],t.prototype,"columnModel",void 0),fg([Se("ctrlsService")],t.prototype,"ctrlsService",void 0),fg([we],t.prototype,"postConstruct",null),t}(wt),mg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vg=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return mg(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setHeight:function(t){return hi(e.getGui(),t)},setContainerHeight:function(t){return hi(e.eContainer,t)},setViewportHeight:function(t){return hi(e.eViewport,t)},setRightSpacerFixedWidth:function(t){return ui(e.eRightSpacer,t)},setLeftSpacerFixedWidth:function(t){return ui(e.eLeftSpacer,t)},includeLeftSpacerScrollerCss:function(t,o){return e.eLeftSpacer.classList.toggle(t,o)},includeRightSpacerScrollerCss:function(t,o){return e.eRightSpacer.classList.toggle(t,o)}};this.createManagedBean(new gg).setComp(t,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new fc(function(t){return e.eContainer.style.width=t+"px"}))},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',yg([Yn("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),yg([Yn("eRightSpacer")],t.prototype,"eRightSpacer",void 0),yg([Yn("eViewport")],t.prototype,"eViewport",void 0),yg([Yn("eContainer")],t.prototype,"eContainer",void 0),yg([we],t.prototype,"postConstruct",null),t}(Un),Cg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cg(t,e),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Et.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,el.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===De.DOM_LAYOUT_PRINT,t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),o=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:Et.EVENT_LEFT_PINNED_WIDTH_CHANGED})),o!=this.rightWidth&&(this.rightWidth=o,this.eventService.dispatchEvent({type:Et.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},wg([Se("columnModel")],t.prototype,"columnModel",void 0),wg([we],t.prototype,"postConstruct",null),wg([xe("pinnedWidthService")],t)}(wt),xg=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Sg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Eg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events=[],t}return xg(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()==De.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var t=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){t.clientSideRowModel&&t.clientSideRowModel.onRowGroupOpened(),t.events.forEach(function(e){return t.eventService.dispatchEvent(e)}),t.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},Sg([Se("animationFrameService")],t.prototype,"animationFrameService",void 0),Sg([Se("rowModel")],t.prototype,"rowModel",void 0),Sg([we],t.prototype,"postConstruct",null),Sg([xe("rowNodeEventThrottle")],t)}(wt),_g=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Ag=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_g(arguments[t]));return e},Rg=function(){function e(e,t,o){t?(this.gridOptions=t,(new Tg).create(e,t,function(t){var o=new Xd(e);t.createBean(o)},void 0,o)):console.error("AG Grid: no gridOptions provided to the grid")}return e.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},e}(),Tg=function(){function e(){}return e.prototype.create=function(e,t,o,i,n){var r=this,s=!!t.debug,a=this.getRegisteredModules(n),l=this.createBeansList(t.rowModelType,a),c=this.createProvidedBeans(e,t,n);if(l){var u={providedBeanInstances:c,beanClasses:l,debug:s},p=new Wd("AG Grid",function(){return t.debug}),h=new Wd("Context",function(){return u.debug}),d=new ve(u,h),f=d.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),o(d),f.ctrlsService.whenReady(function(){r.setColumnsAndData(f),r.dispatchGridReadyEvent(f,t);var e=Me.isRegistered(Ie.EnterpriseCoreModule);p.log("initialised successfully, enterprise = "+e)}),i&&i(d)}},e.prototype.registerControllers=function(e,t){t.forEach(function(t){t.controllers&&t.controllers.forEach(function(t){return e.ctrlsFactory.register(t)})})},e.prototype.registerStackComponents=function(e,t){var o=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(o)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,o=Me.getRegisteredModules(),i=[],n={};function r(e,t){var o;n[(o=t).moduleName]||(n[o.moduleName]=!0,i.push(o),Me.register(o,e)),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),o&&o.forEach(r.bind(null,!Me.isPackageBased())),i},e.prototype.registerModuleUserComponents=function(e,t){this.extractModuleEntity(t,function(e){return e.userComponents?e.userComponents:[]}).forEach(function(t){e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)})},e.prototype.createProvidedBeans=function(e,t,o){var i=o?o.frameworkOverrides:null;_(i)&&(i=new yd);var n={gridOptions:t,eGridDiv:e,globalEventListener:o?o.globalEventListener:null,frameworkOverrides:i};return o&&o.providedBeanInstances&&Object.assign(n,o.providedBeanInstances),n},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Mu},{componentName:"AgRadioButton",componentClass:uh},{componentName:"AgToggleButton",componentClass:hh},{componentName:"AgInputTextField",componentClass:fh},{componentName:"AgInputTextArea",componentClass:mh},{componentName:"AgInputNumberField",componentClass:vh},{componentName:"AgInputRange",componentClass:wh},{componentName:"AgSelect",componentClass:Cr},{componentName:"AgSlider",componentClass:Sh},{componentName:"AgAngleSelect",componentClass:Ah},{componentName:"AgColorPicker",componentClass:Fh},{componentName:"AgGridBody",componentClass:Rc},{componentName:"AgHeaderRoot",componentClass:dp},{componentName:"AgSortIndicator",componentClass:us},{componentName:"AgPagination",componentClass:Gf},{componentName:"AgOverlayWrapper",componentClass:Bf},{componentName:"AgGroupComponent",componentClass:Vh},{componentName:"AgPanel",componentClass:Ih},{componentName:"AgDialog",componentClass:kh},{componentName:"AgRowContainer",componentClass:Xc},{componentName:"AgFakeHorizontalScroll",componentClass:vg}],o=this.extractModuleEntity(e,function(e){return e.agStackComponents?e.agStackComponents:[]});return t.concat(o)},e.prototype.createBeansList=function(e,t){var o=this.getRowModelClass(e,t);if(o){var i=[o,Dl,Uf,Xf,ig,pf,wu,ua,wf,Sf,Ep,Da,If,mp,Zp,ka,Yt,Pe,el,pd,Rd,Ha,Bt,lp,rh,Bp,kd,St,Fd,Ed,Fc,ff,Id,Vd,zt,Mp,Cp,Hs,Od,rd,Mc,Of,bd,Yp,lh,Pc,Jd,tf,rf,kf,lf,yf,Rp,eg,po,ng,sg,oh,lg,ug,bg,Eg,hg],n=this.extractModuleEntity(t,function(e){return e.beans?e.beans:[]});i.push.apply(i,Ag(n));var r=[];return i.forEach(function(e){r.indexOf(e)<0&&r.push(e)}),r}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],Ag(e.map(t)))},e.prototype.setColumnsAndData=function(e){var t=e.gridOptionsWrapper.getColumnDefs();e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},e.prototype.dispatchGridReadyEvent=function(e,t){e.eventService.dispatchEvent({type:Et.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi})},e.prototype.getRowModelClass=function(e,t){e||(e=De.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};t.forEach(function(e){L(e.rowModels,function(e,t){o[e]=t})});var i=o[e];if(E(i))return i;Me.isPackageBased()?[De.ROW_MODEL_TYPE_VIEWPORT,De.ROW_MODEL_TYPE_SERVER_SIDE].includes(e)?console.error('AG Grid: Row Model "'+e+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+e):e===De.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+Ie.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===De.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+Ie.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===De.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+Ie.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===De.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+Ie.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+e)},e}(),Og=function(){function e(){}return e.prototype.wrap=function(e,t,o,i){var n=this;void 0===o&&(o=[]);var r=this.createWrapper(e,i);return t.forEach(function(e){n.createMethod(r,e,!0)}),o.forEach(function(e){n.createMethod(r,e,!1)}),r},e.prototype.unwrap=function(e){return e},e.prototype.createMethod=function(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))},e.prototype.createMethodProxy=function(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},e}(),Pg="undefined"==typeof global?{}:global;Pg.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Pg.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Pg.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Pg.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Pg.Node="undefined"==typeof Node?{}:Node,Pg.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent},4412:(e,t,o)=>{"use strict";o.d(t,{f:()=>f,W:()=>a});var i,n=o(5501),r=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var o;return r(t,e),o=t,t.prototype.validateLicense=function(){if(n._.missingOrEmpty(o.licenseKey))this.outputMissingLicenseKey();else if(o.licenseKey.length>32){var e=o.extractLicenseComponents(o.licenseKey),t=e.license,i=e.version,r=e.isTrial;e.md5===this.md5.md5(t)?n._.exists(i)&&i?this.validateLicenseKeyForVersion(i,!!r,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(o.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),i=(t=t.replace(/\r?\n|\r/g,"")).length-32,n=t.substring(i),r=t.substring(0,i),s=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(o.extractBracketedInformation(t),2);return{md5:n,license:r,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var t=o.extractLicenseComponents(e),i=t.license,n=t.version,r=t.isTrial,s=t.md5===this.md5.md5(i),a=null;return s&&(a=o.extractExpiry(i),s=!isNaN(a.getTime())),{licenseKey:e,valid:s,expiry:s?o.formatDate(a):null,version:n||"legacy",isTrial:r}},t.prototype.isDisplayWatermark=function(){return!n._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(e){var t=e.getDate(),o=e.getMonth(),i=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][o]+" "+i},t.getGridReleaseDate=function(){return new Date(parseInt(o.decode(o.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,i,n,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,p=e.replace(/[^A-Za-z0-9+/=]/g,"");u<p.length;)n=l.indexOf(p.charAt(u++)),t=(15&(r=l.indexOf(p.charAt(u++))))<<4|(s=l.indexOf(p.charAt(u++)))>>2,i=(3&s)<<6|(a=l.indexOf(p.charAt(u++))),c+=String.fromCharCode(n<<2|r>>4),64!=s&&(c+=String.fromCharCode(t)),64!=a&&(c+=String.fromCharCode(i));return o.utf8_decode(c)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},t.setLicenseKey=function(e){o.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter(function(e){return e.indexOf("]")>-1}).map(function(e){return e.split("]")[0]});if(!t||0===t.length)return[null,null];var o=1===t.filter(function(e){return"TRIAL"===e}).length;return[t.filter(function(e){return 0===e.indexOf("v")}).map(function(e){return e.replace(/^v/,"")})[0],o]},t.prototype.validateLicenseKeyForVersion=function(e,t,o){"2"===e&&(t?this.validateForTrial(o):this.validateLegacyKey(o))},t.prototype.validateLegacyKey=function(e){var t=o.getGridReleaseDate(),i=o.extractExpiry(e),n=!1,r=!1;if(isNaN(i.getTime())||(n=!0,r=t<i),n){if(!r){var s=o.formatDate(i),a=o.formatDate(t);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=o.extractExpiry(e),i=new Date,n=!1,r=!1;if(isNaN(t.getTime())||(n=!0,r=t>i),n){if(!r){var s=o.formatDate(t);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY1Njg3Mzg0NDQzOQ==",s([(0,n.fsG)("md5")],t.prototype,"md5",void 0),s([n.$j7],t.prototype,"validateLicense",null),o=s([(0,n.Vu6)("licenseManager")],t)}(n.AS9),l=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),c=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return l(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var o=e[0],i=e[1],n=e[2],r=e[3];o=this.ff(o,i,n,r,t[0],7,-680876936),r=this.ff(r,o,i,n,t[1],12,-389564586),n=this.ff(n,r,o,i,t[2],17,606105819),i=this.ff(i,n,r,o,t[3],22,-1044525330),o=this.ff(o,i,n,r,t[4],7,-176418897),r=this.ff(r,o,i,n,t[5],12,1200080426),n=this.ff(n,r,o,i,t[6],17,-1473231341),i=this.ff(i,n,r,o,t[7],22,-45705983),o=this.ff(o,i,n,r,t[8],7,1770035416),r=this.ff(r,o,i,n,t[9],12,-1958414417),n=this.ff(n,r,o,i,t[10],17,-42063),i=this.ff(i,n,r,o,t[11],22,-1990404162),o=this.ff(o,i,n,r,t[12],7,1804603682),r=this.ff(r,o,i,n,t[13],12,-40341101),n=this.ff(n,r,o,i,t[14],17,-1502002290),i=this.ff(i,n,r,o,t[15],22,1236535329),o=this.gg(o,i,n,r,t[1],5,-165796510),r=this.gg(r,o,i,n,t[6],9,-1069501632),n=this.gg(n,r,o,i,t[11],14,643717713),i=this.gg(i,n,r,o,t[0],20,-373897302),o=this.gg(o,i,n,r,t[5],5,-701558691),r=this.gg(r,o,i,n,t[10],9,38016083),n=this.gg(n,r,o,i,t[15],14,-660478335),i=this.gg(i,n,r,o,t[4],20,-405537848),o=this.gg(o,i,n,r,t[9],5,568446438),r=this.gg(r,o,i,n,t[14],9,-1019803690),n=this.gg(n,r,o,i,t[3],14,-187363961),i=this.gg(i,n,r,o,t[8],20,1163531501),o=this.gg(o,i,n,r,t[13],5,-1444681467),r=this.gg(r,o,i,n,t[2],9,-51403784),n=this.gg(n,r,o,i,t[7],14,1735328473),i=this.gg(i,n,r,o,t[12],20,-1926607734),o=this.hh(o,i,n,r,t[5],4,-378558),r=this.hh(r,o,i,n,t[8],11,-2022574463),n=this.hh(n,r,o,i,t[11],16,1839030562),i=this.hh(i,n,r,o,t[14],23,-35309556),o=this.hh(o,i,n,r,t[1],4,-1530992060),r=this.hh(r,o,i,n,t[4],11,1272893353),n=this.hh(n,r,o,i,t[7],16,-155497632),i=this.hh(i,n,r,o,t[10],23,-1094730640),o=this.hh(o,i,n,r,t[13],4,681279174),r=this.hh(r,o,i,n,t[0],11,-358537222),n=this.hh(n,r,o,i,t[3],16,-722521979),i=this.hh(i,n,r,o,t[6],23,76029189),o=this.hh(o,i,n,r,t[9],4,-640364487),r=this.hh(r,o,i,n,t[12],11,-421815835),n=this.hh(n,r,o,i,t[15],16,530742520),i=this.hh(i,n,r,o,t[2],23,-995338651),o=this.ii(o,i,n,r,t[0],6,-198630844),r=this.ii(r,o,i,n,t[7],10,1126891415),n=this.ii(n,r,o,i,t[14],15,-1416354905),i=this.ii(i,n,r,o,t[5],21,-57434055),o=this.ii(o,i,n,r,t[12],6,1700485571),r=this.ii(r,o,i,n,t[3],10,-1894986606),n=this.ii(n,r,o,i,t[10],15,-1051523),i=this.ii(i,n,r,o,t[1],21,-2054922799),o=this.ii(o,i,n,r,t[8],6,1873313359),r=this.ii(r,o,i,n,t[15],10,-30611744),n=this.ii(n,r,o,i,t[6],15,-1560198380),i=this.ii(i,n,r,o,t[13],21,1309151649),o=this.ii(o,i,n,r,t[4],6,-145523070),r=this.ii(r,o,i,n,t[11],10,-1120210379),n=this.ii(n,r,o,i,t[2],15,718787259),i=this.ii(i,n,r,o,t[9],21,-343485551),e[0]=this.add32(o,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(n,e[2]),e[3]=this.add32(r,e[3])},t.prototype.cmn=function(e,t,o,i,n,r){return t=this.add32(this.add32(t,e),this.add32(i,r)),this.add32(t<<n|t>>>32-n,o)},t.prototype.ff=function(e,t,o,i,n,r,s){return this.cmn(t&o|~t&i,e,t,n,r,s)},t.prototype.gg=function(e,t,o,i,n,r,s){return this.cmn(t&i|o&~i,e,t,n,r,s)},t.prototype.hh=function(e,t,o,i,n,r,s){return this.cmn(t^o^i,e,t,n,r,s)},t.prototype.ii=function(e,t,o,i,n,r,s){return this.cmn(o^(t|~i),e,t,n,r,s)},t.prototype.md51=function(e){var t,o=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(i,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*o,this.md5cycle(i,n),i},t.prototype.md5blk=function(e){for(var t=[],o=0;o<64;o+=4)t[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),o="",i=0;i<4;i++)o+=t[e>>8*i+4&15]+t[e>>8*i&15];return o},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},c([n.NqP],t.prototype,"init",null),c([(0,n.Vu6)("md5")],t)}(n.AS9),p=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),h=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},d=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return p(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var e=(this.gridOptionsWrapper.getDocument().defaultView||window).location,t=e.hostname,o=void 0===t?"":t,i=e.pathname,n=this.licenseManager.isDisplayWatermark(),r=null!=o.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!i&&-1!==i.indexOf("forceWatermark")||n&&!r},h([(0,n.fsG)("licenseManager")],t.prototype,"licenseManager",void 0),h([(0,n.cqo)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),h([n.NqP],t.prototype,"postConstruct",null),t}(n.wA2),f={moduleName:n.GXE.EnterpriseCoreModule,beans:[a,u],agStackComponents:[{componentName:"AgWatermark",componentClass:d}]}},7238:(e,t,o)=>{"use strict";o.d(t,{l3:()=>r,_j:()=>i,LC:()=>n,ZN:()=>d,jt:()=>a,vP:()=>l,SB:()=>u,oB:()=>c,eR:()=>p,X$:()=>s,ZE:()=>f,k1:()=>g});class i{}class n{}const r="*";function s(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function l(e,t=null){return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function u(e,t,o){return{type:0,name:e,styles:t,options:o}}function p(e,t,o=null){return{type:1,expr:e,animation:t,options:o}}function h(e){Promise.resolve(null).then(e)}class d{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class f{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,i=0;const n=this.players.length;0==n?h(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==n&&this._onFinish()}),e.onDestroy(()=>{++o==n&&this._onDestroy()}),e.onStart(()=>{++i==n&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const o=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(o)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const g="!"},8583:(e,t,o)=>{"use strict";o.d(t,{mr:()=>w,Ov:()=>Ae,ez:()=>Oe,K0:()=>l,uU:()=>Re,Do:()=>x,V_:()=>p,Ye:()=>S,S$:()=>v,mk:()=>de,sg:()=>ge,O5:()=>ye,tP:()=>we,b0:()=>b,Zx:()=>Te,lw:()=>c,EM:()=>Ie,JF:()=>ke,NF:()=>De,w_:()=>a,bD:()=>Pe,q:()=>r,Mx:()=>he,HT:()=>s});var i=o(7716);let n=null;function r(){return n}function s(e){n||(n=e)}class a{}const l=new i.OlP("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,i.LFG)(h)}const p=new i.OlP("Location Initialized");let h=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,o){d()?this._history.pushState(e,t,o):this.location.hash=o}replaceState(e,t,o){d()?this._history.replaceState(e,t,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(l))},e.\u0275prov=(0,i.Yz7)({factory:f,token:e,providedIn:"platform"}),e})();function d(){return!!window.history.pushState}function f(){return new h((0,i.LFG)(l))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let o=0;return e.endsWith("/")&&o++,t.startsWith("/")&&o++,2==o?e+t.substring(1):1==o?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),o=t&&t.index||e.length;return e.slice(0,o-("/"===e[o-1]?1:0))+e.slice(o)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:C,token:e,providedIn:"root"}),e})();function C(e){const t=(0,i.LFG)(l).location;return new b((0,i.LFG)(c),t&&t.origin||"")}const w=new i.OlP("appBaseHref");let b=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,i){const n=this.prepareExternalUrl(o+y(i));this._platformLocation.pushState(e,t,n)}replaceState(e,t,o,i){const n=this.prepareExternalUrl(o+y(i));this._platformLocation.replaceState(e,t,n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,o;null===(o=(t=this._platformLocation).historyGo)||void 0===o||o.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(c),i.LFG(w,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,i){let n=this.prepareExternalUrl(o+y(i));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)}replaceState(e,t,o,i){let n=this.prepareExternalUrl(o+y(i));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,o;null===(o=(t=this._platformLocation).historyGo)||void 0===o||o.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(c),i.LFG(w,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e{constructor(e,t){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(_(o)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,_(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._platformStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),o)}replaceState(e,t="",o=null){this._platformStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,o;null===(o=(t=this._platformStrategy).historyGo)||void 0===o||o.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(v),i.LFG(c))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=(0,i.Yz7)({factory:E,token:e,providedIn:"root"}),e})();function E(){return new S((0,i.LFG)(v),(0,i.LFG)(c))}function _(e){return e.replace(/\/index.html$/,"")}var A=(()=>((A=A||{})[A.Decimal=0]="Decimal",A[A.Percent=1]="Percent",A[A.Currency=2]="Currency",A[A.Scientific=3]="Scientific",A))(),R=(()=>((R=R||{})[R.Zero=0]="Zero",R[R.One=1]="One",R[R.Two=2]="Two",R[R.Few=3]="Few",R[R.Many=4]="Many",R[R.Other=5]="Other",R))(),T=(()=>((T=T||{})[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T))(),O=(()=>((O=O||{})[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O))(),P=(()=>((P=P||{})[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P))(),D=(()=>((D=D||{})[D.Decimal=0]="Decimal",D[D.Group=1]="Group",D[D.List=2]="List",D[D.PercentSign=3]="PercentSign",D[D.PlusSign=4]="PlusSign",D[D.MinusSign=5]="MinusSign",D[D.Exponential=6]="Exponential",D[D.SuperscriptingExponent=7]="SuperscriptingExponent",D[D.PerMille=8]="PerMille",D[D[1/0]=9]="Infinity",D[D.NaN=10]="NaN",D[D.TimeSeparator=11]="TimeSeparator",D[D.CurrencyDecimal=12]="CurrencyDecimal",D[D.CurrencyGroup=13]="CurrencyGroup",D))();function I(e,t){return G((0,i.cg1)(e)[i.wAp.DateFormat],t)}function M(e,t){return G((0,i.cg1)(e)[i.wAp.TimeFormat],t)}function N(e,t){return G((0,i.cg1)(e)[i.wAp.DateTimeFormat],t)}function k(e,t){const o=(0,i.cg1)(e),n=o[i.wAp.NumberSymbols][t];if(void 0===n){if(t===D.CurrencyDecimal)return o[i.wAp.NumberSymbols][D.Decimal];if(t===D.CurrencyGroup)return o[i.wAp.NumberSymbols][D.Group]}return n}const L=i.kL8;function F(e){if(!e[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function G(e,t){for(let o=t;o>-1;o--)if(void 0!==e[o])return e[o];throw new Error("Locale data API: locale data undefined")}function H(e){const[t,o]=e.split(":");return{hours:+t,minutes:+o}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,W={},B=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var j=(()=>((j=j||{})[j.Short=0]="Short",j[j.ShortGMT=1]="ShortGMT",j[j.Long=2]="Long",j[j.Extended=3]="Extended",j))(),z=(()=>((z=z||{})[z.FullYear=0]="FullYear",z[z.Month=1]="Month",z[z.Date=2]="Date",z[z.Hours=3]="Hours",z[z.Minutes=4]="Minutes",z[z.Seconds=5]="Seconds",z[z.FractionalSeconds=6]="FractionalSeconds",z[z.Day=7]="Day",z))(),U=(()=>((U=U||{})[U.DayPeriods=0]="DayPeriods",U[U.Days=1]="Days",U[U.Months=2]="Months",U[U.Eras=3]="Eras",U))();function Y(e,t,o,i){let n=function(e){if(re(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,o=1,i=1]=e.split("-").map(e=>+e);return X(t,o-1,i)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let o;if(o=e.match(V))return function(e){const t=new Date(0);let o=0,i=0;const n=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(o=Number(e[9]+e[10]),i=Number(e[9]+e[11])),n.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-o,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,s,a,l,c),t}(o)}const t=new Date(e);if(!re(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=q(o,t)||t;let r,s=[];for(;t;){if(r=B.exec(t),!r){s.push(t);break}{s=s.concat(r.slice(1));const e=s.pop();if(!e)break;t=e}}let a=n.getTimezoneOffset();i&&(a=ne(i,a),n=function(e,t,o){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ne(t,i)-i))}(n,i));let l="";return s.forEach(e=>{const t=function(e){if(ie[e])return ie[e];let t;switch(e){case"G":case"GG":case"GGG":t=J(U.Eras,O.Abbreviated);break;case"GGGG":t=J(U.Eras,O.Wide);break;case"GGGGG":t=J(U.Eras,O.Narrow);break;case"y":t=Q(z.FullYear,1,0,!1,!0);break;case"yy":t=Q(z.FullYear,2,0,!0,!0);break;case"yyy":t=Q(z.FullYear,3,0,!1,!0);break;case"yyyy":t=Q(z.FullYear,4,0,!1,!0);break;case"Y":t=oe(1);break;case"YY":t=oe(2,!0);break;case"YYY":t=oe(3);break;case"YYYY":t=oe(4);break;case"M":case"L":t=Q(z.Month,1,1);break;case"MM":case"LL":t=Q(z.Month,2,1);break;case"MMM":t=J(U.Months,O.Abbreviated);break;case"MMMM":t=J(U.Months,O.Wide);break;case"MMMMM":t=J(U.Months,O.Narrow);break;case"LLL":t=J(U.Months,O.Abbreviated,T.Standalone);break;case"LLLL":t=J(U.Months,O.Wide,T.Standalone);break;case"LLLLL":t=J(U.Months,O.Narrow,T.Standalone);break;case"w":t=te(1);break;case"ww":t=te(2);break;case"W":t=te(1,!0);break;case"d":t=Q(z.Date,1);break;case"dd":t=Q(z.Date,2);break;case"c":case"cc":t=Q(z.Day,1);break;case"ccc":t=J(U.Days,O.Abbreviated,T.Standalone);break;case"cccc":t=J(U.Days,O.Wide,T.Standalone);break;case"ccccc":t=J(U.Days,O.Narrow,T.Standalone);break;case"cccccc":t=J(U.Days,O.Short,T.Standalone);break;case"E":case"EE":case"EEE":t=J(U.Days,O.Abbreviated);break;case"EEEE":t=J(U.Days,O.Wide);break;case"EEEEE":t=J(U.Days,O.Narrow);break;case"EEEEEE":t=J(U.Days,O.Short);break;case"a":case"aa":case"aaa":t=J(U.DayPeriods,O.Abbreviated);break;case"aaaa":t=J(U.DayPeriods,O.Wide);break;case"aaaaa":t=J(U.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":t=J(U.DayPeriods,O.Abbreviated,T.Standalone,!0);break;case"bbbb":t=J(U.DayPeriods,O.Wide,T.Standalone,!0);break;case"bbbbb":t=J(U.DayPeriods,O.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":t=J(U.DayPeriods,O.Abbreviated,T.Format,!0);break;case"BBBB":t=J(U.DayPeriods,O.Wide,T.Format,!0);break;case"BBBBB":t=J(U.DayPeriods,O.Narrow,T.Format,!0);break;case"h":t=Q(z.Hours,1,-12);break;case"hh":t=Q(z.Hours,2,-12);break;case"H":t=Q(z.Hours,1);break;case"HH":t=Q(z.Hours,2);break;case"m":t=Q(z.Minutes,1);break;case"mm":t=Q(z.Minutes,2);break;case"s":t=Q(z.Seconds,1);break;case"ss":t=Q(z.Seconds,2);break;case"S":t=Q(z.FractionalSeconds,1);break;case"SS":t=Q(z.FractionalSeconds,2);break;case"SSS":t=Q(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$(j.Short);break;case"ZZZZZ":t=$(j.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$(j.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$(j.Long);break;default:return null}return ie[e]=t,t}(e);l+=t?t(n,o,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function X(e,t,o){const i=new Date(0);return i.setFullYear(e,t,o),i.setHours(0,0,0),i}function q(e,t){const o=function(e){return(0,i.cg1)(e)[i.wAp.LocaleId]}(e);if(W[o]=W[o]||{},W[o][t])return W[o][t];let n="";switch(t){case"shortDate":n=I(e,P.Short);break;case"mediumDate":n=I(e,P.Medium);break;case"longDate":n=I(e,P.Long);break;case"fullDate":n=I(e,P.Full);break;case"shortTime":n=M(e,P.Short);break;case"mediumTime":n=M(e,P.Medium);break;case"longTime":n=M(e,P.Long);break;case"fullTime":n=M(e,P.Full);break;case"short":const t=q(e,"shortTime"),o=q(e,"shortDate");n=Z(N(e,P.Short),[t,o]);break;case"medium":const i=q(e,"mediumTime"),r=q(e,"mediumDate");n=Z(N(e,P.Medium),[i,r]);break;case"long":const s=q(e,"longTime"),a=q(e,"longDate");n=Z(N(e,P.Long),[s,a]);break;case"full":const l=q(e,"fullTime"),c=q(e,"fullDate");n=Z(N(e,P.Full),[l,c])}return n&&(W[o][t]=n),n}function Z(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e}function K(e,t,o="-",i,n){let r="";(e<0||n&&e<=0)&&(n?e=1-e:(e=-e,r=o));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),r+s}function Q(e,t,o=0,i=!1,n=!1){return function(r,s){let a=function(e,t){switch(e){case z.FullYear:return t.getFullYear();case z.Month:return t.getMonth();case z.Date:return t.getDate();case z.Hours:return t.getHours();case z.Minutes:return t.getMinutes();case z.Seconds:return t.getSeconds();case z.FractionalSeconds:return t.getMilliseconds();case z.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((o>0||a>-o)&&(a+=o),e===z.Hours)0===a&&-12===o&&(a=12);else if(e===z.FractionalSeconds)return l=t,K(a,3).substr(0,l);var l;const c=k(s,D.MinusSign);return K(a,t,c,i,n)}}function J(e,t,o=T.Format,n=!1){return function(r,s){return function(e,t,o,n,r,s){switch(o){case U.Months:return function(e,t,o){const n=(0,i.cg1)(e),r=G([n[i.wAp.MonthsFormat],n[i.wAp.MonthsStandalone]],t);return G(r,o)}(t,r,n)[e.getMonth()];case U.Days:return function(e,t,o){const n=(0,i.cg1)(e),r=G([n[i.wAp.DaysFormat],n[i.wAp.DaysStandalone]],t);return G(r,o)}(t,r,n)[e.getDay()];case U.DayPeriods:const a=e.getHours(),l=e.getMinutes();if(s){const e=function(e){const t=(0,i.cg1)(e);return F(t),(t[i.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?H(e):[H(e[0]),H(e[1])])}(t),o=function(e,t,o){const n=(0,i.cg1)(e);F(n);const r=G([n[i.wAp.ExtraData][0],n[i.wAp.ExtraData][1]],t)||[];return G(r,o)||[]}(t,r,n),s=e.findIndex(e=>{if(Array.isArray(e)){const[t,o]=e,i=a>=t.hours&&l>=t.minutes,n=a<o.hours||a===o.hours&&l<o.minutes;if(t.hours<o.hours){if(i&&n)return!0}else if(i||n)return!0}else if(e.hours===a&&e.minutes===l)return!0;return!1});if(-1!==s)return o[s]}return function(e,t,o){const n=(0,i.cg1)(e),r=G([n[i.wAp.DayPeriodsFormat],n[i.wAp.DayPeriodsStandalone]],t);return G(r,o)}(t,r,n)[a<12?0:1];case U.Eras:return function(e,t){return G((0,i.cg1)(e)[i.wAp.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${o}`)}}(r,s,e,t,o,n)}}function $(e){return function(t,o,i){const n=-1*i,r=k(o,D.MinusSign),s=n>0?Math.floor(n/60):Math.ceil(n/60);switch(e){case j.Short:return(n>=0?"+":"")+K(s,2,r)+K(Math.abs(n%60),2,r);case j.ShortGMT:return"GMT"+(n>=0?"+":"")+K(s,1,r);case j.Long:return"GMT"+(n>=0?"+":"")+K(s,2,r)+":"+K(Math.abs(n%60),2,r);case j.Extended:return 0===i?"Z":(n>=0?"+":"")+K(s,2,r)+":"+K(Math.abs(n%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function ee(e){return X(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function te(e,t=!1){return function(o,i){let n;if(t){const e=new Date(o.getFullYear(),o.getMonth(),1).getDay()-1,t=o.getDate();n=1+Math.floor((t+e)/7)}else{const e=ee(o),t=function(e){const t=X(e,0,1).getDay();return X(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),i=e.getTime()-t.getTime();n=1+Math.round(i/6048e5)}return K(n,e,k(i,D.MinusSign))}}function oe(e,t=!1){return function(o,i){return K(ee(o).getFullYear(),e,k(i,D.MinusSign),t)}}const ie={};function ne(e,t){e=e.replace(/:/g,"");const o=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(o)?t:o}function re(e){return e instanceof Date&&!isNaN(e.valueOf())}const se=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ae=".",le="0";function ce(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class ue{}let pe=(()=>{class e extends ue{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(L(t||this.locale)(e)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.soG))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function he(e,t){t=encodeURIComponent(t);for(const o of e.split(";")){const e=o.indexOf("="),[i,n]=-1==e?[o,""]:[o.slice(0,e),o.slice(e+1)];if(i.trim()===t)return decodeURIComponent(n)}return null}let de=(()=>{class e{constructor(e,t,o,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=o,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class fe{constructor(e,t,o,i){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ge=(()=>{class e{constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const o=this._ngForOf;if(!this._differ&&o)try{this._differ=this._differs.find(o).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${o}' of type '${e=o,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,o,i)=>{if(null==e.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new fe(null,this._ngForOf,-1,-1),null===i?void 0:i),n=new me(e,o);t.push(n)}else if(null==i)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const n=this._viewContainer.get(o);this._viewContainer.move(n,i);const r=new me(e,n);t.push(r)}});for(let o=0;o<t.length;o++)this._perViewChange(t[o].view,t[o].record);for(let o=0,i=this._viewContainer.length;o<i;o++){const e=this._viewContainer.get(o);e.context.index=o,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class me{constructor(e,t){this.record=e,this.view=t}}let ye=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ce("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ce("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class ve{constructor(){this.$implicit=null,this.ngIf=null}}function Ce(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}let we=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),e})();function be(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,i.AaK)(e)}'`)}class xe{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Se{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ee=new Se,_e=new xe;let Ae=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,i.QGY)(t))return Ee;if((0,i.F4k)(t))return _e;throw be(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO,16))},e.\u0275pipe=i.Yjl({name:"async",type:e,pure:!1}),e})(),Re=(()=>{class e{constructor(e){this.locale=e}transform(t,o="mediumDate",i,n){if(null==t||""===t||t!=t)return null;try{return Y(t,o,n||this.locale,i)}catch(r){throw be(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.soG,16))},e.\u0275pipe=i.Yjl({name:"date",type:e,pure:!0}),e})(),Te=(()=>{class e{constructor(e){this._locale=e}transform(t,o,n){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;n=n||this._locale;try{return function(e,t,o){return function(e,t,o,i,n,r,s=!1){let a="",l=!1;if(isFinite(e)){let c=function(e){let t,o,i,n,r,s=Math.abs(e)+"",a=0;for((o=s.indexOf(ae))>-1&&(s=s.replace(ae,"")),(i=s.search(/e/i))>0?(o<0&&(o=i),o+=+s.slice(i+1),s=s.substring(0,i)):o<0&&(o=s.length),i=0;s.charAt(i)===le;i++);if(i===(r=s.length))t=[0],o=1;else{for(r--;s.charAt(r)===le;)r--;for(o-=i,t=[],n=0;i<=r;i++,n++)t[n]=Number(s.charAt(i))}return o>22&&(t=t.splice(0,21),a=o-1,o=1),{digits:t,exponent:a,integerLen:o}}(e);s&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let u=t.minInt,p=t.minFrac,h=t.maxFrac;if(r){const e=r.match(se);if(null===e)throw new Error(`${r} is not a valid digit info`);const t=e[1],o=e[3],i=e[5];null!=t&&(u=ce(t)),null!=o&&(p=ce(o)),null!=i?h=ce(i):null!=o&&p>h&&(h=p)}!function(e,t,o){if(t>o)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${o}).`);let i=e.digits,n=i.length-e.integerLen;const r=Math.min(Math.max(t,n),o);let s=r+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let e=s;e<i.length;e++)i[e]=0}else{n=Math.max(0,n),e.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let e=1;e<s;e++)i[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;n<Math.max(0,r);n++)i.push(0);let l=0!==r;const c=t+e.integerLen,u=i.reduceRight(function(e,t,o,i){return i[o]=(t+=e)<10?t:t-10,l&&(0===i[o]&&o>=c?i.pop():l=!1),t>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}(c,p,h);let d=c.digits,f=c.integerLen;const g=c.exponent;let m=[];for(l=d.every(e=>!e);f<u;f++)d.unshift(0);for(;f<0;f++)d.unshift(0);f>0?m=d.splice(f,d.length):(m=d,d=[0]);const y=[];for(d.length>=t.lgSize&&y.unshift(d.splice(-t.lgSize,d.length).join(""));d.length>t.gSize;)y.unshift(d.splice(-t.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(k(o,i)),m.length&&(a+=k(o,n)+m.join("")),g&&(a+=k(o,D.Exponential)+"+"+g)}else a=k(o,D.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function(e,t="-"){const o={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),n=i[0],r=i[1],s=-1!==n.indexOf(ae)?n.split(ae):[n.substring(0,n.lastIndexOf(le)+1),n.substring(n.lastIndexOf(le)+1)],a=s[0],l=s[1]||"";o.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const e=l.charAt(u);e===le?o.minFrac=o.maxFrac=u+1:"#"===e?o.maxFrac=u+1:o.posSuf+=e}const c=a.split(",");if(o.gSize=c[1]?c[1].length:0,o.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){const e=n.length-o.posPre.length-o.posSuf.length,t=r.indexOf("#");o.negPre=r.substr(0,t).replace(/'/g,""),o.negSuf=r.substr(t+e).replace(/'/g,"")}else o.negPre=t+o.posPre,o.negSuf=o.posSuf;return o}(function(e,t){return(0,i.cg1)(e)[i.wAp.NumberFormats][t]}(t,A.Percent),k(t,D.MinusSign)),t,D.Group,D.Decimal,o,!0).replace(new RegExp("%","g"),k(t,D.PercentSign))}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),n,o)}catch(r){throw be(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.soG,16))},e.\u0275pipe=i.Yjl({name:"percent",type:e,pure:!0}),e})(),Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:ue,useClass:pe}]}),e})();const Pe="browser";function De(e){return e===Pe}let Ie=(()=>{class e{}return e.\u0275prov=(0,i.Yz7)({token:e,providedIn:"root",factory:()=>new Me((0,i.LFG)(l),window)}),e})();class Me{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const o=e.getElementById(t)||e.getElementsByName(t)[0];if(o)return o;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const e=i.shadowRoot;if(e){const o=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(o)return o}i=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,n=this.offset();this.window.scrollTo(o-n[0],i-n[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ne(this.window.history)||Ne(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ne(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ke{}},1841:(e,t,o)=>{"use strict";o.d(t,{TP:()=>P,eN:()=>T,JF:()=>W,LE:()=>m});var i=o(8583),n=o(7716),r=o(5917),s=o(7574),a=o(4612),l=o(5435),c=o(8002);class u{}class p{}class h{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const o=e.slice(0,t),i=o.toLowerCase(),n=e.slice(t+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const i=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(i,o),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof h?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new h;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof h?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...o),this.headers.set(t,i);break;case"d":const n=e.value;if(n){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===n.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class d{encodeKey(e){return f(e)}encodeValue(e){return f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function f(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function g(e){return`${e}`}class m{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new d,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const o=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const i=e.indexOf("="),[n,r]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=o.get(n)||[];s.push(r),o.set(n,s)}),o}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const i=e[o];Array.isArray(i)?i.forEach(e=>{t.push({param:o,value:e,op:"a"})}):t.push({param:o,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new m({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(g(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const o=t.indexOf(g(e.value));-1!==o&&t.splice(o,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function v(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function C(e){return"undefined"!=typeof Blob&&e instanceof Blob}function w(e){return"undefined"!=typeof FormData&&e instanceof FormData}class b{constructor(e,t,o,i){let n;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==o?o:null,n=i):n=o,n&&(this.reportProgress=!!n.reportProgress,this.withCredentials=!!n.withCredentials,n.responseType&&(this.responseType=n.responseType),n.headers&&(this.headers=n.headers),n.context&&(this.context=n.context),n.params&&(this.params=n.params)),this.headers||(this.headers=new h),this.context||(this.context=new y),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+e}}else this.params=new m,this.urlWithParams=t}serializeBody(){return null===this.body?null:v(this.body)||C(this.body)||w(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||w(this.body)?null:C(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const o=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,o)=>t.set(o,e.setHeaders[o]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,o)=>t.set(o,e.setParams[o]),c)),new b(o,i,r,{params:c,headers:l,context:u,reportProgress:a,responseType:n,withCredentials:s})}}var x=(()=>((x=x||{})[x.Sent=0]="Sent",x[x.UploadProgress=1]="UploadProgress",x[x.ResponseHeader=2]="ResponseHeader",x[x.DownloadProgress=3]="DownloadProgress",x[x.Response=4]="Response",x[x.User=5]="User",x))();class S{constructor(e,t=200,o="OK"){this.headers=e.headers||new h,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E extends S{constructor(e={}){super(e),this.type=x.ResponseHeader}clone(e={}){return new E({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _ extends S{constructor(e={}){super(e),this.type=x.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class A extends S{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function R(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let T=(()=>{class e{constructor(e){this.handler=e}request(e,t,o={}){let i;if(e instanceof b)i=e;else{let n,r;n=o.headers instanceof h?o.headers:new h(o.headers),o.params&&(r=o.params instanceof m?o.params:new m({fromObject:o.params})),i=new b(e,t,void 0!==o.body?o.body:null,{headers:n,context:o.context,params:r,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const n=(0,r.of)(i).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof b||"events"===o.observe)return n;const s=n.pipe((0,l.h)(e=>e instanceof _));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,c.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,c.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new m).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,R(o,t))}post(e,t,o={}){return this.request("POST",e,R(o,t))}put(e,t,o={}){return this.request("PUT",e,R(o,t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(u))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class O{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const P=new n.OlP("HTTP_INTERCEPTORS");let D=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const I=/^\)\]\}',?\n/;let M=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.y(t=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((e,t)=>o.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&o.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();o.responseType="json"!==t?t:"text"}const i=e.serializeBody();let n=null;const r=()=>{if(null!==n)return n;const t=1223===o.status?204:o.status,i=o.statusText||"OK",r=new h(o.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||e.url;return n=new E({headers:r,status:t,statusText:i,url:s}),n},s=()=>{let{headers:i,status:n,statusText:s,url:a}=r(),l=null;204!==n&&(l=void 0===o.response?o.responseText:o.response),0===n&&(n=l?200:0);let c=n>=200&&n<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(I,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new _({body:l,headers:i,status:n,statusText:s,url:a||void 0})),t.complete()):t.error(new A({error:l,headers:i,status:n,statusText:s,url:a||void 0}))},a=e=>{const{url:i}=r(),n=new A({error:e,status:o.status||0,statusText:o.statusText||"Unknown Error",url:i||void 0});t.error(n)};let l=!1;const c=i=>{l||(t.next(r()),l=!0);let n={type:x.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(n.total=i.total),"text"===e.responseType&&o.responseText&&(n.partialText=o.responseText),t.next(n)},u=e=>{let o={type:x.UploadProgress,loaded:e.loaded};e.lengthComputable&&(o.total=e.total),t.next(o)};return o.addEventListener("load",s),o.addEventListener("error",a),o.addEventListener("timeout",a),o.addEventListener("abort",a),e.reportProgress&&(o.addEventListener("progress",c),null!==i&&o.upload&&o.upload.addEventListener("progress",u)),o.send(i),t.next({type:x.Sent}),()=>{o.removeEventListener("error",a),o.removeEventListener("abort",a),o.removeEventListener("load",s),o.removeEventListener("timeout",a),e.reportProgress&&(o.removeEventListener("progress",c),null!==i&&o.upload&&o.upload.removeEventListener("progress",u)),o.readyState!==o.DONE&&o.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.JF))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const N=new n.OlP("XSRF_COOKIE_NAME"),k=new n.OlP("XSRF_HEADER_NAME");class L{}let F=(()=>{class e{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.K0),n.LFG(n.Lbi),n.LFG(N))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(L),n.LFG(k))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(P,[]);this.chain=e.reduceRight((e,t)=>new O(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(p),n.LFG(n.zs3))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:G,useClass:D}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:N,useValue:t.cookieName}:[],t.headerName?{provide:k,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[G,{provide:P,useExisting:G,multi:!0},{provide:L,useClass:F},{provide:N,useValue:"XSRF-TOKEN"},{provide:k,useValue:"X-XSRF-TOKEN"}]}),e})(),W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[T,{provide:u,useClass:H},M,{provide:p,useExisting:M}],imports:[[V.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},7716:(e,t,o)=>{"use strict";o.d(t,{deG:()=>ao,tb:()=>ou,AFp:()=>Qc,ip1:()=>Zc,CZH:()=>Kc,hGG:()=>qu,z2F:()=>Gu,sBO:()=>zl,Sil:()=>du,_Vd:()=>fl,EJc:()=>ru,SBq:()=>vl,qLn:()=>Ti,vpe:()=>Oc,gxx:()=>Tr,tBr:()=>To,XFs:()=>P,OlP:()=>so,zs3:()=>jr,ZZ4:()=>Fl,aQg:()=>Hl,soG:()=>nu,YKP:()=>ec,v3s:()=>Vu,h0i:()=>$l,PXZ:()=>Mu,R0b:()=>mu,FiY:()=>Oo,Lbi:()=>tu,g9A:()=>eu,Qsj:()=>bl,FYo:()=>wl,JOm:()=>Mi,Tiy:()=>Sl,q3G:()=>wi,tp0:()=>Po,EAV:()=>ju,Rgc:()=>Zl,dDg:()=>Su,DyG:()=>lo,GfV:()=>El,s_b:()=>oc,ifc:()=>L,eFA:()=>Nu,G48:()=>Du,Gpc:()=>d,_c5:()=>Yu,VLi:()=>Au,c2e:()=>iu,zSh:()=>Pr,wAp:()=>ua,vHH:()=>m,EiD:()=>vi,mCW:()=>ei,qzn:()=>Bo,JVY:()=>zo,pB0:()=>qo,eBb:()=>Yo,L6k:()=>Uo,LAX:()=>Xo,cg1:()=>aa,Tjo:()=>Uu,kL8:()=>la,yhl:()=>jo,dqk:()=>W,sIi:()=>$r,CqO:()=>bs,QGY:()=>Cs,F4k:()=>ws,RDi:()=>_e,AaK:()=>u,z3N:()=>Wo,qOj:()=>Ur,TTD:()=>Ce,_Bn:()=>pl,xp6:()=>Pn,uIk:()=>ns,Q2q:()=>ss,Tol:()=>Hs,Gre:()=>ea,DjV:()=>ta,ekj:()=>Gs,Suo:()=>jc,Xpm:()=>J,lG2:()=>re,Yz7:()=>b,cJS:()=>x,oAB:()=>oe,Yjl:()=>se,Y36:()=>cs,_UZ:()=>fs,GkF:()=>ys,BQk:()=>ms,ynx:()=>gs,qZA:()=>ds,TgZ:()=>hs,EpF:()=>vs,n5z:()=>to,Ikx:()=>oa,SDv:()=>tl,QtT:()=>il,pQV:()=>ol,LFG:()=>_o,$8M:()=>io,NdJ:()=>xs,CRH:()=>zc,oxw:()=>_s,ALo:()=>Sc,lcZ:()=>Ec,xi3:()=>_c,Hsn:()=>Ts,F$t:()=>Rs,Q6J:()=>us,s9C:()=>Os,MGl:()=>Ps,VKq:()=>yc,WLB:()=>vc,kEZ:()=>Cc,iGM:()=>Wc,MAs:()=>ls,CHM:()=>ze,oJD:()=>bi,LSH:()=>xi,kYT:()=>ie,Udp:()=>Fs,d8E:()=>ia,YNc:()=>as,W1O:()=>qc,_uU:()=>Qs,Oqu:()=>Js,hij:()=>$s,Gf:()=>Bc});var i=o(7709),n=o(5319),r=o(7574),s=o(6682),a=o(8819);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const o in t)t.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=t[o])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const o=t.indexOf("\n");return-1===o?t:t.substring(0,o)}function p(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const h=l({__forward_ref__:l});function d(e){return e.__forward_ref__=d,e.toString=function(){return u(this())},e}function f(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(h)&&e.__forward_ref__===d}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function C(e,t){const o=t?` in ${t}`:"";throw new m("201",`No provider for ${v(e)} found${o}`)}function w(e,t,o,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${o} ${i} ${t} <=Actual]`))}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function x(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return E(e,A)||E(e,T)}function E(e,t){return e.hasOwnProperty(t)?e[t]:null}function _(e){return e&&(e.hasOwnProperty(R)||e.hasOwnProperty(O))?e[R]:null}const A=l({"\u0275prov":l}),R=l({"\u0275inj":l}),T=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var P=(()=>((P=P||{})[P.Default=0]="Default",P[P.Host=1]="Host",P[P.Self=2]="Self",P[P.SkipSelf=4]="SkipSelf",P[P.Optional=8]="Optional",P))();let D;function I(e){const t=D;return D=e,t}function M(e,t,o){const i=S(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:o&P.Optional?null:void 0!==t?t:void C(u(e),"Injector")}function N(e){return{toString:e}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const F="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,W=F||V||G||H,B={},j=[],z=l({"\u0275cmp":l}),U=l({"\u0275dir":l}),Y=l({"\u0275pipe":l}),X=l({"\u0275mod":l}),q=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),K=l({__NG_ELEMENT_ID__:l});let Q=0;function J(e){return N(()=>{const t={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||j,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||L.Emulated,id:"c",styles:e.styles||j,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,n=e.features,r=e.pipes;return o.id+=Q++,o.inputs=ne(e.inputs,t),o.outputs=ne(e.outputs),n&&n.forEach(e=>e(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map($):null,o.pipeDefs=r?()=>("function"==typeof r?r():r).map(ee):null,o})}function $(e){return ae(e)||function(e){return e[U]||null}(e)}function ee(e){return function(e){return e[Y]||null}(e)}const te={};function oe(e){return N(()=>{const t={type:e.type,bootstrap:e.bootstrap||j,declarations:e.declarations||j,imports:e.imports||j,exports:e.exports||j,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(te[e.id]=e.type),t})}function ie(e,t){return N(()=>{const o=le(e,!0);o.declarations=t.declarations||j,o.imports=t.imports||j,o.exports=t.exports||j})}function ne(e,t){if(null==e)return B;const o={};for(const i in e)if(e.hasOwnProperty(i)){let n=e[i],r=n;Array.isArray(n)&&(r=n[1],n=n[0]),o[n]=i,t&&(t[n]=r)}return o}const re=J;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ae(e){return e[z]||null}function le(e,t){const o=e[X]||null;if(!o&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return o}const ce=20,ue=10;function pe(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function ge(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ye(e,t){return e.hasOwnProperty(Z)?e[Z]:null}class ve{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ce(){return we}function we(e){return e.type.prototype.ngOnChanges&&(e.setInput=xe),be}function be(){const e=Se(this),t=null==e?void 0:e.current;if(t){const o=e.previous;if(o===B)e.previous=t;else for(let e in t)o[e]=t[e];e.current=null,this.ngOnChanges(t)}}function xe(e,t,o,i){const n=Se(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),r=n.current||(n.current={}),s=n.previous,a=this.declaredInputs[o],l=s[a];r[a]=new ve(l&&l.currentValue,t,s===B),e[i]=t}function Se(e){return e.__ngSimpleChanges__||null}let Ee;function _e(e){Ee=e}function Ae(){return void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0}function Re(e){return!!e.listen}Ce.ngInherit=!0;const Te={createRenderer:(e,t)=>Ae()};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Pe(e,t){return Oe(t[e])}function De(e,t){return Oe(t[e.index])}function Ie(e,t){return e.data[t]}function Me(e,t){return e[t]}function Ne(e,t){const o=t[e];return pe(o)?o:o[0]}function ke(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Ge(e){e[18]=0}function He(e,t){e[5]+=t;let o=e,i=e[3];for(;null!==i&&(1===t&&1===o[5]||-1===t&&0===o[5]);)i[5]+=t,o=i,i=i[3]}const Ve={lFrame:dt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function We(){return Ve.bindingsEnabled}function Be(){return Ve.lFrame.lView}function je(){return Ve.lFrame.tView}function ze(e){return Ve.lFrame.contextLView=e,e[8]}function Ue(){let e=Ye();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ye(){return Ve.lFrame.currentTNode}function Xe(){const e=Ve.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function qe(e,t){const o=Ve.lFrame;o.currentTNode=e,o.isParent=t}function Ze(){return Ve.lFrame.isParent}function Ke(){Ve.lFrame.isParent=!1}function Qe(){return Ve.isInCheckNoChangesMode}function Je(e){Ve.isInCheckNoChangesMode=e}function $e(){const e=Ve.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return Ve.lFrame.bindingIndex}function tt(){return Ve.lFrame.bindingIndex++}function ot(e){const t=Ve.lFrame,o=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,o}function it(e){Ve.lFrame.inI18n=e}function nt(e,t){const o=Ve.lFrame;o.bindingIndex=o.bindingRootIndex=e,rt(t)}function rt(e){Ve.lFrame.currentDirectiveIndex=e}function st(e){const t=Ve.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function at(){return Ve.lFrame.currentQueryIndex}function lt(e){Ve.lFrame.currentQueryIndex=e}function ct(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ut(e,t,o){if(o&P.SkipSelf){let i=t,n=e;for(;i=i.parent,!(null!==i||o&P.Host||(i=ct(n),null===i)||(n=n[15],10&i.type)););if(null===i)return!1;t=i,e=n}const i=Ve.lFrame=ht();return i.currentTNode=t,i.lView=e,!0}function pt(e){const t=ht(),o=e[1];Ve.lFrame=t,t.currentTNode=o.firstChild,t.lView=e,t.tView=o,t.contextLView=e,t.bindingIndex=o.bindingStartIndex,t.inI18n=!1}function ht(){const e=Ve.lFrame,t=null===e?null:e.child;return null===t?dt(e):t}function dt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ft(){const e=Ve.lFrame;return Ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gt=ft;function mt(){const e=ft();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yt(){return Ve.lFrame.selectedIndex}function vt(e){Ve.lFrame.selectedIndex=e}function Ct(){const e=Ve.lFrame;return Ie(e.tView,e.selectedIndex)}function wt(e,t){for(let o=t.directiveStart,i=t.directiveEnd;o<i;o++){const t=e.data[o].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:n,ngAfterViewInit:r,ngAfterViewChecked:s,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-o,i),n&&((e.contentHooks||(e.contentHooks=[])).push(o,n),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(o,n)),r&&(e.viewHooks||(e.viewHooks=[])).push(-o,r),s&&((e.viewHooks||(e.viewHooks=[])).push(o,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(o,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(o,a)}}function bt(e,t,o){Et(e,t,3,o)}function xt(e,t,o,i){(3&e[2])===o&&Et(e,t,o,i)}function St(e,t){let o=e[2];(3&o)===t&&(o&=2047,o+=1,e[2]=o)}function Et(e,t,o,i){const n=null!=i?i:-1,r=t.length-1;let s=0;for(let a=void 0!==i?65535&e[18]:0;a<r;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=i&&s>=i)break}else t[a]<0&&(e[18]+=65536),(s<n||-1==n)&&(_t(e,o,t,a),e[18]=(4294901760&e[18])+a+2),a++}function _t(e,t,o,i){const n=o[i]<0,r=o[i+1],s=e[n?-o[i]:o[i]];if(n){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{r.call(s)}finally{}}}else try{r.call(s)}finally{}}const At=-1;class Rt{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function Tt(e,t,o){const i=Re(e);let n=0;for(;n<o.length;){const r=o[n];if("number"==typeof r){if(0!==r)break;n++;const s=o[n++],a=o[n++],l=o[n++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=r,a=o[++n];Pt(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),n++}}return n}function Ot(e){return 3===e||4===e||6===e}function Pt(e){return 64===e.charCodeAt(0)}function Dt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let o=-1;for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?o=n:0===o||It(e,o,n,null,-1===o||2===o?t[++i]:null)}}return e}function It(e,t,o,i,n){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const o=e[r++];if("number"==typeof o){if(o===t){s=-1;break}if(o>t){s=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===o){if(null===i)return void(null!==n&&(e[r+1]=n));if(i===e[r+1])return void(e[r+2]=n)}r++,null!==i&&r++,null!==n&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,o),null!==i&&e.splice(r++,0,i),null!==n&&e.splice(r++,0,n)}function Mt(e){return e!==At}function Nt(e){return 32767&e}function kt(e,t){let o=e>>16,i=t;for(;o>0;)i=i[15],o--;return i}let Lt=!0;function Ft(e){const t=Lt;return Lt=e,t}let Gt=0;function Ht(e,t){const o=Wt(e,t);if(-1!==o)return o;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Vt(i.data,e),Vt(t,null),Vt(i.blueprint,null));const n=Bt(e,t),r=e.injectorIndex;if(Mt(n)){const e=Nt(n),o=kt(n,t),i=o[1].data;for(let n=0;n<8;n++)t[r+n]=o[e+n]|i[e+n]}return t[r+8]=n,r}function Vt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,i=null,n=t;for(;null!==n;){const e=n[1],t=e.type;if(i=2===t?e.declTNode:1===t?n[6]:null,null===i)return At;if(o++,n=n[15],-1!==i.injectorIndex)return i.injectorIndex|o<<16}return At}function jt(e,t,o){!function(e,t,o){let i;"string"==typeof o?i=o.charCodeAt(0)||0:o.hasOwnProperty(K)&&(i=o[K]),null==i&&(i=o[K]=Gt++);const n=255&i;t.data[e+(n>>5)]|=1<<n}(e,t,o)}function zt(e,t,o){if(o&P.Optional)return e;C(t,"NodeInjector")}function Ut(e,t,o,i){if(o&P.Optional&&void 0===i&&(i=null),0==(o&(P.Self|P.Host))){const n=e[9],r=I(void 0);try{return n?n.get(t,i,o&P.Optional):M(t,i,o&P.Optional)}finally{I(r)}}return zt(i,t,o)}function Yt(e,t,o,i=P.Default,n){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?255&t:qt:t}(o);if("function"==typeof r){if(!ut(t,e,i))return i&P.Host?zt(n,o,i):Ut(t,o,i,n);try{const e=r(i);if(null!=e||i&P.Optional)return e;C(o)}finally{gt()}}else if("number"==typeof r){let n=null,s=Wt(e,t),a=At,l=i&P.Host?t[16][6]:null;for((-1===s||i&P.SkipSelf)&&(a=-1===s?Bt(e,t):t[s+8],a!==At&&$t(i,!1)?(n=t[1],s=Nt(a),t=kt(a,t)):s=-1);-1!==s;){const e=t[1];if(Jt(r,s,e.data)){const e=Zt(s,t,o,n,i,l);if(e!==Xt)return e}a=t[s+8],a!==At&&$t(i,t[1].data[s+8]===l)&&Jt(r,s,t)?(n=e,s=Nt(a),t=kt(a,t)):s=-1}}}return Ut(t,o,i,n)}const Xt={};function qt(){return new eo(Ue(),Be())}function Zt(e,t,o,i,n,r){const s=t[1],a=s.data[e+8],l=Kt(a,s,o,null==i?fe(a)&&Lt:i!=s&&0!=(3&a.type),n&P.Host&&r===a);return null!==l?Qt(t,s,l,a):Xt}function Kt(e,t,o,i,n){const r=e.providerIndexes,s=t.data,a=1048575&r,l=e.directiveStart,c=r>>20,u=n?a+c:e.directiveEnd;for(let p=i?a:a+c;p<u;p++){const e=s[p];if(p<l&&o===e||p>=l&&e.type===o)return p}if(n){const e=s[l];if(e&&me(e)&&e.type===o)return l}return null}function Qt(e,t,o,i){let n=e[o];const r=t.data;if(n instanceof Rt){const s=n;s.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(v(r[o]));const a=Ft(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?I(s.injectImpl):null;ut(e,i,P.Default);try{n=e[o]=s.factory(void 0,r,e,i),t.firstCreatePass&&o>=i.directiveStart&&function(e,t,o){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:r}=t.type.prototype;if(i){const i=we(t);(o.preOrderHooks||(o.preOrderHooks=[])).push(e,i),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,i)}n&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-e,n),r&&((o.preOrderHooks||(o.preOrderHooks=[])).push(e,r),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,r))}(o,r[o],t)}finally{null!==l&&I(l),Ft(a),s.resolving=!1,gt()}}return n}function Jt(e,t,o){return!!(o[t+(e>>5)]&1<<e)}function $t(e,t){return!(e&P.Self||e&P.Host&&t)}class eo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Yt(this._tNode,this._lView,e,void 0,t)}}function to(e){return N(()=>{const t=e.prototype.constructor,o=t[Z]||oo(t),i=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==i;){const e=n[Z]||oo(n);if(e&&e!==o)return e;n=Object.getPrototypeOf(n)}return e=>new e})}function oo(e){return g(e)?()=>{const t=oo(f(e));return t&&t()}:ye(e)}function io(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const o=e.attrs;if(o){const e=o.length;let i=0;for(;i<e;){const n=o[i];if(Ot(n))break;if(0===n)i+=2;else if("number"==typeof n)for(i++;i<e&&"string"==typeof o[i];)i++;else{if(n===t)return o[i+1];i+=2}}}return null}(Ue(),e)}const no="__parameters__";function ro(e,t,o){return N(()=>{const i=function(e){return function(...t){if(e){const o=e(...t);for(const e in o)this[e]=o[e]}}}(t);function n(...e){if(this instanceof n)return i.apply(this,e),this;const t=new n(...e);return o.annotation=t,o;function o(e,o,i){const n=e.hasOwnProperty(no)?e[no]:Object.defineProperty(e,no,{value:[]})[no];for(;n.length<=i;)n.push(null);return(n[i]=n[i]||[]).push(t),e}}return o&&(n.prototype=Object.create(o.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n})}class so{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ao=new so("AnalyzeForEntryComponents"),lo=Function;function co(e,t){void 0===t&&(t=e);for(let o=0;o<e.length;o++){let i=e[o];Array.isArray(i)?(t===e&&(t=e.slice(0,o)),co(i,t)):t!==e&&t.push(i)}return t}function uo(e,t){e.forEach(e=>Array.isArray(e)?uo(e,t):t(e))}function po(e,t,o){t>=e.length?e.push(o):e.splice(t,0,o)}function ho(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function fo(e,t){const o=[];for(let i=0;i<e;i++)o.push(t);return o}function go(e,t,o){let i=yo(e,t);return i>=0?e[1|i]=o:(i=~i,function(e,t,o,i){let n=e.length;if(n==t)e.push(o,i);else if(1===n)e.push(i,e[0]),e[0]=o;else{for(n--,e.push(e[n-1],e[n]);n>t;)e[n]=e[n-2],n--;e[t]=o,e[t+1]=i}}(e,i,t,o)),i}function mo(e,t){const o=yo(e,t);if(o>=0)return e[1|o]}function yo(e,t){return function(e,t,o){let i=0,n=e.length>>1;for(;n!==i;){const o=i+(n-i>>1),r=e[o<<1];if(t===r)return o<<1;r>t?n=o:i=o+1}return~(n<<1)}(e,t)}const vo={},Co=/\n/gm,wo="__source",bo=l({provide:String,useValue:l});let xo;function So(e){const t=xo;return xo=e,t}function Eo(e,t=P.Default){if(void 0===xo)throw new Error("inject() must be called from an injection context");return null===xo?M(e,void 0,t):xo.get(e,t&P.Optional?null:void 0,t)}function _o(e,t=P.Default){return(D||Eo)(f(e),t)}function Ao(e){const t=[];for(let o=0;o<e.length;o++){const i=f(e[o]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e,o=P.Default;for(let t=0;t<i.length;t++){const n=i[t],r=n.__NG_DI_FLAG__;"number"==typeof r?-1===r?e=n.token:o|=r:e=n}t.push(_o(e,o))}else t.push(_o(i))}return t}function Ro(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const To=Ro(ro("Inject",e=>({token:e})),-1),Oo=Ro(ro("Optional"),8),Po=Ro(ro("SkipSelf"),4);let Do,Io;function Mo(e){var t;return(null===(t=function(){if(void 0===Do&&(Do=null,W.trustedTypes))try{Do=W.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Do}())||void 0===t?void 0:t.createHTML(e))||e}function No(e){var t;return(null===(t=function(){if(void 0===Io&&(Io=null,W.trustedTypes))try{Io=W.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Io}())||void 0===t?void 0:t.createHTML(e))||e}class ko{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lo extends ko{getTypeName(){return"HTML"}}class Fo extends ko{getTypeName(){return"Style"}}class Go extends ko{getTypeName(){return"Script"}}class Ho extends ko{getTypeName(){return"URL"}}class Vo extends ko{getTypeName(){return"ResourceURL"}}function Wo(e){return e instanceof ko?e.changingThisBreaksApplicationSecurity:e}function Bo(e,t){const o=jo(e);if(null!=o&&o!==t){if("ResourceURL"===o&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===t}function jo(e){return e instanceof ko&&e.getTypeName()||null}function zo(e){return new Lo(e)}function Uo(e){return new Fo(e)}function Yo(e){return new Go(e)}function Xo(e){return new Ho(e)}function qo(e){return new Vo(e)}function Zo(e){const t=new Qo(e);return function(){try{return!!(new window.DOMParser).parseFromString(Mo(""),"text/html")}catch(e){return!1}}()?new Ko(t):t}class Ko{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Mo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Qo{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Mo(e),t;const o=this.inertDocument.createElement("body");return o.innerHTML=Mo(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||e.removeAttribute(o)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const Jo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ei(e){return(e=String(e)).match(Jo)||e.match($o)?e:"unsafe:"+e}function ti(e){return(e=String(e)).split(",").map(e=>ei(e.trim())).join(", ")}function oi(e){const t={};for(const o of e.split(","))t[o]=!0;return t}function ii(...e){const t={};for(const o of e)for(const e in o)o.hasOwnProperty(e)&&(t[e]=!0);return t}const ni=oi("area,br,col,hr,img,wbr"),ri=oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),si=oi("rp,rt"),ai=ii(si,ri),li=ii(ni,ii(ri,oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ii(si,oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ai),ci=oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ui=oi("srcset"),pi=ii(ci,ui,oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hi=oi("script,style,template");class di{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!li.hasOwnProperty(t))return this.sanitizedSomething=!0,!hi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let i=0;i<o.length;i++){const e=o.item(i),t=e.name,n=t.toLowerCase();if(!pi.hasOwnProperty(n)){this.sanitizedSomething=!0;continue}let r=e.value;ci[n]&&(r=ei(r)),ui[n]&&(r=ti(r)),this.buf.push(" ",t,'="',mi(r),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();li.hasOwnProperty(t)&&!ni.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const fi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gi=/([^\#-~ |!])/g;function mi(e){return e.replace(/&/g,"&amp;").replace(fi,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(gi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yi;function vi(e,t){let o=null;try{yi=yi||Zo(e);let i=t?String(t):"";o=yi.getInertBodyElement(i);let n=5,r=i;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,i=r,r=o.innerHTML,o=yi.getInertBodyElement(i)}while(i!==r);return Mo((new di).sanitizeChildren(Ci(o)||o))}finally{if(o){const e=Ci(o)||o;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ci(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function bi(e){const t=Si();return t?No(t.sanitize(wi.HTML,e)||""):Bo(e,"HTML")?No(Wo(e)):vi(Ae(),y(e))}function xi(e){const t=Si();return t?t.sanitize(wi.URL,e)||"":Bo(e,"URL")?Wo(e):ei(y(e))}function Si(){const e=Be();return e&&e[12]}function Ei(e,t){e.__ngContext__=t}function _i(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ai(e){return e.ngOriginalError}function Ri(e,...t){e.error(...t)}class Ti{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),o=this._findContext(e),i=function(e){return e&&e.ngErrorLogger||Ri}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),o&&i(this._console,"ERROR CONTEXT",o)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Ai(e)):null}_findOriginalError(e){let t=e&&Ai(e);for(;t&&Ai(t);)t=Ai(t);return t||null}}const Oi=/^>|^->|<!--|-->|--!>|<!-$/g,Pi=/(<|>)/,Di=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function Ii(e){return e instanceof Function?e():e}var Mi=(()=>((Mi=Mi||{})[Mi.Important=1]="Important",Mi[Mi.DashCase=2]="DashCase",Mi))();let Ni;function ki(e,t){return Ni(e,t)}function Li(e){const t=e[3];return he(t)?t[3]:t}function Fi(e){return Hi(e[13])}function Gi(e){return Hi(e[4])}function Hi(e){for(;null!==e&&!he(e);)e=e[4];return e}function Vi(e,t,o,i,n){if(null!=i){let r,s=!1;he(i)?r=i:pe(i)&&(s=!0,i=i[0]);const a=Oe(i);0===e&&null!==o?null==n?Ji(t,o,a):Qi(t,o,a,n||null,!0):1===e&&null!==o?Qi(t,o,a,n||null,!0):2===e?pn(t,a,s):3===e&&t.destroyNode(a),null!=r&&function(e,t,o,i,n){const r=o[7];r!==Oe(o)&&Vi(t,e,i,r,n);for(let s=ue;s<o.length;s++){const n=o[s];dn(n[1],n,e,t,i,r)}}(t,e,r,o,n)}}function Wi(e,t){return Re(e)?e.createText(t):e.createTextNode(t)}function Bi(e,t,o){Re(e)?e.setValue(t,o):t.textContent=o}function ji(e,t){return e.createComment(function(e){return e.replace(Oi,e=>e.replace(Pi,"\u200b$1\u200b"))}(t))}function zi(e,t,o){return Re(e)?e.createElement(t,o):null===o?e.createElement(t):e.createElementNS(o,t)}function Ui(e,t){const o=e[9],i=o.indexOf(t),n=t[3];1024&t[2]&&(t[2]&=-1025,He(n,-1)),o.splice(i,1)}function Yi(e,t){if(e.length<=ue)return;const o=ue+t,i=e[o];if(i){const r=i[17];null!==r&&r!==e&&Ui(r,i),t>0&&(e[o-1][4]=i[4]);const s=ho(e,ue+t);dn(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var n;return i}function Xi(e,t){if(!(256&t[2])){const o=t[11];Re(o)&&o.destroyNode&&dn(e,t,o,3,null,null),function(e){let t=e[13];if(!t)return qi(e[1],e);for(;t;){let o=null;if(pe(t))o=t[13];else{const e=t[10];e&&(o=e)}if(!o){for(;t&&!t[4]&&t!==e;)pe(t)&&qi(t[1],t),t=t[3];null===t&&(t=e),pe(t)&&qi(t[1],t),o=t&&t[4]}t=o}}(t)}}function qi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let i=0;i<o.length;i+=2){const e=t[o[i]];if(!(e instanceof Rt)){const t=o[i+1];if(Array.isArray(t))for(let o=0;o<t.length;o+=2){const i=e[t[o]],n=t[o+1];try{n.call(i)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const o=e.cleanup,i=t[7];let n=-1;if(null!==o)for(let r=0;r<o.length-1;r+=2)if("string"==typeof o[r]){const e=o[r+1],s="function"==typeof e?e(t):Oe(t[e]),a=i[n=o[r+2]],l=o[r+3];"boolean"==typeof l?s.removeEventListener(o[r],a,l):l>=0?i[n=l]():i[n=-l].unsubscribe(),r+=2}else{const e=i[n=o[r+1]];o[r].call(e)}if(null!==i){for(let e=n+1;e<i.length;e++)(0,i[e])();t[7]=null}}(e,t),1===t[1].type&&Re(t[11])&&t[11].destroy();const o=t[17];if(null!==o&&he(t[3])){o!==t[3]&&Ui(o,t);const i=t[19];null!==i&&i.detachView(e)}}}function Zi(e,t,o){return Ki(e,t.parent,o)}function Ki(e,t,o){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return o[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===L.None||t===L.Emulated)return null}return De(i,o)}function Qi(e,t,o,i,n){Re(e)?e.insertBefore(t,o,i,n):t.insertBefore(o,i,n)}function Ji(e,t,o){Re(e)?e.appendChild(t,o):t.appendChild(o)}function $i(e,t,o,i,n){null!==i?Qi(e,t,o,i,n):Ji(e,t,o)}function en(e,t){return Re(e)?e.parentNode(t):t.parentNode}function tn(e,t,o){return rn(e,t,o)}function on(e,t,o){return 40&e.type?De(e,o):null}let nn,rn=on;function sn(e,t){rn=e,nn=t}function an(e,t,o,i){const n=Zi(e,i,t),r=t[11],s=tn(i.parent||t[6],i,t);if(null!=n)if(Array.isArray(o))for(let a=0;a<o.length;a++)$i(r,n,o[a],s,!1);else $i(r,n,o,s,!1);void 0!==nn&&nn(r,i,t,o,n)}function ln(e,t){if(null!==t){const o=t.type;if(3&o)return De(t,e);if(4&o)return un(-1,e[t.index]);if(8&o){const o=t.child;if(null!==o)return ln(e,o);{const o=e[t.index];return he(o)?un(-1,o):Oe(o)}}if(32&o)return ki(t,e)()||Oe(e[t.index]);{const o=cn(e,t);return null!==o?Array.isArray(o)?o[0]:ln(Li(e[16]),o):ln(e,t.next)}}return null}function cn(e,t){return null!==t?e[16][6].projection[t.projection]:null}function un(e,t){const o=ue+e+1;if(o<t.length){const e=t[o],i=e[1].firstChild;if(null!==i)return ln(e,i)}return t[7]}function pn(e,t,o){const i=en(e,t);i&&function(e,t,o,i){Re(e)?e.removeChild(t,o,i):t.removeChild(o)}(e,i,t,o)}function hn(e,t,o,i,n,r,s){for(;null!=o;){const a=i[o.index],l=o.type;if(s&&0===t&&(a&&Ei(Oe(a),i),o.flags|=4),64!=(64&o.flags))if(8&l)hn(e,t,o.child,i,n,r,!1),Vi(t,e,n,a,r);else if(32&l){const s=ki(o,i);let l;for(;l=s();)Vi(t,e,n,l,r);Vi(t,e,n,a,r)}else 16&l?fn(e,t,i,o,n,r):Vi(t,e,n,a,r);o=s?o.projectionNext:o.next}}function dn(e,t,o,i,n,r){hn(o,i,e.firstChild,t,n,r,!1)}function fn(e,t,o,i,n,r){const s=o[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Vi(t,e,n,a[l],r);else hn(e,t,a,s[3],n,r,!0)}function gn(e,t,o){Re(e)?e.setAttribute(t,"style",o):t.style.cssText=o}function mn(e,t,o){Re(e)?""===o?e.removeAttribute(t,"class"):e.setAttribute(t,"class",o):t.className=o}function yn(e,t,o){let i=e.length;for(;;){const n=e.indexOf(t,o);if(-1===n)return n;if(0===n||e.charCodeAt(n-1)<=32){const o=t.length;if(n+o===i||e.charCodeAt(n+o)<=32)return n}o=n+1}}const vn="ng-template";function Cn(e,t,o){let i=0;for(;i<e.length;){let n=e[i++];if(o&&"class"===n){if(n=e[i],-1!==yn(n.toLowerCase(),t,0))return!0}else if(1===n){for(;i<e.length&&"string"==typeof(n=e[i++]);)if(n.toLowerCase()===t)return!0;return!1}}return!1}function wn(e){return 4===e.type&&e.value!==vn}function bn(e,t,o){return t===(4!==e.type||o?e.value:vn)}function xn(e,t,o){let i=4;const n=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(Ot(e[t]))return t;return e.length}(n);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!bn(e,l,o)||""===l&&1===t.length){if(Sn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!Cn(e.attrs,c,o)){if(Sn(i))return!1;s=!0}continue}const u=En(8&i?"class":l,n,wn(e),o);if(-1===u){if(Sn(i))return!1;s=!0;continue}if(""!==c){let e;e=u>r?"":n[u+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==yn(t,c,0)||2&i&&c!==e){if(Sn(i))return!1;s=!0}}}}else{if(!s&&!Sn(i)&&!Sn(l))return!1;if(s&&Sn(l))continue;s=!1,i=l|1&i}}return Sn(i)||s}function Sn(e){return 0==(1&e)}function En(e,t,o,i){if(null===t)return-1;let n=0;if(i||!o){let o=!1;for(;n<t.length;){const i=t[n];if(i===e)return n;if(3===i||6===i)o=!0;else{if(1===i||2===i){let e=t[++n];for(;"string"==typeof e;)e=t[++n];continue}if(4===i)break;if(0===i){n+=4;continue}}n+=o?1:2}return-1}return function(e,t){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const i=e[o];if("number"==typeof i)return-1;if(i===t)return o;o++}return-1}(t,e)}function _n(e,t,o=!1){for(let i=0;i<t.length;i++)if(xn(e,t[i],o))return!0;return!1}function An(e,t){e:for(let o=0;o<t.length;o++){const i=t[o];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function Rn(e,t){return e?":not("+t.trim()+")":t}function Tn(e){let t=e[0],o=1,i=2,n="",r=!1;for(;o<e.length;){let s=e[o];if("string"==typeof s)if(2&i){const t=e[++o];n+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?n+="."+s:4&i&&(n+=" "+s);else""===n||Sn(s)||(t+=Rn(r,n),n=""),i=s,r=r||!Sn(i);o++}return""!==n&&(t+=Rn(r,n)),t}const On={};function Pn(e){Dn(je(),Be(),yt()+e,Qe())}function Dn(e,t,o,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&bt(t,i,o)}else{const i=e.preOrderHooks;null!==i&&xt(t,i,0,o)}vt(o)}function In(e,t){return e<<17|t<<2}function Mn(e){return e>>17&32767}function Nn(e){return 2|e}function kn(e){return(131068&e)>>2}function Ln(e,t){return-131069&e|t<<2}function Fn(e){return 1|e}function Gn(e,t){const o=e.contentQueries;if(null!==o)for(let i=0;i<o.length;i+=2){const n=o[i],r=o[i+1];if(-1!==r){const o=e.data[r];lt(n),o.contentQueries(2,t[r],r)}}}function Hn(e,t,o,i,n,r,s,a,l,c){const u=t.blueprint.slice();return u[0]=n,u[2]=140|i,Ge(u),u[3]=u[15]=e,u[8]=o,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Vn(e,t,o,i,n){let r=e.data[t];if(null===r)r=Wn(e,t,o,i,n),Ve.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=o,r.value=i,r.attrs=n;const e=Xe();r.injectorIndex=null===e?-1:e.injectorIndex}return qe(r,!0),r}function Wn(e,t,o,i,n){const r=Ye(),s=Ze(),a=e.data[t]=function(e,t,o,i,n,r){return{type:o,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:n,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,o,t,i,n);return null===e.firstChild&&(e.firstChild=a),null!==r&&(s?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}function Bn(e,t,o,i){if(0===o)return-1;const n=t.length;for(let r=0;r<o;r++)t.push(i),e.blueprint.push(i),e.data.push(null);return n}function jn(e,t,o){pt(t);try{const i=e.viewQuery;null!==i&&br(1,i,o);const n=e.template;null!==n&&Yn(e,t,n,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gn(e,t),e.staticViewQueries&&br(2,e.viewQuery,o);const r=e.components;null!==r&&function(e,t){for(let o=0;o<t.length;o++)mr(e,t[o])}(t,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,mt()}}function zn(e,t,o,i){const n=t[2];if(256==(256&n))return;pt(t);const r=Qe();try{Ge(t),Ve.lFrame.bindingIndex=e.bindingStartIndex,null!==o&&Yn(e,t,o,2,i);const s=3==(3&n);if(!r)if(s){const o=e.preOrderCheckHooks;null!==o&&bt(t,o,null)}else{const o=e.preOrderHooks;null!==o&&xt(t,o,0,null),St(t,0)}if(function(e){for(let t=Fi(e);null!==t;t=Gi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const o=e[t],i=o[3];0==(1024&o[2])&&He(i,1),o[2]|=1024}}}(t),function(e){for(let t=Fi(e);null!==t;t=Gi(t))for(let e=ue;e<t.length;e++){const o=t[e],i=o[1];Le(o)&&zn(i,o,i.template,o[8])}}(t),null!==e.contentQueries&&Gn(e,t),!r)if(s){const o=e.contentCheckHooks;null!==o&&bt(t,o)}else{const o=e.contentHooks;null!==o&&xt(t,o,1),St(t,1)}!function(e,t){const o=e.hostBindingOpCodes;if(null!==o)try{for(let e=0;e<o.length;e++){const i=o[e];if(i<0)vt(~i);else{const n=i,r=o[++e],s=o[++e];nt(r,n),s(2,t[n])}}}finally{vt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let o=0;o<t.length;o++)fr(e,t[o])}(t,a);const l=e.viewQuery;if(null!==l&&br(2,l,i),!r)if(s){const o=e.viewCheckHooks;null!==o&&bt(t,o)}else{const o=e.viewHooks;null!==o&&xt(t,o,2),St(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,He(t[3],-1))}finally{mt()}}function Un(e,t,o,i){const n=t[10],r=!Qe(),s=ke(t);try{r&&!s&&n.begin&&n.begin(),s&&jn(e,t,i),zn(e,t,o,i)}finally{r&&!s&&n.end&&n.end()}}function Yn(e,t,o,i,n){const r=yt(),s=2&i;try{vt(-1),s&&t.length>ce&&Dn(e,t,ce,Qe()),o(i,n)}finally{vt(r)}}function Xn(e,t,o){if(de(t)){const i=t.directiveEnd;for(let n=t.directiveStart;n<i;n++){const t=e.data[n];t.contentQueries&&t.contentQueries(1,o[n],n)}}}function qn(e,t,o){We()&&(function(e,t,o,i){const n=o.directiveStart,r=o.directiveEnd;e.firstCreatePass||Ht(o,t),Ei(i,t);const s=o.initialInputs;for(let a=n;a<r;a++){const i=e.data[a],r=me(i);r&&lr(t,o,i);const l=Qt(t,e,a,o);Ei(l,t),null!==s&&pr(0,a-n,l,i,0,s),r&&(Ne(o.index,t)[8]=l)}}(e,t,o,De(o,t)),128==(128&o.flags)&&function(e,t,o){const i=o.directiveStart,n=o.directiveEnd,r=o.index,s=Ve.lFrame.currentDirectiveIndex;try{vt(r);for(let o=i;o<n;o++){const i=e.data[o],n=t[o];rt(o),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||ir(i,n)}}finally{vt(-1),rt(s)}}(e,t,o))}function Zn(e,t,o=De){const i=t.localNames;if(null!==i){let n=t.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?o(t,e):e[s];e[n++]=a}}}function Kn(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qn(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qn(e,t,o,i,n,r,s,a,l,c){const u=ce+i,p=u+n,h=function(e,t){const o=[];for(let i=0;i<t;i++)o.push(i<e?null:On);return o}(u,p),d="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:o,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:d,incompleteFirstPass:!1}}function Jn(e,t,o,i){const n=Sr(t);null===o?n.push(i):(n.push(o),e.firstCreatePass&&Er(e).push(i,n.length-1))}function $n(e,t,o){for(let i in e)if(e.hasOwnProperty(i)){const n=e[i];(o=null===o?{}:o).hasOwnProperty(i)?o[i].push(t,n):o[i]=[t,n]}return o}function er(e,t,o,i,n,r,s,a){const l=De(t,o);let c,u=t.inputs;var p;!a&&null!=u&&(c=u[i])?(Ar(e,o,c,i,n),fe(t)&&function(e,t){const o=Ne(t,e);16&o[2]||(o[2]|=64)}(o,t.index)):3&t.type&&(i="class"===(p=i)?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p,n=null!=s?s(n,t.value||"",i):n,Re(r)?r.setProperty(l,i,n):Pt(i)||(l.setProperty?l.setProperty(i,n):l[i]=n))}function tr(e,t,o,i){let n=!1;if(We()){const r=function(e,t,o){const i=e.directiveRegistry;let n=null;if(i)for(let r=0;r<i.length;r++){const s=i[r];_n(o,s.selectors,!1)&&(n||(n=[]),jt(Ht(o,t),e,s.type),me(s)?(nr(e,o),n.unshift(s)):n.push(s))}return n}(e,t,o),s=null===i?null:{"":-1};if(null!==r){n=!0,sr(o,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let i=!1,a=!1,l=Bn(e,t,r.length,null);for(let n=0;n<r.length;n++){const c=r[n];o.mergedAttrs=Dt(o.mergedAttrs,c.hostAttrs),ar(e,o,t,l,c),rr(l,c,s),null!==c.contentQueries&&(o.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(o.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(o.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(o.index),a=!0),l++}!function(e,t){const o=t.directiveEnd,i=e.data,n=t.attrs,r=[];let s=null,a=null;for(let l=t.directiveStart;l<o;l++){const e=i[l],o=e.inputs,c=null===n||wn(t)?null:hr(o,n);r.push(c),s=$n(o,l,s),a=$n(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=s,t.outputs=a}(e,o)}s&&function(e,t,o){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const n=o[t[e+1]];if(null==n)throw new m("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],n)}}}(o,i,s)}return o.mergedAttrs=Dt(o.mergedAttrs,o.attrs),n}function or(e,t,o,i,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const r=~t.index;(function(e){let t=e.length;for(;t>0;){const o=e[--t];if("number"==typeof o&&o<0)return o}return 0})(o)!=r&&o.push(r),o.push(i,n,s)}}function ir(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function nr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function rr(e,t,o){if(o){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)o[t.exportAs[i]]=e;me(t)&&(o[""]=e)}}function sr(e,t,o){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+o,e.providerIndexes=t}function ar(e,t,o,i,n){e.data[i]=n;const r=n.factory||(n.factory=ye(n.type)),s=new Rt(r,me(n),null);e.blueprint[i]=s,o[i]=s,or(e,t,0,i,Bn(e,o,n.hostVars,On),n)}function lr(e,t,o){const i=De(t,e),n=Kn(o),r=e[10],s=yr(e,Hn(e,n,null,o.onPush?64:16,i,t,r,r.createRenderer(i,o),null,null));e[t.index]=s}function cr(e,t,o,i,n,r){const s=De(e,t);ur(t[11],s,r,e.value,o,i,n)}function ur(e,t,o,i,n,r,s){if(null==r)Re(e)?e.removeAttribute(t,n,o):t.removeAttribute(n);else{const a=null==s?y(r):s(r,i||"",n);Re(e)?e.setAttribute(t,n,a,o):o?t.setAttributeNS(o,n,a):t.setAttribute(n,a)}}function pr(e,t,o,i,n,r){const s=r[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const n=s[t++],r=s[t++],a=s[t++];null!==e?i.setInput(o,a,n,r):o[r]=a}}}function hr(e,t){let o=null,i=0;for(;i<t.length;){const n=t[i];if(0!==n)if(5!==n){if("number"==typeof n)break;e.hasOwnProperty(n)&&(null===o&&(o=[]),o.push(n,e[n],t[i+1])),i+=2}else i+=2;else i+=4}return o}function dr(e,t,o,i){return new Array(e,!0,!1,t,null,0,i,o,null,null)}function fr(e,t){const o=Ne(t,e);if(Le(o)){const e=o[1];80&o[2]?zn(e,o,e.template,o[8]):o[5]>0&&gr(o)}}function gr(e){for(let o=Fi(e);null!==o;o=Gi(o))for(let e=ue;e<o.length;e++){const t=o[e];if(1024&t[2]){const e=t[1];zn(e,t,e.template,t[8])}else t[5]>0&&gr(t)}const t=e[1].components;if(null!==t)for(let o=0;o<t.length;o++){const i=Ne(t[o],e);Le(i)&&i[5]>0&&gr(i)}}function mr(e,t){const o=Ne(t,e),i=o[1];!function(e,t){for(let o=t.length;o<e.blueprint.length;o++)t.push(e.blueprint[o])}(i,o),jn(i,o,o[8])}function yr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function vr(e){for(;e;){e[2]|=64;const t=Li(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Cr(e,t,o){const i=t[10];i.begin&&i.begin();try{zn(e,t,e.template,o)}catch(n){throw _r(t,n),n}finally{i.end&&i.end()}}function wr(e){!function(e){for(let t=0;t<e.components.length;t++){const o=e.components[t],i=_i(o),n=i[1];Un(n,i,n.template,o)}}(e[8])}function br(e,t,o){lt(0),t(e,o)}const xr=(()=>Promise.resolve(null))();function Sr(e){return e[7]||(e[7]=[])}function Er(e){return e.cleanup||(e.cleanup=[])}function _r(e,t){const o=e[9],i=o?o.get(Ti,null):null;i&&i.handleError(t)}function Ar(e,t,o,i,n){for(let r=0;r<o.length;){const s=o[r++],a=o[r++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,n,i,a):l[a]=n}}function Rr(e,t,o){let i=o?e.styles:null,n=o?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?r=e:1==r?n=p(n,e):2==r&&(i=p(i,e+": "+t[++s]+";"))}o?e.styles=i:e.stylesWithoutHost=i,o?e.classes=n:e.classesWithoutHost=n}const Tr=new so("INJECTOR",-1);class Or{get(e,t=vo){if(t===vo){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const Pr=new so("Set Injector scope."),Dr={},Ir={};let Mr;function Nr(){return void 0===Mr&&(Mr=new Or),Mr}function kr(e,t=null,o=null,i){return new Lr(e,o,t||Nr(),i)}class Lr{constructor(e,t,o,i=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const n=[];t&&uo(t,o=>this.processProvider(o,e,t)),uo([e],e=>this.processInjectorType(e,[],n)),this.records.set(Tr,Hr(void 0,this));const r=this.records.get(Pr);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=vo,o=P.Default){this.assertNotDestroyed();const i=So(this),n=I(void 0);try{if(!(o&P.SkipSelf)){let t=this.records.get(e);if(void 0===t){const o=("function"==typeof(r=e)||"object"==typeof r&&r instanceof so)&&S(e);t=o&&this.injectableDefInScope(o)?Hr(Fr(e),Dr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(o&P.Self?Nr():this.parent).get(e,t=o&P.Optional&&t===vo?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),i)throw s;return function(e,t,o,i){const n=e.ngTempTokenPath;throw t[wo]&&n.unshift(t[wo]),e.message=function(e,t,o,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let n=u(t);if(Array.isArray(t))n=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let o in t)if(t.hasOwnProperty(o)){let i=t[o];e.push(o+":"+("string"==typeof i?JSON.stringify(i):u(i)))}n=`{${e.join(", ")}}`}return`${o}${i?"("+i+")":""}[${n}]: ${e.replace(Co,"\n  ")}`}("\n"+e.message,n,o,i),e.ngTokenPath=n,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{I(n),So(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,o)=>e.push(u(o))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,o){if(!(e=f(e)))return!1;let i=_(e);const n=null==i&&e.ngModule||void 0,r=void 0===n?e:n,s=-1!==o.indexOf(r);if(void 0!==n&&(i=_(n)),null==i)return!1;if(null!=i.imports&&!s){let e;o.push(r);try{uo(i.imports,i=>{this.processInjectorType(i,t,o)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:o,providers:i}=e[t];uo(i,e=>this.processProvider(e,o,i||j))}}this.injectorDefTypes.add(r);const a=ye(r)||(()=>new r);this.records.set(r,Hr(a,Dr));const l=i.providers;if(null!=l&&!s){const t=e;uo(l,e=>this.processProvider(e,t,l))}return void 0!==n&&void 0!==e.providers}processProvider(e,t,o){let i=Wr(e=f(e))?e:f(e&&e.provide);const n=function(e,t,o){return Vr(e)?Hr(void 0,e.useValue):Hr(Gr(e),Dr)}(e);if(Wr(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=Hr(void 0,Dr,!0),t.factory=()=>Ao(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,n)}hydrate(e,t){var o;return t.value===Dr&&(t.value=Ir,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(o=t.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Fr(e){const t=S(e),o=null!==t?t.factory:ye(e);if(null!==o)return o;if(e instanceof so)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=fo(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${o.join(", ")}).`)}const o=function(e){const t=e&&(e[A]||e[T]);if(t){const o=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),t}return null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new Error("unreachable")}function Gr(e,t,o){let i;if(Wr(e)){const t=f(e);return ye(t)||Fr(t)}if(Vr(e))i=()=>f(e.useValue);else if((n=e)&&n.useFactory)i=()=>e.useFactory(...Ao(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>_o(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ye(t)||Fr(t);i=()=>new t(...Ao(e.deps))}var n;return i}function Hr(e,t,o=!1){return{factory:e,value:t,multi:o?[]:void 0}}function Vr(e){return null!==e&&"object"==typeof e&&bo in e}function Wr(e){return"function"==typeof e}const Br=function(e,t,o){return function(e,t=null,o=null,i){const n=kr(e,t,o,i);return n._resolveInjectorDefTypes(),n}({name:o},t,e,o)};class jr{static create(e,t){return Array.isArray(e)?Br(e,t,""):Br(e.providers,e.parent,e.name||"")}}function zr(e,t){wt(_i(e)[1],Ue())}function Ur(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,o=!0;const i=[e];for(;t;){let n;if(me(e))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");n=t.\u0275dir}if(n){if(o){i.push(n);const t=e;t.inputs=Yr(e.inputs),t.declaredInputs=Yr(e.declaredInputs),t.outputs=Yr(e.outputs);const o=n.hostBindings;o&&Zr(e,o);const r=n.viewQuery,s=n.contentQueries;if(r&&Xr(e,r),s&&qr(e,s),c(e.inputs,n.inputs),c(e.declaredInputs,n.declaredInputs),c(e.outputs,n.outputs),me(n)&&n.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(n.data.animation)}}const t=n.features;if(t)for(let i=0;i<t.length;i++){const n=t[i];n&&n.ngInherit&&n(e),n===Ur&&(o=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,o=null;for(let i=e.length-1;i>=0;i--){const n=e[i];n.hostVars=t+=n.hostVars,n.hostAttrs=Dt(n.hostAttrs,o=Dt(o,n.hostAttrs))}}(i)}function Yr(e){return e===B?{}:e===j?[]:e}function Xr(e,t){const o=e.viewQuery;e.viewQuery=o?(e,i)=>{t(e,i),o(e,i)}:t}function qr(e,t){const o=e.contentQueries;e.contentQueries=o?(e,i,n)=>{t(e,i,n),o(e,i,n)}:t}function Zr(e,t){const o=e.hostBindings;e.hostBindings=o?(e,i)=>{t(e,i),o(e,i)}:t}jr.THROW_IF_NOT_FOUND=vo,jr.NULL=new Or,jr.\u0275prov=b({token:jr,providedIn:"any",factory:()=>_o(Tr)}),jr.__NG_ELEMENT_ID__=-1;let Kr=null;function Qr(){if(!Kr){const e=W.Symbol;if(e&&e.iterator)Kr=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Kr=o)}}}return Kr}class Jr{constructor(e){this.wrapped=e}static wrap(e){return new Jr(e)}static unwrap(e){return Jr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Jr}}function $r(e){return!!es(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qr()in e)}function es(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ts(e,t,o){return e[t]=o}function os(e,t,o){return!Object.is(e[t],o)&&(e[t]=o,!0)}function is(e,t,o,i){const n=os(e,t,o);return os(e,t+1,i)||n}function ns(e,t,o,i){const n=Be();return os(n,tt(),t)&&(je(),cr(Ct(),n,e,t,o,i)),ns}function rs(e,t,o,i){return os(e,tt(),o)?t+y(o)+i:On}function ss(e,t,o,i,n,r){const s=Be(),a=rs(s,t,o,i);return a!==On&&cr(Ct(),s,e,a,n,r),ss}function as(e,t,o,i,n,r,s,a){const l=Be(),c=je(),u=e+ce,p=c.firstCreatePass?function(e,t,o,i,n,r,s,a,l){const c=t.consts,u=Vn(t,e,4,s||null,Fe(c,a));tr(t,o,u,Fe(c,l)),wt(t,u);const p=u.tViews=Qn(2,u,i,n,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),p.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,o,i,n,r,s):c.data[u];qe(p,!1);const h=l[11].createComment("");an(c,l,h,p),Ei(h,l),yr(l,l[u]=dr(h,l,h,p)),ge(p)&&qn(c,l,p),null!=s&&Zn(l,p,a)}function ls(e){return Me(Ve.lFrame.contextLView,ce+e)}function cs(e,t=P.Default){const o=Be();return null===o?_o(e,t):Yt(Ue(),o,f(e),t)}function us(e,t,o){const i=Be();return os(i,tt(),t)&&er(je(),Ct(),i,e,t,i[11],o,!1),us}function ps(e,t,o,i,n){const r=n?"class":"style";Ar(e,o,t.inputs[r],r,i)}function hs(e,t,o,i){const n=Be(),r=je(),s=ce+e,a=n[11],l=n[s]=zi(a,t,Ve.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,o,i,n,r,s){const a=t.consts,l=Vn(t,e,2,n,Fe(a,r));return tr(t,o,l,Fe(a,s)),null!==l.attrs&&Rr(l,l.attrs,!1),null!==l.mergedAttrs&&Rr(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,n,0,t,o,i):r.data[s];qe(c,!0);const u=c.mergedAttrs;null!==u&&Tt(a,l,u);const p=c.classes;null!==p&&mn(a,l,p);const h=c.styles;null!==h&&gn(a,l,h),64!=(64&c.flags)&&an(r,n,l,c),0===Ve.lFrame.elementDepthCount&&Ei(l,n),Ve.lFrame.elementDepthCount++,ge(c)&&(qn(r,n,c),Xn(r,c,n)),null!==i&&Zn(n,c)}function ds(){let e=Ue();Ze()?Ke():(e=e.parent,qe(e,!1));const t=e;Ve.lFrame.elementDepthCount--;const o=je();o.firstCreatePass&&(wt(o,e),de(e)&&o.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ps(o,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ps(o,t,Be(),t.stylesWithoutHost,!1)}function fs(e,t,o,i){hs(e,t,o,i),ds()}function gs(e,t,o){const i=Be(),n=je(),r=e+ce,s=n.firstCreatePass?function(e,t,o,i,n){const r=t.consts,s=Fe(r,i),a=Vn(t,e,8,"ng-container",s);return null!==s&&Rr(a,s,!0),tr(t,o,a,Fe(r,n)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,n,i,t,o):n.data[r];qe(s,!0);const a=i[r]=i[11].createComment("");an(n,i,a,s),Ei(a,i),ge(s)&&(qn(n,i,s),Xn(n,s,i)),null!=o&&Zn(i,s)}function ms(){let e=Ue();const t=je();Ze()?Ke():(e=e.parent,qe(e,!1)),t.firstCreatePass&&(wt(t,e),de(e)&&t.queries.elementEnd(e))}function ys(e,t,o){gs(e,t,o),ms()}function vs(){return Be()}function Cs(e){return!!e&&"function"==typeof e.then}function ws(e){return!!e&&"function"==typeof e.subscribe}const bs=ws;function xs(e,t,o,i){const n=Be(),r=je(),s=Ue();return function(e,t,o,i,n,r,s,a){const l=ge(i),c=e.firstCreatePass&&Er(e),u=Sr(t);let p=!0;if(3&i.type||a){const h=De(i,t),d=a?a(h):h,f=u.length,g=a?e=>a(Oe(e[i.index])):i.index;if(Re(o)){let s=null;if(!a&&l&&(s=function(e,t,o,i){const n=e.cleanup;if(null!=n)for(let r=0;r<n.length-1;r+=2){const e=n[r];if(e===o&&n[r+1]===i){const e=t[7],o=n[r+2];return e.length>o?e[o]:null}"string"==typeof e&&(r+=2)}return null}(e,t,n,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,p=!1;else{r=Es(i,t,0,r,!1);const e=o.listen(d,n,r);u.push(r,e),c&&c.push(n,g,f,f+1)}}else r=Es(i,t,0,r,!0),d.addEventListener(n,r,s),u.push(r),c&&c.push(n,g,f,s)}else r=Es(i,t,0,r,!1);const h=i.outputs;let d;if(p&&null!==h&&(d=h[n])){const e=d.length;if(e)for(let o=0;o<e;o+=2){const e=t[d[o]][d[o+1]].subscribe(r),s=u.length;u.push(r,e),c&&c.push(n,i.index,s,-(s+1))}}}(r,n,n[11],s,e,t,!!o,i),xs}function Ss(e,t,o,i){try{return!1!==o(i)}catch(n){return _r(e,n),!1}}function Es(e,t,o,i,n){return function o(r){if(r===Function)return i;const s=2&e.flags?Ne(e.index,t):t;0==(32&t[2])&&vr(s);let a=Ss(t,0,i,r),l=o.__ngNextListenerFn__;for(;l;)a=Ss(t,0,l,r)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function _s(e=1){return function(e){return(Ve.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ve.lFrame.contextLView))[8]}(e)}function As(e,t){let o=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let n=0;n<t.length;n++){const r=t[n];if("*"!==r){if(null===i?_n(e,r,!0):An(i,r))return n}else o=n}return o}function Rs(e){const t=Be()[16][6];if(!t.projection){const o=t.projection=fo(e?e.length:1,null),i=o.slice();let n=t.child;for(;null!==n;){const t=e?As(n,e):0;null!==t&&(i[t]?i[t].projectionNext=n:o[t]=n,i[t]=n),n=n.next}}}function Ts(e,t=0,o){const i=Be(),n=je(),r=Vn(n,ce+e,16,null,o||null);null===r.projection&&(r.projection=t),Ke(),64!=(64&r.flags)&&function(e,t,o){fn(t[11],0,t,o,Zi(e,o,t),tn(o.parent||t[6],o,t))}(n,i,r)}function Os(e,t,o){return Ps(e,"",t,"",o),Os}function Ps(e,t,o,i,n){const r=Be(),s=rs(r,t,o,i);return s!==On&&er(je(),Ct(),r,e,s,r[11],n,!1),Ps}function Ds(e,t,o,i,n){const r=e[o+1],s=null===t;let a=i?Mn(r):kn(r),l=!1;for(;0!==a&&(!1===l||s);){const o=e[a+1];Is(e[a],t)&&(l=!0,e[a+1]=i?Fn(o):Nn(o)),a=i?Mn(o):kn(o)}l&&(e[o+1]=i?Nn(r):Fn(r))}function Is(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&yo(e,t)>=0}const Ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ns(e){return e.substring(Ms.key,Ms.keyEnd)}function ks(e,t){const o=Ms.textEnd;return o===t?-1:(t=Ms.keyEnd=function(e,t,o){for(;t<o&&e.charCodeAt(t)>32;)t++;return t}(e,Ms.key=t,o),Ls(e,t,o))}function Ls(e,t,o){for(;t<o&&e.charCodeAt(t)<=32;)t++;return t}function Fs(e,t,o){return Ws(e,t,o,!1),Fs}function Gs(e,t){return Ws(e,t,null,!0),Gs}function Hs(e){Bs(go,Vs,e,!0)}function Vs(e,t){for(let o=function(e){return function(e){Ms.key=0,Ms.keyEnd=0,Ms.value=0,Ms.valueEnd=0,Ms.textEnd=e.length}(e),ks(e,Ls(e,0,Ms.textEnd))}(t);o>=0;o=ks(t,o))go(e,Ns(t),!0)}function Ws(e,t,o,i){const n=Be(),r=je(),s=ot(2);r.firstUpdatePass&&zs(r,e,s,i),t!==On&&os(n,s,t)&&Xs(r,r.data[yt()],n,n[11],e,n[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Wo(e)))),e}(t,o),i,s)}function Bs(e,t,o,i){const n=je(),r=ot(2);n.firstUpdatePass&&zs(n,null,r,i);const s=Be();if(o!==On&&os(s,r,o)){const a=n.data[yt()];if(Ks(a,i)&&!js(n,r)){let e=i?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(o=p(e,o||"")),ps(n,a,s,o,i)}else!function(e,t,o,i,n,r,s,a){n===On&&(n=j);let l=0,c=0,u=0<n.length?n[0]:null,p=0<r.length?r[0]:null;for(;null!==u||null!==p;){const h=l<n.length?n[l+1]:void 0,d=c<r.length?r[c+1]:void 0;let f,g=null;u===p?(l+=2,c+=2,h!==d&&(g=p,f=d)):null===p||null!==u&&u<p?(l+=2,g=u):(c+=2,g=p,f=d),null!==g&&Xs(e,t,o,i,g,f,s,a),u=l<n.length?n[l]:null,p=c<r.length?r[c]:null}}(n,a,s,s[11],s[r+1],s[r+1]=function(e,t,o){if(null==o||""===o)return j;const i=[],n=Wo(o);if(Array.isArray(n))for(let r=0;r<n.length;r++)e(i,n[r],!0);else if("object"==typeof n)for(const r in n)n.hasOwnProperty(r)&&e(i,r,n[r]);else"string"==typeof n&&t(i,n);return i}(e,t,o),i,r)}}function js(e,t){return t>=e.expandoStartIndex}function zs(e,t,o,i){const n=e.data;if(null===n[o+1]){const r=n[yt()],s=js(e,o);Ks(r,i)&&null===t&&!s&&(t=!1),t=function(e,t,o,i){const n=st(e);let r=i?t.residualClasses:t.residualStyles;if(null===n)0===(i?t.classBindings:t.styleBindings)&&(o=Ys(o=Us(null,e,t,o,i),t.attrs,i),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==n)if(o=Us(n,e,t,o,i),null===r){let o=function(e,t,o){const i=o?t.classBindings:t.styleBindings;if(0!==kn(i))return e[Mn(i)]}(e,t,i);void 0!==o&&Array.isArray(o)&&(o=Us(null,e,t,o[1],i),o=Ys(o,t.attrs,i),function(e,t,o,i){e[Mn(o?t.classBindings:t.styleBindings)]=i}(e,t,i,o))}else r=function(e,t,o){let i;const n=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<n;r++)i=Ys(i,e[r].hostAttrs,o);return Ys(i,t.attrs,o)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),o}(n,r,t,i),function(e,t,o,i,n,r){let s=r?t.classBindings:t.styleBindings,a=Mn(s),l=kn(s);e[i]=o;let c,u=!1;if(Array.isArray(o)){const e=o;c=e[1],(null===c||yo(e,c)>0)&&(u=!0)}else c=o;if(n)if(0!==l){const t=Mn(e[a+1]);e[i+1]=In(t,a),0!==t&&(e[t+1]=Ln(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=In(a,0),0!==a&&(e[a+1]=Ln(e[a+1],i)),a=i;else e[i+1]=In(l,0),0===a?a=i:e[l+1]=Ln(e[l+1],i),l=i;u&&(e[i+1]=Nn(e[i+1])),Ds(e,c,i,!0),Ds(e,c,i,!1),function(e,t,o,i,n){const r=n?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&yo(r,t)>=0&&(o[i+1]=Fn(o[i+1]))}(t,c,e,i,r),s=In(a,l),r?t.classBindings=s:t.styleBindings=s}(n,r,t,o,s,i)}}function Us(e,t,o,i,n){let r=null;const s=o.directiveEnd;let a=o.directiveStylingLast;for(-1===a?a=o.directiveStart:a++;a<s&&(r=t[a],i=Ys(i,r.hostAttrs,n),r!==e);)a++;return null!==e&&(o.directiveStylingLast=a),i}function Ys(e,t,o){const i=o?1:2;let n=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:n===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),go(e,s,!!o||t[++r]))}return void 0===e?null:e}function Xs(e,t,o,i,n,r,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Zs(1==(1&c)?qs(l,t,o,n,kn(c),s):void 0)||(Zs(r)||2==(2&c)&&(r=qs(l,null,o,n,a,s)),function(e,t,o,i,n){const r=Re(e);if(t)n?r?e.addClass(o,i):o.classList.add(i):r?e.removeClass(o,i):o.classList.remove(i);else{let t=-1===i.indexOf("-")?void 0:Mi.DashCase;if(null==n)r?e.removeStyle(o,i,t):o.style.removeProperty(i);else{const s="string"==typeof n&&n.endsWith("!important");s&&(n=n.slice(0,-10),t|=Mi.Important),r?e.setStyle(o,i,n,t):o.style.setProperty(i,n,s?"important":"")}}}(i,s,Pe(yt(),o),n,r))}function qs(e,t,o,i,n,r){const s=null===t;let a;for(;n>0;){const t=e[n],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let u=o[n+1];u===On&&(u=c?j:void 0);let p=c?mo(u,i):l===i?u:void 0;if(r&&!Zs(p)&&(p=mo(t,i)),Zs(p)&&(a=p,s))return a;const h=e[n+1];n=s?Mn(h):kn(h)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=mo(e,i))}return a}function Zs(e){return void 0!==e}function Ks(e,t){return 0!=(e.flags&(t?16:32))}function Qs(e,t=""){const o=Be(),i=je(),n=e+ce,r=i.firstCreatePass?Vn(i,n,1,t,null):i.data[n],s=o[n]=Wi(o[11],t);an(i,o,s,r),qe(r,!1)}function Js(e){return $s("",e,""),Js}function $s(e,t,o){const i=Be(),n=rs(i,e,t,o);return n!==On&&function(e,t,o){const i=Pe(t,e);Bi(e[11],i,o)}(i,yt(),n),$s}function ea(e,t,o){Bs(go,Vs,rs(Be(),e,t,o),!0)}function ta(e,t,o,i,n,r,s,a,l){Bs(go,Vs,function(e,t,o,i,n,r,s,a,l,c){const u=function(e,t,o,i,n,r){const s=is(e,t,o,i);return is(e,t+2,n,r)||s}(e,et(),o,n,s,l);return ot(4),u?t+y(o)+i+y(n)+r+y(s)+a+y(l)+c:On}(Be(),e,t,o,i,n,r,s,a,l),!0)}function oa(e,t,o){const i=Be();return os(i,tt(),t)&&er(je(),Ct(),i,e,t,i[11],o,!0),oa}function ia(e,t,o){const i=Be();if(os(i,tt(),t)){const n=je(),r=Ct();er(n,r,i,e,t,function(e,t,o){return(null===e||me(e))&&(o=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(o[t.index])),o[11]}(st(n.data),r,i),o,!0)}return ia}const na=void 0;var ra=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let sa={};function aa(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=ca(t);if(o)return o;const i=t.split("-")[0];if(o=ca(i),o)return o;if("en"===i)return ra;throw new Error(`Missing locale data for the locale "${e}".`)}function la(e){return aa(e)[ua.PluralCase]}function ca(e){return e in sa||(sa[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),sa[e]}var ua=(()=>((ua=ua||{})[ua.LocaleId=0]="LocaleId",ua[ua.DayPeriodsFormat=1]="DayPeriodsFormat",ua[ua.DayPeriodsStandalone=2]="DayPeriodsStandalone",ua[ua.DaysFormat=3]="DaysFormat",ua[ua.DaysStandalone=4]="DaysStandalone",ua[ua.MonthsFormat=5]="MonthsFormat",ua[ua.MonthsStandalone=6]="MonthsStandalone",ua[ua.Eras=7]="Eras",ua[ua.FirstDayOfWeek=8]="FirstDayOfWeek",ua[ua.WeekendRange=9]="WeekendRange",ua[ua.DateFormat=10]="DateFormat",ua[ua.TimeFormat=11]="TimeFormat",ua[ua.DateTimeFormat=12]="DateTimeFormat",ua[ua.NumberSymbols=13]="NumberSymbols",ua[ua.NumberFormats=14]="NumberFormats",ua[ua.CurrencyCode=15]="CurrencyCode",ua[ua.CurrencySymbol=16]="CurrencySymbol",ua[ua.CurrencyName=17]="CurrencyName",ua[ua.Currencies=18]="Currencies",ua[ua.Directionality=19]="Directionality",ua[ua.PluralCase=20]="PluralCase",ua[ua.ExtraData=21]="ExtraData",ua))();const pa=["zero","one","two","few","many"],ha="en-US",da={marker:"element"},fa={marker:"ICU"};var ga=(()=>((ga=ga||{})[ga.SHIFT=2]="SHIFT",ga[ga.APPEND_EAGERLY=1]="APPEND_EAGERLY",ga[ga.COMMENT=2]="COMMENT",ga))();let ma=ha;function ya(e){var t;null==(t=e)&&w("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(ma=e.toLowerCase().replace(/_/g,"-"))}function va(e,t,o){const i=t.insertBeforeIndex,n=Array.isArray(i)?i[0]:i;return null===n?on(e,0,o):Oe(o[n])}function Ca(e,t,o,i,n){const r=t.insertBeforeIndex;if(Array.isArray(r)){let s=i,a=null;if(3&t.type||(a=s,s=n),null!==s&&0==(2&t.flags))for(let t=1;t<r.length;t++)Qi(e,s,o[r[t]],a,!1)}}function wa(e,t){if(e.push(t),e.length>1)for(let o=e.length-2;o>=0;o--){const i=e[o];ba(i)||xa(i,t)&&null===Sa(i)&&Ea(i,t.index)}}function ba(e){return!(64&e.type)}function xa(e,t){return ba(t)||e.index>t.index}function Sa(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Ea(e,t){const o=e.insertBeforeIndex;Array.isArray(o)?o[0]=t:(sn(va,Ca),e.insertBeforeIndex=t)}function _a(e,t){const o=e.data[t];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function Aa(e,t,o){const i=Wn(e,o,64,null,null);return wa(t,i),i}function Ra(e,t){const o=t[e.currentCaseLViewIndex];return null===o?o:o<0?~o:o}let Ta=0,Oa=0;function Pa(e,t,o,i){const n=o[11];let r,s=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const e=t[++a];null===o[e]&&(o[e]=Wi(n,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,p;if(null===s&&(s=c,r=en(n,i)),c===s?(u=i,p=r):(u=null,p=Oe(o[c])),null!==p){const t=(131070&l)>>>1;Qi(n,p,o[t],u,!1);const i=_a(e,t);if(null!==i&&"object"==typeof i){const t=Ra(i,o);null!==t&&Pa(e,i.create[t],o,o[i.anchorIdx])}}break;case 1:const h=t[++a],d=t[++a];ur(n,Pe(l>>>1,o),null,null,h,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case fa:const e=t[++a],i=t[++a];null===o[i]&&Ei(o[i]=ji(n,e),o);break;case da:const r=t[++a],s=t[++a];null===o[s]&&Ei(o[s]=zi(n,r,null),o)}}}function Da(e,t,o,i,n){for(let r=0;r<o.length;r++){const s=o[r],a=o[++r];if(s&n){let n="";for(let s=r+1;s<=r+a;s++){const r=o[s];if("string"==typeof r)n+=r;else if("number"==typeof r)if(r<0)n+=y(t[i-r]);else{const a=r>>>2;switch(3&r){case 1:const r=o[++s],l=o[++s],c=e.data[a];"string"==typeof c?ur(t[11],t[a],null,c,r,n,l):er(e,c,t,r,n,t[11],l,!1);break;case 0:const u=t[a];null!==u&&Bi(t[11],u,n);break;case 2:Ma(e,_a(e,a),t,n);break;case 3:Ia(e,_a(e,a),i,t)}}}}else{const n=o[r+1];if(n>0&&3==(3&n)){const o=_a(e,n>>>2);t[o.currentCaseLViewIndex]<0&&Ia(e,o,i,t)}}r+=a}}function Ia(e,t,o,i){let n=i[t.currentCaseLViewIndex];if(null!==n){let r=Ta;n<0&&(n=i[t.currentCaseLViewIndex]=~n,r=-1),Da(e,i,t.update[n],o,r)}}function Ma(e,t,o,i){const n=function(e,t){let o=e.cases.indexOf(t);if(-1===o)switch(e.type){case 1:{const i=function(e,t){const o=la(t)(parseInt(e,10)),i=pa[o];return void 0!==i?i:"other"}(t,ma);o=e.cases.indexOf(i),-1===o&&"other"!==i&&(o=e.cases.indexOf("other"));break}case 0:o=e.cases.indexOf("other")}return-1===o?null:o}(t,i);if(Ra(t,o)!==n&&(Na(e,t,o),o[t.currentCaseLViewIndex]=null===n?null:~n,null!==n)){const i=o[t.anchorIdx];i&&Pa(e,t.create[n],o,i)}}function Na(e,t,o){let i=Ra(t,o);if(null!==i){const n=t.remove[i];for(let t=0;t<n.length;t++){const i=n[t];if(i>0){const e=Pe(i,o);null!==e&&pn(o[11],e)}else Na(e,_a(e,~i),o)}}}const ka=/\ufffd(\d+):?\d*\ufffd/gi,La=/\ufffd(\d+)\ufffd/,Fa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ga=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ha=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Va=/\uE500/g;function Wa(e,t,o,i,n,r,s){const a=Bn(e,i,1,null);let l=a<<ga.SHIFT,c=Xe();t===c&&(c=null),null===c&&(l|=ga.APPEND_EAGERLY),s&&(l|=ga.COMMENT,void 0===Ni&&(Ni=function(){const e=[];let t,o,i=-1;function n(e,t){i=0;const n=Ra(e,t);o=null!==n?e.remove[n]:j}function r(){if(i<o.length){const s=o[i++];return s>0?t[s]:(e.push(i,o),n(t[1].data[~s],t),r())}return 0===e.length?null:(o=e.pop(),i=e.pop(),r())}return function(o,i){for(t=i;e.length;)e.pop();return n(o.value,i),r}}())),n.push(l,null===r?"":r);const u=Wn(e,a,s?32:1,null===r?"":r,null);wa(o,u);const p=u.index;return qe(u,!1),null!==c&&t!==c&&function(e,t){let o=e.insertBeforeIndex;var i;null===o?(sn(va,Ca),o=e.insertBeforeIndex=[null,t]):("Expecting array here",(i=Array.isArray(o))!=!0&&w("Expecting array here",i,true,"=="),o.push(t))}(c,p),u}function Ba(e,t,o,i,n,r,s){const a=s.match(ka),l=Wa(e,t,o,r,i,a?null:s,!1);a&&ja(n,s,l.index,null,0,null)}function ja(e,t,o,i,n,r){const s=e.length,a=s+1;e.push(null,null);const l=s+2,c=t.split(ka);let u=0;for(let p=0;p<c.length;p++){const t=c[p];if(1&p){const o=n+parseInt(t,10);e.push(-1-o),u|=za(o)}else""!==t&&e.push(t)}return e.push(o<<2|(i?1:0)),i&&e.push(i,r),e[s]=u,e[a]=e.length-l,u}function za(e){return 1<<Math.min(e,31)}function Ua(e){let t,o,i="",n=0,r=!1;for(;null!==(t=Ga.exec(e));)r?t[0]===`\ufffd/*${o}\ufffd`&&(n=t.index,r=!1):(i+=e.substring(n,t.index+t[0].length),o=t[1],r=!0);return i+=e.substr(n),i}function Ya(e,t,o,i,n,r){let s=0;const a={type:n.type,currentCaseLViewIndex:Bn(e,t,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};!function(e,t,o){e.push(za(t.mainBinding),2,-1-t.mainBinding,o<<2|2)}(o,n,r),function(e,t,o){const i=e.data[t];null===i?e.data[t]=o:i.value=o}(e,r,a);const l=n.values;for(let c=0;c<l.length;c++){const r=l[c],u=[];for(let e=0;e<r.length;e++){const t=r[e];if("string"!=typeof t){const o=u.push(t)-1;r[e]=`\x3c!--\ufffd${o}\ufffd--\x3e`}}s=Za(e,a,t,o,i,n.cases[c],r.join(""),u)|s}s&&function(e,t,o){e.push(t,1,o<<2|3)}(o,s,r)}function Xa(e){const t=[],o=[];let i=1,n=0;const r=qa(e=e.replace(Fa,function(e,t,o){return i="select"===o?0:1,n=parseInt(t.substr(1),10),""}));for(let s=0;s<r.length;){let e=r[s++].trim();1===i&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const n=qa(r[s++]);t.length>o.length&&o.push(n)}return{type:i,mainBinding:n,cases:t,values:o}}function qa(e){if(!e)return[];let t=0;const o=[],i=[],n=/[{}]/g;let r;for(n.lastIndex=0;r=n.exec(e);){const n=r.index;if("}"==r[0]){if(o.pop(),0==o.length){const o=e.substring(t,n);Fa.test(o)?i.push(Xa(o)):i.push(o),t=n+1}}else{if(0==o.length){const o=e.substring(t,n);i.push(o),t=n+1}o.push("{")}}const s=e.substring(t);return i.push(s),i}function Za(e,t,o,i,n,r,s,a){const l=[],c=[],u=[];t.cases.push(r),t.create.push(l),t.remove.push(c),t.update.push(u);const p=Zo(Ae()).getInertBodyElement(s),h=Ci(p)||p;return h?Ka(e,t,o,i,l,c,u,h,n,a,0):0}function Ka(e,t,o,i,n,r,s,a,l,c,u){let p=0,h=a.firstChild;for(;h;){const a=Bn(e,o,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:const d=h,f=d.tagName.toLowerCase();if(li.hasOwnProperty(f)){$a(n,da,f,l,a),e.data[a]=f;const g=d.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),o=t.name.toLowerCase();t.value.match(ka)?pi.hasOwnProperty(o)&&ja(s,t.value,a,t.name,0,ci[o]?ei:ui[o]?ti:null):el(n,a,t)}p=Ka(e,t,o,i,n,r,s,h,a,c,u+1)|p,Qa(r,a,u)}break;case Node.TEXT_NODE:const g=h.textContent||"",m=g.match(ka);$a(n,null,m?"":g,l,a),Qa(r,a,u),m&&(p=ja(s,g,a,null,0,null)|p);break;case Node.COMMENT_NODE:const y=La.exec(h.textContent||"");if(y){const t=c[parseInt(y[1],10)];$a(n,fa,"",l,a),Ya(e,o,i,l,t,a),Ja(r,a,u)}}h=h.nextSibling}return p}function Qa(e,t,o){0===o&&e.push(t)}function Ja(e,t,o){0===o&&(e.push(~t),e.push(t))}function $a(e,t,o,i,n){null!==t&&e.push(t),e.push(o,n,0|i<<17|n<<1)}function el(e,t,o){e.push(t<<1|1,o.name,o.value)}function tl(e,t,o){(function(e,t,o=-1){const i=je(),n=Be(),r=ce+e,s=Fe(i.consts,t),a=Xe();i.firstCreatePass&&function(e,t,o,i,n,r){const s=Xe(),a=[],l=[],c=[[]],u=(p=n=function(e,t){if(function(e){return-1===e}(t))return Ua(e);{const o=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,i=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Ua(e.substring(o,i))}}(n,r),p.replace(Va," ")).split(Ha);var p;for(let h=0;h<u.length;h++){let i=u[h];if(0==(1&h)){const r=qa(i);for(let i=0;i<r.length;i++){let u=r[i];if(0==(1&i)){const t=u;""!==t&&Ba(e,s,c[0],a,l,o,t)}else{const i=u;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${n}" message.`);Ya(e,o,l,t,i,Wa(e,s,c[0],o,a,"",!0).index)}}}else{const t=47===i.charCodeAt(0),o=(i.charCodeAt(t?1:0),ce+Number.parseInt(i.substring(t?2:1)));if(t)c.shift(),qe(Xe(),!1);else{const t=Aa(e,c[0],o);c.unshift([]),qe(t,!0)}}}e.data[i]={create:a,update:l}}(i,null===a?0:a.index,n,r,s,o);const l=i.data[r],c=Ki(i,a===n[6]?null:a,n);!function(e,t,o,i){const n=e[11];for(let r=0;r<t.length;r++){const s=t[r++],a=t[r],l=(s&ga.COMMENT)===ga.COMMENT,c=(s&ga.APPEND_EAGERLY)===ga.APPEND_EAGERLY,u=s>>>ga.SHIFT;let p=e[u];null===p&&(p=e[u]=l?n.createComment(a):Wi(n,a)),c&&null!==o&&Qi(n,o,p,i,!1)}}(n,l.create,c,a&&8&a.type?n[a.index]:null),it(!0)})(e,t,o),it(!1)}function ol(e){return os(Be(),tt(),e)&&(Ta|=1<<Math.min(Oa,31)),Oa++,ol}function il(e){!function(e,t,o){if(Oa>0){const i=e.data[o];Da(e,t,Array.isArray(i)?i:i.update,et()-Oa-1,Ta)}Ta=0,Oa=0}(je(),Be(),e+ce)}function nl(e,t,o,i,n){if(e=f(e),Array.isArray(e))for(let r=0;r<e.length;r++)nl(e[r],t,o,i,n);else{const r=je(),s=Be();let a=Wr(e)?e:f(e.provide),l=Gr(e);const c=Ue(),u=1048575&c.providerIndexes,p=c.directiveStart,h=c.providerIndexes>>20;if(Wr(e)||!e.multi){const i=new Rt(l,n,cs),d=al(a,t,n?u:u+h,p);-1===d?(jt(Ht(c,s),r,a),rl(r,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),o.push(i),s.push(i)):(o[d]=i,s[d]=i)}else{const d=al(a,t,u+h,p),f=al(a,t,u,u+h),g=d>=0&&o[d],m=f>=0&&o[f];if(n&&!m||!n&&!g){jt(Ht(c,s),r,a);const u=function(e,t,o,i,n){const r=new Rt(e,o,cs);return r.multi=[],r.index=t,r.componentProviders=0,sl(r,n,i&&!o),r}(n?cl:ll,o.length,n,i,l);!n&&m&&(o[f].providerFactory=u),rl(r,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),o.push(u),s.push(u)}else rl(r,e,d>-1?d:f,sl(o[n?f:d],l,!n&&i));!n&&i&&m&&o[f].componentProviders++}}}function rl(e,t,o,i){const n=Wr(t);if(n||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const s=e.destroyHooks||(e.destroyHooks=[]);if(!n&&t.multi){const e=s.indexOf(o);-1===e?s.push(o,[i,r]):s[e+1].push(i,r)}else s.push(o,r)}}}function sl(e,t,o){return o&&e.componentProviders++,e.multi.push(t)-1}function al(e,t,o,i){for(let n=o;n<i;n++)if(t[n]===e)return n;return-1}function ll(e,t,o,i){return ul(this.multi,[])}function cl(e,t,o,i){const n=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Qt(o,o[1],this.providerFactory.index,i);r=t.slice(0,e),ul(n,r);for(let o=e;o<t.length;o++)r.push(t[o])}else r=[],ul(n,r);return r}function ul(e,t){for(let o=0;o<e.length;o++)t.push((0,e[o])());return t}function pl(e,t=[]){return o=>{o.providersResolver=(o,i)=>function(e,t,o){const i=je();if(i.firstCreatePass){const n=me(e);nl(o,i.data,i.blueprint,n,!0),nl(t,i.data,i.blueprint,n,!1)}}(o,i?i(e):e,t)}}class hl{}class dl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class fl{}function gl(...e){}function ml(e,t){return new vl(De(e,t))}fl.NULL=new dl;const yl=function(){return ml(Ue(),Be())};let vl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=yl,e})();function Cl(e){return e instanceof vl?e.nativeElement:e}class wl{}let bl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>xl(),e})();const xl=function(){const e=Be(),t=Ne(Ue().index,e);return function(e){return e[11]}(pe(t)?t:e)};let Sl=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class El{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _l=new El("12.1.5");class Al{constructor(){}supports(e){return $r(e)}create(e){return new Tl(e)}}const Rl=(e,t)=>t;class Tl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Rl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,i=0,n=null;for(;t||o;){const r=!o||t&&t.currentIndex<Il(o,i,n)?t:o,s=Il(r,i,n),a=r.currentIndex;if(r===o)i--,o=o._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{n||(n=[]);const e=s-i,t=a-i;if(e!=t){for(let o=0;o<e;o++){const i=o<n.length?n[o]:n[o]=0,r=i+o;t<=r&&r<e&&(n[o]=i+1)}n[r.previousIndex]=t-e}}s!==a&&e(r,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$r(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,o,i,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)o=e[t],i=this._trackByFn(t,o),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,o,i,t)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,i,t),r=!0),n=n._next}else t=0,function(e,t){if(Array.isArray(e))for(let o=0;o<e.length;o++)t(e[o]);else{const o=e[Qr()]();let i;for(;!(i=o.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,e,i,t)),Object.is(n.item,e)||this._addIdentityChange(n,e)):(n=this._mismatch(n,e,i,t),r=!0),n=n._next,t++}),this.length=t;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,i){let n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,i)):e=this._addAfter(new Ol(t,o),n,i),e}_verifyReinsertion(e,t,o,i){let n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==n?e=this._reinsertAfter(n,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,n=e._nextRemoved;return null===i?this._removalsHead=n:i._nextRemoved=n,null===n?this._removalsTail=i:n._prevRemoved=i,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Dl),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ol{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pl{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class Dl{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new Pl,this.map.set(t,o)),o.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Il(e,t,o){const i=e.previousIndex;if(null===i)return i;let n=0;return o&&i<o.length&&(n=o[i]),i+t+n}class Ml{constructor(){}supports(e){return e instanceof Map||es(e)}create(){return new Nl}}class Nl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||es(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(o,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,t);const i=o._prev,n=o._next;return i&&(i._next=n),n&&(n._prev=i),o._next=null,o._prev=null,o}const o=new kl(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class kl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ll(){return new Fl([new Al])}let Fl=(()=>{class e{constructor(e){this.factories=e}static create(t,o){if(null!=o){const e=o.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||Ll()),deps:[[e,new Po,new Oo]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${o=e,o.name||typeof o}'`);var o}}return e.\u0275prov=b({token:e,providedIn:"root",factory:Ll}),e})();function Gl(){return new Hl([new Ml])}let Hl=(()=>{class e{constructor(e){this.factories=e}static create(t,o){if(o){const e=o.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||Gl()),deps:[[e,new Po,new Oo]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:Gl}),e})();function Vl(e,t,o,i,n=!1){for(;null!==o;){const r=t[o.index];if(null!==r&&i.push(Oe(r)),he(r))for(let e=ue;e<r.length;e++){const t=r[e],o=t[1].firstChild;null!==o&&Vl(t[1],t,o,i)}const s=o.type;if(8&s)Vl(e,t,o.child,i);else if(32&s){const e=ki(o,t);let n;for(;n=e();)i.push(n)}else if(16&s){const e=cn(t,o);if(Array.isArray(e))i.push(...e);else{const o=Li(t[16]);Vl(o[1],o,e,i,!0)}}o=n?o.projectionNext:o.next}return i}class Wl{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Vl(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(Yi(e,o),ho(t,o))}this._attachedToViewContainer=!1}Xi(this._lView[1],this._lView)}onDestroy(e){Jn(this._lView[1],this._lView,null,e)}markForCheck(){vr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,o){Je(!0);try{Cr(e,t,o)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,dn(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Bl extends Wl{constructor(e){super(e),this._view=e}detectChanges(){wr(this._view)}checkNoChanges(){!function(e){Je(!0);try{wr(e)}finally{Je(!1)}}(this._view)}get context(){return null}}const jl=function(e){return function(e,t,o){if(fe(e)&&!o){const o=Ne(e.index,t);return new Wl(o,o)}return 47&e.type?new Wl(t[16],t):null}(Ue(),Be(),16==(16&e))};let zl=(()=>{class e{}return e.__NG_ELEMENT_ID__=jl,e})();const Ul=[new Ml],Yl=new Fl([new Al]),Xl=new Hl(Ul),ql=function(){return Jl(Ue(),Be())};let Zl=(()=>{class e{}return e.__NG_ELEMENT_ID__=ql,e})();const Kl=Zl,Ql=class extends Kl{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e){const t=this._declarationTContainer.tViews,o=Hn(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(o[19]=i.createEmbeddedView(t)),jn(t,o,e),new Wl(o)}};function Jl(e,t){return 4&e.type?new Ql(t,e,ml(e,t)):null}class $l{}class ec{}const tc=function(){return ac(Ue(),Be())};let oc=(()=>{class e{}return e.__NG_ELEMENT_ID__=tc,e})();const ic=oc,nc=class extends ic{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bt(this._hostTNode,this._hostLView);if(Mt(e)){const t=kt(e,this._hostLView),o=Nt(e);return new eo(t[1].data[o+8],t)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=rc(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(e,t,o){const i=e.createEmbeddedView(t||{});return this.insert(i,o),i}createComponent(e,t,o,i,n){const r=o||this.parentInjector;if(!n&&null==e.ngModule&&r){const e=r.get($l,null);e&&(n=e)}const s=e.create(r,i,void 0,n);return this.insert(s.hostView,t),s}insert(e,t){const o=e._lView,i=o[1];if(he(o[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=o[3],i=new nc(t,t[6],t[3]);i.detach(i.indexOf(e))}}const n=this._adjustIndex(t),r=this._lContainer;!function(e,t,o,i){const n=ue+i,r=o.length;i>0&&(o[n-1][4]=t),i<r-ue?(t[4]=o[n],po(o,ue+i,t)):(o.push(t),t[4]=null),t[3]=o;const s=t[17];null!==s&&o!==s&&function(e,t){const o=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===o?e[9]=[t]:o.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,o,r,n);const s=un(n,r),a=o[11],l=en(a,r[7]);return null!==l&&function(e,t,o,i,n,r){i[0]=n,i[6]=t,dn(e,i,o,1,n,r)}(i,r[6],a,o,l,s),e.attachToViewContainerRef(),po(sc(r),n,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=rc(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=Yi(this._lContainer,t);o&&(ho(sc(this._lContainer),t),Xi(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=Yi(this._lContainer,t);return o&&null!=ho(sc(this._lContainer),t)?new Wl(o):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function rc(e){return e[8]}function sc(e){return e[8]||(e[8]=[])}function ac(e,t){let o;const i=t[e.index];if(he(i))o=i;else{let n;if(8&e.type)n=Oe(i);else{const o=t[11];n=o.createComment("");const i=De(e,t);Qi(o,en(o,i),n,function(e,t){return Re(e)?e.nextSibling(t):t.nextSibling}(o,i),!1)}t[e.index]=o=dr(i,t,n,e),yr(t,o)}return new nc(o,e,t)}const lc={};class cc extends fl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ae(e);return new hc(t,this.ngModule)}}function uc(e){const t=[];for(let o in e)e.hasOwnProperty(o)&&t.push({propName:e[o],templateName:o});return t}const pc=new so("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Di});class hc extends hl{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Tn).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return uc(this.componentDef.inputs)}get outputs(){return uc(this.componentDef.outputs)}create(e,t,o,i){const n=(i=i||this.ngModule)?function(e,t){return{get:(o,i,n)=>{const r=e.get(o,lc,n);return r!==lc||i===lc?r:t.get(o,i,n)}}}(e,i.injector):e,r=n.get(wl,Te),s=n.get(Sl,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=o?function(e,t,o){if(Re(e))return e.selectRootElement(t,o===L.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,o,this.componentDef.encapsulation):zi(r.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,p={components:[],scheduler:Di,clean:xr,playerHandler:null,flags:0},h=Qn(0,null,null,1,0,null,null,null,null,null),d=Hn(null,h,p,u,null,null,r,a,s,n);let f,g;pt(d);try{const e=function(e,t,o,i,n,r){const s=o[1];o[20]=e;const a=Vn(s,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Rr(a,l,!0),null!==e&&(Tt(n,e,l),null!==a.classes&&mn(n,e,a.classes),null!==a.styles&&gn(n,e,a.styles)));const c=i.createRenderer(e,t),u=Hn(o,Kn(t),null,t.onPush?64:16,o[20],a,i,c,null,null);return s.firstCreatePass&&(jt(Ht(a,o),s,t.type),nr(s,a),sr(a,o.length,1)),yr(o,u),o[20]=u}(c,this.componentDef,d,r,a);if(c)if(o)Tt(a,c,["ng-version",_l.full]);else{const{attrs:e,classes:t}=function(e){const t=[],o=[];let i=1,n=2;for(;i<e.length;){let r=e[i];if("string"==typeof r)2===n?""!==r&&t.push(r,e[++i]):8===n&&o.push(r);else{if(!Sn(n))break;n=r}i++}return{attrs:t,classes:o}}(this.componentDef.selectors[0]);e&&Tt(a,c,e),t&&t.length>0&&mn(a,c,t.join(" "))}if(g=Ie(h,ce),void 0!==t){const e=g.projection=[];for(let o=0;o<this.ngContentSelectors.length;o++){const i=t[o];e.push(null!=i?Array.from(i):null)}}f=function(e,t,o,i,n){const r=o[1],s=function(e,t,o){const i=Ue();e.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ar(e,i,t,Bn(e,t,1,null),o));const n=Qt(t,e,i.directiveStart,i);Ei(n,t);const r=De(i,t);return r&&Ei(r,t),n}(r,o,t);if(i.components.push(s),e[8]=s,n&&n.forEach(e=>e(s,t)),t.contentQueries){const e=Ue();t.contentQueries(1,s,e.directiveStart)}const a=Ue();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(vt(a.index),or(o[1],a,0,a.directiveStart,a.directiveEnd,t),ir(t,s)),s}(e,this.componentDef,d,p,[zr]),jn(h,d,null)}finally{mt()}return new dc(this.componentType,f,ml(g,d),d,g)}}class dc extends class{}{constructor(e,t,o,i,n){super(),this.location=o,this._rootLView=i,this._tNode=n,this.instance=t,this.hostView=this.changeDetectorRef=new Bl(i),this.componentType=e}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const fc=new Map;class gc extends $l{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cc(this);const o=le(e),i=e[q]||null;i&&ya(i),this._bootstrapComponents=Ii(o.bootstrap),this._r3Injector=kr(e,t,[{provide:$l,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=jr.THROW_IF_NOT_FOUND,o=P.Default){return e===jr||e===$l||e===Tr?this:this._r3Injector.get(e,t,o)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mc extends ec{constructor(e){super(),this.moduleType=e,null!==le(e)&&function(e){const t=new Set;!function e(o){const i=le(o,!0),n=i.id;null!==n&&(function(e,t,o){if(t&&t!==o)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(n,fc.get(n),o),fc.set(n,o));const r=Ii(i.imports);for(const s of r)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new gc(this.moduleType,e)}}function yc(e,t,o,i){return bc(Be(),$e(),e,t,o,i)}function vc(e,t,o,i,n){return xc(Be(),$e(),e,t,o,i,n)}function Cc(e,t,o,i,n,r){return function(e,t,o,i,n,r,s,a){const l=t+o;return function(e,t,o,i,n){const r=is(e,t,o,i);return os(e,t+2,n)||r}(e,l,n,r,s)?ts(e,l+3,a?i.call(a,n,r,s):i(n,r,s)):wc(e,l+3)}(Be(),$e(),e,t,o,i,n,r)}function wc(e,t){const o=e[t];return o===On?void 0:o}function bc(e,t,o,i,n,r){const s=t+o;return os(e,s,n)?ts(e,s+1,r?i.call(r,n):i(n)):wc(e,s+1)}function xc(e,t,o,i,n,r,s){const a=t+o;return is(e,a,n,r)?ts(e,a+2,s?i.call(s,n,r):i(n,r)):wc(e,a+2)}function Sc(e,t){const o=je();let i;const n=e+ce;o.firstCreatePass?(i=function(e,t){if(t)for(let o=t.length-1;o>=0;o--){const i=t[o];if(e===i.name)return i}throw new m("302",`The pipe '${e}' could not be found!`)}(t,o.pipeRegistry),o.data[n]=i,i.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(n,i.onDestroy)):i=o.data[n];const r=i.factory||(i.factory=ye(i.type)),s=I(cs);try{const e=Ft(!1),t=r();return Ft(e),function(e,t,o,i){o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),t[o]=i}(o,Be(),n,t),t}finally{I(s)}}function Ec(e,t,o){const i=e+ce,n=Be(),r=Me(n,i);return Rc(n,Ac(n,i)?bc(n,$e(),t,r.transform,o,r):r.transform(o))}function _c(e,t,o,i){const n=e+ce,r=Be(),s=Me(r,n);return Rc(r,Ac(r,n)?xc(r,$e(),t,s.transform,o,i,s):s.transform(o,i))}function Ac(e,t){return e[1].data[t].pure}function Rc(e,t){return Jr.isWrapped(t)&&(t=Jr.unwrap(t),e[et()]=On),t}function Tc(e){return t=>{setTimeout(e,void 0,t)}}const Oc=class extends i.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){var i,r,s;let a=e,l=t||(()=>null),c=o;if(e&&"object"==typeof e){const t=e;a=null===(i=t.next)||void 0===i?void 0:i.bind(t),l=null===(r=t.error)||void 0===r?void 0:r.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(l=Tc(l),a&&(a=Tc(a)),c&&(c=Tc(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof n.w&&e.add(u),u}};function Pc(){return this._results[Qr()]()}class Dc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qr(),o=Dc.prototype;o[t]||(o[t]=Pc)}get changes(){return this._changes||(this._changes=new Oc)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const i=co(e);(this._changesDetected=!function(e,t,o){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],r=t[i];if(o&&(n=o(n),r=o(r)),r!==n)return!1}return!0}(o._results,i,t))&&(o._results=i,o.length=i.length,o.last=i[this.length-1],o.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ic{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ic(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<o;e++){const o=t.getByIndex(e);i.push(this.queries[o.indexInDeclarationView].clone())}return new Mc(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Xc(e,t).matches&&this.queries[t].setDirty()}}class Nc{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class kc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const i=null!==t?t.length:0,n=this.getByIndex(o).embeddedTView(e,i);n&&(n.indexInDeclarationView=o,null!==t?t.push(n):t=[n])}return null!==t?new kc(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Lc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Lc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let i=0;i<o.length;i++){const n=o[i];this.matchTNodeWithReadOption(e,t,Fc(t,n)),this.matchTNodeWithReadOption(e,t,Kt(t,e,n,!1,!1))}else o===Zl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kt(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const i=this.metadata.read;if(null!==i)if(i===vl||i===oc||i===Zl&&4&t.type)this.addMatch(t.index,-2);else{const o=Kt(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Fc(e,t){const o=e.localNames;if(null!==o)for(let i=0;i<o.length;i+=2)if(o[i]===t)return o[i+1];return null}function Gc(e,t,o,i){return-1===o?function(e,t){return 11&e.type?ml(e,t):4&e.type?Jl(e,t):null}(t,e):-2===o?function(e,t,o){return o===vl?ml(t,e):o===Zl?Jl(t,e):o===oc?ac(t,e):void 0}(e,t,i):Qt(e,e[1],o,t)}function Hc(e,t,o,i){const n=t[19].queries[i];if(null===n.matches){const i=e.data,r=o.matches,s=[];for(let e=0;e<r.length;e+=2){const n=r[e];s.push(n<0?null:Gc(t,i[n],r[e+1],o.metadata.read))}n.matches=s}return n.matches}function Vc(e,t,o,i){const n=e.queries.getByIndex(o),r=n.matches;if(null!==r){const s=Hc(e,t,n,o);for(let e=0;e<r.length;e+=2){const o=r[e];if(o>0)i.push(s[e/2]);else{const n=r[e+1],s=t[-o];for(let e=ue;e<s.length;e++){const t=s[e];t[17]===t[3]&&Vc(t[1],t,n,i)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const o=e[t];Vc(o[1],o,n,i)}}}}}return i}function Wc(e){const t=Be(),o=je(),i=at();lt(i+1);const n=Xc(o,i);if(e.dirty&&ke(t)===(2==(2&n.metadata.flags))){if(null===n.matches)e.reset([]);else{const r=n.crossesNgTemplate?Vc(o,t,i,[]):Hc(o,t,n,i);e.reset(r,Cl),e.notifyOnChanges()}return!0}return!1}function Bc(e,t,o){const i=je();i.firstCreatePass&&(Yc(i,new Nc(e,t,o),-1),2==(2&t)&&(i.staticViewQueries=!0)),Uc(i,Be(),t)}function jc(e,t,o,i){const n=je();if(n.firstCreatePass){const r=Ue();Yc(n,new Nc(t,o,i),r.index),function(e,t){const o=e.contentQueries||(e.contentQueries=[]);t!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,t)}(n,e),2==(2&o)&&(n.staticContentQueries=!0)}Uc(n,Be(),o)}function zc(){return e=Be(),t=at(),e[19].queries[t].queryList;var e,t}function Uc(e,t,o){const i=new Dc(4==(4&o));Jn(e,t,i,i.destroy),null===t[19]&&(t[19]=new Mc),t[19].queries.push(new Ic(i))}function Yc(e,t,o){null===e.queries&&(e.queries=new kc),e.queries.track(new Lc(t,o))}function Xc(e,t){return e.queries.getByIndex(t)}function qc(e,t){return Jl(e,t)}const Zc=new so("Application Initializer");let Kc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=gl,this.reject=gl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const t=this.appInits[o]();if(Cs(t))e.push(t);else if(bs(t)){const o=new Promise((e,o)=>{t.subscribe({complete:e,error:o})});e.push(o)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(_o(Zc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Qc=new so("AppId"),Jc={provide:Qc,useFactory:function(){return`${$c()}${$c()}${$c()}`},deps:[]};function $c(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eu=new so("Platform Initializer"),tu=new so("Platform ID"),ou=new so("appBootstrapListener");let iu=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const nu=new so("LocaleId"),ru=new so("DefaultCurrencyCode");class su{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const au=function(e){return new mc(e)},lu=au,cu=function(e){return Promise.resolve(au(e))},uu=function(e){const t=au(e),o=Ii(le(e).declarations).reduce((e,t)=>{const o=ae(t);return o&&e.push(new hc(o)),e},[]);return new su(t,o)},pu=uu,hu=function(e){return Promise.resolve(uu(e))};let du=(()=>{class e{constructor(){this.compileModuleSync=lu,this.compileModuleAsync=cu,this.compileModuleAndAllComponentsSync=pu,this.compileModuleAndAllComponentsAsync=hu}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const fu=(()=>Promise.resolve(0))();function gu(e){"undefined"==typeof Zone?fu.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mu{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oc(!1),this.onMicrotaskEmpty=new Oc(!1),this.onStable=new Oc(!1),this.onError=new Oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&t,i.shouldCoalesceRunChangeDetection=o,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cu(e),e.isCheckStableRunning=!0,vu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,i,n,r,s,a)=>{try{return wu(e),o.invokeTask(n,r,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||e.shouldCoalesceRunChangeDetection)&&t(),bu(e)}},onInvoke:(o,i,n,r,s,a,l)=>{try{return wu(e),o.invoke(n,r,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),bu(e)}},onHasTask:(t,o,i,n)=>{t.hasTask(i,n),o===i&&("microTask"==n.change?(e._hasPendingMicrotasks=n.microTask,Cu(e),vu(e)):"macroTask"==n.change&&(e.hasPendingMacrotasks=n.macroTask))},onHandleError:(t,o,i,n)=>(t.handleError(i,n),e.runOutsideAngular(()=>e.onError.emit(n)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,i){const n=this._inner,r=n.scheduleEventTask("NgZoneEvent: "+i,e,yu,gl,gl);try{return n.runTask(r,t,o)}finally{n.cancelTask(r)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const yu={};function vu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function wu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bu(e){e._nesting--,vu(e)}class xu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oc,this.onMicrotaskEmpty=new Oc,this.onStable=new Oc,this.onError=new Oc}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,i){return e.apply(t,o)}}let Su=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mu.assertNotInAngularZone(),gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gu(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,o){return[]}}return e.\u0275fac=function(t){return new(t||e)(_o(mu))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),Eu=(()=>{class e{constructor(){this._applications=new Map,Tu.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Tu.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class _u{addToWindow(e){}findTestabilityInTree(e,t,o){return null}}function Au(e){Tu=e}let Ru,Tu=new _u,Ou=!0,Pu=!1;function Du(){if(Pu)throw new Error("Cannot enable prod mode after platform setup.");Ou=!1}const Iu=new so("AllowMultipleToken");class Mu{constructor(e,t){this.name=e,this.token=t}}function Nu(e,t,o=[]){const i=`Platform: ${t}`,n=new so(i);return(t=[])=>{let r=ku();if(!r||r.injector.get(Iu,!1))if(e)e(o.concat(t).concat({provide:n,useValue:!0}));else{const e=o.concat(t).concat({provide:n,useValue:!0},{provide:Pr,useValue:"platform"});!function(e){if(Ru&&!Ru.destroyed&&!Ru.injector.get(Iu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ru=e.get(Lu);const t=e.get(eu,null);t&&t.forEach(e=>e())}(jr.create({providers:e,name:i}))}return function(e){const t=ku();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(n)}}function ku(){return Ru&&!Ru.destroyed?Ru:null}let Lu=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const o=function(e,t){let o;return o="noop"===e?new xu:("zone.js"===e?void 0:e)||new mu({enableLongStackTrace:(Pu=!0,Ou),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),o}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:mu,useValue:o}];return o.run(()=>{const t=jr.create({providers:i,parent:this.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Ti,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const e=o.onError.subscribe({next:e=>{r.handleError(e)}});n.onDestroy(()=>{Hu(this._modules,n),e.unsubscribe()})}),function(e,t,o){try{const i=o();return Cs(i)?i.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(r,o,()=>{const e=n.injector.get(Kc);return e.runInitializers(),e.donePromise.then(()=>(ya(n.injector.get(nu,ha)||ha),this._moduleDoBootstrap(n),n))})})}bootstrapModule(e,t=[]){const o=Fu({},t);return function(e,t,o){const i=new mc(o);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,o))}_moduleDoBootstrap(e){const t=e.injector.get(Gu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(_o(jr))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Fu(e,t){return Array.isArray(t)?t.reduce(Fu,e):Object.assign(Object.assign({},e),t)}let Gu=(()=>{class e{constructor(e,t,o,i,n){this._zone=e,this._injector=t,this._exceptionHandler=o,this._componentFactoryResolver=i,this._initStatus=n,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new r.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new r.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{mu.assertNotInAngularZone(),gu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const o=this._zone.onUnstable.subscribe(()=>{mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),o.unsubscribe()}});this.isStable=(0,s.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=e instanceof hl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(o.componentType);const i=o.isBoundToModule?void 0:this._injector.get($l),n=o.create(jr.NULL,[],t||o.selector,i),r=n.location.nativeElement,s=n.injector.get(Su,null),a=s&&n.injector.get(Eu);return s&&a&&a.registerApplication(r,s),n.onDestroy(()=>{this.detachView(n.hostView),Hu(this.components,n),a&&a.unregisterApplication(r)}),this._loadComponent(n),n}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Hu(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ou,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(_o(mu),_o(jr),_o(Ti),_o(fl),_o(Kc))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Hu(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}class Vu{}class Wu{}const Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ju=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Bu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),o(8255)(t).then(e=>e[i]).then(e=>zu(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),n="NgFactory";return void 0===i&&(i="default",n=""),o(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+n]).then(e=>zu(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(_o(du),_o(Wu,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function zu(e,t,o){if(!e)throw new Error(`Cannot find '${o}' in '${t}'`);return e}const Uu=function(e){return null},Yu=Nu(null,"core",[{provide:tu,useValue:"unknown"},{provide:Lu,deps:[jr]},{provide:Eu,deps:[]},{provide:iu,deps:[]}]),Xu=[{provide:Gu,useClass:Gu,deps:[mu,jr,Ti,fl,Kc]},{provide:pc,deps:[mu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Kc,useClass:Kc,deps:[[new Oo,Zc]]},{provide:du,useClass:du,deps:[]},Jc,{provide:Fl,useFactory:function(){return Yl},deps:[]},{provide:Hl,useFactory:function(){return Xl},deps:[]},{provide:nu,useFactory:function(e){return ya(e=e||"undefined"!=typeof $localize&&$localize.locale||ha),e},deps:[[new To(nu),new Oo,new Po]]},{provide:ru,useValue:"USD"}];let qu=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(_o(Gu))},e.\u0275mod=oe({type:e}),e.\u0275inj=x({providers:Xu}),e})()},665:(e,t,o)=>{"use strict";o.d(t,{Wl:()=>g,Fj:()=>v,u5:()=>ie,JU:()=>d,JJ:()=>I,On:()=>Q,_:()=>te});var i=o(7716),n=o(8583),r=o(7574),s=o(9796),a=o(8002),l=o(1555),c=o(4402);function u(e,t){return new r.y(o=>{const i=e.length;if(0===i)return void o.complete();const n=new Array(i);let r=0,s=0;for(let a=0;a<i;a++){const l=(0,c.D)(e[a]);let u=!1;o.add(l.subscribe({next:e=>{u||(u=!0,s++),n[a]=e},error:e=>o.error(e),complete:()=>{r++,r!==i&&u||(s===i&&o.next(t?t.reduce((e,t,o)=>(e[t]=n[o],e),{}):n),o.complete())}}))}})}let p=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e}),e})(),h=(()=>{class e extends p{}return e.\u0275fac=function(){let t;return function(o){return(t||(t=i.n5z(e)))(o||e)}}(),e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e})();const d=new i.OlP("NgValueAccessor"),f={provide:d,useExisting:(0,i.Gpc)(()=>g),multi:!0};let g=(()=>{class e extends h{writeValue(e){this.setProperty("checked",e)}}return e.\u0275fac=function(){let t;return function(o){return(t||(t=i.n5z(e)))(o||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.NdJ("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[i._Bn([f]),i.qOj]}),e})();const m={provide:d,useExisting:(0,i.Gpc)(()=>v),multi:!0},y=new i.OlP("CompositionEventMode");let v=(()=>{class e extends p{constructor(e,t,o){super(e,t),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(y,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i._Bn([m]),i.qOj]}),e})();const C=new i.OlP("NgValidators"),w=new i.OlP("NgAsyncValidators");function b(e){return null!=e}function x(e){const t=(0,i.QGY)(e)?(0,c.D)(e):e;return(0,i.CqO)(t),t}function S(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function E(e,t){return t.map(t=>t(e))}function _(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function A(e){return null!=e?function(e){if(!e)return null;const t=e.filter(b);return 0==t.length?null:function(e){return S(E(e,t))}}(_(e)):null}function R(e){return null!=e?function(e){if(!e)return null;const t=e.filter(b);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,s.k)(t))return u(t,null);if((0,l.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&(0,s.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return u(e,null)}(E(e,t).map(x)).pipe((0,a.U)(S))}}(_(e)):null}function T(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let O=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=A(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e}),e})(),P=(()=>{class e extends O{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(o){return(t||(t=i.n5z(e)))(o||e)}}(),e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e})();class D extends O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let I=(()=>{class e extends class{constructor(e){this._cd=e}is(e){var t,o,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===i?void 0:i[e])}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(D,2))},e.\u0275dir=i.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.qOj]}),e})();function M(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function N(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function k(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}const L="VALID",F="INVALID",G="PENDING",H="DISABLED";function V(e){return(z(e)?e.validators:e)||null}function W(e){return Array.isArray(e)?A(e):e||null}function B(e,t){return(z(t)?t.asyncValidators:e)||null}function j(e){return Array.isArray(e)?R(e):e||null}function z(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class U{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=W(this._rawValidators),this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===L}get invalid(){return this.status===F}get pending(){return this.status==G}get disabled(){return this.status===H}get enabled(){return this.status!==H}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=W(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=j(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=G,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=H,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==L&&this.status!==G||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H:L}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=G,this._hasOwnPendingAsyncValidator=!0;const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,o){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof X?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof q&&i.at(e)||null}),i}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?H:this.errors?F:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(G)?G:this._anyControlsHaveStatus(F)?F:L}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){z(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Y extends U{constructor(e=null,t,o){super(V(t),B(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class X extends U{constructor(e,t,o){super(V(t),B(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,i)=>{o.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof Y?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((e,i)=>{o=t(o,e,i)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class q extends U{constructor(e,t,o){super(V(t),B(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,o)=>{this.at(o)&&this.at(o).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,i)=>{o.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Y?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Z={provide:D,useExisting:(0,i.Gpc)(()=>Q)},K=(()=>Promise.resolve(null))();let Q=(()=>{class e extends D{constructor(e,t,o,n){super(),this.control=new Y,this._registered=!1,this.update=new i.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=function(e,t){if(!t)return null;let o,i,n;return Array.isArray(t),t.forEach(e=>{e.constructor===v?o=e:Object.getPrototypeOf(e.constructor)===h?i=e:n=e}),n||i||o||null}(0,n)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const o=e.model;return!!o.isFirstChange()||!Object.is(t,o.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t){const o=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(T(o,t.validator)):"function"==typeof o&&e.setValidators([o]);const i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(T(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const n=()=>e.updateValueAndValidity();M(t._rawValidators,n),M(t._rawAsyncValidators,n)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(o=>{e._pendingValue=o,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&N(e,t)})}(e,t),function(e,t){const o=(e,o)=>{t.valueAccessor.writeValue(e),o&&t.viewToModelUpdate(e)};e.registerOnChange(o),t._registerOnDestroy(()=>{e._unregisterOnChange(o)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&N(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const o=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(o),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(o)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){K.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,o=""===t||t&&"false"!==t;K.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(P,9),i.Y36(C,10),i.Y36(w,10),i.Y36(d,10))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Z]),i.qOj,i.TTD]}),e})();const J={provide:d,useExisting:(0,i.Gpc)(()=>te),multi:!0};let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})(),ee=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e},token:e,providedIn:$}),e})(),te=(()=>{class e extends h{constructor(e,t,o,i){super(e,t),this._registry=o,this._injector=i,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(D),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(ee),i.Y36(i.zs3))},e.\u0275dir=i.lG2({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.NdJ("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i._Bn([J]),i.qOj]}),e})(),oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[$]]}),e})(),ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[oe]}),e})()},9075:(e,t,o)=>{"use strict";o.d(t,{b2:()=>G,H7:()=>M,q6:()=>L,se:()=>S});var i=o(8583),n=o(7716);class r extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends r{static makeCurrent(){(0,i.HT)(new s)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(l=l||document.querySelector("base"),l?l.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,i.Mx)(document.cookie,e)}}let a,l=null;const c=new n.OlP("TRANSITION_ID"),u=[{provide:n.ip1,useFactory:function(e,t,o){return()=>{o.get(n.CZH).donePromise.then(()=>{const o=(0,i.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>o.remove(e))})}},deps:[c,i.K0,n.zs3],multi:!0}];class p{static init(){(0,n.VLi)(new p)}addToWindow(e){n.dqk.getAngularTestability=(t,o=!0)=>{const i=e.findTestabilityInTree(t,o);if(null==i)throw new Error("Could not find testability for element.");return i},n.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),n.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),n.dqk.frameworkStabilizers||(n.dqk.frameworkStabilizers=[]),n.dqk.frameworkStabilizers.push(e=>{const t=n.dqk.getAllAngularTestabilities();let o=t.length,i=!1;const r=function(t){i=i||t,o--,0==o&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:o?(0,i.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let h=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const d=new n.OlP("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}addGlobalEventListener(e,t,o){return this._findPluginFor(t).addGlobalEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const o=this._plugins;for(let i=0;i<o.length;i++){const t=o[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(d),n.LFG(n.R0b))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const n=(0,i.q)().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,o)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,o){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,o.push(t.appendChild(i))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,o)=>{this._addStylesToHost(e,o,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.K0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,i.q)().remove(e)}const C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function b(e,t,o){for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?b(e,n,o):(n=n.replace(w,e),o.push(n))}return o}function x(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let S=(()=>{class e{constructor(e,t,o){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new E(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case n.ifc.Emulated:{let o=this.rendererByCompId.get(t.id);return o||(o=new _(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,o)),o.applyToHost(e),o}case 1:case n.ifc.ShadowDom:return new A(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(f),n.LFG(y),n.LFG(n.AFp))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class E{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(C[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,i){if(i){t=i+":"+t;const n=C[i];n?e.setAttributeNS(n,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const i=C[o];i?e.removeAttributeNS(i,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,i){i&(n.JOm.DashCase|n.JOm.Important)?e.style.setProperty(t,o,i&n.JOm.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&n.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(o)):this.eventManager.addEventListener(e,t,x(o))}}class _ extends E{constructor(e,t,o,i){super(e),this.component=o;const n=b(i+"-"+o.id,o.styles,[]);t.addStyles(n),this.contentAttr="_ngcontent-%COMP%".replace(w,i+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(w,i+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class A extends E{constructor(e,t,o,i){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const n=b(i.id,i.styles,[]);for(let r=0;r<n.length;r++){const e=document.createElement("style");e.textContent=n[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let R=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.K0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const T=["alt","control","meta","shift"],O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},D={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let I=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,n){const r=e.parseEventName(o),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const o=t.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const n=e._normalizeKey(o.pop());let r="";if(T.forEach(e=>{const t=o.indexOf(e);t>-1&&(o.splice(t,1),r+=e+".")}),r+=n,0!=o.length||0===n.length)return null;const s={};return s.domEventName=i,s.fullKey=r,s}static getEventFullKey(e){let t="",o=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&P.hasOwnProperty(t)&&(t=P[t]))}return O[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),T.forEach(i=>{i!=o&&(0,D[i])(e)&&(t+=i+".")}),t+=o,t}static eventCallback(t,o,i){return n=>{e.getEventFullKey(n)===t&&i.runGuarded(()=>o(n))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.K0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:function(){return(0,n.LFG)(k)},token:e,providedIn:"root"}),e})();function N(e){return new k(e.get(i.K0))}let k=(()=>{class e extends M{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case n.q3G.NONE:return t;case n.q3G.HTML:return(0,n.qzn)(t,"HTML")?(0,n.z3N)(t):(0,n.EiD)(this._doc,String(t)).toString();case n.q3G.STYLE:return(0,n.qzn)(t,"Style")?(0,n.z3N)(t):t;case n.q3G.SCRIPT:if((0,n.qzn)(t,"Script"))return(0,n.z3N)(t);throw new Error("unsafe value used in a script context");case n.q3G.URL:return(0,n.yhl)(t),(0,n.qzn)(t,"URL")?(0,n.z3N)(t):(0,n.mCW)(String(t));case n.q3G.RESOURCE_URL:if((0,n.qzn)(t,"ResourceURL"))return(0,n.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,n.JVY)(e)}bypassSecurityTrustStyle(e){return(0,n.L6k)(e)}bypassSecurityTrustScript(e){return(0,n.eBb)(e)}bypassSecurityTrustUrl(e){return(0,n.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,n.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(i.K0))},e.\u0275prov=(0,n.Yz7)({factory:function(){return N((0,n.LFG)(n.gxx))},token:e,providedIn:"root"}),e})();const L=(0,n.eFA)(n._c5,"browser",[{provide:n.Lbi,useValue:i.bD},{provide:n.g9A,useValue:function(){s.makeCurrent(),p.init()},multi:!0},{provide:i.K0,useFactory:function(){return(0,n.RDi)(document),document},deps:[]}]),F=[[],{provide:n.zSh,useValue:"root"},{provide:n.qLn,useFactory:function(){return new n.qLn},deps:[]},{provide:d,useClass:R,multi:!0,deps:[i.K0,n.R0b,n.Lbi]},{provide:d,useClass:I,multi:!0,deps:[i.K0]},[],{provide:S,useClass:S,deps:[f,y,n.AFp]},{provide:n.FYo,useExisting:S},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[i.K0]},{provide:n.dDg,useClass:n.dDg,deps:[n.R0b]},{provide:f,useClass:f,deps:[d,n.R0b]},{provide:i.JF,useClass:h,deps:[]},[]];let G=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:n.AFp,useValue:t.appId},{provide:c,useExisting:n.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(e,12))},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:F,imports:[i.ez,n.hGG]}),e})();"undefined"!=typeof window&&window},9763:(e,t,o)=>{"use strict";o.d(t,{gz:()=>Je,m2:()=>X,F0:()=>bo,yS:()=>xo,Bz:()=>No,lC:()=>Eo});var i=o(8583),n=o(7716);const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var s=o(7574),a=o(4402),l=o(9193);function c(e){return new s.y(t=>{let o;try{o=e()}catch(i){return void t.error(i)}return(o?(0,a.D)(o):(0,l.c)()).subscribe(t)})}var u=o(5917),p=o(6215),h=o(9112),d=o(8071),f=o(2441),g=o(7709),m=o(7393);function y(e,t){let o=!1;return arguments.length>=2&&(o=!0),function(i){return i.lift(new v(e,t,o))}}class v{constructor(e,t,o=!1){this.accumulator=e,this.seed=t,this.hasSeed=o}call(e,t){return t.subscribe(new C(e,this.accumulator,this.seed,this.hasSeed))}}class C extends m.L{constructor(e,t,o,i){super(e),this.accumulator=t,this._seed=o,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let o;try{o=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)}}var w=o(5435),b=o(7108);function x(e){return function(t){return 0===e?(0,l.c)():t.lift(new S(e))}}class S{constructor(e){if(this.total=e,this.total<0)throw new b.W}call(e,t){return t.subscribe(new E(e,this.total))}}class E extends m.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,o=this.total,i=this.count++;t.length<o?t.push(e):t[i%o]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const o=this.count>=this.total?this.total:this.count,i=this.ring;for(let n=0;n<o;n++){const n=t++%o;e.next(i[n])}}e.complete()}}function _(e=T){return t=>t.lift(new A(e))}class A{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new R(e,this.errorFactory))}}class R extends m.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function T(){return new r}function O(e=null){return t=>t.lift(new P(e))}class P{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new D(e,this.defaultValue))}}class D extends m.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var I=o(4487),M=o(5257);function N(e,t){const o=arguments.length>=2;return i=>i.pipe(e?(0,w.h)((t,o)=>e(t,o,i)):I.y,(0,M.q)(1),o?O(t):_(()=>new r))}var k=o(8002),L=o(3190),F=o(9761),G=o(5304),H=o(4612),V=o(9773),W=o(8307),B=o(1307),j=o(8939),z=o(3282);class U{constructor(e,t){this.id=e,this.url=t}}class Y extends U{constructor(e,t,o="imperative",i=null){super(e,t),this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class X extends U{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class q extends U{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z extends U{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K extends U{constructor(e,t,o,i){super(e,t),this.urlAfterRedirects=o,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends U{constructor(e,t,o,i){super(e,t),this.urlAfterRedirects=o,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends U{constructor(e,t,o,i,n){super(e,t),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=n}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ extends U{constructor(e,t,o,i){super(e,t),this.urlAfterRedirects=o,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee extends U{constructor(e,t,o,i){super(e,t),this.urlAfterRedirects=o,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oe{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class re{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const le="primary";class ce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ue(e){return new ce(e)}function pe(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function he(e,t,o){const i=o.path.split("/");if(i.length>e.length)return null;if("full"===o.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const n={};for(let r=0;r<i.length;r++){const t=i[r],o=e[r];if(t.startsWith(":"))n[t.substring(1)]=o;else if(t!==o.path)return null}return{consumed:e.slice(0,i.length),posParams:n}}function de(e,t){const o=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!o||!i||o.length!=i.length)return!1;let n;for(let r=0;r<o.length;r++)if(n=o[r],!fe(e[n],t[n]))return!1;return!0}function fe(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const o=[...e].sort(),i=[...t].sort();return o.every((e,t)=>i[t]===e)}return e===t}function ge(e){return Array.prototype.concat.apply([],e)}function me(e){return e.length>0?e[e.length-1]:null}function ye(e,t){for(const o in e)e.hasOwnProperty(o)&&t(e[o],o)}function ve(e){return(0,n.CqO)(e)?e:(0,n.QGY)(e)?(0,a.D)(Promise.resolve(e)):(0,u.of)(e)}const Ce={exact:function e(t,o,i){if(!Te(t.segments,o.segments))return!1;if(!Ee(t.segments,o.segments,i))return!1;if(t.numberOfChildren!==o.numberOfChildren)return!1;for(const n in o.children){if(!t.children[n])return!1;if(!e(t.children[n],o.children[n],i))return!1}return!0},subset:xe},we={exact:function(e,t){return de(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(o=>fe(e[o],t[o]))},ignored:()=>!0};function be(e,t,o){return Ce[o.paths](e.root,t.root,o.matrixParams)&&we[o.queryParams](e.queryParams,t.queryParams)&&!("exact"===o.fragment&&e.fragment!==t.fragment)}function xe(e,t,o){return Se(e,t,t.segments,o)}function Se(e,t,o,i){if(e.segments.length>o.length){const n=e.segments.slice(0,o.length);return!!Te(n,o)&&!t.hasChildren()&&!!Ee(n,o,i)}if(e.segments.length===o.length){if(!Te(e.segments,o))return!1;if(!Ee(e.segments,o,i))return!1;for(const o in t.children){if(!e.children[o])return!1;if(!xe(e.children[o],t.children[o],i))return!1}return!0}{const n=o.slice(0,e.segments.length),r=o.slice(e.segments.length);return!!Te(e.segments,n)&&!!Ee(e.segments,n,i)&&!!e.children.primary&&Se(e.children.primary,t,r,i)}}function Ee(e,t,o){return t.every((t,i)=>we[o](e[i].parameters,t.parameters))}class _e{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class Ae{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ye(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ie(this)}}class Re{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ue(this.parameters)),this._parameterMap}toString(){return He(this)}}function Te(e,t){return e.length===t.length&&e.every((e,o)=>e.path===t[o].path)}class Oe{}class Pe{parse(e){const t=new ze(e);return new _e(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Me(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(e=>`${ke(t)}=${ke(e)}`).join("&"):`${ke(t)}=${ke(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const De=new Pe;function Ie(e){return e.segments.map(e=>He(e)).join("/")}function Me(e,t){if(!e.hasChildren())return Ie(e);if(t){const t=e.children.primary?Me(e.children.primary,!1):"",o=[];return ye(e.children,(e,t)=>{t!==le&&o.push(`${t}:${Me(e,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function(e,t){let o=[];return ye(e.children,(e,i)=>{i===le&&(o=o.concat(t(e,i)))}),ye(e.children,(e,i)=>{i!==le&&(o=o.concat(t(e,i)))}),o}(e,(t,o)=>o===le?[Me(e.children.primary,!1)]:[`${o}:${Me(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ie(e)}/${t[0]}`:`${Ie(e)}/(${t.join("//")})`}}function Ne(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(e){return Ne(e).replace(/%3B/gi,";")}function Le(e){return Ne(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(e){return decodeURIComponent(e)}function Ge(e){return Fe(e.replace(/\+/g,"%20"))}function He(e){return`${Le(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Le(e)}=${Le(t[e])}`).join("")}`;var t}const Ve=/^[^\/()?;=#]+/;function We(e){const t=e.match(Ve);return t?t[0]:""}const Be=/^[^=?&#]+/,je=/^[^?&#]+/;class ze{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o.primary=new Ae(e,t)),o}parseSegment(){const e=We(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Re(Fe(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=We(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const e=We(this.remaining);e&&(o=e,this.capture(o))}e[Fe(t)]=Fe(o)}parseQueryParam(e){const t=function(e){const t=e.match(Be);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(je);return t?t[0]:""}(this.remaining);e&&(o=e,this.capture(o))}const i=Ge(t),n=Ge(o);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(n)}else e[i]=n}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=We(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let n;o.indexOf(":")>-1?(n=o.substr(0,o.indexOf(":")),this.capture(n),this.capture(":")):e&&(n=le);const r=this.parseChildren();t[n]=1===Object.keys(r).length?r.primary:new Ae([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ue{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ye(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ye(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xe(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Xe(e,this._root).map(e=>e.value)}}function Ye(e,t){if(e===t.value)return t;for(const o of t.children){const t=Ye(e,o);if(t)return t}return null}function Xe(e,t){if(e===t.value)return[t];for(const o of t.children){const i=Xe(e,o);if(i.length)return i.unshift(t),i}return[]}class qe{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ze(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ke extends Ue{constructor(e,t){super(e),this.snapshot=t,ot(this,e)}toString(){return this.snapshot.toString()}}function Qe(e,t){const o=function(e,t){const o=new et([],{},{},"",{},le,t,null,e.root,-1,{});return new tt("",new qe(o,[]))}(e,t),i=new p.X([new Re("",{})]),n=new p.X({}),r=new p.X({}),s=new p.X({}),a=new p.X(""),l=new Je(i,n,s,a,r,le,t,o.root);return l.snapshot=o.root,new Ke(new qe(l,[]),o)}class Je{constructor(e,t,o,i,n,r,s,a){this.url=e,this.params=t,this.queryParams=o,this.fragment=i,this.data=n,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,k.U)(e=>ue(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,k.U)(e=>ue(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $e(e,t="emptyOnly"){const o=e.pathFromRoot;let i=0;if("always"!==t)for(i=o.length-1;i>=1;){const e=o[i],t=o[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(o.slice(i))}class et{constructor(e,t,o,i,n,r,s,a,l,c,u){this.url=e,this.params=t,this.queryParams=o,this.fragment=i,this.data=n,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tt extends Ue{constructor(e,t){super(t),this.url=e,ot(this,t)}toString(){return it(this._root)}}function ot(e,t){t.value._routerState=e,t.children.forEach(t=>ot(e,t))}function it(e){const t=e.children.length>0?` { ${e.children.map(it).join(", ")} } `:"";return`${e.value}${t}`}function nt(e){if(e.snapshot){const t=e.snapshot,o=e._futureSnapshot;e.snapshot=o,de(t.queryParams,o.queryParams)||e.queryParams.next(o.queryParams),t.fragment!==o.fragment&&e.fragment.next(o.fragment),de(t.params,o.params)||e.params.next(o.params),function(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!de(e[o],t[o]))return!1;return!0}(t.url,o.url)||e.url.next(o.url),de(t.data,o.data)||e.data.next(o.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function rt(e,t){var o,i;return de(e.params,t.params)&&Te(o=e.url,i=t.url)&&o.every((e,t)=>de(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||rt(e.parent,t.parent))}function st(e,t,o){if(o&&e.shouldReuseRoute(t.value,o.value.snapshot)){const i=o.value;i._futureSnapshot=t.value;const n=function(e,t,o){return t.children.map(t=>{for(const i of o.children)if(e.shouldReuseRoute(t.value,i.value.snapshot))return st(e,t,i);return st(e,t)})}(e,t,o);return new qe(i,n)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const e=o.route;return at(t,e),e}}const o=new Je(new p.X((i=t.value).url),new p.X(i.params),new p.X(i.queryParams),new p.X(i.fragment),new p.X(i.data),i.outlet,i.component,i),n=t.children.map(t=>st(e,t));return new qe(o,n)}var i}function at(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let o=0;o<e.children.length;++o)at(e.children[o],t.children[o])}function lt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ct(e){return"object"==typeof e&&null!=e&&e.outlets}function ut(e,t,o,i,n){let r={};return i&&ye(i,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new _e(o.root===e?t:pt(o.root,e,t),r,n)}function pt(e,t,o){const i={};return ye(e.children,(e,n)=>{i[n]=e===t?o:pt(e,t,o)}),new Ae(e.segments,i)}class ht{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&lt(o[0]))throw new Error("Root segment cannot have matrix parameters");const i=o.find(ct);if(i&&i!==me(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function ft(e,t,o){if(e||(e=new Ae([],{})),0===e.segments.length&&e.hasChildren())return gt(e,t,o);const i=function(e,t,o){let i=0,n=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(i>=o.length)return r;const t=e.segments[n],s=o[i];if(ct(s))break;const a=`${s}`,l=i<o.length-1?o[i+1]:null;if(n>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Ct(a,l,t))return r;i+=2}else{if(!Ct(a,{},t))return r;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(e,t,o),n=o.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Ae(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new Ae(e.segments.slice(i.pathIndex),e.children),gt(t,0,n)}return i.match&&0===n.length?new Ae(e.segments,{}):i.match&&!e.hasChildren()?mt(e,t,o):i.match?gt(e,0,n):mt(e,t,o)}function gt(e,t,o){if(0===o.length)return new Ae(e.segments,{});{const i=function(e){return ct(e[0])?e[0].outlets:{[le]:e}}(o),n={};return ye(i,(o,i)=>{"string"==typeof o&&(o=[o]),null!==o&&(n[i]=ft(e.children[i],t,o))}),ye(e.children,(e,t)=>{void 0===i[t]&&(n[t]=e)}),new Ae(e.segments,n)}}function mt(e,t,o){const i=e.segments.slice(0,t);let n=0;for(;n<o.length;){const r=o[n];if(ct(r)){const e=yt(r.outlets);return new Ae(i,e)}if(0===n&&lt(o[0])){i.push(new Re(e.segments[t].path,vt(o[0]))),n++;continue}const s=ct(r)?r.outlets.primary:`${r}`,a=n<o.length-1?o[n+1]:null;s&&a&&lt(a)?(i.push(new Re(s,vt(a))),n+=2):(i.push(new Re(s,{})),n++)}return new Ae(i,{})}function yt(e){const t={};return ye(e,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=mt(new Ae([],{}),0,e))}),t}function vt(e){const t={};return ye(e,(e,o)=>t[o]=`${e}`),t}function Ct(e,t,o){return e==o.path&&de(t,o.parameters)}class wt{constructor(e,t,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=i}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),nt(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const i=Ze(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],o),delete i[t]}),ye(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,o)})}deactivateRoutes(e,t,o){const i=e.value,n=t?t.value:null;if(i===n)if(i.component){const n=o.getContext(i.outlet);n&&this.deactivateChildRoutes(e,t,n.children)}else this.deactivateChildRoutes(e,t,o);else n&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet);if(o&&o.outlet){const t=o.outlet.detach(),i=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),i=o&&e.value.component?o.children:t,n=Ze(e);for(const r of Object.keys(n))this.deactivateRouteAndItsChildren(n[r],i);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const i=Ze(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],o),this.forwardEvent(new se(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ne(e.value.snapshot))}activateRoutes(e,t,o){const i=e.value,n=t?t.value:null;if(nt(i),i===n)if(i.component){const n=o.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,n.children)}else this.activateChildRoutes(e,t,o);else if(i.component){const t=o.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),bt(e.route)}else{const o=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),n=o?o.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=n,t.outlet&&t.outlet.activateWith(i,n),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,o)}}function bt(e){nt(e.value),e.children.forEach(bt)}class xt{constructor(e,t){this.routes=e,this.module=t}}function St(e){return"function"==typeof e}function Et(e){return e instanceof _e}const _t=Symbol("INITIAL_VALUE");function At(){return(0,L.w)(e=>(0,h.aj)(e.map(e=>e.pipe((0,M.q)(1),(0,F.O)(_t)))).pipe(y((e,t)=>{let o=!1;return t.reduce((e,i,n)=>{if(e!==_t)return e;if(i===_t&&(o=!0),!o){if(!1===i)return i;if(n===t.length-1||Et(i))return i}return e},e)},_t),(0,w.h)(e=>e!==_t),(0,k.U)(e=>Et(e)?e:!0===e),(0,M.q)(1)))}let Rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&n._UZ(0,"router-outlet")},directives:function(){return[Eo]},encapsulation:2}),e})();function Tt(e,t=""){for(let o=0;o<e.length;o++){const i=e[o];Ot(i,Pt(t,i))}}function Ot(e,t){e.children&&Tt(e.children,t)}function Pt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Dt(e){const t=e.children&&e.children.map(Dt),o=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!o.component&&(t||o.loadChildren)&&o.outlet&&o.outlet!==le&&(o.component=Rt),o}function It(e){return e.outlet||le}function Mt(e,t){const o=e.filter(e=>It(e)===t);return o.push(...e.filter(e=>It(e)!==t)),o}const Nt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function kt(e,t,o){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||o.length>0)?Object.assign({},Nt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const n=(t.matcher||he)(o,e,t);if(!n)return Object.assign({},Nt);const r={};ye(n.posParams,(e,t)=>{r[t]=e.path});const s=n.consumed.length>0?Object.assign(Object.assign({},r),n.consumed[n.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:s,positionalParamSegments:null!==(i=n.posParams)&&void 0!==i?i:{}}}function Lt(e,t,o,i,n="corrected"){if(o.length>0&&function(e,t,o){return o.some(o=>Ft(e,t,o)&&It(o)!==le)}(e,o,i)){const n=new Ae(t,function(e,t,o,i){const n={};n.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const r of o)if(""===r.path&&It(r)!==le){const o=new Ae([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,n[It(r)]=o}return n}(e,t,i,new Ae(o,e.children)));return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:[]}}if(0===o.length&&function(e,t,o){return o.some(o=>Ft(e,t,o))}(e,o,i)){const r=new Ae(e.segments,function(e,t,o,i,n,r){const s={};for(const a of i)if(Ft(e,o,a)&&!n[It(a)]){const o=new Ae([],{});o._sourceSegment=e,o._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[It(a)]=o}return Object.assign(Object.assign({},n),s)}(e,t,o,i,e.children,n));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:o}}const r=new Ae(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:o}}function Ft(e,t,o){return(!(e.hasChildren()||t.length>0)||"full"!==o.pathMatch)&&""===o.path}function Gt(e,t,o,i){return!!(It(e)===i||i!==le&&Ft(t,o,e))&&("**"===e.path||kt(t,e,o).matched)}function Ht(e,t,o){return 0===t.length&&!e.children[o]}class Vt{constructor(e){this.segmentGroup=e||null}}class Wt{constructor(e){this.urlTree=e}}function Bt(e){return new s.y(t=>t.error(new Vt(e)))}function jt(e){return new s.y(t=>t.error(new Wt(e)))}function zt(e){return new s.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Ut{constructor(e,t,o,i,r){this.configLoader=t,this.urlSerializer=o,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(n.h0i)}apply(){const e=Lt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,le).pipe((0,k.U)(e=>this.createUrlTree(Yt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,G.K)(e=>{if(e instanceof Wt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Vt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,le).pipe((0,k.U)(t=>this.createUrlTree(Yt(t),e.queryParams,e.fragment))).pipe((0,G.K)(e=>{if(e instanceof Vt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const i=e.segments.length>0?new Ae([],{[le]:e}):e;return new _e(i,t,o)}expandSegmentGroup(e,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe((0,k.U)(e=>new Ae([],e))):this.expandSegment(e,o,t,o.segments,i,!0)}expandChildren(e,t,o){const i=[];for(const n of Object.keys(o.children))"primary"===n?i.unshift(n):i.push(n);return(0,a.D)(i).pipe((0,H.b)(i=>{const n=o.children[i],r=Mt(t,i);return this.expandSegmentGroup(e,r,n,i).pipe((0,k.U)(e=>({segment:e,outlet:i})))}),y((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const o=arguments.length>=2;return i=>i.pipe(e?(0,w.h)((t,o)=>e(t,o,i)):I.y,x(1),o?O(t):_(()=>new r))}())}expandSegment(e,t,o,i,n,s){return(0,a.D)(o).pipe((0,H.b)(r=>this.expandSegmentAgainstRoute(e,t,o,r,i,n,s).pipe((0,G.K)(e=>{if(e instanceof Vt)return(0,u.of)(null);throw e}))),N(e=>!!e),(0,G.K)((e,o)=>{if(e instanceof r||"EmptyError"===e.name){if(Ht(t,i,n))return(0,u.of)(new Ae([],{}));throw new Vt(t)}throw e}))}expandSegmentAgainstRoute(e,t,o,i,n,r,s){return Gt(i,t,n,r)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,n,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,i,n,r):Bt(t):Bt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,i,n,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,i,n,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,i){const n=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?jt(n):this.lineralizeSegments(o,n).pipe((0,V.zg)(o=>{const n=new Ae(o,{});return this.expandSegment(e,n,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,i,n,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=kt(t,i,n);if(!s)return Bt(t);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?jt(u):this.lineralizeSegments(i,u).pipe((0,V.zg)(i=>this.expandSegment(e,t,o,i.concat(n.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,o,i,n){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,u.of)(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe((0,k.U)(e=>(o._loadedConfig=e,new Ae(i,{})))):(0,u.of)(new Ae(i,{}));const{matched:r,consumedSegments:s,lastChild:a}=kt(t,o,i);if(!r)return Bt(t);const l=i.slice(a);return this.getChildConfig(e,o,i).pipe((0,V.zg)(e=>{const i=e.module,r=e.routes,{segmentGroup:a,slicedSegments:c}=Lt(t,s,l,r),p=new Ae(a.segments,a.children);if(0===c.length&&p.hasChildren())return this.expandChildren(i,r,p).pipe((0,k.U)(e=>new Ae(s,e)));if(0===r.length&&0===c.length)return(0,u.of)(new Ae(s,{}));const h=It(o)===n;return this.expandSegment(i,p,r,c,h?le:n,!0).pipe((0,k.U)(e=>new Ae(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,o){return t.children?(0,u.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,u.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe((0,V.zg)(o=>o?this.configLoader.load(e.injector,t).pipe((0,k.U)(e=>(t._loadedConfig=e,e))):function(e){return new s.y(t=>t.error(pe(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,u.of)(new xt([],e))}runCanLoadGuards(e,t,o){const i=t.canLoad;if(!i||0===i.length)return(0,u.of)(!0);const n=i.map(i=>{const n=e.get(i);let r;if(function(e){return e&&St(e.canLoad)}(n))r=n.canLoad(t,o);else{if(!St(n))throw new Error("Invalid CanLoad guard");r=n(t,o)}return ve(r)});return(0,u.of)(n).pipe(At(),(0,W.b)(e=>{if(!Et(e))return;const t=pe(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,k.U)(e=>!0===e))}lineralizeSegments(e,t){let o=[],i=t.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return(0,u.of)(o);if(i.numberOfChildren>1||!i.children.primary)return zt(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,i){const n=this.createSegmentGroup(e,t.root,o,i);return new _e(n,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return ye(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const n=e.substring(1);o[i]=t[n]}else o[i]=e}),o}createSegmentGroup(e,t,o,i){const n=this.createSegments(e,t.segments,o,i);let r={};return ye(t.children,(t,n)=>{r[n]=this.createSegmentGroup(e,t,o,i)}),new Ae(n,r)}createSegments(e,t,o,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,o))}findPosParam(e,t,o){const i=o[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let o=0;for(const i of t){if(i.path===e.path)return t.splice(o),i;o++}return e}}function Yt(e){const t={};for(const o of Object.keys(e.children)){const i=Yt(e.children[o]);(i.segments.length>0||i.hasChildren())&&(t[o]=i)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ae(e.segments.concat(t.segments),t.children)}return e}(new Ae(e.segments,t))}class Xt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qt{constructor(e,t){this.component=e,this.route=t}}function Zt(e,t,o){const i=e._root;return Qt(i,t?t._root:null,o,[i.value])}function Kt(e,t,o){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:o).get(e)}function Qt(e,t,o,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const r=Ze(t);return e.children.forEach(e=>{!function(e,t,o,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,s=t?t.value:null,a=o?o.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function(e,t,o){if("function"==typeof o)return o(e,t);switch(o){case"pathParamsChange":return!Te(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Te(e.url,t.url)||!de(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rt(e,t)||!de(e.queryParams,t.queryParams);case"paramsChange":default:return!rt(e,t)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new Xt(i)):(r.data=s.data,r._resolvedData=s._resolvedData),Qt(e,t,r.component?a?a.children:null:o,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new qt(a.outlet.component,s))}else s&&Jt(t,a,n),n.canActivateChecks.push(new Xt(i)),Qt(e,null,r.component?a?a.children:null:o,i,n)}(e,r[e.value.outlet],o,i.concat([e.value]),n),delete r[e.value.outlet]}),ye(r,(e,t)=>Jt(e,o.getContext(t),n)),n}function Jt(e,t,o){const i=Ze(e),n=e.value;ye(i,(e,i)=>{Jt(e,n.component?t?t.children.getContext(i):null:t,o)}),o.canDeactivateChecks.push(new qt(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}class $t{}function eo(e){return new s.y(t=>t.error(e))}class to{constructor(e,t,o,i,n,r){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=n,this.relativeLinkResolution=r}recognize(){const e=Lt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,le);if(null===t)return null;const o=new et([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qe(o,t),n=new tt(this.url,i);return this.inheritParamsAndData(n._root),n}inheritParamsAndData(e){const t=e.value,o=$e(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const n of Object.keys(t.children)){const i=t.children[n],r=Mt(e,n),s=this.processSegmentGroup(r,i,n);if(null===s)return null;o.push(...s)}const i=io(o);return i.sort((e,t)=>e.value.outlet===le?-1:t.value.outlet===le?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,o,i){for(const n of e){const e=this.processSegmentAgainstRoute(n,t,o,i);if(null!==e)return e}return Ht(t,o,i)?[]:null}processSegmentAgainstRoute(e,t,o,i){if(e.redirectTo||!Gt(e,t,o,i))return null;let n,r=[],s=[];if("**"===e.path){const i=o.length>0?me(o).parameters:{};n=new et(o,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,so(e),It(e),e.component,e,no(t),ro(t)+o.length,ao(e))}else{const i=kt(t,e,o);if(!i.matched)return null;r=i.consumedSegments,s=o.slice(i.lastChild),n=new et(r,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,so(e),It(e),e.component,e,no(t),ro(t)+r.length,ao(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Lt(t,r,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new qe(n,e)]}if(0===a.length&&0===c.length)return[new qe(n,[])];const u=It(e)===i,p=this.processSegment(a,l,c,u?le:i);return null===p?null:[new qe(n,p)]}}function oo(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function io(e){const t=[],o=new Set;for(const i of e){if(!oo(i)){t.push(i);continue}const e=t.find(e=>i.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...i.children),o.add(e)):t.push(i)}for(const i of o){const e=io(i.children);t.push(new qe(i.value,e))}return t.filter(e=>!o.has(e))}function no(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ro(e){let t=e,o=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,o+=t._segmentIndexShift?t._segmentIndexShift:0;return o-1}function so(e){return e.data||{}}function ao(e){return e.resolve||{}}function lo(e){return(0,L.w)(t=>{const o=e(t);return o?(0,a.D)(o).pipe((0,k.U)(()=>t)):(0,u.of)(t)})}class co extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const uo=new n.OlP("ROUTES");class po{constructor(e,t,o,i){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,k.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=o.create(e);return new xt(ge(i.injector.get(uo,void 0,n.XFs.Self|n.XFs.Optional)).map(Dt),i)}),(0,G.K)(e=>{throw t._loader$=void 0,e}));return t._loader$=new f.c(o,()=>new g.xQ).pipe((0,B.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,a.D)(this.loader.load(e)):ve(e()).pipe((0,V.zg)(e=>e instanceof n.YKP?(0,u.of)(e):(0,a.D)(this.compiler.compileModuleAsync(e))))}}class ho{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fo,this.attachRef=null}}class fo{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ho,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class go{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mo(e){throw e}function yo(e,t,o){return t.parse("/")}function vo(e,t){return(0,u.of)(null)}const Co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bo=(()=>{class e{constructor(e,t,o,i,r,s,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=o,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new g.xQ,this.errorHandler=mo,this.malformedUriErrorHandler=yo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vo,afterPreactivation:vo},this.urlHandlingStrategy=new go,this.routeReuseStrategy=new co,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(n.h0i),this.console=r.get(n.c2e);const c=r.get(n.R0b);this.isNgZoneEnabled=c instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new _e(new Ae([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new po(s,a,e=>this.triggerEvent(new te(e)),e=>this.triggerEvent(new oe(e))),this.routerState=Qe(this.currentUrlTree,this.rootComponentType),this.transitions=new p.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,w.h)(e=>0!==e.id),(0,k.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,L.w)(e=>{let o=!1,i=!1;return(0,u.of)(e).pipe((0,W.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,L.w)(e=>{const o=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||o)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,u.of)(e).pipe((0,L.w)(e=>{const o=this.transitions.getValue();return t.next(new Y(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),o!==this.transitions.getValue()?l.E:Promise.resolve(e)}),(i=this.ngModule.injector,n=this.configLoader,r=this.urlSerializer,s=this.config,(0,L.w)(e=>function(e,t,o,i,n){return new Ut(e,t,o,i,n).apply()}(i,n,r,e.extractedUrl,s).pipe((0,k.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,W.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,o,i,n){return(0,V.zg)(r=>function(e,t,o,i,n="emptyOnly",r="legacy"){try{const s=new to(e,t,o,i,n,r).recognize();return null===s?eo(new $t):(0,u.of)(s)}catch(s){return eo(s)}}(e,t,r.urlAfterRedirects,o(r.urlAfterRedirects),i,n).pipe((0,k.U)(e=>Object.assign(Object.assign({},r),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,W.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const o=new K(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(o)}));var i,n,r,s;if(o&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:o,extractedUrl:i,source:n,restoredState:r,extras:s}=e,a=new Y(o,this.serializeUrl(i),n,r);t.next(a);const l=Qe(i,this.rootComponentType).snapshot;return(0,u.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),l.E}),lo(e=>{const{targetSnapshot:t,id:o,extractedUrl:i,rawUrl:n,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:o,appliedUrlTree:i,rawUrlTree:n,skipLocationChange:!!r,replaceUrl:!!s})}),(0,W.b)(e=>{const t=new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,k.U)(e=>Object.assign(Object.assign({},e),{guards:Zt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,V.zg)(o=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:r,canDeactivateChecks:s}}=o;return 0===s.length&&0===r.length?(0,u.of)(Object.assign(Object.assign({},o),{guardsResult:!0})):function(e,t,o,i){return(0,a.D)(e).pipe((0,V.zg)(e=>function(e,t,o,i,n){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||0===r.length)return(0,u.of)(!0);const s=r.map(r=>{const s=Kt(r,t,n);let a;if(function(e){return e&&St(e.canDeactivate)}(s))a=ve(s.canDeactivate(e,t,o,i));else{if(!St(s))throw new Error("Invalid CanDeactivate guard");a=ve(s(e,t,o,i))}return a.pipe(N())});return(0,u.of)(s).pipe(At())}(e.component,e.route,o,t,i)),N(e=>!0!==e,!0))}(s,i,n,e).pipe((0,V.zg)(o=>o&&"boolean"==typeof o?function(e,t,o,i){return(0,a.D)(t).pipe((0,H.b)(t=>(0,d.z)(function(e,t){return null!==e&&t&&t(new ie(e)),(0,u.of)(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new re(e)),(0,u.of)(!0)}(t.route,i),function(e,t,o){const i=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>c(()=>{const n=t.guards.map(n=>{const r=Kt(n,t.node,o);let s;if(function(e){return e&&St(e.canActivateChild)}(r))s=ve(r.canActivateChild(i,e));else{if(!St(r))throw new Error("Invalid CanActivateChild guard");s=ve(r(i,e))}return s.pipe(N())});return(0,u.of)(n).pipe(At())}));return(0,u.of)(n).pipe(At())}(e,t.path,o),function(e,t,o){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,u.of)(!0);const n=i.map(i=>c(()=>{const n=Kt(i,t,o);let r;if(function(e){return e&&St(e.canActivate)}(n))r=ve(n.canActivate(t,e));else{if(!St(n))throw new Error("Invalid CanActivate guard");r=ve(n(t,e))}return r.pipe(N())}));return(0,u.of)(n).pipe(At())}(e,t.route,o))),N(e=>!0!==e,!0))}(i,r,e,t):(0,u.of)(o)),(0,k.U)(e=>Object.assign(Object.assign({},o),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,W.b)(e=>{if(Et(e.guardsResult)){const t=pe(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new J(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,w.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),lo(e=>{if(e.guards.canActivateChecks.length)return(0,u.of)(e).pipe((0,W.b)(e=>{const t=new $(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,L.w)(e=>{let t=!1;return(0,u.of)(e).pipe((o=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,V.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return(0,u.of)(e);let r=0;return(0,a.D)(n).pipe((0,H.b)(e=>function(e,t,o,i){return function(e,t,o,i){const n=Object.keys(e);if(0===n.length)return(0,u.of)({});const r={};return(0,a.D)(n).pipe((0,V.zg)(n=>function(e,t,o,i){const n=Kt(e,t,i);return ve(n.resolve?n.resolve(t,o):n(t,o))}(e[n],t,o,i).pipe((0,W.b)(e=>{r[n]=e}))),x(1),(0,V.zg)(()=>Object.keys(r).length===n.length?(0,u.of)(r):l.E))}(e._resolve,e,t,i).pipe((0,k.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),$e(e,o).resolve),null)))}(e.route,t,o,i)),(0,W.b)(()=>r++),x(1),(0,V.zg)(t=>r===n.length?(0,u.of)(e):l.E))})),(0,W.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var o,i}),(0,W.b)(e=>{const t=new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),lo(e=>{const{targetSnapshot:t,id:o,extractedUrl:i,rawUrl:n,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:o,appliedUrlTree:i,rawUrlTree:n,skipLocationChange:!!r,replaceUrl:!!s})}),(0,k.U)(e=>{const t=function(e,t,o){const i=st(e,t._root,o?o._root:void 0);return new Ke(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,W.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(n=this.rootContexts,r=this.routeReuseStrategy,s=e=>this.triggerEvent(e),(0,k.U)(e=>(new wt(r,e.targetRouterState,e.currentRouterState,s).activate(n),e))),(0,W.b)({next(){o=!0},complete(){o=!0}}),(0,j.x)(()=>{if(!o&&!i){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),(0,G.K)(o=>{if(i=!0,(n=o)&&n.ngNavigationCancelingError){const i=Et(o.url);i||(this.navigated=!0,this.restoreHistory(e,!0));const n=new q(e.id,this.serializeUrl(e.extractedUrl),o.message);t.next(n),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const i=new Z(e.id,this.serializeUrl(e.extractedUrl),o);t.next(i);try{e.resolve(this.errorHandler(o))}catch(r){e.reject(r)}}var n;return l.E}));var n,r,s}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:o,urlTree:i}=t,n={replaceUrl:!0};if(o){const e=Object.assign({},o);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(n.state=e)}this.scheduleNavigation(i,e,o,n)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const o=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&o&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Tt(e),this.config=e.map(Dt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:o,queryParams:i,fragment:n,queryParamsHandling:r,preserveFragment:s}=t,a=o||this.routerState.root,l=s?this.currentUrlTree.fragment:n;let c=null;switch(r){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,o,i,n){if(0===o.length)return ut(t.root,t.root,t,i,n);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ht(!0,0,e);let t=0,o=!1;const i=e.reduce((e,i,n)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return ye(i.outlets,(e,o)=>{t[o]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===n?(i.split("/").forEach((i,n)=>{0==n&&"."===i||(0==n&&""===i?o=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new ht(o,t,i)}(o);if(r.toRoot())return ut(t.root,new Ae([],{}),t,i,n);const s=function(e,t,o){if(e.isAbsolute)return new dt(t.root,!0,0);if(-1===o.snapshot._lastPathIndex){const e=o.snapshot._urlSegment;return new dt(e,e===t.root,0)}const i=lt(e.commands[0])?0:1;return function(e,t,o){let i=e,n=t,r=o;for(;r>n;){if(r-=n,i=i.parent,!i)throw new Error("Invalid number of '../'");n=i.segments.length}return new dt(i,!1,n-r)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),a=s.processChildren?gt(s.segmentGroup,s.index,r.commands):ft(s.segmentGroup,s.index,r.commands);return ut(s.segmentGroup,a,t,i,n)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const o=Et(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const o=e[t];if(null==o)throw new Error(`The requested path contains ${o} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(o){t=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return t}isActive(e,t){let o;if(o=!0===t?Object.assign({},Co):!1===t?Object.assign({},wo):t,Et(e))return be(this.currentUrlTree,e,o);const i=this.parseUrl(e);return be(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((t,o)=>{const i=e[o];return null!=i&&(t[o]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new X(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,o,i,n){var r,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,p,h;n?(u=n.resolve,p=n.reject,h=n.promise):h=new Promise((e,t)=>{u=e,p=t});const d=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),f=o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(r=this.browserPageId)&&void 0!==r?r:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):f=0,this.setTransition({id:d,targetPageId:f,source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:u,reject:p,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const o=this.urlSerializer.serialize(e),i=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,t=!1){var o,i;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===t?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const o=new q(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.DyG),n.LFG(Oe),n.LFG(fo),n.LFG(i.Ye),n.LFG(n.zs3),n.LFG(n.v3s),n.LFG(n.Sil),n.LFG(void 0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),xo=(()=>{class e{constructor(e,t,o){this.router=e,this.route=t,this.locationStrategy=o,this.commands=[],this.onChanges=new g.xQ,this.subscription=e.events.subscribe(e=>{e instanceof X&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,o,i,n){if(0!==e||t||o||i||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:So(this.skipLocationChange),replaceUrl:So(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:So(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(bo),n.Y36(Je),n.Y36(i.S$))},e.\u0275dir=n.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&n.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(n.Ikx("href",t.href,n.LSH),n.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[n.TTD]}),e})();function So(e){return""===e||!!e}let Eo=(()=>{class e{constructor(e,t,o,i,r){this.parentContexts=e,this.location=t,this.resolver=o,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.name=i||le,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,n=new _o(e,i,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,n),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(fo),n.Y36(n.s_b),n.Y36(n._Vd),n.$8M("name"),n.Y36(n.sBO))},e.\u0275dir=n.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class _o{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===Je?this.route:e===fo?this.childContexts:this.parent.get(e,t)}}class Ao{}class Ro{preload(e,t){return(0,u.of)(null)}}let To=(()=>{class e{constructor(e,t,o,i,n){this.router=e,this.injector=i,this.preloadingStrategy=n,this.loader=new po(t,o,t=>e.triggerEvent(new te(t)),t=>e.triggerEvent(new oe(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,w.h)(e=>e instanceof X),(0,H.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(n.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const o=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;o.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?o.push(this.preloadConfig(e,i)):i.children&&o.push(this.processRoutes(e,i.children));return(0,a.D)(o).pipe((0,z.J)(),(0,k.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,u.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,V.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(bo),n.LFG(n.v3s),n.LFG(n.Sil),n.LFG(n.zs3),n.LFG(Ao))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Oo=(()=>{class e{constructor(e,t,o={}){this.router=e,this.viewportScroller=t,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof X&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ae&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new ae(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(bo),n.LFG(i.EM),n.LFG(void 0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const Po=new n.OlP("ROUTER_CONFIGURATION"),Do=new n.OlP("ROUTER_FORROOT_GUARD"),Io=[i.Ye,{provide:Oe,useClass:Pe},{provide:bo,useFactory:function(e,t,o,i,n,r,s,a={},l,c){const u=new bo(null,e,t,o,i,n,r,ge(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,o;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(o=console.groupEnd)||void 0===o||o.call(console)}),u},deps:[Oe,fo,i.Ye,n.zs3,n.v3s,n.Sil,uo,Po,[class{},new n.FiY],[class{},new n.FiY]]},fo,{provide:Je,useFactory:function(e){return e.routerState.root},deps:[bo]},{provide:n.v3s,useClass:n.EAV},To,Ro,class{preload(e,t){return t().pipe((0,G.K)(()=>(0,u.of)(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function Mo(){return new n.PXZ("Router",bo)}let No=(()=>{class e{constructor(e,t){}static forRoot(t,o){return{ngModule:e,providers:[Io,Go(t),{provide:Do,useFactory:Fo,deps:[[bo,new n.FiY,new n.tp0]]},{provide:Po,useValue:o||{}},{provide:i.S$,useFactory:Lo,deps:[i.lw,[new n.tBr(i.mr),new n.FiY],Po]},{provide:Oo,useFactory:ko,deps:[bo,i.EM,Po]},{provide:Ao,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Ro},{provide:n.PXZ,multi:!0,useFactory:Mo},[Ho,{provide:n.ip1,multi:!0,useFactory:Vo,deps:[Ho]},{provide:Bo,useFactory:Wo,deps:[Ho]},{provide:n.tb,multi:!0,useExisting:Bo}]]}}static forChild(t){return{ngModule:e,providers:[Go(t)]}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Do,8),n.LFG(bo,8))},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})();function ko(e,t,o){return o.scrollOffset&&t.setOffset(o.scrollOffset),new Oo(e,t,o)}function Lo(e,t,o={}){return o.useHash?new i.Do(e,t):new i.b0(e,t)}function Fo(e){return"guarded"}function Go(e){return[{provide:n.deG,multi:!0,useValue:e},{provide:uo,multi:!0,useValue:e}]}let Ho=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new g.xQ}appInitializer(){return this.injector.get(i.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),o=this.injector.get(bo),i=this.injector.get(Po);return"disabled"===i.initialNavigation?(o.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?(0,u.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),o.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Po),o=this.injector.get(To),i=this.injector.get(Oo),r=this.injector.get(bo),s=this.injector.get(n.z2F);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||r.initialNavigation(),o.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.zs3))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function Vo(e){return e.appInitializer.bind(e)}function Wo(e){return e.bootstrapListener.bind(e)}const Bo=new n.OlP("Router Initializer")},3300:(e,t,o)=>{"use strict";var i;function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){u(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,i=h(e);if(t){var n=h(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return f(this,o)}}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}var C=function(){function e(){a(this,e)}return c(e,[{key:"shadeRGBColor",value:function(e,t){var o=t.split(","),i=e<0?0:255,n=e<0?-1*e:e,r=parseInt(o[0].slice(4),10),s=parseInt(o[1],10),a=parseInt(o[2],10);return"rgb("+(Math.round((i-r)*n)+r)+","+(Math.round((i-s)*n)+s)+","+(Math.round((i-a)*n)+a)+")"}},{key:"shadeHexColor",value:function(e,t){var o=parseInt(t.slice(1),16),i=e<0?0:255,n=e<0?-1*e:e,r=o>>16,s=o>>8&255,a=255&o;return"#"+(16777216+65536*(Math.round((i-r)*n)+r)+256*(Math.round((i-s)*n)+s)+(Math.round((i-a)*n)+a)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,o){return e.isColorHex(o)?this.shadeHexColor(t,o):this.shadeRGBColor(t,o)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===s(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,o=[];for(t=0;t<e.length;t++)o[t]=e[t];return o}},{key:"extend",value:function(e,t){var o=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(n){o.isObject(t[n])&&n in e?i[n]=o.extend(e[n],t[n]):Object.assign(i,u({},n,t[n]))}),i}},{key:"extendArray",value:function(t,o){var i=[];return t.map(function(t){i.push(e.extend(o,t))}),i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var o=[],i=0;i<t.length;i++)o[i]=this.clone(t[i]);return o}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===s(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.clone(t[r]));return n}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var o="",i=e<0?"-":"",n=t[0].replace(".",""),r=Number(t[1])+1;if(r<0){for(o=i+"0.";r++;)o+="0";return o+n.replace(/^-/,"")}for(r-=n.length;r--;)o+="0";return n+o}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),o=e.clientHeight,i=e.clientWidth;return o-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(e,t){return Array.isArray(t)&&(t=t.reduce(function(e,t){return e.length>t.length?e:t})),e.length>t.length?e:t},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var o=e.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var i=0;i<o.length;i++)o[i]=parseInt(1===o[i].length?o[i]+o[i]:o[i],16);return void 0!==t&&o.push(t),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var o=[],i=2*Math.PI/t,n=0;n<t;n++){var r={};r.x=e*Math.sin(n*i),r.y=-e*Math.cos(n*i),o.push(r)}return o}},{key:"polarToCartesian",value:function(e,t,o,i){var n=(i-90)*Math.PI/180;return{x:e+o*Math.cos(n),y:t+o*Math.sin(n)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=e.toString().slice();return o.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,o){if(o>=e.length)for(var i=o-e.length+1;i--;)e.push(void 0);return e.splice(o,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e.style.key=t[o])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}}]),e}(),w=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return c(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1};break;default:e="<>"}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,o,i){e.attr(t).animate(i).attr(o)}},{key:"animateMarker",value:function(e,t,o,i,n,r){t||(t=0),e.attr({r:t,width:t,height:t}).animate(i,n).attr({r:o,width:o.width,height:o.height}).afterAll(function(){r()})}},{key:"animateCircle",value:function(e,t,o,i,n){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(i,n).attr({r:o.r,cx:o.cx,cy:o.cy})}},{key:"animateRect",value:function(e,t,o,i,n){e.attr(t).animate(i).attr(o).afterAll(function(){return n()})}},{key:"animatePathsGradually",value:function(e){var t=this.w,o=0;t.config.chart.animations.animateGradually.enabled&&(o=t.config.chart.animations.animateGradually.delay),t.config.chart.animations.dynamicAnimation.enabled&&t.globals.dataChanged&&"bar"!==t.config.chart.type&&(o=0),this.morphSVG(e.el,e.realIndex,e.j,"line"!==t.config.chart.type||t.globals.comboCharts?e.fill:"stroke",e.pathFrom,e.pathTo,e.speed,e.delay*o)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){e.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,o,i,n,r,s,a){var l=this,c=this.w;n||(n=e.attr("pathFrom")),r||(r=e.attr("pathTo"));var u=function(e){return"radar"===c.config.chart.type&&(s=1),"M 0 ".concat(c.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=u()),(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=u()),c.globals.shouldAnimate||(s=1),e.plot(n).animate(1,c.globals.easing,a).plot(n).animate(s,c.globals.easing,a).plot(r).afterAll(function(){C.isNumber(o)?o===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==i&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()})}}]),e}(),b=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getDefaultFilter",value:function(e,t){var o=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==o.config.states.normal.filter?this.applyFilter(e,t,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(e,o.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var o=this.w;o.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,o.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,o){var i=this,n=this.w,r=o.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var o=n.config.chart.dropShadow;(o.enabled?i.addShadow(e,t,o):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:r}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,o){var i=this,n=this.w,r=o.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var o=n.config.chart.dropShadow;(o.enabled?i.addShadow(e,t,o):e).componentTransfer({rgb:{type:"linear",slope:r}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:i});break;case"darken":this.addDarkenFilter(e,t,{intensity:i})}}},{key:"addShadow",value:function(e,t,o){var i=o.blur,n=o.top,r=o.left,s=o.color,a=o.opacity,l=e.flood(Array.isArray(s)?s[t]:s,a).composite(e.sourceAlpha,"in").offset(r,n).gaussianBlur(i).merge(e.source);return e.blend(e.source,l)}},{key:"dropShadow",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.top,n=t.left,r=t.blur,s=t.color,a=t.opacity,l=t.noUserSpaceOnUse,c=this.w;return e.unfilter(!0),C.isIE()&&"radialBar"===c.config.chart.type||(s=Array.isArray(s)?s[o]:s,e.filter(function(e){var t;t=C.isSafari()||C.isFirefox()||C.isIE()?e.flood(s,a).composite(e.sourceAlpha,"in").offset(n,i).gaussianBlur(r):e.flood(s,a).composite(e.sourceAlpha,"in").offset(n,i).gaussianBlur(r).merge(e.source),e.blend(e.source,t)}),l||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,o){var i=this.w;if(void 0!==i.globals.selectedDataPoints[t]&&i.globals.selectedDataPoints[t].indexOf(o)>-1){e.node.setAttribute("selected",!0);var n=i.config.states.active.filter;"none"!==n&&this.applyFilter(e,t,n.type,n.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var o in t)t.hasOwnProperty(o)&&e.setAttribute(o,t[o])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),x=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawLine",value:function(e,t,o,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:e,y1:t,x2:o,y2:i,stroke:n,"stroke-dasharray":r,"stroke-width":s,"stroke-linecap":a});return c}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=this.w,p=u.globals.dom.Paper.rect();return p.attr({x:e,y:t,width:o>0?o:0,height:i>0?i:0,rx:n,ry:n,opacity:s,"stroke-width":null!==a?a:0,stroke:null!==l?l:"none","stroke-dasharray":c}),p.node.setAttribute("fill",r),p}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",n=this.w,r=n.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":o});return r}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.w;e<0&&(e=0);var i=o.globals.dom.Paper.circle(2*e);return null!==t&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,o=void 0===t?"":t,i=e.stroke,n=void 0===i?"#a8a8a8":i,r=e.strokeWidth,s=void 0===r?1:r,a=e.fill,l=e.fillOpacity,c=void 0===l?1:l,u=e.strokeOpacity,p=void 0===u?1:u,h=e.classes,d=e.strokeLinecap,f=void 0===d?null:d,g=e.strokeDashArray,m=void 0===g?0:g,y=this.w;return null===f&&(f=y.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(o).attr({fill:a,"fill-opacity":c,stroke:n,"stroke-opacity":p,"stroke-linecap":f,"stroke-width":s,"stroke-dasharray":m,class:h})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,o=t.globals.dom.Paper.group();return null!==e&&o.attr(e),o}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===o?i=["L",e,t].join(" "):"H"===o?i=["H",e].join(" "):"V"===o&&(i=["V",t].join(" ")),i}},{key:"curve",value:function(e,t,o,i,n,r){return["C",e,t,o,i,n,r].join(" ")}},{key:"quadraticCurve",value:function(e,t,o,i){return["Q",e,t,o,i].join(" ")}},{key:"arc",value:function(e,t,o,i,n,r,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";a&&(l="a");var c=[l,e,t,o,i,n,r,s].join(" ");return c}},{key:"renderPaths",value:function(e){var t,o=e.j,i=e.realIndex,n=e.pathFrom,s=e.pathTo,a=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,p=e.animationDelay,h=e.initialSpeed,d=e.dataChangeSpeed,f=e.className,g=e.shouldClipToGrid,m=void 0===g||g,y=e.bindEventsOnPaths,v=void 0===y||y,C=e.drawShadow,x=void 0===C||C,S=this.w,E=new b(this.ctx),_=new w(this.ctx),A=this.w.config.chart.animations.enabled,R=A&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(A&&!S.globals.resized||R&&S.globals.dataChanged&&S.globals.shouldAnimate);T?t=n:(t=s,S.globals.animationEnded=!0);var O,P=S.config.stroke.dashArray;O=Array.isArray(P)?P[i]:S.config.stroke.dashArray;var D=this.drawPath({d:t,stroke:a,strokeWidth:l,fill:u,fillOpacity:1,classes:f,strokeLinecap:c,strokeDashArray:O});D.attr("index",i),m&&D.attr({"clip-path":"url(#gridRectMask".concat(S.globals.cuid,")")}),"none"!==S.config.states.normal.filter.type?E.getDefaultFilter(D,i):S.config.chart.dropShadow.enabled&&x&&(!S.config.chart.dropShadow.enabledOnSeries||S.config.chart.dropShadow.enabledOnSeries&&-1!==S.config.chart.dropShadow.enabledOnSeries.indexOf(i))&&E.dropShadow(D,S.config.chart.dropShadow,i),v&&(D.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,D)),D.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,D)),D.node.addEventListener("mousedown",this.pathMouseDown.bind(this,D))),D.attr({pathTo:s,pathFrom:n});var I={el:D,j:o,realIndex:i,pathFrom:n,pathTo:s,fill:u,strokeWidth:l,delay:p};return!A||S.globals.resized||S.globals.dataChanged?!S.globals.resized&&S.globals.dataChanged||_.showDelayedElements():_.animatePathsGradually(r(r({},I),{},{speed:h})),S.globals.dataChanged&&R&&T&&_.animatePathsGradually(r(r({},I),{},{speed:d})),D}},{key:"drawPattern",value:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=this.w,s=r.globals.dom.Paper.pattern(t,o,function(r){"horizontalLines"===e?r.line(0,0,o,0).stroke({color:i,width:n+1}):"verticalLines"===e?r.line(0,0,0,t).stroke({color:i,width:n+1}):"slantedLines"===e?r.line(0,0,t,o).stroke({color:i,width:n}):"squares"===e?r.rect(t,o).fill("none").stroke({color:i,width:n}):"circles"===e&&r.circle(t).fill("none").stroke({color:i,width:n})});return s}},{key:"drawGradient",value:function(e,t,o,i,n){var r,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=this.w;t.length<9&&0===t.indexOf("#")&&(t=C.hexToRgba(t,i)),o.length<9&&0===o.indexOf("#")&&(o=C.hexToRgba(o,n));var p=0,h=1,d=1,f=null;null!==a&&(p=void 0!==a[0]?a[0]/100:0,h=void 0!==a[1]?a[1]/100:1,d=void 0!==a[2]?a[2]/100:1,f=void 0!==a[3]?a[3]/100:null);var g=!("donut"!==u.config.chart.type&&"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"bubble"!==u.config.chart.type);if(r=u.globals.dom.Paper.gradient(g?"radial":"linear",null===l||0===l.length?function(e){e.at(p,t,i),e.at(h,o,n),e.at(d,o,n),null!==f&&e.at(f,t,i)}:function(e){(Array.isArray(l[c])?l[c]:l).forEach(function(t){e.at(t.offset/100,t.color,t.opacity)})}),g){var m=u.globals.gridWidth/2,y=u.globals.gridHeight/2;r.attr("bubble"!==u.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:m,cy:y,r:s}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?r.from(0,0).to(0,1):"diagonal"===e?r.from(0,0).to(1,1):"horizontal"===e?r.from(0,1).to(1,1):"diagonal2"===e&&r.from(1,0).to(0,1);return r}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,o=e.maxWidth,i=this.getTextRects(t,e.fontSize,e.fontFamily),n=Math.floor(o/(i.width/t.length));return o<i.width?t.slice(0,n-3)+"...":t}},{key:"drawText",value:function(e){var t=this,o=e.x,i=e.y,n=e.text,s=e.textAnchor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,p=e.opacity,h=e.maxWidth,d=e.cssClass,f=void 0===d?"":d,g=e.isPlainText,m=void 0===g||g,y=this.w;void 0===n&&(n="");var v=n;s||(s="start"),u&&u.length||(u=y.config.chart.foreColor),c=c||"regular";var C,w={maxWidth:h,fontSize:a=a||"11px",fontFamily:l=l||y.config.chart.fontFamily};return Array.isArray(n)?C=y.globals.dom.Paper.text(function(e){for(var o=0;o<n.length;o++)v=n[o],h&&(v=t.getTextBasedOnMaxWidth(r({text:n[o]},w))),0===o?e.tspan(v):e.tspan(v).newLine()}):(h&&(v=this.getTextBasedOnMaxWidth(r({text:n},w))),C=m?y.globals.dom.Paper.plain(n):y.globals.dom.Paper.text(function(e){return e.tspan(v)})),C.attr({x:o,y:i,"text-anchor":s,"dominant-baseline":"auto","font-size":a,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+f}),C.node.style.fontFamily=l,C.node.style.opacity=p,C}},{key:"drawMarker",value:function(e,t,o){e=e||0;var i=o.pSize||0,n=null;if("square"===o.shape||"rect"===o.shape){var r=void 0===o.pRadius?i/2:o.pRadius;null!==t&&i||(i=0,r=0);var s=1.2*i+r,a=this.drawRect(s,s,s,s,r);a.attr({x:e-s/2,y:t-s/2,cx:e,cy:t,class:o.class?o.class:"",fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,stroke:o.pointStrokeColor,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}),n=a}else"circle"!==o.shape&&o.shape||(C.isNumber(t)||(i=0,t=0),n=this.drawCircle(i,{cx:e,cy:t,class:o.class?o.class:"",stroke:o.pointStrokeColor,fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}));return n}},{key:"pathMouseEnter",value:function(e,t){var o=this.w,i=new b(this.ctx),n=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);if("function"==typeof o.config.chart.events.dataPointMouseEnter&&o.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:n,dataPointIndex:r,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:n,dataPointIndex:r,w:o}]),("none"===o.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==o.config.states.hover.filter.type&&!o.globals.isTouchDevice){var s=o.config.states.hover.filter;i.applyFilter(e,n,s.type,s.value)}}},{key:"pathMouseLeave",value:function(e,t){var o=this.w,i=new b(this.ctx),n=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);"function"==typeof o.config.chart.events.dataPointMouseLeave&&o.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:n,dataPointIndex:r,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:n,dataPointIndex:r,w:o}]),"none"!==o.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==o.config.states.hover.filter.type&&i.getDefaultFilter(e,n)}},{key:"pathMouseDown",value:function(e,t){var o=this.w,i=new b(this.ctx),n=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10),s="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),o.globals.selectedDataPoints[n].indexOf(r)>-1){var a=o.globals.selectedDataPoints[n].indexOf(r);o.globals.selectedDataPoints[n].splice(a,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var l=o.globals.dom.Paper.select(".apexcharts-series path").members,c=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,u=function(e){Array.prototype.forEach.call(e,function(e){e.node.setAttribute("selected","false"),i.getDefaultFilter(e,n)})};u(l),u(c)}e.node.setAttribute("selected","true"),s="true",void 0===o.globals.selectedDataPoints[n]&&(o.globals.selectedDataPoints[n]=[]),o.globals.selectedDataPoints[n].push(r)}if("true"===s){var p=o.config.states.active.filter;if("none"!==p)i.applyFilter(e,n,p.type,p.value);else if("none"!==o.config.states.hover.filter&&!o.globals.isTouchDevice){var h=o.config.states.hover.filter;i.applyFilter(e,n,h.type,h.value)}}else"none"!==o.config.states.active.filter.type&&("none"===o.config.states.hover.filter.type||o.globals.isTouchDevice?i.getDefaultFilter(e,n):i.applyFilter(e,n,(h=o.config.states.hover.filter).type,h.value));"function"==typeof o.config.chart.events.dataPointSelection&&o.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:r,w:o}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:r,w:o}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,o,i){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w,s=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:o,foreColor:"#fff",opacity:0});i&&s.attr("transform",i),r.globals.dom.Paper.add(s);var a=s.bbox();return n||(a=s.node.getBoundingClientRect()),s.remove(),{width:a.width,height:a.height}}},{key:"placeTextWithEllipsis",value:function(e,t,o){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=o/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=o/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var o in t)t.hasOwnProperty(o)&&e.setAttribute(o,t[o])}}]),e}(),S=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getStackedSeriesTotals",value:function(){var e=this.w,t=[];if(0===e.globals.series.length)return t;for(var o=0;o<e.globals.series[e.globals.maxValsInArrayIndex].length;o++){for(var i=0,n=0;n<e.globals.series.length;n++)void 0!==e.globals.series[n][o]&&(i+=e.globals.series[n][o]);t.push(i)}return e.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(e,t){return e+t},0):this.w.globals.series[e].reduce(function(e,t){return e+t},0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[e].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(e,t,o){return e===o[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,o=e.slice();return t.config.xaxis.convertedCatToNumeric&&(o=e.map(function(e,o){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)})),o}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(e){t=Math.max(t,e)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(e){t=Math.max(t,e.size)}),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(e,t){var o=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=e[i];else o+=e;return o})}},{key:"getSeriesTotalsXRange",value:function(e,t){var o=this.w;return o.globals.series.map(function(i,n){for(var r=0,s=0;s<i.length;s++)o.globals.seriesX[n][s]>e&&o.globals.seriesX[n][s]<t&&(r+=i[s]);return r})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,o){var i=[];if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=e.globals.stackedSeriesTotals[n],s=0;r&&(s=100*t[n]/r),i.push(s)}else{var a=100*t/e.globals.seriesTotals.reduce(function(e,t){return e+t},0);i.push(a)}return i})}},{key:"getCalculatedRatios",value:function(){var e,t,o,i,n=this.w.globals,r=[],s=0,a=[],l=.1,c=0;if(n.yRange=[],n.isMultipleYAxis)for(var u=0;u<n.minYArr.length;u++)n.yRange.push(Math.abs(n.minYArr[u]-n.maxYArr[u])),a.push(0);else n.yRange.push(Math.abs(n.minY-n.maxY));n.xRange=Math.abs(n.maxX-n.minX),n.zRange=Math.abs(n.maxZ-n.minZ);for(var p=0;p<n.yRange.length;p++)r.push(n.yRange[p]/n.gridHeight);if(t=n.xRange/n.gridWidth,o=Math.abs(n.initialMaxX-n.initialMinX)/n.gridWidth,e=n.yRange/n.gridWidth,i=n.xRange/n.gridHeight,(s=n.zRange/n.gridHeight*16)||(s=1),n.minY!==Number.MIN_VALUE&&0!==Math.abs(n.minY)&&(n.hasNegs=!0),n.isMultipleYAxis){a=[];for(var h=0;h<r.length;h++)a.push(-n.minYArr[h]/r[h])}else a.push(-n.minY/r[0]),n.minY!==Number.MIN_VALUE&&0!==Math.abs(n.minY)&&(l=-n.minY/e,c=n.minX/t);return{yRatio:r,invertedYRatio:e,zRatio:s,xRatio:t,initialXRatio:o,invertedXRatio:i,baseLineInvertedY:l,baseLineY:a,baseLineX:c}}},{key:"getLogSeries",value:function(e){var t=this,o=this.w;return o.globals.seriesLog=e.map(function(e,i){return o.config.yaxis[i]&&o.config.yaxis[i].logarithmic?e.map(function(e){return null===e?null:t.getLogVal(o.config.yaxis[i].logBase,e,i)}):e}),o.globals.invalidLogScale?e:o.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,o){if(0===t)return 0;var i=this.w,n=0===i.globals.minYArr[o]?-1:this.getBaseLog(e,i.globals.minYArr[o]),r=(0===i.globals.maxYArr[o]?0:this.getBaseLog(e,i.globals.maxYArr[o]))-n;return t<1?t/r:(this.getBaseLog(e,t)-n)/r}},{key:"getLogYRatios",value:function(e){var t=this,o=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(e,n){if(o.config.yaxis[n]&&t.w.config.yaxis[n].logarithmic){var r,s=-Number.MAX_VALUE,a=Number.MIN_VALUE;return i.seriesLog.forEach(function(e,t){e.forEach(function(e){o.config.yaxis[t]&&o.config.yaxis[t].logarithmic&&(s=Math.max(e,s),a=Math.min(e,a))})}),r=Math.pow(i.yRange[n],Math.abs(a-s)/i.yRange[n]),i.yLogRatio[n]=r/i.gridHeight,r}}),i.invalidLogScale?e.slice():i.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,o=0,i=0;return e.length&&void 0!==e[0].type&&e.forEach(function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||o++,void 0!==e.type&&i++}),i>0&&(t=!0),{comboBarCount:o,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,o){return t.yaxis&&(t=e.extendYAxis(t,o)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),E=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return c(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.w;if("vertical"===e.label.orientation){var i=null!==t?t:0,n=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==n){var r=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-r.height+4),n.setAttribute("y","top"===e.label.position?parseFloat(n.getAttribute("y"))+r.width:parseFloat(n.getAttribute("y"))-r.width);var s=this.annoCtx.graphics.rotateAroundCenter(n),a=s.x,l=s.y;n.setAttribute("transform","rotate(-90 ".concat(a," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var o=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var i=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=e.getBoundingClientRect(),r=t.label.style.padding.left,s=t.label.style.padding.right,a=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(a=t.label.style.padding.left,l=t.label.style.padding.right,r=t.label.style.padding.top,s=t.label.style.padding.bottom);var c=this.annoCtx.graphics.drawRect(n.left-i.left-r-o.globals.barPadForNumericAxis,n.top-i.top-a,n.width+r+s,n.height+a+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&c.node.classList.add(t.id),c}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,o=function(o,i,n){var r=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(i,"']"));if(r){var s=r.parentNode,a=e.addBackgroundToAnno(r,o);a&&(s.insertBefore(a.node,r),o.label.mouseEnter&&a.node.addEventListener("mouseenter",o.label.mouseEnter.bind(e,o)),o.label.mouseLeave&&a.node.addEventListener("mouseleave",o.label.mouseLeave.bind(e,o)))}};t.config.annotations.xaxis.map(function(e,t){o(e,t,"xaxis")}),t.config.annotations.yaxis.map(function(e,t){o(e,t,"yaxis")}),t.config.annotations.points.map(function(e,t){o(e,t,"point")})}},{key:"getY1Y2",value:function(e,t){var o,i="y1"===e?t.y:t.y2,n=this.w;if(this.annoCtx.invertAxis){var r=n.globals.labels.indexOf(i);n.config.xaxis.convertedCatToNumeric&&(r=n.globals.categoryLabels.indexOf(i));var s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(r+1)+")");s&&(o=parseFloat(s.getAttribute("y")))}else{var a;a=n.config.yaxis[t.yAxisIndex].logarithmic?(i=new S(this.annoCtx.ctx).getLogVal(i,t.yAxisIndex))/n.globals.yLogRatio[t.yAxisIndex]:(i-n.globals.minYArr[t.yAxisIndex])/(n.globals.yRange[t.yAxisIndex]/n.globals.gridHeight),o=n.globals.gridHeight-a,n.config.yaxis[t.yAxisIndex]&&n.config.yaxis[t.yAxisIndex].reversed&&(o=a)}return o}},{key:"getX1X2",value:function(e,t){var o=this.w,i=this.annoCtx.invertAxis?o.globals.minY:o.globals.minX,n=this.annoCtx.invertAxis?o.globals.maxY:o.globals.maxX,r=this.annoCtx.invertAxis?o.globals.yRange[0]:o.globals.xRange,s=(t.x-i)/(r/o.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(s=(n-t.x)/(r/o.globals.gridWidth)),"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(s=this.getStringX(t.x));var a=(t.x2-i)/(r/o.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(a=(n-t.x2)/(r/o.globals.gridWidth)),"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(a=this.getStringX(t.x2)),"x1"===e?s:a}},{key:"getStringX",value:function(e){var t=this.w,o=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.indexOf(e),n=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(i+1)+")");return n&&(o=parseFloat(n.getAttribute("x"))),o}}]),e}(),_=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new E(this.annoCtx)}return c(e,[{key:"addXaxisAnnotation",value:function(e,t,o){var i,n=this.w,r=this.helpers.getX1X2("x1",e),s=e.label.text,a=e.strokeDashArray;if(C.isNumber(r)){if(null==e.x2){var l=this.annoCtx.graphics.drawLine(r+e.offsetX,0+e.offsetY,r+e.offsetX,n.globals.gridHeight+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getX1X2("x2",e))<r){var c=r;r=i,i=c}var u=this.annoCtx.graphics.drawRect(r+e.offsetX,0+e.offsetY,i-r,n.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,a);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}var p="top"===e.label.position?4:n.globals.gridHeight,h=this.annoCtx.graphics.getTextRects(s,parseFloat(e.label.style.fontSize)),d=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:p+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?h.width/2-12:-h.width/2:0),text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});d.attr({rel:o}),t.appendChild(d.node),this.annoCtx.helpers.setOrientations(e,o)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,i){e.addXaxisAnnotation(t,o.node,i)}),o}}]),e}(),A=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new E(this.annoCtx)}return c(e,[{key:"addYaxisAnnotation",value:function(e,t,o){var i,n=this.w,r=e.strokeDashArray,s=this.helpers.getY1Y2("y1",e),a=e.label.text;if(null==e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),s+e.offsetY,e.borderColor,r,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getY1Y2("y2",e))>s){var c=s;s=i,i=c}var u=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),s-i,0,e.fillColor,e.opacity,1,e.borderColor,r);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}var p=this.annoCtx.graphics.drawText({x:("right"===e.label.position?n.globals.gridWidth:0)+e.label.offsetX,y:(null!=i?i:s)+e.label.offsetY-3,text:a,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});p.attr({rel:o}),t.appendChild(p.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(t,i){e.addYaxisAnnotation(t,o.node,i)}),o}}]),e}(),R=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new E(this.annoCtx)}return c(e,[{key:"addPointAnnotation",value:function(e,t,o){var i=this.helpers.getX1X2("x1",e),n=this.helpers.getY1Y2("y1",e);if(C.isNumber(i)){var r={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},s=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,n+e.marker.offsetY,r);t.appendChild(s.node);var a=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:n+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:a,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:o}),t.appendChild(l.node),e.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});c.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(n+e.customSVG.offsetY,")")}),c.node.innerHTML=e.customSVG.SVG,t.appendChild(c.node)}if(e.image.path){var u=e.image.width?e.image.width:20,p=e.image.height?e.image.height:20;s=this.annoCtx.addImage({x:i+e.image.offsetX-u/2,y:n+e.image.offsetY-p/2,width:u,height:p,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&s.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&s.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,i){e.addPointAnnotation(t,o.node,i)}),o}}]),e}(),T={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},O=function(){function e(){a(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(e,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[T],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),P=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.graphics=new x(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new E(this),this.xAxisAnnotations=new _(this),this.yAxisAnnotations=new A(this),this.pointsAnnotations=new R(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),n=e.config.chart.animations.enabled,r=[t,o,i],s=[o.node,t.node,i.node],a=0;a<3;a++)e.globals.dom.elGraphical.add(r[a]),!n||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&s[a].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:s[a],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,o){e.addImage(t,o)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,o){e.addText(t,o)})}},{key:"addXaxisAnnotation",value:function(e,t,o){this.xAxisAnnotations.addXaxisAnnotation(e,t,o)}},{key:"addYaxisAnnotation",value:function(e,t,o){this.yAxisAnnotations.addYaxisAnnotation(e,t,o)}},{key:"addPointAnnotation",value:function(e,t,o){this.pointsAnnotations.addPointAnnotation(e,t,o)}},{key:"addText",value:function(e,t){var o=e.text,i=e.backgroundColor,n=e.borderWidth,r=e.strokeDashArray,s=e.borderRadius,a=e.borderColor,l=e.appendTo,c=void 0===l?".apexcharts-annotations":l,u=e.paddingLeft,p=void 0===u?4:u,h=e.paddingRight,d=void 0===h?4:h,f=e.paddingBottom,g=void 0===f?2:f,m=e.paddingTop,y=void 0===m?2:m,v=this.w,C=this.graphics.drawText({x:e.x,y:e.y,text:o,textAnchor:e.textAnchor||"start",fontSize:e.fontSize||"12px",fontWeight:e.fontWeight||"regular",fontFamily:e.fontFamily||v.config.chart.fontFamily,foreColor:e.foreColor||v.config.chart.foreColor,cssClass:e.cssClass}),w=v.globals.dom.baseEl.querySelector(c);w&&w.appendChild(C.node);var b=C.bbox();if(o){var x=this.graphics.drawRect(b.x-p,b.y-y,b.width+p+d,b.height+g+y,s,i||"transparent",1,n,a,r);w.insertBefore(x.node,C.node)}}},{key:"addImage",value:function(e,t){var o=this.w,i=e.x,n=void 0===i?0:i,r=e.y,s=void 0===r?0:r,a=e.width,l=void 0===a?20:a,c=e.height,u=void 0===c?20:c,p=e.appendTo,h=void 0===p?".apexcharts-annotations":p,d=o.globals.dom.Paper.image(e.path);d.size(l,u).move(n,s);var f=o.globals.dom.baseEl.querySelector(h);return f&&f.appendChild(d.node),d}},{key:"addXaxisAnnotationExternal",value:function(e,t,o){return this.addAnnotationExternal({params:e,pushToMemory:t,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(e,t,o){return this.addAnnotationExternal({params:e,pushToMemory:t,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(e,t,o){return void 0===this.invertAxis&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(e){var t=e.params,o=e.pushToMemory,i=e.context,n=e.type,r=e.contextMethod,s=i,a=s.w,l=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),c=l.childNodes.length+1,u=new O,p=Object.assign({},"xaxis"===n?u.xAxisAnnotation:"yaxis"===n?u.yAxisAnnotation:u.pointAnnotation),h=C.extend(p,t);switch(n){case"xaxis":this.addXaxisAnnotation(h,l,c);break;case"yaxis":this.addYaxisAnnotation(h,l,c);break;case"point":this.addPointAnnotation(h,l,c)}var d=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(c,"']")),f=this.helpers.addBackgroundToAnno(d,h);return f&&l.insertBefore(f.node,d),o&&a.globals.memory.methodsToExec.push({context:s,id:h.id?h.id:C.randomId(),method:r,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){var t=e.w,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map(function(e,o){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(o,1)}),o=C.listToArray(o),Array.prototype.forEach.call(o,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var o=e.w,i=o.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(o.globals.memory.methodsToExec.map(function(e,i){e.id===t&&o.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(i,function(e){e.parentElement.removeChild(e)}))}}]),e}(),D=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return c(e,[{key:"clippedImgArea",value:function(e){var t=this.w,o=t.config,i=parseInt(t.globals.gridWidth,10),n=parseInt(t.globals.gridHeight,10),r=i>n?i:n,s=e.image,a=0,l=0;void 0===e.width&&void 0===e.height?void 0!==o.fill.image.width&&void 0!==o.fill.image.height?(a=o.fill.image.width+1,l=o.fill.image.height):(a=r+1,l=r):(a=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");x.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:a+"px",height:l+"px"});var u=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",s),x.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:a+"px",height:l+"px"}),u.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return this.seriesIndex=("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?e.seriesNumber:e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var o,i,n,r=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var s=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(s=t.globals.seriesColors[this.seriesIndex]),"function"==typeof s&&(s=s({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var a=this.getFillType(this.seriesIndex),l=Array.isArray(r.fill.opacity)?r.fill.opacity[this.seriesIndex]:r.fill.opacity;e.color&&(s=e.color);var c=s;if(-1===s.indexOf("rgb")?s.length<9&&(c=C.hexToRgba(s,l)):s.indexOf("rgba")>-1&&(l=C.getOpacityFromRGBA(s)),e.opacity&&(l=e.opacity),"pattern"===a&&(i=this.handlePatternFill(i,s,l,c)),"gradient"===a&&(n=this.handleGradientFill(s,l,this.seriesIndex)),"image"===a){var u=r.fill.image.src,p=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(u)?e.seriesNumber<u.length?u[e.seriesNumber]:u[0]:u,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(p)}),o="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(p,")")}else o="gradient"===a?n:"pattern"===a?i:c;return e.solid&&(o=c),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,o=this.opts,i=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),void 0!==o.fillColors&&(i=[],Array.isArray(o.fillColors)?i=o.fillColors.slice():i.push(o.fillColors)),i}},{key:"handlePatternFill",value:function(e,t,o,i){var n=this.w.config,r=this.opts,s=new x(this.ctx),a=void 0===n.fill.pattern.strokeWidth?Array.isArray(n.stroke.width)?n.stroke.width[this.seriesIndex]:n.stroke.width:Array.isArray(n.fill.pattern.strokeWidth)?n.fill.pattern.strokeWidth[this.seriesIndex]:n.fill.pattern.strokeWidth,l=t;return Array.isArray(n.fill.pattern.style)?void 0!==n.fill.pattern.style[r.seriesNumber]?s.drawPattern(n.fill.pattern.style[r.seriesNumber],n.fill.pattern.width,n.fill.pattern.height,l,a,o):i:s.drawPattern(n.fill.pattern.style,n.fill.pattern.width,n.fill.pattern.height,l,a,o)}},{key:"handleGradientFill",value:function(e,t,o){var i,n=this.w.config,r=this.opts,s=new x(this.ctx),a=new C,l=n.fill.gradient.type,c=e,u=void 0===n.fill.gradient.opacityFrom?t:Array.isArray(n.fill.gradient.opacityFrom)?n.fill.gradient.opacityFrom[o]:n.fill.gradient.opacityFrom;c.indexOf("rgba")>-1&&(u=C.getOpacityFromRGBA(c));var p=void 0===n.fill.gradient.opacityTo?t:Array.isArray(n.fill.gradient.opacityTo)?n.fill.gradient.opacityTo[o]:n.fill.gradient.opacityTo;if(void 0===n.fill.gradient.gradientToColors||0===n.fill.gradient.gradientToColors.length)i=a.shadeColor("dark"===n.fill.gradient.shade?-1*parseFloat(n.fill.gradient.shadeIntensity):parseFloat(n.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?C.rgb2hex(e):e);else if(n.fill.gradient.gradientToColors[r.seriesNumber]){var h=n.fill.gradient.gradientToColors[r.seriesNumber];i=h,h.indexOf("rgba")>-1&&(p=C.getOpacityFromRGBA(h))}else i=e;if(n.fill.gradient.inverseColors){var d=c;c=i,i=d}return c.indexOf("rgb")>-1&&(c=C.rgb2hex(c)),i.indexOf("rgb")>-1&&(i=C.rgb2hex(i)),s.drawGradient(l,c,i,u,p,r.size,n.fill.gradient.stops,n.fill.gradient.colorStops,o)}}]),e}(),I=function(){function e(t,o){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(t){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,o,i){var n,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.w,a=t,l=e,c=null,u=new x(this.ctx),p=s.config.markers.discrete&&s.config.markers.discrete.length;if((s.globals.markers.size[t]>0||r||p)&&(c=u.group({class:r||p?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var d=o;1===o&&0===h&&(d=0),1===o&&1===h&&(d=1);var f="apexcharts-marker";"line"!==s.config.chart.type&&"area"!==s.config.chart.type||s.globals.comboCharts||s.config.tooltip.intersect||(f+=" no-pointer-events");var g=Array.isArray(s.config.markers.size)?s.globals.markers.size[t]>0:s.config.markers.size>0;if(g||r||p){C.isNumber(l.y[h])?f+=" w".concat(C.randomId()):f="apexcharts-nullpoint";var m=this.getMarkerConfig({cssClass:f,seriesIndex:t,dataPointIndex:d});s.config.series[a].data[d]&&(s.config.series[a].data[d].fillColor&&(m.pointFillColor=s.config.series[a].data[d].fillColor),s.config.series[a].data[d].strokeColor&&(m.pointStrokeColor=s.config.series[a].data[d].strokeColor)),i&&(m.pSize=i),(n=u.drawMarker(l.x[h],l.y[h],m)).attr("rel",d),n.attr("j",d),n.attr("index",t),n.node.setAttribute("default-marker-size",m.pSize);var y=new b(this.ctx);y.setSelectionFilter(n,t,d),this.addEvents(n),c&&c.add(n)}else void 0===s.globals.pointsArray[t]&&(s.globals.pointsArray[t]=[]),s.globals.pointsArray[t].push([l.x[h],l.y[h]])}return c}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,o=e.seriesIndex,i=e.dataPointIndex,n=void 0===i?null:i,r=e.finishRadius,s=void 0===r?null:r,a=this.w,l=this.getMarkerStyle(o),c=a.globals.markers.size[o],u=a.config.markers;return null!==n&&u.discrete.length&&u.discrete.map(function(e){e.seriesIndex===o&&e.dataPointIndex===n&&(l.pointStrokeColor=e.strokeColor,l.pointFillColor=e.fillColor,c=e.size,l.pointShape=e.shape)}),{pSize:null===s?c:s,pRadius:u.radius,width:Array.isArray(u.width)?u.width[o]:u.width,height:Array.isArray(u.height)?u.height[o]:u.height,pointStrokeWidth:Array.isArray(u.strokeWidth)?u.strokeWidth[o]:u.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(u.shape)?u.shape[o]:u.shape),class:t,pointStrokeOpacity:Array.isArray(u.strokeOpacity)?u.strokeOpacity[o]:u.strokeOpacity,pointStrokeDashArray:Array.isArray(u.strokeDashArray)?u.strokeDashArray[o]:u.strokeDashArray,pointFillOpacity:Array.isArray(u.fillOpacity)?u.fillOpacity[o]:u.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(e){var t=this.w,o=new x(this.ctx);e.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,o=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(o)?o[e]:o}}}]),e}(),M=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(e,[{key:"draw",value:function(e,t,o){var i=this.w,n=new x(this.ctx),r=o.realIndex,s=o.pointsPos,a=o.zRatio,l=o.elParent,c=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(s.x))for(var u=0;u<s.x.length;u++){var p=t+1,h=!0;0===t&&0===u&&(p=0),0===t&&1===u&&(p=1);var d=0,f=i.globals.markers.size[r];if(a!==1/0){f=i.globals.seriesZ[r][p]/a;var g=i.config.plotOptions.bubble;g.minBubbleRadius&&f<g.minBubbleRadius&&(f=g.minBubbleRadius),g.maxBubbleRadius&&f>g.maxBubbleRadius&&(f=g.maxBubbleRadius)}i.config.chart.animations.enabled||(d=f);var m=s.y[u];if(d=d||0,null!==m&&void 0!==i.globals.series[r][p]||(h=!1),h){var y=this.drawPoint(s.x[u],m,d,f,r,p,t);c.add(y)}l.add(c)}}},{key:"drawPoint",value:function(e,t,o,i,n,r,s){var a=this.w,l=n,c=new w(this.ctx),u=new b(this.ctx),p=new D(this.ctx),h=new I(this.ctx),d=new x(this.ctx),f=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:r,finishRadius:"bubble"===a.config.chart.type||a.globals.comboCharts&&a.config.series[n]&&"bubble"===a.config.series[n].type?i:null});i=f.pSize;var g,m=p.fillPath({seriesNumber:n,dataPointIndex:r,color:f.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[n][s]});if("circle"===f.shape?g=d.drawCircle(o):"square"!==f.shape&&"rect"!==f.shape||(g=d.drawRect(0,0,f.width-f.pointStrokeWidth/2,f.height-f.pointStrokeWidth/2,f.pRadius)),a.config.series[l].data[r]&&a.config.series[l].data[r].fillColor&&(m=a.config.series[l].data[r].fillColor),g.attr({x:e-f.width/2-f.pointStrokeWidth/2,y:t-f.height/2-f.pointStrokeWidth/2,cx:e,cy:t,fill:m,"fill-opacity":f.pointFillOpacity,stroke:f.pointStrokeColor,r:i,"stroke-width":f.pointStrokeWidth,"stroke-dasharray":f.pointStrokeDashArray,"stroke-opacity":f.pointStrokeOpacity}),a.config.chart.dropShadow.enabled&&u.dropShadow(g,a.config.chart.dropShadow,n),!this.initialAnim||a.globals.dataChanged||a.globals.resized?a.globals.animationEnded=!0:c.animateMarker(g,0,"circle"===f.shape?i:{width:f.width,height:f.height},a.config.chart.animations.speed,a.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(g)},100)}),a.globals.dataChanged&&"circle"===f.shape)if(this.dynamicAnim){var y,v,C,S,E=a.config.chart.animations.dynamicAnimation.speed;null!=(S=a.globals.previousPaths[n]&&a.globals.previousPaths[n][s])&&(y=S.x,v=S.y,C=void 0!==S.r?S.r:i);for(var _=0;_<a.globals.collapsedSeries.length;_++)a.globals.collapsedSeries[_].index===n&&(E=1,i=0);0===e&&0===t&&(i=0),c.animateCircle(g,{cx:y,cy:v,r:C},{cx:e,cy:t,r:i},E,a.globals.easing)}else g.attr({r:i});return g.attr({rel:r,j:r,index:n,"default-marker-size":i}),u.setSelectionFilter(g,n,r),h.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(e){return{y:e+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),e}(),N=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"dataLabelsCorrection",value:function(e,t,o,i,n,r,s){var a=this.w,l=!1,c=new x(this.ctx).getTextRects(o,s),u=c.width,p=c.height;if(t<0&&(t=0),t>a.globals.gridHeight+p&&(t=a.globals.gridHeight+p/2),void 0===a.globals.dataLabelsRects[i]&&(a.globals.dataLabelsRects[i]=[]),a.globals.dataLabelsRects[i].push({x:e,y:t,width:u,height:p}),void 0!==a.globals.dataLabelsRects[i][a.globals.dataLabelsRects[i].length-2]){var h=a.globals.dataLabelsRects[i][void 0!==a.globals.lastDrawnDataLabelsIndexes[i]?a.globals.lastDrawnDataLabelsIndexes[i][a.globals.lastDrawnDataLabelsIndexes[i].length-1]:0];(e>h.x+h.width+2||t>h.y+h.height+2||e+u<h.x)&&(l=!0)}return(0===n||r)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e,t,o){var i=this,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=this.w,s=new x(this.ctx),a=r.config.dataLabels,l=0,c=0,u=o,p=null;if(!a.enabled||!Array.isArray(e.x))return p;p=s.group({class:"apexcharts-data-labels"});for(var h=0;h<e.x.length;h++)if(l=e.x[h]+a.offsetX,c=e.y[h]+a.offsetY+n,!isNaN(l)){1===o&&0===h&&(u=0),1===o&&1===h&&(u=1);var d=r.globals.series[t][u],f="",g=function(e){return r.config.dataLabels.formatter(e,{ctx:i.ctx,seriesIndex:t,dataPointIndex:u,w:r})};if("bubble"===r.config.chart.type){f=g(d=r.globals.seriesZ[t][u]),c=e.y[h];var m=new M(this.ctx),y=m.centerTextInBubble(c,t,u);c=y.y}else void 0!==d&&(f=g(d));this.plotDataLabelsText({x:l,y:c,text:f,i:t,j:u,parent:p,offsetCorrection:!0,dataLabelsConfig:r.config.dataLabels})}return p}},{key:"plotDataLabelsText",value:function(e){var t=this.w,o=new x(this.ctx),i=e.x,n=e.y,r=e.i,s=e.j,a=e.text,l=e.textAnchor,c=e.fontSize,u=e.parent,p=e.dataLabelsConfig,h=e.color,d=e.alwaysDrawDataLabel,f=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(r)<0)){var g={x:i,y:n,drawnextLabel:!0,textRects:null};f&&(g=this.dataLabelsCorrection(i,n,a,r,s,d,parseInt(p.style.fontSize,10))),t.globals.zoomed||(i=g.x,n=g.y),g.textRects&&(i<-10-g.textRects.width||i>t.globals.gridWidth+g.textRects.width+10)&&(a="");var m=t.globals.dataLabels.style.colors[r];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(m=t.globals.dataLabels.style.colors[s]),"function"==typeof m&&(m=m({series:t.globals.series,seriesIndex:r,dataPointIndex:s,w:t})),h&&(m=h);var y=p.offsetX,v=p.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(y=0,v=0),g.drawnextLabel){var C=o.drawText({width:100,height:parseInt(p.style.fontSize,10),x:i+y,y:n+v,foreColor:m,textAnchor:l||p.textAnchor,text:a,fontSize:c||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"});if(C.attr({class:"apexcharts-datalabel",cx:i,cy:n}),p.dropShadow.enabled){var w=p.dropShadow;new b(this.ctx).dropShadow(C,w)}u.add(C),void 0===t.globals.lastDrawnDataLabelsIndexes[r]&&(t.globals.lastDrawnDataLabelsIndexes[r]=[]),t.globals.lastDrawnDataLabelsIndexes[r].push(s)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var o=this.w,i=o.config.dataLabels.background,n=i.padding,r=i.padding/2,s=t.width,a=t.height,l=new x(this.ctx).drawRect(t.x-n,t.y-r/2,s+2*n,a+r,i.borderRadius,"transparent"===o.config.chart.background?"#fff":o.config.chart.background,i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new b(this.ctx).dropShadow(l,i.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<t.length;o++){var i=t[o],n=i.getBBox(),r=null;if(n.width&&n.height&&(r=this.addBackgroundToDataLabel(i,n)),r){i.parentNode.insertBefore(r.node,i);var s=i.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?r.attr({fill:s}):r.animate().attr({fill:s}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)o&&o.insertBefore(t[i],o.nextSibling)}}]),e}(),k=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return c(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,o=e.y,i=e.y1,n=e.y2,r=e.i,s=e.j,a=e.realIndex,l=e.series,c=e.barHeight,u=e.barWidth,p=e.barYPosition,h=e.visibleSeries,d=e.renderedPath,f=this.w,g=new x(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth,y=t+parseFloat(u*h),v=o+parseFloat(c*h);f.globals.isXNumeric&&!f.globals.isBarHorizontal&&(y=t+parseFloat(u*(h+1)),v=o+parseFloat(c*(h+1))-m);var C,w=t,b=o,S=f.config.dataLabels,E=this.barCtx.barOptions.dataLabels;void 0!==p&&this.barCtx.isRangeBar&&(v=p,b=p);var _=S.offsetX,A=S.offsetY,R={width:0,height:0};f.config.dataLabels.enabled&&(R=g.getTextRects(f.globals.yLabelFormatters[0](this.barCtx.series[r][s]),parseFloat(S.style.fontSize)));var T={x:t,y:o,i:r,j:s,renderedPath:d,bcx:y,bcy:v,barHeight:c,barWidth:u,textRects:R,strokeWidth:m,dataLabelsX:w,dataLabelsY:b,barDataLabelsConfig:E,offX:_,offY:A};return C=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(T):this.calculateColumnsDataLabelsPosition(T),d.attr({cy:C.bcy,cx:C.bcx,j:s,val:l[r][s],barHeight:c,barWidth:u}),this.drawCalculatedDataLabels({x:C.dataLabelsX,y:C.dataLabelsY,val:this.barCtx.isRangeBar?[i,n]:l[r][s],i:a,j:s,barWidth:u,barHeight:c,textRects:R,dataLabelsConfig:S})}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,o=this.w,i=e.i,n=e.j,r=e.y,s=e.bcx,a=e.barWidth,l=e.barHeight,c=e.textRects,u=e.dataLabelsY,p=e.barDataLabelsConfig,h=e.strokeWidth,d=e.offX,f=e.offY;l=Math.abs(l);var g="vertical"===o.config.plotOptions.bar.dataLabels.orientation;s-=h/2,t=o.globals.isXNumeric?s-a/2+d:s-o.globals.gridWidth/o.globals.dataPoints+a/2+d,g&&(t=t+c.height/2-h/2-2);var m=this.barCtx.series[i][n]<0,y=r;switch(this.barCtx.isReversed&&(y=r-l+(m?2*l:0),r-=l),p.position){case"center":u=g?m?y+l/2+f:y+l/2-f:m?y-l/2+c.height/2+f:y+l/2+c.height/2-f;break;case"bottom":u=g?m?y+l+f:y+l-f:m?y-l+c.height+h+f:y+l-c.height/2+h-f;break;case"top":u=g?m?y+f:y-f:m?y-c.height/2-f:y+c.height+f}return o.config.chart.stacked||(u<0?u=0+h:u+c.height/3>o.globals.gridHeight&&(u=o.globals.gridHeight-h)),{bcx:s,bcy:r,dataLabelsX:t,dataLabelsY:u}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,o=e.x,i=e.i,n=e.j,r=e.bcy,s=e.barHeight,a=e.barWidth,l=e.textRects,c=e.dataLabelsX,u=e.strokeWidth,p=e.barDataLabelsConfig,h=e.offX,d=e.offY,f=t.globals.gridHeight/t.globals.dataPoints;a=Math.abs(a);var g=r-(this.barCtx.isRangeBar?0:f)+s/2+l.height/2+d-3,m=this.barCtx.series[i][n]<0,y=o;switch(this.barCtx.isReversed&&(y=o+a-(m?2*a:0),o=t.globals.gridWidth-a),p.position){case"center":c=m?y+a/2-h:Math.max(l.width/2,y-a/2)+h;break;case"bottom":c=m?y+a-u-Math.round(l.width/2)-h:y-a+u+Math.round(l.width/2)+h;break;case"top":c=m?y-u+Math.round(l.width/2)-h:y-u-Math.round(l.width/2)+h}return t.config.chart.stacked||(c<0?c=c+l.width+u:c+l.width/2>t.globals.gridWidth&&(c=t.globals.gridWidth-l.width-u)),{bcx:o,bcy:r,dataLabelsX:c,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,o=e.y,i=e.val,n=e.i,s=e.j,a=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,p=this.w,h="rotate(0)";"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&(h="rotate(-90, ".concat(t,", ").concat(o,")"));var d=new N(this.barCtx.ctx),f=new x(this.barCtx.ctx),g=u.formatter,m=null,y=p.globals.collapsedSeriesIndices.indexOf(n)>-1;if(u.enabled&&!y){m=f.group({class:"apexcharts-data-labels",transform:h});var v="";void 0!==i&&(v=g(i,{seriesIndex:n,dataPointIndex:s,w:p}));var C=p.globals.series[n][s]<0,w=p.config.plotOptions.bar.dataLabels.position;"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&("top"===w&&(u.textAnchor=C?"end":"start"),"center"===w&&(u.textAnchor="middle"),"bottom"===w&&(u.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<f.getTextRects(v,parseFloat(u.style.fontSize)).width&&(v=""),p.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(c)&&(v=""):a.height/1.6>Math.abs(l)&&(v=""));var b=r({},u);this.barCtx.isHorizontal&&i<0&&("start"===u.textAnchor?b.textAnchor="end":"end"===u.textAnchor&&(b.textAnchor="start")),d.plotDataLabelsText({x:t,y:o,text:v,i:n,j:s,parent:m,dataLabelsConfig:b,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}}]),e}(),L=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(C.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),o=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(e,t){var o=this.w;function i(o){for(var i=0;i<o.length;i++)o[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(o.globals.collapsedSeries),i(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w,n=C.clone(i.globals.initialSeries);i.globals.previousPaths=[],o?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),i.config.series=n,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,o=0;o<e.length;o++)t.globals.collapsedSeriesIndices.indexOf(o)>-1&&(e[o].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var o=this.w;t||(t=e.target);var i=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var n=parseInt(t.getAttribute("rel"),10)-1,r=null,s=null;o.globals.axisCharts||"radialBar"===o.config.chart.type?o.globals.axisCharts?(r=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),s=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(n,"']"))):r=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")):r=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"'] path"));for(var a=0;a<i.length;a++)i[a].classList.add(this.legendInactiveClass);null!==r&&(o.globals.axisCharts||r.parentNode.classList.remove(this.legendInactiveClass),r.classList.remove(this.legendInactiveClass),null!==s&&s.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<i.length;l++)i[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var o=this,i=this.w,n=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),r=function(e){for(var t=0;t<n.length;t++)n[t].classList[e](o.legendInactiveClass)};if("mousemove"===e.type){var s=parseInt(t.getAttribute("rel"),10)-1;r("add"),function(e){for(var t=0;t<n.length;t++){var i=parseInt(n[t].getAttribute("val"),10);i>=e.from&&i<=e.to&&n[t].classList.remove(o.legendInactiveClass)}}(i.config.plotOptions.heatmap.colorScale.ranges[s])}else"mouseout"===e.type&&r("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",o=this.w,i=0;if(o.config.series.length>1)for(var n=o.config.series.map(function(t,i){var n=!1;return e&&(n="bar"===o.config.series[i].type||"column"===o.config.series[i].type),t.data&&t.data.length>0&&!n?i:-1}),r="asc"===t?0:n.length-1;"asc"===t?r<n.length:r>=0;"asc"===t?r++:r--)if(-1!==n[r]){i=n[r];break}return i}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,o,i){for(var n=t[o].childNodes,r={type:i,paths:[],realIndex:t[o].getAttribute("data:realIndex")},s=0;s<n.length;s++)if(n[s].hasAttribute("pathTo")){var a=n[s].getAttribute("pathTo");r.paths.push({d:a})}e.globals.previousPaths.push(r)}e.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(o){for(var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series")),n=0;n<i.length;n++)t(i,n,o)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(o.length>0)for(var i=function(t){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),i=[],n=function(e){var t=function(t){return o[e].getAttribute(t)},n={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};i.push({rect:n,color:o[e].getAttribute("color")})},r=0;r<o.length;r++)n(r);e.globals.previousPaths.push(i)},n=0;n<o.length;n++)i(n);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(o.length>0)for(var i=0;i<o.length;i++){for(var n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(i,"'] circle")),r=[],s=0;s<n.length;s++)r.push({x:n[s].getAttribute("cx"),y:n[s].getAttribute("cy"),r:n[s].getAttribute("r")});t.globals.previousPaths.push(r)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,o=new x(this.ctx),i=e.globals.svgWidth/2,n=e.globals.svgHeight/2,r="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(i=10,r="start"):"right"===t.align&&(i=e.globals.svgWidth-10,r="end"),"top"===t.verticalAlign?n=50:"bottom"===t.verticalAlign&&(n=e.globals.svgHeight-50),i+=t.offsetX,n=n+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var s=o.drawText({x:i,y:n,text:t.text,textAnchor:r,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,o=0;o<e.length;o++)if(0===e[o].length)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[o].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,o=this.filteredSeriesX(),i=0;i<o.length-1;i++)if(o[i][0]!==o[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),e}(),F=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return c(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<e.length;o++)if(e[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[o].length),t.globals.isXNumeric)for(var i=0;i<e[o].length;i++)t.globals.seriesX[o][i]>t.globals.minX&&t.globals.seriesX[o][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=e.length-1,t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,o,i,n,r,s,a,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var u=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(u=1),this.barCtx.isHorizontal)n=(o=l.globals.gridHeight/c)/u,l.globals.isXNumeric&&(n=(o=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),n=n*parseInt(this.barCtx.barOptions.barHeight,10)/100,a=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(o-n*this.barCtx.seriesLen)/2;else{if(i=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(i=l.globals.gridWidth/l.globals.dataPoints),r=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var p=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(p=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/p>0&&(i=l.globals.minXDiff/p),(r=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(r=1)}s=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(i-r*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:o,xDivision:i,barHeight:n,barWidth:r,zeroH:s,zeroW:a}}},{key:"getPathFillColor",value:function(e,t,o,i){var n=this.w,r=new D(this.barCtx.ctx),s=null,a=this.barCtx.barOptions.distributed?o:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(i){e[t][o]>=i.from&&e[t][o]<=i.to&&(s=i.color)}),n.config.series[t].data[o]&&n.config.series[t].data[o].fillColor&&(s=n.config.series[t].data[o].fillColor),r.fillPath({seriesNumber:this.barCtx.barOptions.distributed?a:i,dataPointIndex:o,color:s,value:e[t][o]})}},{key:"getStrokeWidth",value:function(e,t,o){var i=0,n=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[e][t],n.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),i}},{key:"barBackground",value:function(e){var t=e.j,o=e.i,i=e.x1,n=e.x2,r=e.y1,s=e.y2,a=e.elSeries,l=this.w,c=new x(this.barCtx.ctx),u=new L(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===o){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=c.drawRect(void 0!==i?i:0,void 0!==r?r:0,void 0!==n?n:l.globals.gridWidth,void 0!==s?s:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[t],this.barCtx.barOptions.colors.backgroundBarOpacity);a.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t=e.barWidth,o=e.barXPosition,i=e.yRatio,n=e.y1,r=e.y2,s=e.strokeWidth,a=e.series,l=e.realIndex,c=e.i,u=e.j,p=e.w,h=new x(this.barCtx.ctx);(s=Array.isArray(s)?s[l]:s)||(s=0);var d=this.getRoundedBars(p,{barWidth:t,strokeWidth:s,yRatio:i,barXPosition:o,y1:n,y2:r},a,c,u),f=o,g=o+t,m=h.move(f,n),y=h.move(f,n),v=h.line(g-s,n);return p.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(l,u,!1)),m=m+h.line(f,d.y2)+d.pathWithRadius+h.line(g-s,d.y2)+v+v+"z",y=y+h.line(f,n)+v+v+v+v+v+h.line(f,n),p.config.chart.stacked&&(this.barCtx.yArrj.push(d.y2),this.barCtx.yArrjF.push(Math.abs(n-d.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[c][u])),{pathTo:m,pathFrom:y}}},{key:"getBarpaths",value:function(e){var t=e.barYPosition,o=e.barHeight,i=e.x1,n=e.x2,r=e.strokeWidth,s=e.series,a=e.realIndex,l=e.i,c=e.j,u=e.w,p=new x(this.barCtx.ctx);(r=Array.isArray(r)?r[a]:r)||(r=0);var h=this.getRoundedBars(u,{barHeight:o,strokeWidth:r,barYPosition:t,x2:n,x1:i},s,l,c),d=p.move(i,t),f=p.move(i,t);u.globals.previousPaths.length>0&&(f=this.barCtx.getPreviousPath(a,c,!1));var g=t,m=t+o,y=p.line(i,m-r);return d=d+p.line(h.x2,g)+h.pathWithRadius+p.line(h.x2,m-r)+y+y+"z",f=f+p.line(i,g)+y+y+y+y+y+p.line(i,g),u.config.chart.stacked&&(this.barCtx.xArrj.push(h.x2),this.barCtx.xArrjF.push(Math.abs(i-h.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:d,pathFrom:f}}},{key:"getRoundedBars",value:function(e,t,o,i,n){var r=new x(this.barCtx.ctx),s=0,a=e.config.plotOptions.bar.borderRadius,l=Array.isArray(a);if(s=l?a[i>a.length-1?a.length-1:i]:a,e.config.chart.stacked&&o.length>1&&i!==this.barCtx.radiusOnSeriesNumber&&!l&&(s=0),this.barCtx.isHorizontal){var c="",u=t.x2;if(Math.abs(t.x1-t.x2)<s&&(s=Math.abs(t.x1-t.x2)),void 0!==o[i][n]||null!==o[i][n]){var p=this.barCtx.isReversed?o[i][n]>0:o[i][n]<0;p&&(s*=-1),c=r.quadraticCurve((u-=s)+s,t.barYPosition,u+s,t.barYPosition+(p?-1*s:s))+r.line(u+s,t.barYPosition+t.barHeight-t.strokeWidth-(p?-1*s:s))+r.quadraticCurve(u+s,t.barYPosition+t.barHeight-t.strokeWidth,u,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:c,x2:u}}var h="",d=t.y2;if(Math.abs(t.y1-t.y2)<s&&(s=Math.abs(t.y1-t.y2)),void 0!==o[i][n]||null!==o[i][n]){var f=o[i][n]<0;f&&(s*=-1),h=r.quadraticCurve(t.barXPosition,(d+=s)-s,t.barXPosition+(f?-1*s:s),d-s)+r.line(t.barXPosition+t.barWidth-t.strokeWidth-(f?-1*s:s),d-s)+r.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,d-s,t.barXPosition+t.barWidth-t.strokeWidth,d)}return{pathWithRadius:h,y2:d}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,o=this.w,i=0;i<t.length;i++){for(var n=0,r=0;r<t[o.globals.maxValsInArrayIndex].length;r++)n+=t[i][r];0===n&&this.barCtx.zeroSerieses.push(i)}for(var s=t.length-1;s>=0;s--)this.barCtx.zeroSerieses.indexOf(s)>-1&&s===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var a=t.length-1;a>=0;a--)o.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=o?t:null;return null!=e&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=o?t:null;return null!=e&&(i=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),i}},{key:"getGoalValues",value:function(e,t,o,i,n){var r=this,s=this.w,a=[];return s.globals.seriesGoals[i]&&s.globals.seriesGoals[i][n]&&Array.isArray(s.globals.seriesGoals[i][n])&&s.globals.seriesGoals[i][n].forEach(function(i){var n;a.push((u(n={},e,"x"===e?r.getXForValue(i.value,t,!1):r.getYForValue(i.value,o,!1)),u(n,"attrs",i),n))}),a}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,o=e.barYPosition,i=e.goalX,n=e.goalY,r=e.barWidth,s=e.barHeight,a=new x(this.barCtx.ctx),l=a.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:s/2,i=o+t+s/2;c=a.drawLine(e.x,i-2*t,e.x,i,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)}):Array.isArray(n)&&n.forEach(function(e){var o=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:r/2,i=t+o+r/2;c=a.drawLine(i-2*o,e.y,i,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)}),l}}]),e}(),G=function(){function e(t,o){a(this,e),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=o,null!==this.xyRatios&&(this.xRatio=o.xRatio,this.initialXRatio=o.initialXRatio,this.yRatio=o.yRatio,this.invertedXRatio=o.invertedXRatio,this.invertedYRatio=o.invertedYRatio,this.baseLineY=o.baseLineY,this.baseLineInvertedY=o.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new F(this)}return c(e,[{key:"draw",value:function(e,t){var o=this.w,i=new x(this.ctx),n=new S(this.ctx,o);e=n.getLogSeries(e),this.series=e,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var s=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var a=0,l=0;a<e.length;a++,l++){var c,u,p,h,d=void 0,f=void 0,g=[],m=[],y=o.globals.comboCharts?t[a]:a,v=i.group({class:"apexcharts-series",rel:a+1,seriesName:C.escapeString(o.globals.seriesNames[y]),"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(v,y),e[a].length>0&&(this.visibleI=this.visibleI+1);var w=0,b=0;this.yRatio.length>1&&(this.yaxisIndex=y),this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();f=E.y,w=E.barHeight,u=E.yDivision,h=E.zeroW,d=E.x,b=E.barWidth,c=E.xDivision,p=E.zeroH,this.horizontal||m.push(d+b/2);for(var _=i.group({class:"apexcharts-datalabels","data:realIndex":y}),A=i.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),R=0;R<o.globals.dataPoints;R++){var T=this.barHelpers.getStrokeWidth(a,R,y),O=null,P={indexes:{i:a,j:R,realIndex:y,bc:l},x:d,y:f,strokeWidth:T,elSeries:v};this.isHorizontal?(O=this.drawBarPaths(r(r({},P),{},{barHeight:w,zeroW:h,yDivision:u})),b=this.series[a][R]/this.invertedYRatio):(O=this.drawColumnPaths(r(r({},P),{},{xDivision:c,barWidth:b,zeroH:p})),w=this.series[a][R]/this.yRatio[this.yaxisIndex]);var D=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:w,barWidth:b});D&&A.add(D),f=O.y,d=O.x,R>0&&m.push(d+b/2),g.push(f);var I=this.barHelpers.getPathFillColor(e,a,R,y);this.renderSeries({realIndex:y,pathFill:I,j:R,i:a,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:T,elSeries:v,x:d,y:f,series:e,barHeight:w,barWidth:b,elDataLabelsWrap:_,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[y]=m,o.globals.seriesYvalues[y]=g,s.add(v)}return s}},{key:"renderSeries",value:function(e){var t=e.realIndex,o=e.pathFill,i=e.lineFill,n=e.j,r=e.i,s=e.pathFrom,a=e.pathTo,l=e.strokeWidth,c=e.elSeries,u=e.x,p=e.y,h=e.y1,d=e.y2,f=e.series,g=e.barHeight,m=e.barWidth,y=e.barYPosition,v=e.elDataLabelsWrap,C=e.elGoalsMarkers,w=e.visibleSeries,S=e.type,E=this.w,_=new x(this.ctx);i||(i=this.barOptions.distributed?E.globals.stroke.colors[n]:E.globals.stroke.colors[t]),E.config.series[r].data[n]&&E.config.series[r].data[n].strokeColor&&(i=E.config.series[r].data[n].strokeColor),this.isNullValue&&(o="none");var A=_.renderPaths({i:r,j:n,realIndex:t,pathFrom:s,pathTo:a,stroke:i,strokeWidth:l,strokeLineCap:E.config.stroke.lineCap,fill:o,animationDelay:n/E.config.chart.animations.animateGradually.delay*(E.config.chart.animations.speed/E.globals.dataPoints)/2.4,initialSpeed:E.config.chart.animations.speed,dataChangeSpeed:E.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(S,"-area")});A.attr("clip-path","url(#gridRectMask".concat(E.globals.cuid,")"));var R=E.config.forecastDataPoints;R.count>0&&n>=E.globals.dataPoints-R.count&&(A.node.setAttribute("stroke-dasharray",R.dashArray),A.node.setAttribute("stroke-width",R.strokeWidth),A.node.setAttribute("fill-opacity",R.fillOpacity)),void 0!==h&&void 0!==d&&(A.attr("data-range-y1",h),A.attr("data-range-y2",d)),new b(this.ctx).setSelectionFilter(A,t,n),c.add(A);var T=new k(this).handleBarDataLabels({x:u,y:p,y1:h,y2:d,i:r,j:n,series:f,realIndex:t,barHeight:g,barWidth:m,barYPosition:y,renderedPath:A,visibleSeries:w});return null!==T&&v.add(T),c.add(v),C&&c.add(C),c}},{key:"drawBarPaths",value:function(e){var t,o=e.indexes,i=e.barHeight,n=e.strokeWidth,r=e.zeroW,s=e.y,a=e.yDivision,l=e.elSeries,c=this.w,u=o.i,p=o.j;c.globals.isXNumeric&&(s=(c.globals.seriesX[u][p]-c.globals.minX)/this.invertedXRatio-i);var h=s+i*this.visibleI;t=this.barHelpers.getXForValue(this.series[u][p],r);var d=this.barHelpers.getBarpaths({barYPosition:h,barHeight:i,x1:r,x2:t,strokeWidth:n,series:this.series,realIndex:o.realIndex,i:u,j:p,w:c});return c.globals.isXNumeric||(s+=a),this.barHelpers.barBackground({j:p,i:u,y1:h-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:d.pathTo,pathFrom:d.pathFrom,x:t,y:s,goalX:this.barHelpers.getGoalValues("x",r,null,u,p),barYPosition:h}}},{key:"drawColumnPaths",value:function(e){var t,o=e.indexes,i=e.x,n=e.xDivision,r=e.barWidth,s=e.zeroH,a=e.strokeWidth,l=e.elSeries,c=this.w,u=o.realIndex,p=o.i,h=o.j,d=o.bc;if(c.globals.isXNumeric){var f=u;c.globals.seriesX[u].length||(f=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[f][h]-c.globals.minX)/this.xRatio-r*this.seriesLen/2}var g=i+r*this.visibleI;t=this.barHelpers.getYForValue(this.series[p][h],s);var m=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:r,y1:s,y2:t,strokeWidth:a,series:this.series,realIndex:o.realIndex,i:p,j:h,w:c});return c.globals.isXNumeric||(i+=n),this.barHelpers.barBackground({bc:d,j:h,i:p,x1:g-a/2-r*this.visibleI,x2:r*this.seriesLen+a/2,elSeries:l}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:i,y:t,goalY:this.barHelpers.getGoalValues("y",null,s,p,h),barXPosition:g}}},{key:"getPreviousPath",value:function(e,t){for(var o,i=this.w,n=0;n<i.globals.previousPaths.length;n++){var r=i.globals.previousPaths[n];r.paths&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&void 0!==i.globals.previousPaths[n].paths[t]&&(o=i.globals.previousPaths[n].paths[t].d)}return o}}]),e}(),H=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(e,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var o=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var o=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(m(o.months)),r=["\x01"].concat(m(o.shortMonths)),s=["\x02"].concat(m(o.days)),a=["\x03"].concat(m(o.shortDays));function l(e,t){var o=e+"";for(t=t||2;o.length<t;)o="0"+o;return o}var c=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var u=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+r[0])).replace(/(^|[^\\])MM/g,"$1"+l(u))).replace(/(^|[^\\])M/g,"$1"+u);var p=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+a[0])).replace(/(^|[^\\])dd/g,"$1"+l(p))).replace(/(^|[^\\])d/g,"$1"+p);var h=i?e.getUTCHours():e.getHours(),d=h>12?h-12:0===h?12:h;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(h))).replace(/(^|[^\\])H/g,"$1"+h)).replace(/(^|[^\\])hh+/g,"$1"+l(d))).replace(/(^|[^\\])h/g,"$1"+d);var f=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var y=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(y,3)),y=Math.round(y/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(y)),y=Math.round(y/10);var v=h<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var C=v.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var w=-e.getTimezoneOffset(),b=i||!w?"Z":w>0?"+":"-";if(!i){var x=(w=Math.abs(w))%60;b+=l(Math.floor(w/60))+":"+l(x)}t=t.replace(/(^|[^\\])K/g,"$1"+b);var S=(i?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(s[0],"g"),s[S])).replace(new RegExp(a[0],"g"),a[S])).replace(new RegExp(n[0],"g"),n[u])).replace(new RegExp(r[0],"g"),r[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,o){var i=this.w;void 0!==i.config.xaxis.min&&(e=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(t=i.config.xaxis.max);var n=this.getDate(e),r=this.getDate(t),s=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),a=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(s[6],10),maxMillisecond:parseInt(a[6],10),minSecond:parseInt(s[5],10),maxSecond:parseInt(a[5],10),minMinute:parseInt(s[4],10),maxMinute:parseInt(a[4],10),minHour:parseInt(s[3],10),maxHour:parseInt(a[3],10),minDate:parseInt(s[2],10),maxDate:parseInt(a[2],10),minMonth:parseInt(s[1],10)-1,maxMonth:parseInt(a[1],10)-1,minYear:parseInt(s[0],10),maxYear:parseInt(a[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,o){return this.determineDaysOfMonths(e,t)-o}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,o){var i=this.daysCntOfYear[t]+o;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var o=30;switch(e=C.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(o=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:o=31}return o}}]),e}(),V=function(e){p(o,G);var t=g(o);function o(){return a(this,o),t.apply(this,arguments)}return c(o,[{key:"draw",value:function(e,t){var o=this.w,i=new x(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=o.globals.seriesRangeStart,this.seriesRangeEnd=o.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var n=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),s=0;s<e.length;s++){var a,l,c,u=void 0,p=void 0,h=void 0,d=o.globals.comboCharts?t[s]:s,f=i.group({class:"apexcharts-series",seriesName:C.escapeString(o.globals.seriesNames[d]),rel:s+1,"data:realIndex":d});this.ctx.series.addCollapsedClassToSeries(f,d),e[s].length>0&&(this.visibleI=this.visibleI+1);var g=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=d);var y=this.barHelpers.initialPositions();p=y.y,c=y.zeroW,u=y.x,m=y.barWidth,a=y.xDivision,l=y.zeroH;for(var v=i.group({class:"apexcharts-datalabels","data:realIndex":d}),w=i.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),b=0;b<o.globals.dataPoints;b++){var S=this.barHelpers.getStrokeWidth(s,b,d),E=this.seriesRangeStart[s][b],_=this.seriesRangeEnd[s][b],A=null,R=null,T={x:u,y:p,strokeWidth:S,elSeries:f};if(h=y.yDivision,g=y.barHeight,this.isHorizontal){R=p+g*this.visibleI;var O=this.seriesLen;o.config.plotOptions.bar.rangeBarGroupRows&&(O=1);var P=(h-g*O)/2;if(void 0===o.config.series[s].data[b])break;if(o.config.series[s].data[b].x){var D=this.detectOverlappingBars({i:s,j:b,barYPosition:R,srty:P,barHeight:g,yDivision:h,initPositions:y});g=D.barHeight,R=D.barYPosition}m=(A=this.drawRangeBarPaths(r({indexes:{i:s,j:b,realIndex:d},barHeight:g,barYPosition:R,zeroW:c,yDivision:h,y1:E,y2:_},T))).barWidth}else g=(A=this.drawRangeColumnPaths(r({indexes:{i:s,j:b,realIndex:d},zeroH:l,barWidth:m,xDivision:a},T))).barHeight;var I=this.barHelpers.drawGoalLine({barXPosition:A.barXPosition,barYPosition:R,goalX:A.goalX,goalY:A.goalY,barHeight:g,barWidth:m});I&&w.add(I),p=A.y,u=A.x;var M=this.barHelpers.getPathFillColor(e,s,b,d);this.renderSeries({realIndex:d,pathFill:M,lineFill:o.globals.stroke.colors[d],j:b,i:s,x:u,y:p,y1:E,y2:_,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:S,elSeries:f,series:e,barHeight:g,barYPosition:R,barWidth:m,elDataLabelsWrap:v,elGoalsMarkers:w,visibleSeries:this.visibleI,type:"rangebar"})}n.add(f)}return n}},{key:"detectOverlappingBars",value:function(e){var t=e.i,o=e.j,i=e.barYPosition,n=e.srty,r=e.barHeight,s=e.yDivision,a=e.initPositions,l=this.w,c=[],u=l.config.series[t].data[o].rangeName,p=l.config.series[t].data[o].x,h=l.globals.labels.indexOf(p),d=l.globals.seriesRangeBar[t].findIndex(function(e){return e.x===p&&e.overlaps.length>0});return i=l.config.plotOptions.bar.rangeBarGroupRows?n+s*h:n+r*this.visibleI+s*h,d>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRangeBar[t][d].overlaps).indexOf(u)>-1&&(i=(r=a.barHeight/c.length)*this.visibleI+s*(100-parseInt(this.barOptions.barHeight,10))/100/2+r*(this.visibleI+c.indexOf(u))+s*h),{barYPosition:i,barHeight:r}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,o=e.x,i=e.xDivision,n=e.barWidth,r=e.zeroH,s=this.w,a=t.i,l=t.j,c=this.yRatio[this.yaxisIndex],u=t.realIndex,p=this.getRangeValue(u,l),h=Math.min(p.start,p.end),d=Math.max(p.start,p.end);s.globals.isXNumeric&&(o=(s.globals.seriesX[a][l]-s.globals.minX)/this.xRatio-n/2);var f=o+n*this.visibleI;null==this.series[a][l]?h=r:(h=r-h/c,d=r-d/c);var g=Math.abs(d-h),m=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:n,y1:h,y2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:u,j:l,w:s});return s.globals.isXNumeric||(o+=i),{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:g,x:o,y:d,goalY:this.barHelpers.getGoalValues("y",null,r,a,l),barXPosition:f}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,o=e.y,i=e.yDivision,n=e.barHeight,r=e.barYPosition,s=e.zeroW,a=this.w,l=s+e.y1/this.invertedYRatio,c=s+e.y2/this.invertedYRatio,u=Math.abs(c-l),p=this.barHelpers.getBarpaths({barYPosition:r,barHeight:n,x1:l,x2:c,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:a});return a.globals.isXNumeric||(o+=i),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:u,x:c,goalX:this.barHelpers.getGoalValues("x",s,null,t.realIndex,t.j),y:o}}},{key:"getRangeValue",value:function(e,t){var o=this.w;return{start:o.globals.seriesRangeStart[e][t],end:o.globals.seriesRangeEnd[e][t]}}},{key:"getTooltipValues",value:function(e){var t=e.ctx,o=e.seriesIndex,i=e.dataPointIndex,n=e.y1,r=e.y2,s=e.w,a=s.globals.seriesRangeStart[o][i],l=s.globals.seriesRangeEnd[o][i],c=s.globals.labels[i],u=s.config.series[o].name?s.config.series[o].name:"",p=s.config.tooltip.y.formatter,h=s.config.tooltip.y.title.formatter,d={w:s,seriesIndex:o,dataPointIndex:i,start:a,end:l};"function"==typeof h&&(u=h(u,d)),Number.isFinite(n)&&Number.isFinite(r)&&(a=n,l=r,s.config.series[o].data[i].x&&(c=s.config.series[o].data[i].x+":"),"function"==typeof p&&(c=p(c,d)));var f="",g="",m=s.globals.colors[o];if(void 0===s.config.tooltip.x.formatter)if("datetime"===s.config.xaxis.type){var y=new H(t);f=y.formatDate(y.getDate(a),s.config.tooltip.x.format),g=y.formatDate(y.getDate(l),s.config.tooltip.x.format)}else f=a,g=l;else f=s.config.tooltip.x.formatter(a),g=s.config.tooltip.x.formatter(l);return{start:a,end:l,startVal:f,endVal:g,ylabel:c,color:m,seriesName:u}}},{key:"buildCustomTooltipHTML",value:function(e){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e.color+'">'+(e.seriesName||"")+'</span></div><div> <span class="category">'+e.ylabel+' </span> <span class="value start-value">'+e.start+'</span> <span class="separator">-</span> <span class="value end-value">'+e.end+"</span></div></div>"}}]),o}(),W=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,C.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){var o=t.seriesIndex,i=t.dataPointIndex,n=t.w;return n.globals.seriesRangeEnd[o][i]-n.globals.seriesRangeStart[o][i]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=new V(e.ctx,null),o=t.getTooltipValues(e);return t.buildCustomTooltipHTML({color:o.color,seriesName:o.seriesName,ylabel:o.ylabel,start:o.startVal,end:o.endVal})}(e):function(e){var t=new V(e.ctx,null),o=t.getTooltipValues(e);return t.buildCustomTooltipHTML({color:o.color,seriesName:o.seriesName,ylabel:o.ylabel,start:o.start,end:o.end})}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(e){return C.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(t,o){e.yaxis[o].min=0,e.yaxis[o].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,o){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return C.isNumber(e)?Math.floor(e):e};var i=e.xaxis.labels.formatter,n=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return o&&o.length&&(n=o.map(function(e){return Array.isArray(e)?e:String(e)})),n&&n.length&&(e.xaxis.labels.formatter=function(e){return C.isNumber(e)?i(n[Math.floor(e)-1]):i(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,o,i,n){var r=e.globals.seriesCandleO[t][o],s=e.globals.seriesCandleH[t][o],a=e.globals.seriesCandleM[t][o],l=e.globals.seriesCandleL[t][o],c=e.globals.seriesCandleC[t][o];return e.config.series[t].type&&e.config.series[t].type!==n?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][o],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+r+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+s+"</span></div>"+(a?"<div>".concat(i[2],': <span class="value">')+a+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),B=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"init",value:function(e){var t=e.responsiveOverride,o=this.opts,i=new O,n=new W(o);this.chartType=o.chart.type,"histogram"===this.chartType&&(o.chart.type="bar",o=C.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},o)),o=this.extendYAxis(o),o=this.extendAnnotations(o);var r=i.init(),a={};if(o&&"object"===s(o)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)?n[o.chart.type]():n.line(),o.chart.brush&&o.chart.brush.enabled&&(l=n.brush(l)),o.chart.stacked&&"100%"===o.chart.stackType&&(o=n.stacked100(o)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},t||(o.xaxis.convertedCatToNumeric=!1),((o=this.checkForCatToNumericXAxis(this.chartType,l,o)).chart.sparkline&&o.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=n.sparkline(l)),a=C.extend(r,l)}var c=C.extend(a,window.Apex);return r=C.extend(c,o),this.handleUserInputErrors(r)}},{key:"checkForCatToNumericXAxis",value:function(e,t,o){var i=new W(o);return("bar"===e||"boxPlot"===e)&&o.plotOptions&&o.plotOptions.bar&&o.plotOptions.bar.horizontal||"pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e||!("datetime"!==o.xaxis.type&&"numeric"!==o.xaxis.type)||"between"===(o.xaxis.tickPlacement?o.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement)||(o=i.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(e,t){var o=new O;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=C.extend(e.yaxis,window.Apex.yaxis)),e.yaxis=e.yaxis.constructor!==Array?[C.extend(o.yAxis,e.yaxis)]:C.extendArray(e.yaxis,o.yAxis);var i=!1;e.yaxis.forEach(function(e){e.logarithmic&&(i=!0)});var n=e.series;return t&&!n&&(n=t.config.series),i&&n.length!==e.yaxis.length&&n.length&&(e.yaxis=n.map(function(t,i){if(t.name||(n[i].name="series-".concat(i+1)),e.yaxis[i])return e.yaxis[i].seriesName=n[i].name,e.yaxis[i];var r=C.extend(o.yAxis,e.yaxis[0]);return r.show=!1,r})),i&&n.length>1&&n.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new O;return e.annotations.yaxis=C.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new O;return e.annotations.xaxis=C.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new O;return e.annotations.points=C.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),j=function(){function e(){a(this,e)}return c(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRangeBar=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasGroups=!1,e.groups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.xaxisLabelsCount=0,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=C.extend({},e),t.initialSeries=C.clone(e.series),t.lastXAxis=C.clone(t.initialConfig.xaxis),t.lastYAxis=C.clone(t.initialConfig.yaxis),t}}]),e}(),z=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"init",value:function(){var e=new B(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new j).init(e)}}}]),e}(),U=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return c(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new L(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new L(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!=e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var o=this.w.config,i=this.w.globals,n="boxPlot"===o.chart.type||"boxPlot"===o.series[t].type,r=0;r<e[t].data.length;r++)if(void 0!==e[t].data[r][1]&&(Array.isArray(e[t].data[r][1])&&4===e[t].data[r][1].length&&!n?this.twoDSeries.push(C.parseNumber(e[t].data[r][1][3])):this.twoDSeries.push(C.parseNumber(e[t].data[r].length>=5?e[t].data[r][4]:e[t].data[r][1])),i.dataFormatXNumeric=!0),"datetime"===o.xaxis.type){var s=new Date(e[t].data[r][0]);s=new Date(s).getTime(),this.twoDSeriesX.push(s)}else this.twoDSeriesX.push(e[t].data[r][0]);for(var a=0;a<e[t].data.length;a++)void 0!==e[t].data[a][2]&&(this.threeDSeries.push(e[t].data[a][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var o=this.w.config,i=this.w.globals,n=new H(this.ctx),r=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(r=this.activeSeriesIndex);for(var s=0;s<e[t].data.length;s++)void 0!==e[t].data[s].y&&(Array.isArray(e[t].data[s].y)?this.twoDSeries.push(C.parseNumber(e[t].data[s].y[e[t].data[s].y.length-1])):this.twoDSeries.push(C.parseNumber(e[t].data[s].y))),void 0!==e[t].data[s].goals&&Array.isArray(e[t].data[s].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[s].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var a=0;a<e[r].data.length;a++){var l="string"==typeof e[r].data[a].x,c=Array.isArray(e[r].data[a].x),u=!c&&!!n.isValidDate(e[r].data[a].x.toString());l||u?l||o.xaxis.convertedCatToNumeric?"datetime"!==o.xaxis.type||i.isBarHorizontal&&i.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[r].data[a].x)):this.twoDSeriesX.push(n.parseDate(e[r].data[a].x)):"datetime"===o.xaxis.type?this.twoDSeriesX.push(n.parseDate(e[r].data[a].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[r].data[a].x))):c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[r].data[a].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[r].data[a].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var o=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),o.seriesRangeStart.push(i.start),o.seriesRangeEnd.push(i.end),o.seriesRangeBar.push(i.rangeUniques),o.seriesRangeBar.forEach(function(e,t){e&&e.forEach(function(e,t){e.y.forEach(function(t,o){for(var i=0;i<e.y.length;i++)o!==i&&t.y1<=e.y[i].y2&&e.y[i].y1<=t.y2&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[i].rangeName)<0&&e.overlaps.push(e.y[i].rangeName))})})}),i}},{key:"handleCandleStickBoxData",value:function(e,t){var o=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),o.seriesCandleO[t]=i.o,o.seriesCandleH[t]=i.h,o.seriesCandleM[t]=i.m,o.seriesCandleL[t]=i.l,o.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,o){var i=[],n=[],r=t[o].data.filter(function(e,t,o){return t===o.findIndex(function(t){return t.x===e.x})}).map(function(e,t){return{x:e.x,overlaps:[],y:[]}}),s="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",a=new L(this.ctx).getActiveConfigSeriesIndex();if("array"===e){if(2!==t[a].data[0][1].length)throw new Error(s);for(var l=0;l<t[o].data.length;l++)i.push(t[o].data[l][1][0]),n.push(t[o].data[l][1][1])}else if("xy"===e){if(2!==t[a].data[0].y.length)throw new Error(s);for(var c=function(e){var s=C.randomId(),a=t[o].data[e].x,l={y1:t[o].data[e].y[0],y2:t[o].data[e].y[1],rangeName:s};t[o].data[e].rangeName=s;var c=r.findIndex(function(e){return e.x===a});r[c].y.push(l),i.push(l.y1),n.push(l.y2)},u=0;u<t[o].data.length;u++)c(u)}return{start:i,end:n,rangeUniques:r}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,o){var i=this.w,n="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[o].type,r=[],s=[],a=[],l=[],c=[];if("array"===e)if(n&&6===t[o].data[0].length||!n&&5===t[o].data[0].length)for(var u=0;u<t[o].data.length;u++)r.push(t[o].data[u][1]),s.push(t[o].data[u][2]),n?(a.push(t[o].data[u][3]),l.push(t[o].data[u][4]),c.push(t[o].data[u][5])):(l.push(t[o].data[u][3]),c.push(t[o].data[u][4]));else for(var p=0;p<t[o].data.length;p++)Array.isArray(t[o].data[p][1])&&(r.push(t[o].data[p][1][0]),s.push(t[o].data[p][1][1]),n?(a.push(t[o].data[p][1][2]),l.push(t[o].data[p][1][3]),c.push(t[o].data[p][1][4])):(l.push(t[o].data[p][1][2]),c.push(t[o].data[p][1][3])));else if("xy"===e)for(var h=0;h<t[o].data.length;h++)Array.isArray(t[o].data[h].y)&&(r.push(t[o].data[h].y[0]),s.push(t[o].data[h].y[1]),n?(a.push(t[o].data[h].y[2]),l.push(t[o].data[h].y[3]),c.push(t[o].data[h].y[4])):(l.push(t[o].data[h].y[2]),c.push(t[o].data[h].y[3])));return{o:r,h:s,m:a,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,i=this.w.config,n=this.w.globals,r=new H(o),s=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();n.isRangeBar="rangeBar"===i.chart.type&&n.isBarHorizontal,n.hasGroups="category"===i.xaxis.type&&i.xaxis.group.groups.length>0,n.hasGroups&&(n.groups=i.xaxis.group.groups);for(var a=function(){for(var e=0;e<s.length;e++)if("string"==typeof s[e]){if(!r.isValidDate(s[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(r.parseDate(s[e]))}else t.twoDSeriesX.push(s[e])},l=0;l<e.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type&&"rangeBar"!==e[l].type&&"rangeArea"!==e[l].type||(n.isRangeData=!0,this.handleRangeData(e,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,l):this.isFormatXY()&&this.handleFormatXY(e,l),"candlestick"!==i.chart.type&&"candlestick"!==e[l].type&&"boxPlot"!==i.chart.type&&"boxPlot"!==e[l].type||this.handleCandleStickBoxData(e,l),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{"datetime"===i.xaxis.type?(n.isXNumeric=!0,a(),n.seriesX.push(this.twoDSeriesX)):"numeric"===i.xaxis.type&&(n.isXNumeric=!0,s.length>0&&(this.twoDSeriesX=s,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var c=e[l].data.map(function(e){return C.parseNumber(e)});n.series.push(c)}n.seriesZ.push(this.threeDSeries),n.seriesNames.push(void 0!==e[l].name?e[l].name:"series-"+parseInt(l+1,10)),n.seriesColors.push(void 0!==e[l].color?e[l].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,o=this.w.config;t.series=e.slice(),t.seriesNames=o.labels.slice();for(var i=0;i<t.series.length;i++)void 0===t.seriesNames[i]&&t.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,o=this.w.globals;t.xaxis.categories.length>0?o.labels=t.xaxis.categories:t.labels.length>0?o.labels=t.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRangeBar.length&&(o.seriesRangeBar.map(function(e){e.forEach(function(e){o.labels.indexOf(e.x)<0&&e.x&&o.labels.push(e.x)})}),o.labels=o.labels.filter(function(e,t,o){return o.indexOf(e)===t})),t.xaxis.convertedCatToNumeric&&(new W(t).convertCatToNumericXaxis(t,this.ctx,o.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,o=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var n=o.series.map(function(e,t){return e.data.filter(function(e,t,o){return o.findIndex(function(t){return t.x===e.x})===t})}),r=n.reduce(function(e,t,o,i){return i[e].length>t.length?e:o},0),s=0;s<n[r].length;s++)i.push(s+1);else for(var a=0;a<t.series[t.maxValsInArrayIndex].length;a++)i.push(a+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(i);t.isXNumeric=!0}if(0===i.length){i=t.axisCharts?[]:t.series.map(function(e,t){return t+1});for(var c=0;c<e.length;c++)t.seriesX.push(i)}t.labels=i,o.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map(function(e){return o.xaxis.labels.formatter(e)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,o=t.config,i=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?this.parseDataAxisCharts(e):this.parseDataNonAxisCharts(e),this.coreUtils.getLargestSeries(),"bar"===o.chart.type&&o.chart.stacked){var n=new L(this.ctx);i.series=n.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==o.xaxis.type||0!==o.labels.length||0!==o.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var r=this.coreUtils.getCategoryLabels(i.labels),s=0;s<r.length;s++)if(Array.isArray(r[s])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map(function(o,i){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return o.index})}}]),e}(),Y=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return c(e,[{key:"xLabelFormat",value:function(e,t,o,i){var n=this.w;if("datetime"===n.config.xaxis.type&&void 0===n.config.xaxis.labels.formatter&&void 0===n.config.tooltip.x.formatter){var r=new H(this.ctx);return r.formatDate(r.getDate(t),n.config.tooltip.x.format)}return e(t,o,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(e){return e}):e}},{key:"defaultYFormatter",value:function(e,t,o){var i=this.w;return C.isNumber(e)&&(e=e.toFixed(0!==i.globals.yValueDecimal?void 0!==t.decimalsInFloat?t.decimalsInFloat:i.globals.yValueDecimal:i.globals.maxYArr[o]-i.globals.minYArr[o]<5?1:0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.xLabelFormatter=void 0!==t.config.xaxis.labels.formatter?t.config.xaxis.labels.formatter:function(e){if(C.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(C.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var o=t.globals.maxX-t.globals.minX;return e.toFixed(o>0&&o<100?1:0)}return e.toFixed(t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?1:0)}return e},t.globals.ttKeyFormatter="function"==typeof t.config.tooltip.x.formatter?t.config.tooltip.x.formatter:t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(o,i){t.globals.yLabelFormatters[i]=void 0!==o.labels.formatter?o.labels.formatter:function(n){return t.globals.xyCharts?Array.isArray(n)?n.map(function(t){return e.defaultYFormatter(t,o,i)}):e.defaultYFormatter(n,o,i):n}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(e,t){return e.length>t.length?e:t},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),X=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getLabel",value:function(e,t,o,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=this.w,l=void 0===e[i]?"":e[i],c=l,u=a.globals.xLabelFormatter,p=a.config.xaxis.labels.formatter,h=!1,d=new Y(this.ctx),f=l;s&&(c=d.xLabelFormat(u,l,f,{i:i,dateFormatter:new H(this.ctx).formatDate,w:a}),void 0!==p&&(c=p(l,e[i],{i:i,dateFormatter:new H(this.ctx).formatDate,w:a})));var g=function(e){var o=null;return t.forEach(function(e){"month"===e.unit?o="year":"day"===e.unit?o="month":"hour"===e.unit?o="day":"minute"===e.unit&&(o="hour")}),o===e};t.length>0?(h=g(t[i].unit),o=t[i].position,c=t[i].value):"datetime"===a.config.xaxis.type&&void 0===p&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var m=new x(this.ctx),y={};y=a.globals.rotateXLabels&&s?m.getTextRects(c,parseInt(r,10),null,"rotate(".concat(a.config.xaxis.labels.rotate," 0 0)"),!1):m.getTextRects(c,parseInt(r,10));var v=!a.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||n.indexOf(c)>=0&&v)&&(c=""),{x:o,text:c,textRect:y,isBold:h}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,o){var i=this.w,n=i.config.xaxis.tickAmount;return"dataPoints"===n&&(n=Math.round(i.globals.gridWidth/120)),n>o||e%Math.round(o/(n+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,o,i,n){var r=this.w;if(0===e&&r.globals.skipFirstTimelinelabel&&(t.text=""),e===o-1&&r.globals.skipLastTimelinelabel&&(t.text=""),r.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var s=n[n.length-1];t.x<s.textRect.width/(r.globals.rotateXLabels?Math.abs(r.config.xaxis.labels.rotate)/12:1.01)+s.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var o=this.w;return o.config.yaxis[e]&&o.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,o=new S(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&o.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var o=this.w;return Array.isArray(e)&&o.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,o.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,o,i,n,r,s){var a=this.w,l=new x(this.ctx),c=a.globals.translateY;if(i.show&&t>0){!0===a.config.yaxis[n].opposite&&(e+=i.width);for(var u=t;u>=0;u--){var p=c+t/10+a.config.yaxis[n].labels.offsetY-1;a.globals.isBarHorizontal&&(p=r*u),"heatmap"===a.config.chart.type&&(p+=r/2);var h=l.drawLine(e+o.offsetX-i.width+i.offsetX,p+i.offsetY,e+o.offsetX+i.offsetX,p+i.offsetY,i.color);s.add(h),c+=r}}}}]),e}(),q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"scaleSvgNode",value:function(e,t){var o=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",o*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+o+" "+i)}},{key:"fixSvgStringForIe11",value:function(e){if(!C.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,o=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(e){return 2==++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e});return(o=o.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var o=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(o,e),t=(new XMLSerializer).serializeToString(o)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,function(e){e.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(o){var i=t.w,n=e?e.scale||e.width/i.globals.svgWidth:1;t.cleanup();var r=document.createElement("canvas");r.width=i.globals.svgWidth*n,r.height=parseInt(i.globals.dom.elWrap.style.height,10)*n;var s="transparent"===i.config.chart.background?"#fff":i.config.chart.background,a=r.getContext("2d");a.fillStyle=s,a.fillRect(0,0,r.width*n,r.height*n);var l=t.getSvgString(n);if(window.canvg&&C.isIE11()){var c=window.canvg.Canvg.fromString(a,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var u=r.msToBlob();c.stop(),o({blob:u})}else{var p="data:image/svg+xml,"+encodeURIComponent(l),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(a.drawImage(h,0,0),r.msToBlob){var e=r.msToBlob();o({blob:e})}else{var t=r.toDataURL("image/png");o({imgURI:t})}},h.src=p}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then(function(t){var o=t.imgURI,i=t.blob;i?navigator.msSaveOrOpenBlob(i,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,o=e.series,i=e.columnDelimiter,n=e.lineDelimiter,r=void 0===n?"\n":n,s=this.w,a=[],l=[],c="",u=new U(this.ctx),p=new X(this.ctx),h=function(e){var o="";if(s.globals.axisCharts){if("category"===s.config.xaxis.type||s.config.xaxis.convertedCatToNumeric)if(s.globals.isBarHorizontal){var n=s.globals.yLabelFormatters[0],r=new L(t.ctx).getActiveConfigSeriesIndex();o=n(s.globals.labels[e],{seriesIndex:r,dataPointIndex:e,w:s})}else o=p.getLabel(s.globals.labels,s.globals.timescaleLabels,0,e).text;"datetime"===s.config.xaxis.type&&(s.config.xaxis.categories.length?o=s.config.xaxis.categories[e]:s.config.labels.length&&(o=s.config.labels[e]))}else o=s.config.labels[e];return Array.isArray(o)&&(o=o.join(" ")),C.isNumber(o)?o:o.split(i).join("")};a.push(s.config.chart.toolbar.export.csv.headerCategory),o.map(function(e,t){var o=e.name?e.name:"series-".concat(t);s.globals.axisCharts&&a.push(o.split(i).join("")?o.split(i).join(""):"series-".concat(t))}),s.globals.axisCharts||(a.push(s.config.chart.toolbar.export.csv.headerValue),l.push(a.join(i))),o.map(function(e,t){s.globals.axisCharts?function(e,t){if(a.length&&0===t&&l.push(a.join(i)),e.data&&e.data.length)for(var n=0;n<e.data.length;n++){a=[];var r=h(n);if(r||(u.isFormatXY()?r=o[t].data[n].x:u.isFormat2DArray()&&(r=o[t].data[n]?o[t].data[n][0]:"")),0===t){a.push("datetime"===s.config.xaxis.type&&String(r).length>=10?s.config.chart.toolbar.export.csv.dateFormatter(r):C.isNumber(r)?r:r.split(i).join(""));for(var c=0;c<s.globals.series.length;c++)a.push(s.globals.series[c][n])}("candlestick"===s.config.chart.type||e.type&&"candlestick"===e.type)&&(a.pop(),a.push(s.globals.seriesCandleO[t][n]),a.push(s.globals.seriesCandleH[t][n]),a.push(s.globals.seriesCandleL[t][n]),a.push(s.globals.seriesCandleC[t][n])),("boxPlot"===s.config.chart.type||e.type&&"boxPlot"===e.type)&&(a.pop(),a.push(s.globals.seriesCandleO[t][n]),a.push(s.globals.seriesCandleH[t][n]),a.push(s.globals.seriesCandleM[t][n]),a.push(s.globals.seriesCandleL[t][n]),a.push(s.globals.seriesCandleC[t][n])),"rangeBar"===s.config.chart.type&&(a.pop(),a.push(s.globals.seriesRangeStart[t][n]),a.push(s.globals.seriesRangeEnd[t][n])),a.length&&l.push(a.join(i))}}(e,t):((a=[]).push(s.globals.labels[t].split(i).join("")),a.push(s.globals.series[t]),l.push(a.join(i)))}),c+=l.join(r),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+c),s.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,o){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+o,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),e}(),Z=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.axesUtils=new X(t),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===o.config.xaxis.position?0:o.globals.gridHeight+1,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===o.config.chart.type&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return c(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new x(this.ctx),o=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});o.add(i);for(var n=[],r=0;r<this.xaxisLabels.length;r++)n.push(this.xaxisLabels[r]);if(this.drawXAxisLabelAndGroup(!0,t,i,n,e.globals.isXNumeric,function(e,t){return t}),e.globals.hasGroups){var s=e.globals.groups;n=[];for(var a=0;a<s.length;a++)n.push(s[a].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,n,!1,function(e,t){return s[e].cols*t},l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),u=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(u),o.add(c)}if(e.config.xaxis.axisBorder.show){var p=e.globals.barPadForNumericAxis,h=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);o.add(h)}return o}},{key:"drawXAxisLabelAndGroup",value:function(e,t,o,i,n,r){var s,a=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],u=[],p=this.w,h=l.xaxisFontSize||this.xaxisFontSize,d=l.xaxisFontFamily||this.xaxisFontFamily,f=l.xaxisForeColors||this.xaxisForeColors,g=l.fontWeight||p.config.xaxis.labels.style.fontWeight,m=l.cssClass||p.config.xaxis.labels.style.cssClass,y=p.globals.padHorizontal,v=i.length,C="category"===p.config.xaxis.type?p.globals.dataPoints:v;if(n){var w=C>1?C-1:C;y=y+r(0,s=p.globals.gridWidth/w)/2+p.config.xaxis.labels.offsetX}else y=y+r(0,s=p.globals.gridWidth/C)+p.config.xaxis.labels.offsetX;for(var b=function(n){var l=y-r(n,s)/2+p.config.xaxis.labels.offsetX;0===n&&1===v&&s/2===y&&1===C&&(l=p.globals.gridWidth/2);var w=a.axesUtils.getLabel(i,p.globals.timescaleLabels,l,n,c,h,e),b=28;if(p.globals.rotateXLabels&&e&&(b=22),e||(b=b+parseFloat(h)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),w=void 0!==p.config.xaxis.tickAmount&&"dataPoints"!==p.config.xaxis.tickAmount&&"datetime"!==p.config.xaxis.type?a.axesUtils.checkLabelBasedOnTickamount(n,w,v):a.axesUtils.checkForOverflowingLabels(n,w,v,c,u),e&&w.text&&p.globals.xaxisLabelsCount++,p.config.xaxis.labels.show){var x=t.drawText({x:w.x,y:a.offY+p.config.xaxis.labels.offsetY+b-("top"===p.config.xaxis.position?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:w.text,textAnchor:"middle",fontWeight:w.isBold?600:g,fontSize:h,fontFamily:d,foreColor:Array.isArray(f)?e&&p.config.xaxis.convertedCatToNumeric?f[p.globals.minX+n-1]:f[n]:f,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+m});if(o.add(x),e){var S=document.createElementNS(p.globals.SVGNS,"title");S.textContent=Array.isArray(w.text)?w.text.join(" "):w.text,x.node.appendChild(S),""!==w.text&&(c.push(w.text),u.push(w))}}n<v-1&&(y+=r(n+1,s))},x=0;x<=v-1;x++)b(x)}},{key:"drawXaxisInversed",value:function(e){var t,o,i=this,n=this.w,r=new x(this.ctx),s=n.config.yaxis[0].opposite?n.globals.translateYAxisX[e]:0,a=r.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=r.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+s+", 0)"});a.add(l);var c=[];if(n.config.yaxis[e].show)for(var u=0;u<this.xaxisLabels.length;u++)c.push(this.xaxisLabels[u]);o=-(t=n.globals.gridHeight/c.length)/2.2;var p=n.globals.yLabelFormatters[0],h=n.config.yaxis[0].labels;if(h.show)for(var d=function(s){var a=void 0===c[s]?"":c[s];a=p(a,{seriesIndex:e,dataPointIndex:s,w:n});var u=i.axesUtils.getYAxisForeColor(h.style.colors,e),d=0;Array.isArray(a)&&(d=a.length/2*parseInt(h.style.fontSize,10));var f=r.drawText({x:h.offsetX-15,y:o+t+h.offsetY-d,text:a,textAnchor:i.yaxis.opposite?"start":"end",foreColor:Array.isArray(u)?u[s]:u,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass});l.add(f);var g=document.createElementNS(n.globals.SVGNS,"title");if(g.textContent=Array.isArray(a)?a.join(" "):a,f.node.appendChild(g),0!==n.config.yaxis[e].labels.rotate){var m=r.rotateAroundCenter(f.node);f.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," 0 ").concat(m.y,")"))}o+=t},f=0;f<=c.length-1;f++)d(f);if(void 0!==n.config.yaxis[0].title.text){var g=r.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+s+", 0)"}),m=r.drawText({x:0,y:n.globals.gridHeight/2,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});g.add(m),a.add(g)}var y=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(y=n.globals.gridWidth);var v=n.config.xaxis.axisBorder;if(v.show){var C=r.drawLine(n.globals.padHorizontal+v.offsetX+y,1+v.offsetY,n.globals.padHorizontal+v.offsetX+y,n.globals.gridHeight+v.offsetY,v.color,0);a.add(C)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,c.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,t,a),a}},{key:"drawXaxisTicks",value:function(e,t,o){var i=this.w,n=e;if(!(e<0||e-2>i.globals.gridWidth)){var r=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+r+i.config.xaxis.axisTicks.height,"top"===i.config.xaxis.position&&(t=r-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var s=new x(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,n+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);o.add(s),s.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],o=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var n=0;n<o;n++)t.push(i=this.xaxisLabels[n].position);else for(var r=o,s=0;s<r;s++){var a=r;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(a-=1),t.push(i+=e.globals.gridWidth/a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new x(this.ctx),o=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var s=0;s<i.length;s++){var a=t.rotateAroundCenter(i[s]);a.y=a.y-1,a.x=a.x+1,i[s].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(a.x," ").concat(a.y,")")),i[s].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")")),e.config.xaxis.labels.trim&&Array.prototype.forEach.call(i[s].childNodes,function(o){t.placeTextWithEllipsis(o,o.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var o=e.globals.gridWidth/(e.globals.labels.length+1),n=0;n<i.length;n++)e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(i[n].childNodes,function(e){t.placeTextWithEllipsis(e,e.textContent,o)})}();if(n.length>0){var l=n[n.length-1].getBBox(),c=n[0].getBBox();l.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),c.x+c.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var u=0;u<r.length;u++)t.placeTextWithEllipsis(r[u],r[u].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),K=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.xaxisLabels=o.globals.labels.slice(),this.axesUtils=new X(t),this.isRangeBar=o.globals.seriesRangeBar.length,o.globals.timescaleLabels.length>0&&(this.xaxisLabels=o.globals.timescaleLabels.slice())}return c(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,o=new x(this.ctx);null===e&&(e=o.group({class:"apexcharts-grid"}));var i=o.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),n=o.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(n),e.add(i),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,o=new x(this.ctx),i=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var n=0;e.config.stroke.width.forEach(function(e){n=Math.max(n,e)}),i=n}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var r=e.config.chart.type,s=0,a=0;("bar"===r||"rangeBar"===r||"candlestick"===r||"boxPlot"===r||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=e.config.grid.padding.right,t.barPadForNumericAxis>(s=e.config.grid.padding.left)&&(s=t.barPadForNumericAxis,a=t.barPadForNumericAxis)),t.dom.elGridRect=o.drawRect(-i/2-s-2,-i/2,t.gridWidth+i+a+s+4,t.gridHeight+i,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=o.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask),c.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,o=e.x1,i=this.w;if(!(0===t&&i.globals.skipFirstTimelinelabel||t===e.xCount-1&&i.globals.skipLastTimelinelabel&&!i.config.xaxis.labels.formatter||"radar"===i.config.chart.type)){i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:o,y1:e.y1,x2:e.x2,y2:e.y2,parent:e.parent});var n=0;if(i.globals.hasGroups&&"between"===i.config.xaxis.tickPlacement){var r=i.globals.groups;if(r){for(var s=0,a=0;s<t&&a<r.length;a++)s+=r[a].cols;s===t&&(n=.6*i.globals.xAxisLabelsHeight)}}new Z(this.ctx).drawXaxisTicks(o,n,this.elg)}}},{key:"_drawGridLine",value:function(e){var t=e.x1,o=e.y1,i=e.x2,n=e.y2,r=e.parent,s=this.w,a=r.node.classList.contains("apexcharts-gridlines-horizontal"),l=s.config.grid.strokeDashArray,c=s.globals.barPadForNumericAxis,u=new x(this).drawLine(t-(a?c:0),o,i+(a?c:0),n,s.config.grid.borderColor,l);u.node.classList.add("apexcharts-gridline"),r.add(u)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,o=e.x1,i=e.y1,n=e.x2,r=e.y2,s=e.type,a=this.w,l=new x(this.ctx),c=a.globals.barPadForNumericAxis;if("column"!==s||"datetime"!==a.config.xaxis.type){var u=l.drawRect(o-("row"===s?c:0),i,n+("row"===s?2*c:0),r,0,a.config.grid[s].colors[t],a.config.grid[s].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(s))}}},{key:"_drawXYLines",value:function(e){var t=this,o=e.xCount,i=e.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var r,s=n.globals.padHorizontal,a=n.globals.gridHeight;n.globals.timescaleLabels.length?function(e){for(var i=e.xC,n=e.y1,r=e.y2,s=0;s<i;s++)t._drawGridLines({i:s,x1:t.xaxisLabels[s].position,y1:n,x2:t.xaxisLabels[s].position,y2:r,xCount:o,parent:t.elgridLinesV})}({xC:o,x1:s,y1:0,x2:r,y2:a}):(n.globals.isXNumeric&&(o=n.globals.xAxisScale.result.length),n.config.xaxis.convertedCatToNumeric&&(o=n.globals.xaxisLabelsCount),function(e){var i=e.xC,r=e.x1,s=e.y1,a=e.x2,l=e.y2;if(void 0!==n.config.xaxis.tickAmount&&"dataPoints"!==n.config.xaxis.tickAmount&&"on"===n.config.xaxis.tickPlacement)n.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(e,i){var n=e.getBBox();t._drawGridLines({i:i,x1:n.x+n.width/2,y1:s,x2:n.x+n.width/2,y2:l,xCount:o,parent:t.elgridLinesV})});else for(var c=0;c<i+(n.globals.isXNumeric?0:1);c++)0===c&&1===i&&1===n.globals.dataPoints&&(a=r=n.globals.gridWidth/2),t._drawGridLines({i:c,x1:r,y1:s,x2:a,y2:l,xCount:o,parent:t.elgridLinesV}),a=r+=n.globals.gridWidth/(n.globals.isXNumeric?i-1:i)}({xC:o,x1:s,y1:0,x2:r,y2:a}))}if(n.config.grid.yaxis.lines.show){var l=0,c=0,u=n.globals.gridWidth,p=i+1;this.isRangeBar&&(p=n.globals.labels.length);for(var h=0;h<p+(this.isRangeBar?1:0);h++)this._drawGridLine({x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=n.globals.gridHeight/(this.isRangeBar?p:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var i,n=o.globals.padHorizontal,r=o.globals.gridHeight,s=0;s<t+1;s++)o.config.grid.xaxis.lines.show&&this._drawGridLine({x1:n,y1:0,x2:i,y2:r,parent:this.elgridLinesV}),new Z(this.ctx).drawXaxisTicks(n,0,this.elg),i=n=n+o.globals.gridWidth/t+.3;if(o.config.grid.yaxis.lines.show)for(var a=0,l=0,c=o.globals.gridWidth,u=0;u<o.globals.dataPoints+1;u++)this._drawGridLine({x1:0,y1:a,x2:c,y2:l,parent:this.elgridLinesH}),l=a+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new x(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var o,i=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,n=0;n<e.globals.series.length&&(void 0!==e.globals.yAxisScale[n]&&(i=e.globals.yAxisScale[n].result.length-1),!(i>2));n++);return!e.globals.isBarHorizontal||this.isRangeBar?(o=this.xaxisLabels.length,this.isRangeBar&&(i=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(o=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:o,tickAmount:i})):this._drawInvertedXYLines({xCount:o=i,tickAmount:i=e.globals.xTickAmount}),this.drawGridBands(o,i),{el:this.elg,xAxisTickWidth:e.globals.gridWidth/o}}},{key:"drawGridBands",value:function(e,t){var o=this.w;if(void 0!==o.config.grid.row.colors&&o.config.grid.row.colors.length>0)for(var i=0,n=o.globals.gridHeight/t,r=o.globals.gridWidth,s=0,a=0;s<t;s++,a++)a>=o.config.grid.row.colors.length&&(a=0),this._drawGridBandRect({c:a,x1:0,y1:i,x2:r,y2:n,type:"row"}),i+=o.globals.gridHeight/t;if(void 0!==o.config.grid.column.colors&&o.config.grid.column.colors.length>0)for(var l=o.globals.isBarHorizontal||"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric?e:e-1,c=o.globals.padHorizontal,u=o.globals.padHorizontal+o.globals.gridWidth/l,p=o.globals.gridHeight,h=0,d=0;h<e;h++,d++)d>=o.config.grid.column.colors.length&&(d=0),this._drawGridBandRect({c:d,x1:c,y1:0,x2:u,y2:p,type:"column"}),c+=o.globals.gridWidth/l}}]),e}(),Q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"niceScale",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4?arguments[4]:void 0,r=this.w,s=Math.abs(t-e);if("dataPoints"===(o=this._adjustTicksForSmallRange(o,i,s))&&(o=r.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!C.isNumber(e)&&!C.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE){var a=this.linearScale(e=0,t=o,o);return a}e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var l=[];s<1&&n&&("candlestick"===r.config.chart.type||"candlestick"===r.config.series[i].type||"boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[i].type||r.globals.isRangeData)&&(t*=1.01);var c=o+1;c<2?c=2:c>2&&(c-=2);var u=s/c,p=Math.floor(C.log10(u)),h=Math.pow(10,p),d=Math.round(u/h);d<1&&(d=1);var f=d*h,g=f*Math.floor(e/f),m=f*Math.ceil(t/f),y=g;if(n&&s>2){for(;l.push(y),!((y+=f)>m););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var v=e;(l=[]).push(v);for(var w=Math.abs(t-e)/o,b=0;b<=o;b++)l.push(v+=w);return l[l.length-2]>=t&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3?arguments[3]:void 0,n=Math.abs(t-e);"dataPoints"===(o=this._adjustTicksForSmallRange(o,i,n))&&(o=this.w.globals.dataPoints-1);var r=n/o;o===Number.MAX_VALUE&&(o=10,r=1);for(var s=[],a=e;o>=0;)s.push(a),a+=r,o-=1;return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,o){t<=0&&(t=Math.max(e,o)),e<=0&&(e=Math.min(t,o));for(var i=[],n=Math.ceil(Math.log(t)/Math.log(o)+1),r=Math.floor(Math.log(e)/Math.log(o));r<n;r++)i.push(Math.pow(o,r));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,o){t<=0&&(t=Math.max(e,o)),e<=0&&(e=Math.min(t,o));for(var i=[],n=Math.log(t)/Math.log(o),r=Math.log(e)/Math.log(o),s=n-r,a=Math.round(s),l=s/a,c=0,u=r;c<a;c++,u+=l)i.push(Math.pow(o,u));return i.push(Math.pow(o,n)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,o){var i=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var n=this.w.config.yaxis[t].labels.formatter(1);C.isNumber(Number(n))&&!C.isFloat(n)&&(i=Math.ceil(o))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,o){var i=this.w.globals,n=this.w.config,r=i.isBarHorizontal?n.xaxis:n.yaxis[e];void 0===i.yAxisScale[e]&&(i.yAxisScale[e]=[]);var s=Math.abs(o-t);r.logarithmic&&s<=5&&(i.invalidLogScale=!0),r.logarithmic&&s>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.logarithmicScale(t,o,r.logBase),i.yAxisScale[e]=r.forceNiceScale?this.logarithmicScaleNice(t,o,r.logBase):this.logarithmicScale(t,o,r.logBase)):o!==-Number.MAX_VALUE&&C.isNumber(o)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=void 0===r.min&&void 0===r.max||r.forceNiceScale?this.niceScale(t,o,r.tickAmount?r.tickAmount:s<5&&s>1?s+1:5,e,void 0===n.yaxis[e].max&&void 0===n.yaxis[e].min||n.yaxis[e].forceNiceScale):this.linearScale(t,o,r.tickAmount,e)):i.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var o=this.w,i=o.globals,n=o.config.xaxis,r=Math.abs(t-e);return i.xAxisScale=t!==-Number.MAX_VALUE&&C.isNumber(t)?this.linearScale(e,t,n.tickAmount?n.tickAmount:r<5&&r>1?r+1:5,0):this.linearScale(0,5,5),i.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,o=this.w.config,i=t.minYArr.concat([]),n=t.maxYArr.concat([]),r=[];o.yaxis.forEach(function(t,s){var a=s;o.series.forEach(function(e,o){e.name===t.seriesName&&(a=o,r.push(s!==o?{index:o,similarIndex:s,alreadyExists:!0}:{index:o}))}),e.setYScaleForIndex(s,i[a],n[a])}),this.sameScaleInMultipleAxes(i,n,r)}},{key:"sameScaleInMultipleAxes",value:function(e,t,o){var i=this,n=this.w.config,r=this.w.globals,s=[];o.forEach(function(e){e.alreadyExists&&(void 0===s[e.index]&&(s[e.index]=[]),s[e.index].push(e.index),s[e.index].push(e.similarIndex))}),r.yAxisSameScaleIndices=s,s.forEach(function(e,t){s.forEach(function(o,i){var n,r;t!==i&&(n=e,r=o,n.filter(function(e){return-1!==r.indexOf(e)})).length>0&&(s[t]=s[t].concat(s[i]))})});var a=s.map(function(e){return e.filter(function(t,o){return e.indexOf(t)===o})}).map(function(e){return e.sort()});s=s.filter(function(e){return!!e});var l=a.slice(),c=l.map(function(e){return JSON.stringify(e)});l=l.filter(function(e,t){return c.indexOf(JSON.stringify(e))===t});var u=[],p=[];e.forEach(function(e,o){l.forEach(function(i,n){i.indexOf(o)>-1&&(void 0===u[n]&&(u[n]=[],p[n]=[]),u[n].push({key:o,value:e}),p[n].push({key:o,value:t[o]}))})});var h=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);u.forEach(function(e,t){e.forEach(function(e,o){h[t]=Math.min(e.value,h[t])})}),p.forEach(function(e,t){e.forEach(function(e,o){d[t]=Math.max(e.value,d[t])})}),e.forEach(function(e,t){p.forEach(function(e,o){var s=h[o],a=d[o];n.chart.stacked&&(a=0,e.forEach(function(e,t){e.value!==-Number.MAX_VALUE&&(a+=e.value),s!==Number.MIN_VALUE&&(s+=u[o][t].value)})),e.forEach(function(o,l){e[l].key===t&&(void 0!==n.yaxis[t].min&&(s="function"==typeof n.yaxis[t].min?n.yaxis[t].min(r.minY):n.yaxis[t].min),void 0!==n.yaxis[t].max&&(a="function"==typeof n.yaxis[t].max?n.yaxis[t].max(r.maxY):n.yaxis[t].max),i.setYScaleForIndex(t,s,a))})})})}},{key:"autoScaleY",value:function(e,t,o){e||(e=this);var i=e.w;if(i.globals.isMultipleYAxis||i.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var n=i.globals.seriesX[0],r=i.config.chart.stacked;return t.forEach(function(e,s){for(var a=0,l=0;l<n.length;l++)if(n[l]>=o.xaxis.min){a=l;break}var c,u,p=i.globals.minYArr[s],h=i.globals.maxYArr[s],d=i.globals.stackedSeriesTotals;i.globals.series.forEach(function(s,l){var f=s[a];r?(c=u=f=d[a],d.forEach(function(e,t){n[t]<=o.xaxis.max&&n[t]>=o.xaxis.min&&(e>u&&null!==e&&(u=e),s[t]<c&&null!==s[t]&&(c=s[t]))})):(c=u=f,s.forEach(function(e,t){if(n[t]<=o.xaxis.max&&n[t]>=o.xaxis.min){var r=e,s=e;i.globals.series.forEach(function(o,i){null!==e&&(r=Math.min(o[t],r),s=Math.max(o[t],s))}),s>u&&null!==s&&(u=s),r<c&&null!==r&&(c=r)}})),void 0===c&&void 0===u&&(c=p,u=h),(u*=u<0?.9:1.1)<0&&u<h&&(u=h),(c*=c<0?1.1:.9)<0&&c>p&&(c=p),t.length>1?(t[l].min=void 0===e.min?c:e.min,t[l].max=void 0===e.max?u:e.max):(t[0].min=void 0===e.min?c:e.min,t[0].max=void 0===e.max?u:e.max)})}),t}}]),e}(),J=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.scales=new Q(t)}return c(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w.config,r=this.w.globals,s=-Number.MAX_VALUE,a=Number.MIN_VALUE;null===i&&(i=e+1);var l=r.series,c=l,u=l;"candlestick"===n.chart.type?(c=r.seriesCandleL,u=r.seriesCandleH):"boxPlot"===n.chart.type?(c=r.seriesCandleO,u=r.seriesCandleC):r.isRangeData&&(c=r.seriesRangeStart,u=r.seriesRangeEnd);for(var p=e;p<i;p++){r.dataPoints=Math.max(r.dataPoints,l[p].length),r.categoryLabels.length&&(r.dataPoints=r.categoryLabels.filter(function(e){return void 0!==e}).length);for(var h=0;h<r.series[p].length;h++){var d=l[p][h];null!==d&&C.isNumber(d)?(void 0!==u[p][h]&&(s=Math.max(s,u[p][h]),t=Math.min(t,u[p][h])),void 0!==c[p][h]&&(t=Math.min(t,c[p][h]),o=Math.max(o,c[p][h])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==r.seriesCandleC[p][h]&&(s=Math.max(s,r.seriesCandleO[p][h]),s=Math.max(s,r.seriesCandleH[p][h]),s=Math.max(s,r.seriesCandleL[p][h]),s=Math.max(s,r.seriesCandleC[p][h]),"boxPlot"===this.w.config.chart.type&&(s=Math.max(s,r.seriesCandleM[p][h]))),!n.series[p].type||"candlestick"===n.series[p].type&&"boxPlot"===n.series[p].type||(s=Math.max(s,r.series[p][h]),t=Math.min(t,r.series[p][h])),o=s),r.seriesGoals[p]&&r.seriesGoals[p][h]&&Array.isArray(r.seriesGoals[p][h])&&r.seriesGoals[p][h].forEach(function(e){a!==Number.MIN_VALUE&&(a=Math.min(a,e.value),t=a),s=Math.max(s,e.value),o=s}),C.isFloat(d)&&(d=C.noExponents(d),r.yValueDecimal=Math.max(r.yValueDecimal,d.toString().split(".")[1].length)),a>c[p][h]&&c[p][h]<0&&(a=c[p][h])):r.hasNullValues=!0}}return"rangeBar"===n.chart.type&&r.seriesRangeStart.length&&r.isBarHorizontal&&(a=t),"bar"===n.chart.type&&(a<0&&s<0&&(s=0),a===Number.MIN_VALUE&&(a=0)),{minY:a,maxY:s,lowestY:t,highestY:o}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var o=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var i=0;i<e.series.length;i++){var n=this.getMinYMaxY(i,o,null,i+1);e.minYArr.push(n.minY),e.maxYArr.push(n.maxY),o=n.lowestY}var r=this.getMinYMaxY(0,o,null,e.series.length);if(e.minY=r.minY,e.maxY=r.maxY,o=r.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&o!==-Number.MAX_VALUE&&o!==e.maxY){var s=e.maxY-o;(o>=0&&o<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(s=0),e.minY=o-5*s/100,o>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*s/100}return t.yaxis.forEach(function(t,o){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[o]=t.max:"function"==typeof t.max&&(e.maxYArr[o]=t.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[o]=t.min:"function"==typeof t.min&&(e.minYArr[o]=t.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(o){void 0!==t.xaxis[o]&&"number"==typeof t.xaxis[o]&&("min"===o?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])}),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=o,e.yAxisScale.forEach(function(t,o){e.minYArr[o]=t.niceMin,e.maxYArr[o]=t.niceMax})):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,o="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var o=0;o<e.labels[t].length;o++)null!==e.labels[t][o]&&C.isNumber(e.labels[t][o])&&(e.maxX=Math.max(e.maxX,e.labels[t][o]),e.initialMaxX=Math.max(e.maxX,e.labels[t][o]),e.minX=Math.min(e.minX,e.labels[t][o]),e.initialMinX=Math.min(e.minX,e.labels[t][o]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i;if(void 0===t.xaxis.tickAmount?(i=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&0!==e.dataPoints&&(i=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(i=e.maxX-e.minX-1)):i=t.xaxis.tickAmount,e.xTickAmount=i,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var n=[],r=e.minX-1;r<e.maxX;r++)n.push(r+1);e.xAxisScale={result:n,niceMin:n[0],niceMax:n[n.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,i,i),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1),e.seriesX=e.labels.slice());o&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var o=0;o<e.seriesZ[t].length;o++)null!==e.seriesZ[t][o]&&C.isNumber(e.seriesZ[t][o])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][o]),e.minZ=Math.min(e.minZ,e.seriesZ[t][o]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var o=new H(this.ctx);if("datetime"===t.xaxis.type){var i=o.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var n=o.getDate(e.maxX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),e.maxX=new Date(n).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,o){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(e,t){return e-t}),i.forEach(function(t,o){if(o>0){var n=t-i[o-1];n>0&&(e.minXDiff=Math.min(n,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this.w.globals,t=[],o=[];if(e.series.length)for(var i=0;i<e.series[e.maxValsInArrayIndex].length;i++)for(var n=0,r=0,s=0;s<e.series.length;s++)null!==e.series[s][i]&&C.isNumber(e.series[s][i])&&(e.series[s][i]>0?n=n+parseFloat(e.series[s][i])+1e-4:r+=parseFloat(e.series[s][i])),s===e.series.length-1&&(t.push(n),o.push(r));for(var a=0;a<t.length;a++)e.maxY=Math.max(e.maxY,t[a]),e.minY=Math.min(e.minY,o[a])}}]),e}(),$=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===o.config.chart.type&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===o.config.xaxis.position&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(t)}return c(e,[{key:"drawYaxis",value:function(e){var t=this,o=this.w,i=new x(this.ctx),n=o.config.yaxis[e].labels.style,r=n.fontSize,s=n.fontFamily,a=n.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+o.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=o.globals.yAxisScale[e].result.length-1,p=o.globals.gridHeight/u,h=o.globals.translateY,d=o.globals.yLabelFormatters[e],f=o.globals.yAxisScale[e].result.slice();f=this.axesUtils.checkForReversedLabels(e,f);var g="";if(o.config.yaxis[e].labels.show)for(var m=function(l){var m=f[l];m=d(m,l,o);var y=o.config.yaxis[e].labels.padding;o.config.yaxis[e].opposite&&0!==o.config.yaxis.length&&(y*=-1);var v=t.axesUtils.getYAxisForeColor(n.colors,e),C=i.drawText({x:y,y:h+u/10+o.config.yaxis[e].labels.offsetY+1,text:m,textAnchor:o.config.yaxis[e].opposite?"start":"end",fontSize:r,fontFamily:s,fontWeight:a,maxWidth:o.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(v)?v[l]:v,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+n.cssClass});l===u&&(g=C),c.add(C);var w=document.createElementNS(o.globals.SVGNS,"title");if(w.textContent=Array.isArray(m)?m.join(" "):m,C.node.appendChild(w),0!==o.config.yaxis[e].labels.rotate){var b=i.rotateAroundCenter(g.node),x=i.rotateAroundCenter(C.node);C.node.setAttribute("transform","rotate(".concat(o.config.yaxis[e].labels.rotate," ").concat(b.x," ").concat(x.y,")"))}h+=p},y=u;y>=0;y--)m(y);if(void 0!==o.config.yaxis[e].title.text){var v=i.group({class:"apexcharts-yaxis-title"}),C=0;o.config.yaxis[e].opposite&&(C=o.globals.translateYAxisX[e]);var w=i.drawText({x:C,y:o.globals.gridHeight/2+o.globals.translateY+o.config.yaxis[e].title.offsetY,text:o.config.yaxis[e].title.text,textAnchor:"end",foreColor:o.config.yaxis[e].title.style.color,fontSize:o.config.yaxis[e].title.style.fontSize,fontWeight:o.config.yaxis[e].title.style.fontWeight,fontFamily:o.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[e].title.style.cssClass});v.add(w),l.add(v)}var b=o.config.yaxis[e].axisBorder,S=31+b.offsetX;if(o.config.yaxis[e].opposite&&(S=-31-b.offsetX),b.show){var E=i.drawLine(S,o.globals.translateY+b.offsetY-2,S,o.globals.gridHeight+o.globals.translateY+b.offsetY+2,b.color,0,b.width);l.add(E)}return o.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,u,b,o.config.yaxis[e].axisTicks,e,p,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,o=new x(this.ctx),i=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(n);var r=t.globals.yAxisScale[e].result.length-1,s=t.globals.gridWidth/r+.1,a=s+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=t.globals.yAxisScale[e].result.slice(),u=t.globals.timescaleLabels;u.length>0&&(this.xaxisLabels=u.slice(),r=(c=u.slice()).length),c=this.axesUtils.checkForReversedLabels(e,c);var p=u.length;if(t.config.xaxis.labels.show)for(var h=p?0:r;p?h<p:h>=0;p?h++:h--){var d=c[h];d=l(d,h,t);var f=t.globals.gridWidth+t.globals.padHorizontal-(a-s+t.config.xaxis.labels.offsetX);if(u.length){var g=this.axesUtils.getLabel(c,u,f,h,this.drawnLabels,this.xaxisFontSize);f=g.x,d=g.text,this.drawnLabels.push(g.text),0===h&&t.globals.skipFirstTimelinelabel&&(d=""),h===c.length-1&&t.globals.skipLastTimelinelabel&&(d="")}var m=o.drawText({x:f,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:d,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});n.add(m),m.tspan(d);var y=document.createElementNS(t.globals.SVGNS,"title");y.textContent=d,m.node.appendChild(y),a+=s}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,o=new x(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var n=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(n-=15);var r=o.drawLine(t.globals.padHorizontal+n+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);e.add(r)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,o=new x(this.ctx);if(void 0!==t.config.xaxis.title.text){var i=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=o.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});i.add(n),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var o=this.w,i=new x(this.ctx),n={width:0,height:0},r={width:0,height:0},s=o.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==s&&(n=s.getBoundingClientRect());var a=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==a&&(r=a.getBoundingClientRect()),null!==a){var l=this.xPaddingForYAxisTitle(e,n,r,t);a.setAttribute("x",l.xPos-(t?10:0))}if(null!==a){var c=i.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(t?-1*o.config.yaxis[e].title.rotate:o.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,o,i){var n=this.w,r=0,s=0,a=10;return void 0===n.config.yaxis[e].title.text||e<0?{xPos:s,padd:0}:(i?(s=t.width+n.config.yaxis[e].title.offsetX+o.width/2+a/2,0===(r+=1)&&(s-=a/2)):(s=-1*t.width+n.config.yaxis[e].title.offsetX+a/2+o.width/2,n.globals.isBarHorizontal&&(s=-1*t.width-n.config.yaxis[e].title.offsetX-(a=25))),{xPos:s,padd:a})}},{key:"setYAxisXPosition",value:function(e,t){var o=this.w,i=0,n=0,r=18,s=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.map(function(a,l){var c=o.globals.ignoreYAxisIndexes.indexOf(l)>-1||!a.show||a.floating||0===e[l].width,u=e[l].width+t[l].width;a.opposite?o.globals.isBarHorizontal?o.globals.translateYAxisX[l]=(n=o.globals.gridWidth+o.globals.translateX-1)-a.labels.offsetX:(n=o.globals.gridWidth+o.globals.translateX+s,c||(s=s+u+20),o.globals.translateYAxisX[l]=n-a.labels.offsetX+20):(i=o.globals.translateX-r,c||(r=r+u+20),o.globals.translateYAxisX[l]=i+a.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=C.listToArray(t)).forEach(function(t,o){var i=e.config.yaxis[o];if(i&&void 0!==i.labels.align){var n=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-texts-g")),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-label"));r=C.listToArray(r);var s=n.getBoundingClientRect();"left"===i.labels.align?(r.forEach(function(e,t){e.setAttribute("text-anchor","start")}),i.opposite||n.setAttribute("transform","translate(-".concat(s.width,", 0)"))):"center"===i.labels.align?(r.forEach(function(e,t){e.setAttribute("text-anchor","middle")}),n.setAttribute("transform","translate(".concat(s.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(r.forEach(function(e,t){e.setAttribute("text-anchor","end")}),i.opposite&&n.setAttribute("transform","translate(".concat(s.width,", 0)")))}})}}]),e}(),ee=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.documentEvent=C.bind(this.documentEvent,this)}return c(e,[{key:"addEventListener",value:function(e,t){var o=this.w;o.globals.events.hasOwnProperty(e)?o.globals.events[e].push(t):o.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var o=this.w;if(o.globals.events.hasOwnProperty(e)){var i=o.globals.events[e].indexOf(t);-1!==i&&o.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var o=this.w;if(o.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=o.globals.events[e],n=i.length,r=0;r<n;r++)i[r].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,o=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(e){i.addEventListener(e,function(e){var i=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,o,i):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,o,i):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,o,i),o.ctx.events.fireEvent("click",[e,o,i]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(o){t.globals.dom.baseEl.addEventListener(o,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,o=e.target.className;if("click"===e.type){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==o&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),te=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=t.filter(function(t){return t.name===e})[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=C.extend(T,o);this.w.globals.locale=i.options}}]),e}(),oe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawAxis",value:function(e,t){var o,i,n=this.w.globals,r=this.w.config,s=new Z(this.ctx),a=new $(this.ctx);n.axisCharts&&"radar"!==e&&(n.isBarHorizontal?(i=a.drawYaxisInversed(0),o=s.drawXaxisInversed(0),n.dom.elGraphical.add(o),n.dom.elGraphical.add(i)):(o=s.drawXaxis(),n.dom.elGraphical.add(o),r.yaxis.map(function(e,t){-1===n.ignoreYAxisIndexes.indexOf(t)&&(i=a.drawYaxis(t),n.dom.Paper.add(i))})))}}]),e}(),ie=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new x(this.ctx),o=new b(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,n=e.config.xaxis.crosshairs.dropShadow,r=n.enabled,s=n.left,a=n.top,l=n.blur,c=n.color,u=n.opacity,p=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===e.config.xaxis.crosshairs.fill.type&&(p=t.drawGradient("vertical",i.colorFrom,i.colorTo,i.opacityFrom,i.opacityTo,null,i.stops,null));var h=t.drawRect();1===e.config.xaxis.crosshairs.width&&(h=t.drawLine());var d=e.globals.gridHeight;(!C.isNumber(d)||d<0)&&(d=0);var f=e.config.xaxis.crosshairs.width;(!C.isNumber(f)||f<0)&&(f=0),h.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:d,width:f,height:d,fill:p,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),r&&(h=o.dropShadow(h,{left:s,top:a,blur:l,color:c,opacity:u})),e.globals.dom.elGraphical.add(h)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new x(this.ctx),o=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var n=t.drawLine(-i,0,e.globals.gridWidth+i,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(n)}var r=t.drawLine(-i,0,e.globals.gridWidth+i,0,o.stroke.color,0,0);r.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(r)}}]),e}(),ne=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,o=this.w,i=o.config;if(0!==i.responsive.length){var n=i.responsive.slice();n.sort(function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0}).reverse();var r=new B({}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n[0].breakpoint,s=window.innerWidth>0?window.innerWidth:screen.width;if(s>i){var a=S.extendArrayProps(r,o.globals.initialConfig,o);e=C.extend(a,e),e=C.extend(o.config,e),t.overrideResponsiveOptions(e)}else for(var l=0;l<n.length;l++)s<n[l].breakpoint&&(e=S.extendArrayProps(r,n[l].options,o),e=C.extend(o.config,e),t.overrideResponsiveOptions(e))};if(e){var a=S.extendArrayProps(r,e,o);a=C.extend(o.config,a),s(a=C.extend(a,e))}else s({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new B(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),re=function(){function e(t){a(this,e),this.ctx=t,this.colors=[],this.w=t.w;var o=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===o.config.chart.type&&o.config.plotOptions.treemap.distributed||"heatmap"===o.config.chart.type&&o.config.plotOptions.heatmap.distributed,this.isBarDistributed=o.config.plotOptions.bar.distributed&&("bar"===o.config.chart.type||"rangeBar"===o.config.chart.type)}return c(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,o=new C;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map(function(o,i){var n=t.config.colors[i];return n||(n=t.config.colors[0]),"function"==typeof n?(e.isColorFn=!0,n({value:t.globals.axisCharts?t.globals.series[i][0]?t.globals.series[i][0]:0:t.globals.series[i],seriesIndex:i,dataPointIndex:i,w:t})):n}))),t.globals.seriesColors.map(function(e,o){e&&(t.globals.colors[o]=e)}),t.config.theme.monochrome.enabled){var i=[],n=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(n=t.globals.series[0].length*t.globals.series.length);for(var r=t.config.theme.monochrome.color,s=1/(n/t.config.theme.monochrome.shadeIntensity),a=t.config.theme.monochrome.shadeTo,l=0,c=0;c<n;c++){var u=void 0;"dark"===a?(u=o.shadeColor(-1*l,r),l+=s):(u=o.shadeColor(l,r),l+=s),i.push(u)}t.globals.colors=i.slice()}var p=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach(function(o){t.globals[o].colors=void 0===t.config[o].colors?e.isColorFn?t.config.colors:p:t.config[o].colors.slice(),e.pushExtraColors(t.globals[o].colors)}),t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?p:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),t.globals.markers.colors=void 0===t.config.markers.colors?p:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,n=t||i.globals.series.length;if(null===o&&(o=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.colorScale.inverse),o&&i.globals.series.length&&(n=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<n)for(var r=n-e.length,s=0;s<r;s++)e.push(e[s])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",o=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",i=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=i,e.theme.palette=o,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),e}(),se=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,o="title"===e?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,n=o.offsetY,r="middle";if("left"===o.align?(i=10,r="start"):"right"===o.align&&(i=t.globals.svgWidth-10,r="end"),i+=o.offsetX,n=n+parseInt(o.style.fontSize,10)+o.margin/2,void 0!==o.text){var s=new x(this.ctx).drawText({x:i,y:n,text:o.text,textAnchor:r,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});s.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(s)}}}]),e}(),ae=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,o=0,i=0,n="title"===e?t.config.title.floating:t.config.subtitle.floating,r=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==r&&!n){var s=r.getBoundingClientRect();o=s.width,i=t.globals.axisCharts?s.height+5:s.height}return{width:o,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.baseEl.querySelector(".apexcharts-legend");e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var o=Object.assign({},C.getBoundingClientRect(t));return this.dCtx.lgRect=null!==t&&!e.config.legend.floating&&e.config.legend.show?{x:o.x,y:o.y,height:o.height,width:0===o.height?0:o.width}:{x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var o=e;if(this.w.globals.isMultiLineX){var i=t.map(function(e,t){return Array.isArray(e)?e.length:1}),n=Math.max.apply(Math,m(i));o=t[i.indexOf(n)]}return o}}]),e}(),le=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,o=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===o.length&&(o=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var n=t.globals.xLabelFormatter,r=C.getLargestStringFromArr(o),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,o);t.globals.isBarHorizontal&&(s=r=t.globals.yAxisScale[0].result.reduce(function(e,t){return e.length>t.length?e:t},0));var a=new Y(this.dCtx.ctx),l=r;r=a.xLabelFormat(n,r,l,{i:void 0,dateFormatter:new H(this.dCtx.ctx).formatDate,w:t}),s=a.xLabelFormat(n,s,l,{i:void 0,dateFormatter:new H(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===r||""===String(r).trim())&&(s=r="1");var c=new x(this.dCtx.ctx),u=c.getTextRects(r,t.config.xaxis.labels.style.fontSize),p=u;if(r!==s&&(p=c.getTextRects(s,t.config.xaxis.labels.style.fontSize)),(e={width:u.width>=p.width?u.width:p.width,height:u.height>=p.height?u.height:p.height}).width*o.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var h=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};u=h(r),r!==s&&(p=h(s)),e.height=(u.height>p.height?u.height:p.height)/1.5,e.width=u.width>p.width?u.width:p.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var o,i=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,n=t.globals.groups.map(function(e){return e.title}),r=C.getLargestStringFromArr(n),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,n),a=new x(this.dCtx.ctx),l=a.getTextRects(r,i),c=l;return r!==s&&(c=a.getTextRects(s,i)),o={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,o=0;if(void 0!==e.config.xaxis.title.text){var i=new x(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,o=i.height}return{width:t,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map(function(e){return e.value}),i=o.reduce(function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t},0);return 1.05*(e=new x(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*o.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,o=this.w,i=o.globals,n=o.config,r=n.xaxis.type,s=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var a=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal,l=function(e,a){(function(e){return-1!==i.collapsedSeriesIndices.indexOf(e)})(a)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var a=t.dCtx.timescaleLabels[0].position-s/1.75+t.dCtx.yAxisWidthLeft;t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+s/1.75-t.dCtx.yAxisWidthRight>i.svgWidth-i.translateX-("right"===o.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0)&&(i.skipLastTimelinelabel=!0),a<-(e.show&&!e.floating||"bar"!==n.chart.type&&"candlestick"!==n.chart.type&&"rangeBar"!==n.chart.type&&"boxPlot"!==n.chart.type?10:s/1.75)&&(i.skipFirstTimelinelabel=!0)}else"datetime"===r?t.dCtx.gridPad.right<s&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):"datetime"!==r&&t.dCtx.gridPad.right<s/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!o.config.xaxis.labels.trim&&("between"!==o.config.xaxis.tickPlacement||o.globals.isBarHorizontal)&&(t.dCtx.xPadRight=s/2+1)}(e)};n.yaxis.forEach(function(e,o){a?(t.dCtx.gridPad.left<s&&(t.dCtx.xPadLeft=s/2+1),t.dCtx.xPadRight=s/2+1):l(e,o)})}}]),e}(),ce=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,o=[],i=10,n=new X(this.dCtx.ctx);return t.config.yaxis.map(function(r,s){var a=t.globals.yAxisScale[s],l=0;if(!n.isYAxisHidden(s)&&r.labels.show&&void 0!==r.labels.minWidth&&(l=r.labels.minWidth),!n.isYAxisHidden(s)&&r.labels.show&&a.result.length){var c=t.globals.yLabelFormatters[s],u=a.niceMin===Number.MIN_VALUE?0:a.niceMin,p=String(u).length>String(a.niceMax).length?u:a.niceMax,h=c(p,{seriesIndex:s,dataPointIndex:-1,w:t}),d=h;if(void 0!==h&&0!==h.length||(h=p),t.globals.isBarHorizontal){i=0;var f=t.globals.labels.slice();h=c(h=C.getLargestStringFromArr(f),{seriesIndex:s,dataPointIndex:-1,w:t}),d=e.dCtx.dimHelpers.getLargestStringFromMultiArr(h,f)}var g=new x(e.dCtx.ctx),m="rotate(".concat(r.labels.rotate," 0 0)"),y=g.getTextRects(h,r.labels.style.fontSize,r.labels.style.fontFamily,m,!1),v=y;h!==d&&(v=g.getTextRects(d,r.labels.style.fontSize,r.labels.style.fontFamily,m,!1)),o.push({width:(l>v.width||l>y.width?l:v.width>y.width?v.width:y.width)+i,height:v.height>y.height?v.height:y.height})}else o.push({width:0,height:0})}),o}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=[];return this.w.config.yaxis.map(function(o,i){if(o.show&&void 0!==o.title.text){var n=new x(e.dCtx.ctx),r="rotate(".concat(o.title.rotate," 0 0)"),s=n.getTextRects(o.title.text,o.title.style.fontSize,o.title.style.fontFamily,r,!1);t.push({width:s.width,height:s.height})}else t.push({width:0,height:0})}),t}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,o=0,i=0,n=e.globals.yAxisScale.length>1?10:0,r=new X(this.dCtx.ctx),s=function(s,a){var l=e.config.yaxis[a].floating,c=0;s.width>0&&!l?(c=s.width+n,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(a)&&(c=c-s.width-n)):c=l||r.isYAxisHidden(a)?0:5,e.config.yaxis[a].opposite?i+=c:o+=c,t+=c};return e.globals.yLabelsCoords.map(function(e,t){s(e,t)}),e.globals.yTitleCoords.map(function(e,t){s(e,t)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=i,t}}]),e}(),ue=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var o=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},i=t.config.chart.type,n=0,r=o(i)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(r=t.globals.comboBarCount),t.globals.collapsedSeries.forEach(function(e){o(e.type)&&(r-=1)}),t.config.chart.stacked&&(r=1),(o(i)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&r>0){var s,a,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),s=l/e,t.globals.minXDiff&&t.globals.minXDiff/s>0&&(a=t.globals.minXDiff/s),a>e/2&&(a/=2),(n=a/r*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(n=1),t.globals.barPadForNumericAxis=n=n/(r>1?1:1.5)+5}return n}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,o=t.globals,i=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach(function(o){i+=void 0!==t.config[o].text?t.config[o].margin:e.dCtx.isSparkline||!t.globals.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(i+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),r=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight=o.gridHeight-n.height-r.height-i,o.translateY=o.translateY+n.height+r.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var o=this.w,i=new X(this.dCtx.ctx);o.config.yaxis.map(function(n,r){-1!==o.globals.ignoreYAxisIndexes.indexOf(r)||n.floating||i.isYAxisHidden(r)||(n.opposite&&(o.globals.translateX=o.globals.translateX-(t[r].width+e[r].width)-parseInt(o.config.yaxis[r].labels.style.fontSize,10)/1.2-12),o.globals.translateX<2&&(o.globals.translateX=2))})}}]),e}(),pe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ae(this),this.dimYAxis=new ce(this),this.dimXAxis=new le(this),this.dimGrid=new ue(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,o=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(t){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i,n,r=[],s=!0,a=!1;try{for(o=o.call(e);!(s=(i=o.next()).done)&&(r.push(i.value),2!==r.length);s=!0);}catch(e){a=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(a)throw n}}return r}}(e)||y(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t);e.gridPad[o[0]]=Math.max(o[1],e.w.globals.markers.largestSize/1.5)}),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*i,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(i>0?i+4:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,o=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(e,o){t.globals.yLabelsCoords.push({width:i[o].width,index:o}),t.globals.yTitleCoords.push({width:n[o].width,index:o})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var r=this.dimXAxis.getxAxisLabelsCoords(),s=this.dimXAxis.getxAxisGroupLabelsCoords(),a=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(r,a,s),o.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+t.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-a.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-r.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var u=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=o.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,u=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(r);var p=function(){o.translateX=l,o.gridHeight=o.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-l};switch("top"===t.config.xaxis.position&&(u=o.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":o.translateY=u,p();break;case"top":o.translateY=this.lgRect.height+u,p();break;case"left":o.translateY=u,o.translateX=this.lgRect.width+l,o.gridHeight=o.svgHeight-c-12,o.gridWidth=o.svgWidth-this.lgRect.width-l;break;case"right":o.translateY=u,o.translateX=l,o.gridHeight=o.svgHeight-c-12,o.gridWidth=o.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,i),new $(this.ctx).setYAxisXPosition(i,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,o=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var n="pie"===o.chart.type||"polarArea"===o.chart.type||"donut"===o.chart.type?"pie":"radialBar",r=o.plotOptions[n].offsetY,s=o.plotOptions[n].offsetX;if(!o.legend.show||o.legend.floating)return t.gridHeight=t.svgHeight-o.grid.padding.left+o.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=r,void(t.translateX=s+(t.svgWidth-t.gridWidth)/2);switch(o.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=r-10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+r+10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight="auto"!==o.chart.height?t.svgHeight:t.gridWidth,t.translateY=r,t.translateX=s+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight="auto"!==o.chart.height?t.svgHeight:t.gridWidth,t.translateY=r,t.translateX=s+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,o){var i=this.w;this.xAxisHeight=(o.height+e.height+t.height)*(i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO)+(i.globals.hasGroups?2:1)*(i.globals.rotateXLabels?22:10)+(i.globals.rotateXLabels&&"bottom"===i.config.legend.position?10:0),this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var n=0,r=0;i.config.yaxis.forEach(function(e){n+=e.labels.minWidth,r+=e.labels.maxWidth}),this.yAxisWidth<n&&(this.yAxisWidth=n),this.yAxisWidth>r&&(this.yAxisWidth=r)}}]),e}(),he=function(){function e(t){a(this,e),this.w=t.w,this.lgCtx=t}return c(e,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:e.height,clww:e.width}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject");var t=e.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",e.svgWidth),t.setAttribute("height",e.svgHeight),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),e.dom.Paper.node.insertBefore(t,e.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(e,t){var o=this,i=this.w;if(i.globals.axisCharts||"radialBar"===i.config.chart.type){i.globals.resized=!0;var n=null,r=null;i.globals.risingSeries=[],i.globals.axisCharts?(n=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),r=parseInt(n.getAttribute("data:realIndex"),10)):(n=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),r=parseInt(n.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(e){o.riseCollapsedSeries(e.cs,e.csi,r)}):this.hideSeries({seriesEl:n,realIndex:r})}else{var s=i.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),a=i.config.chart.type;if("pie"===a||"polarArea"===a||"donut"===a){var l=i.config.plotOptions.pie.donut.labels;new x(this.lgCtx.ctx).pathMouseDown(s.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(s.members[0].node,l)}s.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,o=e.realIndex,i=this.w,n=C.clone(i.config.series);if(i.globals.axisCharts){var r=!1;if(i.config.yaxis[o]&&i.config.yaxis[o].show&&i.config.yaxis[o].showAlways&&(r=!0,i.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0&&(i.globals.ancillaryCollapsedSeries.push({index:o,data:n[o].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.ancillaryCollapsedSeriesIndices.push(o))),!r){i.globals.collapsedSeries.push({index:o,data:n[o].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.collapsedSeriesIndices.push(o);var s=i.globals.risingSeries.indexOf(o);i.globals.risingSeries.splice(s,1)}}else i.globals.collapsedSeries.push({index:o,data:n[o]}),i.globals.collapsedSeriesIndices.push(o);for(var a=t.childNodes,l=0;l<a.length;l++)a[l].classList.contains("apexcharts-series-markers-wrap")&&(a[l].classList.contains("apexcharts-hide")?a[l].classList.remove("apexcharts-hide"):a[l].classList.add("apexcharts-hide"));i.globals.allSeriesCollapsed=i.globals.collapsedSeries.length===i.config.series.length,n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,o){var i=this.w,n=C.clone(i.config.series);if(e.length>0){for(var r=0;r<e.length;r++)e[r].index===o&&(i.globals.axisCharts?(n[o].data=e[r].data.slice(),e.splice(r,1),t.splice(r,1),i.globals.risingSeries.push(o)):(n[o]=e[r].data,e.splice(r,1),t.splice(r,1),i.globals.risingSeries.push(o)));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return e.forEach(t.globals.axisCharts?function(o,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[])}:function(o,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i]=0)}),e}}]),e}(),de=function(){function e(t,o){a(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new he(this)}return c(e,[{key:"init",value:function(){var e=this.w,t=e.globals,o=e.config;if((o.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&o.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),C.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===o.legend.position||"top"===o.legend.position?this.legendAlignHorizontal():"right"!==o.legend.position&&"left"!==o.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,o=t.config.legend.fontFamily,i=t.globals.seriesNames,n=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var r=t.config.plotOptions.heatmap.colorScale.ranges;i=r.map(function(e){return e.name?e.name:e.from+" - "+e.to}),n=r.map(function(e){return e.color})}else this.isBarsDistributed&&(i=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(i=t.config.legend.customLegendItems);for(var s=t.globals.legendFormatter,a=t.config.legend.inverseOrder,l=a?i.length-1:0;a?l>=0:l<=i.length-1;a?l--:l++){var c=s(i[l],{seriesIndex:l,w:t}),u=!1,p=!1;if(t.globals.collapsedSeries.length>0)for(var h=0;h<t.globals.collapsedSeries.length;h++)t.globals.collapsedSeries[h].index===l&&(u=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var d=0;d<t.globals.ancillaryCollapsedSeriesIndices.length;d++)t.globals.ancillaryCollapsedSeriesIndices[d]===l&&(p=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var g=t.config.legend.markers.offsetX,m=t.config.legend.markers.offsetY,y=t.config.legend.markers.height,v=t.config.legend.markers.width,w=t.config.legend.markers.strokeWidth,b=t.config.legend.markers.strokeColor,E=t.config.legend.markers.radius,_=f.style;_.background=n[l],_.color=n[l],_.setProperty("background",n[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(_.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(_.background=t.globals.seriesColors[l],_.color=t.globals.seriesColors[l]),_.height=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",_.width=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",_.left=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",_.top=(Array.isArray(m)?parseFloat(m[l]):parseFloat(m))+"px",_.borderWidth=Array.isArray(w)?w[l]:w,_.borderColor=Array.isArray(b)?b[l]:b,_.borderRadius=Array.isArray(E)?parseFloat(E[l])+"px":parseFloat(E)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(f.innerHTML=t.config.legend.markers.customHTML[l]()):f.innerHTML=t.config.legend.markers.customHTML()),x.setAttrs(f,{rel:l+1,"data:collapsed":u||p}),(u||p)&&f.classList.add("apexcharts-inactive-legend");var A=document.createElement("div"),R=document.createElement("span");R.classList.add("apexcharts-legend-text"),R.innerHTML=Array.isArray(c)?c.join(" "):c;var T=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:t.config.legend.labels.colors;T||(T=t.config.chart.foreColor),R.style.color=T,R.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",R.style.fontWeight=t.config.legend.fontWeight,R.style.fontFamily=o||t.config.chart.fontFamily,x.setAttrs(R,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":u||p}),A.appendChild(f),A.appendChild(R);var O=new S(this.ctx);t.config.legend.showForZeroSeries||0===O.getSeriesTotalByIndex(l)&&O.seriesHaveSameValues(l)&&!O.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&A.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||O.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&A.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(A),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),A.classList.add("apexcharts-legend-series"),A.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",x.setAttrs(A,{rel:l+1,seriesName:C.escapeString(i[l]),"data:collapsed":u||p}),(u||p)&&A.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||A.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var o=this.w,i=o.globals.dom.baseEl.querySelector(".apexcharts-legend"),n=i.getBoundingClientRect(),r=0,s=0;if("bottom"===o.config.legend.position)s+=o.globals.svgHeight-n.height/2;else if("top"===o.config.legend.position){var a=new pe(this.ctx),l=a.dimHelpers.getTitleSubtitleCoords("title").height,c=a.dimHelpers.getTitleSubtitleCoords("subtitle").height;s=s+(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",s=s+t+o.config.legend.offsetY,i.style.left=(r=r+e+o.config.legend.offsetX)+"px",i.style.top=s+"px","bottom"===o.config.legend.position?(i.style.top="auto",i.style.bottom=5-o.config.legend.offsetY+"px"):"right"===o.config.legend.position&&(i.style.left="auto",i.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach(function(e){i.style[e]&&(i.style[e]=parseInt(o.config.legend[e],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),o=new pe(this.ctx),i=o.dimHelpers.getTitleSubtitleCoords("title"),n=o.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;"bottom"===e.config.legend.position?r=-t.clwh/1.8:"top"===e.config.legend.position&&(r=i.height+n.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),o=0;"left"===e.config.legend.position&&(o=20),"right"===e.config.legend.position&&(o=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,o=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(o){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new L(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&o&&new L(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(e.target.getAttribute("rel"),10)-1,i="true"===e.target.getAttribute("data:collapsed"),n=this.w.config.chart.events.legendClick;"function"==typeof n&&n(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var r=this.w.config.legend.markers.onClick;"function"==typeof r&&e.target.classList.contains("apexcharts-legend-marker")&&(r(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,i)}}}]),e}(),fe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=o.globals.minX,this.maxX=o.globals.maxX}return c(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,o=function(){return document.createElement("div")},i=o();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(o());var r=[],s=function(o,i,n){var s=o.toLowerCase();e.t[s]&&t.config.chart.zoom.enabled&&r.push({el:i,icon:"string"==typeof e.t[s]?e.t[s]:n,title:e.localeValues[o],class:"apexcharts-".concat(s,"-icon")})};s("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),s("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var a=function(o){e.t[o]&&t.config.chart[o].enabled&&r.push({el:"zoom"===o?e.elZoom:e.elSelection,icon:"string"==typeof e.t[o]?e.t[o]:"zoom"===o?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===o?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(o,"-icon")})};a("zoom"),a("selection"),this.t.pan&&t.config.chart.zoom.enabled&&r.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),s("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&r.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)r.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});r.forEach(function(e,t){e.index&&C.moveIndexInArray(r,t,e.index)});for(var c=0;c<r.length;c++)x.setAttrs(r[c].el,{class:r[c].class,title:r[c].title}),r[c].el.innerHTML=r[c].icon,i.appendChild(r[c].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),x.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var o=0;o<t.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=t[o].title,x.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(t[o].name),title:t[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var o="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],o.classList.contains(t.ctx.toolbar.selectedClass)?o.classList.remove(t.ctx.toolbar.selectedClass):o.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,o="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,o=this._getNewMinXMaxX((this.minX+t)/2,(this.maxX+t)/2);e.globals.disableZoomIn||this.zoomUpdateOptions(o.minX,o.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,o=this._getNewMinXMaxX(this.minX-(t-this.minX),this.maxX-(t-this.maxX));e.globals.disableZoomOut||this.zoomUpdateOptions(o.minX,o.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(e):e,maxX:o?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var o=this.w;if(void 0!==e||void 0!==t){if(!(o.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=o.globals.dataPoints),t-e<2))){var i={min:e,max:t},n=this.getBeforeZoomRange(i);n&&(i=n.xaxis);var r={xaxis:i},s=C.clone(o.globals.initialConfig.yaxis);o.config.chart.zoom.autoScaleYaxis&&(s=new Q(this.ctx).autoScaleY(this.ctx,s,{xaxis:i})),o.config.chart.group||(r.yaxis=s),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(r,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,s)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var o=null;return"function"==typeof this.ev.beforeZoom&&(o=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),o}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,o=new q(this.ctx);switch(e){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(e){var t=e.w;if(t.globals.lastXAxis.min=void 0,t.globals.lastXAxis.max=void 0,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var o=t.config.chart.events.beforeResetZoom(e,t);o&&e.updateHelpers.revertDefaultAxisMinMax(o)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var i=e.ctx.series.emptyCollapsedSeries(C.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(i,t.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),ge=function(e){p(o,fe);var t=g(o);function o(e){var i;return a(this,o),(i=t.call(this,e)).ctx=e,i.w=e.w,i.dragged=!1,i.graphics=new x(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i}return c(o,[{key:"init",value:function(e){var t=this,o=e.xyRatios,i=this.w,n=this;this.xyRatios=o,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(e){t.hoverArea.addEventListener(e,n.svgMouseEvents.bind(n,o),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var o=this.w,i=this,n=this.ctx.toolbar,r=o.globals.zoomEnabled?o.config.chart.zoom.type:o.config.chart.selection.type,s=o.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,n.enableZoomPanFromToolbar("pan"===s?"zoom":"pan")):this.shiftWasPressed&&(n.enableZoomPanFromToolbar(s),this.shiftWasPressed=!1),t.target){var a,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(a=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||a&&a.contains("apexcharts-toolbar"))){if(i.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,i.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var c=i.gridRect.getBoundingClientRect();i.startX=i.clientX-c.left,i.startY=i.clientY-c.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(i.dragged=!0,o.globals.panEnabled?(o.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:r,xyRatios:e})):(i.w.globals.mousedown&&o.globals.zoomEnabled||i.w.globals.mousedown&&o.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:r}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var u=i.gridRect.getBoundingClientRect();i.w.globals.mousedown&&(i.endX=i.clientX-u.left,i.endY=i.clientY-u.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:r}),o.globals.panEnabled&&o.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),o.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(null!=e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var o=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio;this.drawSelectionRect({x:o,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-o,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,o=e.y,i=e.width,n=e.height,r=e.translateX,s=e.translateY,a=this.w,l=this.zoomRect,c=this.selectionRect;if(this.dragged||null!==a.globals.selection){var u={transform:"translate("+(void 0===r?0:r)+", "+(void 0===s?0:s)+")"};a.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),l.attr({x:t,y:o,width:i,height:n,fill:a.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":a.config.chart.zoom.zoomedArea.fill.opacity,stroke:a.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":a.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":a.config.chart.zoom.zoomedArea.stroke.opacity}),x.setAttrs(l.node,u)),a.globals.selectionEnabled&&(c.attr({x:t,y:o,width:i>0?i:0,height:n>0?n:0,fill:a.config.chart.selection.fill.color,"fill-opacity":a.config.chart.selection.fill.opacity,stroke:a.config.chart.selection.stroke.color,"stroke-width":a.config.chart.selection.stroke.width,"stroke-dasharray":a.config.chart.selection.stroke.dashArray,"stroke-opacity":a.config.chart.selection.stroke.opacity}),x.setAttrs(c.node,u))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,o=e.zoomtype,i=this.w,n=e.context,r=this.gridRect.getBoundingClientRect(),s=n.startX-1,a=n.startY,l=!1,c=!1,u=n.clientX-r.left-s,p=n.clientY-r.top-a;return Math.abs(u+s)>i.globals.gridWidth?u=i.globals.gridWidth-s:n.clientX-r.left<0&&(u=s),s>n.clientX-r.left&&(l=!0,u=Math.abs(u)),a>n.clientY-r.top&&(c=!0,p=Math.abs(p)),n.drawSelectionRect(t="x"===o?{x:l?s-u:s,y:0,width:u,height:i.globals.gridHeight}:"y"===o?{x:0,y:c?a-p:a,width:i.globals.gridWidth,height:p}:{x:l?s-u:s,y:c?a-p:a,width:u,height:p}),n.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var o=this,i=this.w,n=this.xyRatios,r=this.selectionRect,s=0;"resizing"===e&&(s=30);var a=function(e){return parseFloat(r.node.getAttribute(e))},l={x:a("x"),y:a("y"),width:a("width"),height:a("height")};i.globals.selection=l,"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var e=o.gridRect.getBoundingClientRect(),t=r.node.getBoundingClientRect(),s={xaxis:{min:i.globals.xAxisScale.niceMin+(t.left-e.left)*n.xRatio,max:i.globals.xAxisScale.niceMin+(t.right-e.left)*n.xRatio},yaxis:{min:i.globals.yAxisScale[0].niceMin+(e.bottom-t.bottom)*n.yRatio[0],max:i.globals.yAxisScale[0].niceMax-(t.top-e.top)*n.yRatio[0]}};i.config.chart.events.selection(o.ctx,s),i.config.chart.brush.enabled&&void 0!==i.config.chart.events.brushScrolled&&i.config.chart.events.brushScrolled(o.ctx,s)},s))}},{key:"selectionDrawn",value:function(e){var t=e.zoomtype,o=this.w,i=e.context,n=this.xyRatios,r=this.ctx.toolbar;if(i.startX>i.endX){var s=i.startX;i.startX=i.endX,i.endX=s}if(i.startY>i.endY){var a=i.startY;i.startY=i.endY,i.endY=a}var l=void 0,c=void 0;o.globals.isRangeBar?(l=o.globals.yAxisScale[0].niceMin+i.startX*n.invertedYRatio,c=o.globals.yAxisScale[0].niceMin+i.endX*n.invertedYRatio):(l=o.globals.xAxisScale.niceMin+i.startX*n.xRatio,c=o.globals.xAxisScale.niceMin+i.endX*n.xRatio);var u=[],p=[];if(o.config.yaxis.forEach(function(e,t){u.push(o.globals.yAxisScale[t].niceMax-n.yRatio[t]*i.startY),p.push(o.globals.yAxisScale[t].niceMax-n.yRatio[t]*i.endY)}),i.dragged&&(i.dragX>10||i.dragY>10)&&l!==c)if(o.globals.zoomEnabled){var h=C.clone(o.globals.initialConfig.yaxis),d=C.clone(o.globals.initialConfig.xaxis);if(o.globals.zoomed=!0,o.config.xaxis.convertedCatToNumeric&&(l=Math.floor(l),c=Math.floor(c),l<1&&(l=1,c=o.globals.dataPoints),c-l<2&&(c=l+1)),"xy"!==t&&"x"!==t||(d={min:l,max:c}),"xy"!==t&&"y"!==t||h.forEach(function(e,t){h[t].min=p[t],h[t].max=u[t]}),o.config.chart.zoom.autoScaleYaxis){var f=new Q(i.ctx);h=f.autoScaleY(i.ctx,h,{xaxis:d})}if(r){var g=r.getBeforeZoomRange(d,h);g&&(d=g.xaxis?g.xaxis:d,h=g.yaxis?g.yaxis:h)}var m={xaxis:d};o.config.chart.group||(m.yaxis=h),i.ctx.updateHelpers._updateOptions(m,!1,i.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof o.config.chart.events.zoomed&&r.zoomCallback(d,h)}else if(o.globals.selectionEnabled){var y,v=null;y={min:l,max:c},"xy"!==t&&"y"!==t||(v=C.clone(o.config.yaxis)).forEach(function(e,t){v[t].min=p[t],v[t].max=u[t]}),o.globals.selection=i.selection,"function"==typeof o.config.chart.events.selection&&o.config.chart.events.selection(i.ctx,{xaxis:y,yaxis:v})}}},{key:"panDragging",value:function(e){var t=this.w,o=e.context;if(void 0!==t.globals.lastClientPosition.x){var i=t.globals.lastClientPosition.x-o.clientX,n=t.globals.lastClientPosition.y-o.clientY;Math.abs(i)>Math.abs(n)&&i>0?this.moveDirection="left":Math.abs(i)>Math.abs(n)&&i<0?this.moveDirection="right":Math.abs(n)>Math.abs(i)&&n>0?this.moveDirection="up":Math.abs(n)>Math.abs(i)&&n<0&&(this.moveDirection="down")}t.globals.lastClientPosition={x:o.clientX,y:o.clientY},t.config.xaxis.convertedCatToNumeric||o.panScrolled(t.globals.isRangeBar?t.globals.minY:t.globals.minX,t.globals.isRangeBar?t.globals.maxY:t.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,o=e.globals.maxX,i=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+i,o=e.globals.maxX+i):"right"===this.moveDirection&&(t=e.globals.minX-i,o=e.globals.maxX-i),t=Math.floor(t),o=Math.floor(o),this.updateScrolledChart({xaxis:{min:t,max:o}},t,o)}},{key:"panScrolled",value:function(e,t){var o=this.w,i=this.xyRatios,n=C.clone(o.globals.initialConfig.yaxis),r=i.xRatio,s=o.globals.minX,a=o.globals.maxX;o.globals.isRangeBar&&(r=i.invertedYRatio,s=o.globals.minY,a=o.globals.maxY),"left"===this.moveDirection?(e=s+o.globals.gridWidth/15*r,t=a+o.globals.gridWidth/15*r):"right"===this.moveDirection&&(e=s-o.globals.gridWidth/15*r,t=a-o.globals.gridWidth/15*r),o.globals.isRangeBar||(e<o.globals.initialMinX||t>o.globals.initialMaxX)&&(e=s,t=a);var l={min:e,max:t};o.config.chart.zoom.autoScaleYaxis&&(n=new Q(this.ctx).autoScaleY(this.ctx,n,{xaxis:l}));var c={xaxis:{min:e,max:t}};o.config.chart.group||(c.yaxis=n),this.updateScrolledChart(c,e,t)}},{key:"updateScrolledChart",value:function(e,t,o){var i=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:o}})}}]),o}(),me=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return c(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,o=e.clientX,i=e.clientY,n=this.w,r=e.elGrid.getBoundingClientRect(),s=r.width,a=r.height,l=s/(n.globals.dataPoints-1),c=a/n.globals.dataPoints,u=this.hasBars();!n.globals.comboCharts&&!u||n.config.xaxis.convertedCatToNumeric||(l=s/n.globals.dataPoints);var p=o-r.left-n.globals.barPadForNumericAxis,h=i-r.top;p<0||h<0||p>s||h>a?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):n.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):n.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var d=Math.round(p/l),f=Math.floor(h/c);u&&!n.config.xaxis.convertedCatToNumeric&&(d=Math.ceil(p/l),d-=1);var g=null,m=null,y=[],v=[];if(n.globals.seriesXvalues.forEach(function(e){y.push([e[0]+1e-6].concat(e))}),n.globals.seriesYvalues.forEach(function(e){v.push([e[0]+1e-6].concat(e))}),y=y.map(function(e){return e.filter(function(e){return C.isNumber(e)})}),v=v.map(function(e){return e.filter(function(e){return C.isNumber(e)})}),n.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),b=p*(w.width/s);g=(m=this.closestInMultiArray(b,h*(w.height/a),y,v)).index,d=m.j,null!==g&&(d=(m=this.closestInArray(b,y=n.globals.seriesXvalues[g])).index)}return n.globals.capturedSeriesIndex=null===g?-1:g,(!d||d<1)&&(d=0),n.globals.capturedDataPointIndex=n.globals.isBarHorizontal?f:d,{capturedSeries:g,j:n.globals.isBarHorizontal?f:d,hoverX:p,hoverY:h}}},{key:"closestInMultiArray",value:function(e,t,o,i){var n=0,r=null,s=-1;this.w.globals.series.length>1?n=this.getFirstActiveXArray(o):r=0;var a=Math.abs(e-o[n][0]);if(o.forEach(function(t){t.forEach(function(t,o){var i=Math.abs(e-t);i<a&&(a=i,s=o)})}),-1!==s){var l=Math.abs(t-i[n][s]);r=n,i.forEach(function(e,o){var i=Math.abs(t-e[s]);i<l&&(l=i,r=o)})}return{index:r,j:s}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,o=0,i=e.map(function(e,t){return e.length>0?t:-1}),n=0;n<i.length;n++)if(-1!==i[n]&&-1===t.globals.collapsedSeriesIndices.indexOf(n)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(n)){o=i[n];break}return o}},{key:"closestInArray",value:function(e,t){for(var o=null,i=Math.abs(e-t[0]),n=0;n<t.length;n++){var r=Math.abs(e-t[n]);r<i&&(i=r,o=n)}return{index:o}}},{key:"isXoverlap",value:function(e){var t=[],o=this.w.globals.seriesX.filter(function(e){return void 0!==e[0]});if(o.length>0)for(var i=0;i<o.length-1;i++)void 0!==o[i][e]&&void 0!==o[i+1][e]&&o[i][e]!==o[i+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,o=0;o<t.length-1;o++)if(t[o].data.length!==t[o+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return m(e).reduce(function(e,t){return e+t.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=m(e)).sort(function(e,t){var o=Number(e.getAttribute("data:realIndex")),i=Number(t.getAttribute("data:realIndex"));return i<o?1:i>o?-1:0});var t=[];return e.forEach(function(e){t.push(e.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,o=t.config.markers.hover.size;return void 0===o&&(o=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,o=this.ttCtx;0===o.allTooltipSeriesGroups.length&&(o.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=o.allTooltipSeriesGroups,n=0;n<i.length;n++)"enable"===e?(i[n].classList.add("apexcharts-active"),i[n].style.display=t.config.tooltip.items.display):(i[n].classList.remove("apexcharts-active"),i[n].style.display="none")}}]),e}(),ye=function(){function e(t){a(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new me(t)}return c(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,o=void 0===t||t,i=e.ttItems,n=e.i,r=void 0===n?0:n,s=e.j,a=void 0===s?null:s,l=e.e,c=this.w;void 0!==c.config.tooltip.custom?this.handleCustomTooltip({i:r,j:a,y1:e.y1,y2:e.y2,w:c}):this.toggleActiveInactiveSeries(o);var u=this.getValuesToPrint({i:r,j:a});this.printLabels({i:r,j:a,values:u,ttItems:i,shared:o,e:l});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,o=this,i=e.i,n=e.j,s=e.values,a=e.ttItems,l=e.shared,c=e.e,u=this.w,p=[],h=function(e){return u.globals.seriesGoals[e]&&u.globals.seriesGoals[e][n]&&Array.isArray(u.globals.seriesGoals[e][n])},d=s.xVal,f=s.zVal,g=s.xAxisTTVal,m="",y=u.globals.colors[i];null!==n&&u.config.plotOptions.bar.distributed&&(y=u.globals.colors[n]);for(var v=function(e,s){var v=o.getFormatters(i);m=o.getSeriesName({fn:v.yLbTitleFormatter,index:i,seriesIndex:i,j:n}),"treemap"===u.config.chart.type&&(m=v.yLbTitleFormatter(String(u.config.series[i].data[n].x),{series:u.globals.series,seriesIndex:i,dataPointIndex:n,w:u}));var C=u.config.tooltip.inverseOrder?s:e;if(u.globals.axisCharts){var w=function(e){return v.yLbFormatter(u.globals.series[e][n],{series:u.globals.series,seriesIndex:e,dataPointIndex:n,w:u})};if(l)v=o.getFormatters(C),m=o.getSeriesName({fn:v.yLbTitleFormatter,index:C,seriesIndex:i,j:n}),y=u.globals.colors[C],t=w(C),h(C)&&(p=u.globals.seriesGoals[C][n].map(function(e){return{attrs:e,val:v.yLbFormatter(e.value,{seriesIndex:C,dataPointIndex:n,w:u})}}));else{var b,x=null==c||null===(b=c.target)||void 0===b?void 0:b.getAttribute("fill");x&&(y=-1!==x.indexOf("url")?document.querySelector(x.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):x),t=w(i),h(i)&&Array.isArray(u.globals.seriesGoals[i][n])&&(p=u.globals.seriesGoals[i][n].map(function(e){return{attrs:e,val:v.yLbFormatter(e.value,{seriesIndex:i,dataPointIndex:n,w:u})}}))}}null===n&&(t=v.yLbFormatter(u.globals.series[i],r(r({},u),{},{seriesIndex:i,dataPointIndex:i}))),o.DOMHandling({i:i,t:C,j:n,ttItems:a,values:{val:t,goalVals:p,xVal:d,xAxisTTVal:g,zVal:f},seriesName:m,shared:l,pColor:y})},C=0,w=u.globals.series.length-1;C<u.globals.series.length;C++,w--)v(C,w)}},{key:"getFormatters",value:function(e){var t,o=this.w,i=o.globals.yLabelFormatters[e];return void 0!==o.globals.ttVal?Array.isArray(o.globals.ttVal)?(i=o.globals.ttVal[e]&&o.globals.ttVal[e].formatter,t=o.globals.ttVal[e]&&o.globals.ttVal[e].title&&o.globals.ttVal[e].title.formatter):(i=o.globals.ttVal.formatter,"function"==typeof o.globals.ttVal.title.formatter&&(t=o.globals.ttVal.title.formatter)):t=o.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.seriesIndex,o=e.j,i=this.w;return(0,e.fn)(String(i.globals.seriesNames[e.index]),{series:i.globals.series,seriesIndex:t,dataPointIndex:o,w:i})}},{key:"DOMHandling",value:function(e){var t=e.t,o=e.j,i=e.ttItems,n=e.values,r=e.seriesName,s=e.shared,a=e.pColor,l=this.w,c=this.ttCtx,u=n.val,p=n.goalVals,h=n.xVal,d=n.xAxisTTVal,f=n.zVal,g=null;g=i[t].children,l.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=a,g[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=h),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==d?d:h);var m=i[t].querySelector(".apexcharts-tooltip-text-y-label");m&&(m.innerHTML=r||"");var y=i[t].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=void 0!==u?u:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(a=l.config.tooltip.marker.fillColors[t]),g[0].style.backgroundColor=a),l.config.tooltip.marker.show||(g[0].style.display="none");var v=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&l.globals.seriesGoals[t]){var w=function(){var e="<div >",t="<div>";p.forEach(function(o,i){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(o.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(o.attrs.name,"</div>"),t+="<div>".concat(o.val,"</div>")}),v.innerHTML=e+"</div>",C.innerHTML=t+"</div>"};s?l.globals.seriesGoals[t][o]&&Array.isArray(l.globals.seriesGoals[t][o])?w():(v.innerHTML="",C.innerHTML=""):w()}else v.innerHTML="",C.innerHTML="";null!==f&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==f?f:""),s&&g[0]&&(g[0].parentNode.style.display=null==u||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?"none":l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var o=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");o&&(o.classList.add("apexcharts-active"),o.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,o=e.j,i=this.w,n=this.ctx.series.filteredSeriesX(),r="",s="",a=null,l=null,c={series:i.globals.series,seriesIndex:t,dataPointIndex:o,w:i},u=i.globals.ttZFormatter;null===o?l=i.globals.series[t]:i.globals.isXNumeric&&"treemap"!==i.config.chart.type?(r=n[t][o],0===n[t].length&&(r=n[this.tooltipUtil.getFirstActiveXArray(n)][o])):r=void 0!==i.globals.labels[o]?i.globals.labels[o]:"";var p=r;return r=i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?new Y(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new H(this.ctx).formatDate,w:this.w}):i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](p,c):i.globals.xLabelFormatter(p,c),void 0!==i.config.tooltip.x.formatter&&(r=i.globals.ttKeyFormatter(p,c)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(a=u(i.globals.seriesZ[t][o],i)),s="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(p,c):r,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(r)?r.join(" "):r,xAxisTTVal:Array.isArray(s)?s.join(" "):s,zVal:a}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,o=e.j,i=e.y1,n=e.y2,r=e.w,s=this.ttCtx.getElTooltip(),a=r.config.tooltip.custom;Array.isArray(a)&&a[t]&&(a=a[t]),s.innerHTML=a({ctx:this.ctx,series:r.globals.series,seriesIndex:t,dataPointIndex:o,y1:i,y2:n,w:r})}}]),e}(),ve=function(){function e(t){a(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return c(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.ttCtx,i=this.w,n=o.getElXCrosshairs(),r=e-o.xcrosshairsWidth/2,s=i.globals.labels.slice().length;if(null!==t&&(r=i.globals.gridWidth/s*t),null===n||i.globals.isBarHorizontal||(n.setAttribute("x",r),n.setAttribute("x1",r),n.setAttribute("x2",r),n.setAttribute("y2",i.globals.gridHeight),n.classList.add("apexcharts-active")),r<0&&(r=0),r>i.globals.gridWidth&&(r=i.globals.gridWidth),o.isXAxisTooltipEnabled){var a=r;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(a=r+o.xcrosshairsWidth/2),this.moveXAxisTooltip(a)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&x.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&x.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,o=this.ttCtx;if(null!==o.xaxisTooltip&&0!==o.xcrosshairsWidth){o.xaxisTooltip.classList.add("apexcharts-active");var i,n=o.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;e-=o.xaxisTooltip.getBoundingClientRect().width/2,isNaN(e)||(e+=t.globals.translateX,i=new x(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=i.width+"px",o.xaxisTooltip.style.left=e+"px",o.xaxisTooltip.style.top=n+"px")}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,o=this.ttCtx;null===o.yaxisTTEls&&(o.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),n=t.globals.translateY+i,r=o.yaxisTTEls[e].getBoundingClientRect().height,s=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(s-=26),n-=r/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(o.yaxisTTEls[e].classList.add("apexcharts-active"),o.yaxisTTEls[e].style.top=n+"px",o.yaxisTTEls[e].style.left=s+t.config.yaxis[e].tooltip.offsetX+"px"):o.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,n=this.ttCtx,r=n.getElTooltip(),s=n.tooltipRect,a=null!==o?parseFloat(o):1,l=parseFloat(e)+a+5,c=parseFloat(t)+a/2;if(l>i.globals.gridWidth/2&&(l=l-s.ttWidth-a-10),l>i.globals.gridWidth-s.ttWidth-10&&(l=i.globals.gridWidth-s.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var u=n.getElGrid(),p=u.getBoundingClientRect();c=n.e.clientY+i.globals.translateY-p.top-s.ttHeight/2}else i.globals.isBarHorizontal||(s.ttHeight/2+c>i.globals.gridHeight&&(c=i.globals.gridHeight-s.ttHeight+i.globals.translateY),c<0&&(c=0));isNaN(l)||(r.style.left=(l+=i.globals.translateX)+"px",r.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var o=this.w,i=this.ttCtx;if(o.globals.markers.size[e]>0)for(var n=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),r=0;r<n.length;r++)parseInt(n[r].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,n[r]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var o,i,n=this.w,r=this.ttCtx,s=n.globals.pointsArray,a=r.tooltipUtil.getHoverMarkerSize(t),l=n.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){o=s[t][e][0],i=s[t][e][1]?s[t][e][1]:0;var c=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));c&&i<n.globals.gridHeight&&i>0&&(c.setAttribute("r",a),c.setAttribute("cx",o),c.setAttribute("cy",i)),this.moveXCrosshairs(o),r.fixedTooltip||this.moveTooltip(o,i,a)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,o=this.ttCtx,i=o.w,n=0,r=0,s=i.globals.pointsArray;t=new L(this.ctx).getActiveConfigSeriesIndex(!0);var a=o.tooltipUtil.getHoverMarkerSize(t);s[t]&&(n=s[t][e][0],r=s[t][e][1]);var l=o.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<i.globals.series.length;c++){var u=s[c];if(i.globals.comboCharts&&void 0===u&&l.splice(c,0,null),u&&u.length){var p=s[c][e][1];l[c].setAttribute("cx",n),null!==p&&!isNaN(p)&&p<i.globals.gridHeight+a&&p+a>0?(l[c]&&l[c].setAttribute("r",a),l[c]&&l[c].setAttribute("cy",p)):l[c]&&l[c].setAttribute("r",0)}}this.moveXCrosshairs(n),o.fixedTooltip||this.moveTooltip(n,r||i.globals.gridHeight,a)}},{key:"moveStickyTooltipOverBars",value:function(e){var t=this.w,o=this.ttCtx,i=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,n=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;t.globals.isBarHorizontal&&(n=new L(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var r=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(n,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(n,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(n,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(n,"'] path[j='").concat(e,"']")),s=r?parseFloat(r.getAttribute("cx")):0,a=r?parseFloat(r.getAttribute("cy")):0,l=r?parseFloat(r.getAttribute("barWidth")):0,c=r?parseFloat(r.getAttribute("barHeight")):0,u=o.getElGrid().getBoundingClientRect(),p=r.classList.contains("apexcharts-candlestick-area")||r.classList.contains("apexcharts-boxPlot-area");t.globals.isXNumeric?(r&&!p&&(s-=i%2!=0?l/2:0),r&&p&&t.globals.comboCharts&&(s-=l/2)):t.globals.isBarHorizontal||(s=o.xAxisTicksPositions[e-1]+o.dataPointsDividedWidth/2,isNaN(s)&&(s=o.xAxisTicksPositions[e]-o.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(a>t.globals.gridHeight/2&&(a-=o.tooltipRect.ttHeight),(a=a+t.config.grid.padding.top+c/3)+c>t.globals.gridHeight&&(a=t.globals.gridHeight-c)):t.config.tooltip.followCursor?a=o.e.clientY-u.top-o.tooltipRect.ttHeight/2:a+o.tooltipRect.ttHeight+15>t.globals.gridHeight&&(a=t.globals.gridHeight),a<-10&&(a=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(s),o.fixedTooltip||this.moveTooltip(s,a||t.globals.gridHeight)}}]),e}(),Ce=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new ve(t)}return c(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new x(this.ctx),o=new I(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=m(i),e.config.chart.stacked&&i.sort(function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))});for(var n=0;n<i.length;n++){var r=i[n].querySelector(".apexcharts-series-markers-wrap");if(null!==r){var s=void 0,a="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(a+=" no-pointer-events");var l=o.getMarkerConfig({cssClass:a,seriesIndex:Number(r.getAttribute("data:realIndex"))});(s=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(s.node),r.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w;"bubble"!==n.config.chart.type&&this.newPointSize(e,t);var r=t.getAttribute("cx"),s=t.getAttribute("cy");if(null!==o&&null!==i&&(r=o,s=i),this.tooltipPosition.moveXCrosshairs(r),!this.fixedTooltip){if("radar"===n.config.chart.type){var a=this.ttCtx.getElGrid(),l=a.getBoundingClientRect();r=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(r,s,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,o=this,i=this.ttCtx,n=e,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=t.config.markers.hover.size,a=0;a<r.length;a++){var l=r[a].getAttribute("rel"),c=r[a].getAttribute("index");if(void 0===s&&(s=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),n===parseInt(l,10)){o.newPointSize(n,r[a]);var u=r[a].getAttribute("cx"),p=r[a].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(u),i.fixedTooltip||o.tooltipPosition.moveTooltip(u,p,s)}else o.oldPointSize(r[a])}}},{key:"newPointSize",value:function(e,t){var o=this.w,i=o.config.markers.hover.size,n=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==n.getAttribute("default-marker-size")){var r=parseInt(n.getAttribute("index"),10);void 0===i&&(i=o.globals.markers.size[r]+o.config.markers.hover.sizeOffset),i<0&&(i=0),n.setAttribute("r",i)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var o=parseFloat(e[t].getAttribute("default-marker-size"));C.isNumber(o)&&o>=0?e[t].setAttribute("r",o):e[t].setAttribute("r",0)}}}]),e}(),we=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return c(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,o=e.opt,i=e.x,n=e.y,r=this.ttCtx,s=this.w;if(t.target.classList.contains("apexcharts-".concat(e.type,"-rect"))){var a=this.getAttr(t,"i"),l=this.getAttr(t,"j"),c=this.getAttr(t,"cx"),u=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),h=this.getAttr(t,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:a,j:l,shared:!1,e:t}),s.globals.capturedSeriesIndex=a,s.globals.capturedDataPointIndex=l,i=c+r.tooltipRect.ttWidth/2+p,n=u+r.tooltipRect.ttHeight/2-h/2,r.tooltipPosition.moveXCrosshairs(c+p/2),i>s.globals.gridWidth/2&&(i=c-r.tooltipRect.ttWidth/2+p),r.w.config.tooltip.followCursor){var d=s.globals.dom.elWrap.getBoundingClientRect();i=s.globals.clientX-d.left-(i>s.globals.gridWidth/2?r.tooltipRect.ttWidth:0),n=s.globals.clientY-d.top-(n>s.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:i,y:n}}},{key:"handleMarkerTooltip",value:function(e){var t,o,i=e.e,n=e.opt,r=e.x,s=e.y,a=this.w,l=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var c=parseInt(n.paths.getAttribute("cx"),10),u=parseInt(n.paths.getAttribute("cy"),10),p=parseFloat(n.paths.getAttribute("val"));if(o=parseInt(n.paths.getAttribute("rel"),10),t=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var h=C.findAncestor(n.paths,"apexcharts-series");h&&(t=parseInt(h.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:t,j:o,shared:!l.showOnIntersect&&a.config.tooltip.shared,e:i}),"mouseup"===i.type&&l.markerClick(i,t,o),a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=o,r=c,s=u+a.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var d=l.getElGrid().getBoundingClientRect();s=l.e.clientY+a.globals.translateY-d.top}p<0&&(s=u),l.marker.enlargeCurrentPoint(o,n.paths,r,s)}return{x:r,y:s}}},{key:"handleBarTooltip",value:function(e){var t,o,i=e.e,n=e.opt,r=this.w,s=this.ttCtx,a=s.getElTooltip(),l=0,c=0,u=0,p=this.getBarTooltipXY({e:i,opt:n}),h=p.barHeight,d=p.j;r.globals.capturedSeriesIndex=t=p.i,r.globals.capturedDataPointIndex=d,r.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!r.config.tooltip.shared?(c=p.x,u=p.y,o=Array.isArray(r.config.stroke.width)?r.config.stroke.width[t]:r.config.stroke.width,l=c):r.globals.comboCharts||r.config.tooltip.shared||(l/=2),isNaN(u)?u=r.globals.svgHeight-s.tooltipRect.ttHeight:u<0&&(u=0);var f=parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10),g=r.globals.isMultipleYAxis?r.config.yaxis[f]&&r.config.yaxis[f].reversed:r.config.yaxis[0].reversed;if(c+s.tooltipRect.ttWidth>r.globals.gridWidth&&!g?c-=s.tooltipRect.ttWidth:c<0&&(c=0),s.w.config.tooltip.followCursor){var m=s.getElGrid().getBoundingClientRect();u=s.e.clientY-m.top}null===s.tooltip&&(s.tooltip=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),r.config.tooltip.shared||s.tooltipPosition.moveXCrosshairs(r.globals.comboBarCount>0?l+o/2:l),!s.fixedTooltip&&(!r.config.tooltip.shared||r.globals.isBarHorizontal&&s.tooltipUtil.hasBars())&&(g&&(c-=s.tooltipRect.ttWidth)<0&&(c=0),!g||r.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||(u=u+h-2*(r.globals.series[t][d]<0?h:0)),s.tooltipRect.ttHeight+u>r.globals.gridHeight?u=r.globals.gridHeight-s.tooltipRect.ttHeight+r.globals.translateY:(u=u+r.globals.translateY-s.tooltipRect.ttHeight/2)<0&&(u=0),a.style.left=c+r.globals.translateX+"px",a.style.top=u+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,o=e.opt,i=this.w,n=null,r=this.ttCtx,s=0,a=0,l=0,c=0,u=0,p=t.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var h=t.target,d=h.getBoundingClientRect(),f=o.elGrid.getBoundingClientRect(),g=d.height;u=d.height;var m=d.width,y=parseInt(h.getAttribute("cx"),10),v=parseInt(h.getAttribute("cy"),10);c=parseFloat(h.getAttribute("barWidth"));var C="touchmove"===t.type?t.touches[0].clientX:t.clientX;n=parseInt(h.getAttribute("j"),10),s=parseInt(h.parentNode.getAttribute("rel"),10)-1;var w=h.getAttribute("data-range-y1"),b=h.getAttribute("data-range-y2");i.globals.comboCharts&&(s=parseInt(h.parentNode.getAttribute("data:realIndex"),10)),r.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:s,j:n,y1:w?parseInt(w,10):null,y2:b?parseInt(b,10):null,shared:!r.showOnIntersect&&i.config.tooltip.shared,e:t}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(a=C-f.left+15,l=v-r.dataPointsDividedHeight+g/2-r.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?y-m/2:y-r.dataPointsDividedWidth+m/2,l=t.clientY-f.top-r.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((a=y)<r.xyRatios.baseLineInvertedY&&(a=y-r.tooltipRect.ttWidth),l=v-r.dataPointsDividedHeight+g/2-r.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?y-m/2:y-r.dataPointsDividedWidth+m/2,l=v)}return{x:a,y:l,barHeight:u,barWidth:c,i:s,j:n}}}]),e}(),be=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return c(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,o="bottom"===e.config.xaxis.position;t.xaxisOffY=o?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),n.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,o=function(o){var i=e.config.yaxis[o].opposite||e.config.yaxis[o].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map(function(t,i){t.map(function(t,i){i===o&&(n+=e.config.yaxis[i].show?" ":" apexcharts-yaxistooltip-hidden")})});var r=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.yaxisTooltip),0===o&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[o]=document.createElement("div"),t.yaxisTooltipText[o].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[o]))},i=0;i<e.config.yaxis.length;i++)o(i)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,o=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==i&&"barWidth"===e.config.xaxis.crosshairs.width){var n=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=n}else"tickWidth"===e.config.xaxis.crosshairs.width&&(t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length)}else if("tickWidth"===e.config.xaxis.crosshairs.width)t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length;else if("barWidth"===e.config.xaxis.crosshairs.width){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==o&&t.xcrosshairsWidth>0&&o.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,o){var i=this.ttCtx,n=this.w,r=n.globals.yLabelFormatters[e];if(i.yaxisTooltips[e]){var s=i.getElGrid().getBoundingClientRect(),a=n.globals.minYArr[e]+(n.globals.maxYArr[e]-n.globals.minYArr[e]-(t-s.top)*o.yRatio[e]);i.tooltipPosition.moveYCrosshairs(t-s.top),i.yaxisTooltipText[e].innerHTML=r(a),i.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),xe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.tConfig=o.config.tooltip,this.tooltipUtil=new me(this),this.tooltipLabels=new ye(this),this.tooltipPosition=new ve(this),this.marker=new Ce(this),this.intersect=new we(this),this.axesTooltip=new be(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!o.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(e,o){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&o.classList.add(t.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(o),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new Z(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var n=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,o=this.w,i=[],n=this.getElTooltip(),r=function(r){var s=document.createElement("div");s.classList.add("apexcharts-tooltip-series-group"),s.style.order=o.config.tooltip.inverseOrder?e-r:r+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(r)<0&&s.classList.add("apexcharts-tooltip-series-group-hidden");var a=document.createElement("span");a.classList.add("apexcharts-tooltip-marker"),a.style.backgroundColor=o.globals.colors[r],s.appendChild(a);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||o.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var o=document.createElement("span");o.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(o);var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(i),l.appendChild(t)}),s.appendChild(l),n.appendChild(s),i.push(s)},s=0;s<e;s++)r(s);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,o=this.getElTooltip(),i=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),n="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,r=e.globals.dom.Paper.node,s=this.getElGrid();s&&(this.seriesBound=s.getBoundingClientRect());var a,l=[],c=[],u={hoverArea:r,elGrid:s,tooltipEl:o,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(n?a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),a&&a.length))for(var p=0;p<a.length;p++)l.push(a[p].getAttribute("cy")),c.push(a[p].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([r],u);else if(i&&!e.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(h,u)}if(this.showOnIntersect){var d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");d.length>0&&this.addPathsEventListeners(d,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),o=t.getBoundingClientRect(),i=o.width+10,n=o.height+10,r=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY,a=this.tConfig.fixed.position.toLowerCase();return a.indexOf("right")>-1&&(r=r+e.globals.svgWidth-i+10),a.indexOf("bottom")>-1&&(s=s+e.globals.svgHeight-n-10),t.style.left=r+"px",t.style.top=s+"px",{x:r,y:s,ttWidth:i,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var o=this,i=function(i){var n={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return e[i].addEventListener(t,o.onSeriesHover.bind(o,n),{capture:!1,passive:!0})})},n=0;n<e.length;n++)i(n)}},{key:"onSeriesHover",value:function(e,t){var o=this,i=Date.now()-this.lastHoverTime;i>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){o.seriesHover(e,t)},100-i))}},{key:"seriesHover",value:function(e,t){var o=this;this.lastHoverTime=Date.now();var i=[],n=this.w;n.config.chart.group&&(i=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||0===n.globals.dataPoints)||(i.length?i.forEach(function(i){var n=o.getElTooltip(i);i.w.globals.minX===o.w.globals.minX&&i.w.globals.maxX===o.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:{paths:e.paths,tooltipEl:n,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems},e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,o=e.ttCtx,i=e.opt,n=e.e,r=t.w,s=this.getElTooltip();s&&(o.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},o.e=n,!o.tooltipUtil.hasBars()||r.globals.comboCharts||o.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new L(t).toggleSeriesOnHover(n,n.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),r.globals.axisCharts?o.axisChartsTooltips({e:n,opt:i,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:n,opt:i,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,o,i=e.e,n=e.opt,r=this.w,s=n.elGrid.getBoundingClientRect(),a="touchmove"===i.type?i.touches[0].clientX:i.clientX,l="touchmove"===i.type?i.touches[0].clientY:i.clientY;if(this.clientY=l,this.clientX=a,r.globals.capturedSeriesIndex=-1,r.globals.capturedDataPointIndex=-1,l<s.top||l>s.top+s.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!r.config.tooltip.shared){var c=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(n)}var u=this.getElTooltip(),p=this.getElXCrosshairs(),h=r.globals.xyCharts||"bar"===r.config.chart.type&&!r.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||r.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===i.type||"touchmove"===i.type||"mouseup"===i.type){if(r.globals.collapsedSeries.length+r.globals.ancillaryCollapsedSeries.length===r.globals.series.length)return;null!==p&&p.classList.add("apexcharts-active");var d=this.yaxisTooltips.filter(function(e){return!0===e});if(null!==this.ycrosshairs&&d.length&&this.ycrosshairs.classList.add("apexcharts-active"),h&&!this.showOnIntersect)this.handleStickyTooltip(i,a,l,n);else if("heatmap"===r.config.chart.type||"treemap"===r.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:i,opt:n,x:t,y:o,type:r.config.chart.type});o=f.y,u.style.left=(t=f.x)+"px",u.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:n,x:t,y:o});if(this.yaxisTooltips.length)for(var g=0;g<r.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);n.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==i.type&&"touchend"!==i.type||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,o=e.opt,i=e.tooltipRect,n=this.w,r=o.paths.getAttribute("rel"),s=this.getElTooltip(),a=n.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){s.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(r,10)-1,shared:!1});var l=n.globals.clientY-a.top-i.ttHeight-10;if(s.style.left=n.globals.clientX-a.left-i.ttWidth/2+"px",s.style.top=l+"px",n.config.legend.tooltipHoverFormatter){var c=r-1,u=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[c].getAttribute("data:default-text"),{seriesIndex:c,dataPointIndex:c,w:n});this.legendLabels[c].innerHTML=u}}else"mouseout"!==t.type&&"touchend"!==t.type||(s.classList.remove("apexcharts-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"handleStickyTooltip",value:function(e,t,o,i){var n=this.w,r=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:o}),s=r.j,a=r.capturedSeries,l=i.elGrid.getBoundingClientRect();r.hoverX<0||r.hoverX>l.width?this.handleMouseOut(i):null!==a?this.handleStickyCapturedSeries(e,a,i,s):(this.tooltipUtil.isXoverlap(s)||n.globals.isBarHorizontal)&&this.create(e,this,0,s,i.ttItems)}},{key:"handleStickyCapturedSeries",value:function(e,t,o,i){var n=this.w;this.tConfig.shared||null!==n.globals.series[t][i]?void 0!==n.globals.series[t][i]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,o.ttItems):this.create(e,this,t,i,o.ttItems,!1):this.tooltipUtil.isXoverlap(i)&&this.create(e,this,0,i,o.ttItems):this.handleMouseOut(o)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new x(this.ctx),o=e.globals.dom.Paper.select(".apexcharts-bar-area"),i=0;i<o.length;i++)t.pathMouseLeave(o[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,o=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==o&&o.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})}},{key:"markerClick",value:function(e,t,o){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:o,w:i}])}},{key:"create",value:function(e,t,o,i,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=this.w,a=t;"mouseup"===e.type&&this.markerClick(e,o,i),null===r&&(r=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(s.config.legend.tooltipHoverFormatter){var u=s.config.legend.tooltipHoverFormatter,p=Array.from(this.legendLabels);p.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)});for(var h=0;h<p.length;h++){var d=p[h],f=parseInt(d.getAttribute("i"),10),g=decodeURIComponent(d.getAttribute("data:default-text")),m=u(g,{seriesIndex:r?f:o,dataPointIndex:i,w:s});if(r)d.innerHTML=s.globals.collapsedSeriesIndices.indexOf(f)<0?m:g;else if(d.innerHTML=f===o?m:g,o===f)break}}if(r){if(a.tooltipLabels.drawSeriesTexts({ttItems:n,i:o,j:i,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(s.globals.markers.largestSize>0?a.marker.enlargePoints(i):a.tooltipPosition.moveDynamicPointsOnHover(i)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var y=new x(this.ctx),v=s.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i);for(var C=0;C<v.length;C++)y.pathMouseEnter(v[C])}}else a.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:n,i:o,j:i}),this.tooltipUtil.hasBars()&&a.tooltipPosition.moveStickyTooltipOverBars(i),l&&a.tooltipPosition.moveMarkers(o,i)}}]),e}(),Se=function(e){p(o,G);var t=g(o);function o(){return a(this,o),t.apply(this,arguments)}return c(o,[{key:"draw",value:function(e,t){var o=this,i=this.w;this.graphics=new x(this.ctx),this.bar=new G(this.ctx,this.xyRatios);var n=new S(this.ctx,i);e=n.getLogSeries(e),this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===i.config.chart.stackType&&(e=i.globals.seriesPercent.slice()),this.series=e,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var s=0;s<e.length;s++)e[s].length>0&&(this.totalItems+=e[s].length);for(var a=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,u=function(n,s){var u=void 0,p=void 0,h=void 0,d=void 0,f=[],g=[],m=i.globals.comboCharts?t[n]:n;o.yRatio.length>1&&(o.yaxisIndex=m),o.isReversed=i.config.yaxis[o.yaxisIndex]&&i.config.yaxis[o.yaxisIndex].reversed;var y=o.graphics.group({class:"apexcharts-series",seriesName:C.escapeString(i.globals.seriesNames[m]),rel:n+1,"data:realIndex":m});o.ctx.series.addCollapsedClassToSeries(y,m);var v=o.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),w=0,b=0,x=o.initialPositions(l,c,u,p,h,d);c=x.y,w=x.barHeight,p=x.yDivision,d=x.zeroW,l=x.x,b=x.barWidth,u=x.xDivision,h=x.zeroH,o.yArrj=[],o.yArrjF=[],o.yArrjVal=[],o.xArrj=[],o.xArrjF=[],o.xArrjVal=[],1===o.prevY.length&&o.prevY[0].every(function(e){return isNaN(e)})&&(o.prevY[0]=o.prevY[0].map(function(e){return h}),o.prevYF[0]=o.prevYF[0].map(function(e){return 0}));for(var S=0;S<i.globals.dataPoints;S++){var E=o.barHelpers.getStrokeWidth(n,S,m),_={indexes:{i:n,j:S,realIndex:m,bc:s},strokeWidth:E,x:l,y:c,elSeries:y},A=null;o.isHorizontal?(A=o.drawStackedBarPaths(r(r({},_),{},{zeroW:d,barHeight:w,yDivision:p})),b=o.series[n][S]/o.invertedYRatio):(A=o.drawStackedColumnPaths(r(r({},_),{},{xDivision:u,barWidth:b,zeroH:h})),w=o.series[n][S]/o.yRatio[o.yaxisIndex]),c=A.y,f.push(l=A.x),g.push(c);var R=o.barHelpers.getPathFillColor(e,n,S,m);y=o.renderSeries({realIndex:m,pathFill:R,j:S,i:n,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:E,elSeries:y,x:l,y:c,series:e,barHeight:w,barWidth:b,elDataLabelsWrap:v,type:"bar",visibleSeries:0})}i.globals.seriesXvalues[m]=f,i.globals.seriesYvalues[m]=g,o.prevY.push(o.yArrj),o.prevYF.push(o.yArrjF),o.prevYVal.push(o.yArrjVal),o.prevX.push(o.xArrj),o.prevXF.push(o.xArrjF),o.prevXVal.push(o.xArrjVal),a.add(y)},p=0,h=0;p<e.length;p++,h++)u(p,h);return a}},{key:"initialPositions",value:function(e,t,o,i,n,r){var s,a,l=this.w;return this.isHorizontal?(s=(s=i=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,r=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(i-s)/2):(a=o=l.globals.gridWidth/l.globals.dataPoints,a=l.globals.isXNumeric&&l.globals.dataPoints>1?(o=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:a*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,n=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=l.globals.padHorizontal+(o-a)/2),{x:e,y:t,yDivision:i,xDivision:o,barHeight:s,barWidth:a,zeroH:n,zeroW:r}}},{key:"drawStackedBarPaths",value:function(e){for(var t,o,i=e.indexes,n=e.barHeight,r=e.strokeWidth,s=e.zeroW,a=e.y,l=e.yDivision,c=e.elSeries,u=this.w,p=a,h=i.i,d=i.j,f=0,g=0;g<this.prevXF.length;g++)f+=this.prevXF[g][d];if(h>0){var m=s;this.prevXVal[h-1][d]<0?m=this.series[h][d]>=0?this.prevX[h-1][d]+f-2*(this.isReversed?f:0):this.prevX[h-1][d]:this.prevXVal[h-1][d]>=0&&(m=this.series[h][d]>=0?this.prevX[h-1][d]:this.prevX[h-1][d]-f+2*(this.isReversed?f:0)),t=m}else t=s;var y=this.barHelpers.getBarpaths({barYPosition:p,barHeight:n,x1:t,x2:o=null===this.series[h][d]?t:t+this.series[h][d]/this.invertedYRatio-2*(this.isReversed?this.series[h][d]/this.invertedYRatio:0),strokeWidth:r,series:this.series,realIndex:i.realIndex,i:h,j:d,w:u});return this.barHelpers.barBackground({j:d,i:h,y1:p,y2:n,elSeries:c}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:o,y:a+=l}}},{key:"drawStackedColumnPaths",value:function(e){var t,o=e.indexes,i=e.x,n=e.xDivision,r=e.barWidth,s=e.zeroH,a=e.elSeries,l=this.w,c=o.i,u=o.j,p=o.bc;if(l.globals.isXNumeric){var h=l.globals.seriesX[c][u];h||(h=0),i=(h-l.globals.minX)/this.xRatio-r/2}for(var d,f=i,g=0,m=0;m<this.prevYF.length;m++)g+=isNaN(this.prevYF[m][u])?0:this.prevYF[m][u];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][u]===l.globals.seriesX[c][u]){var y,v,C=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var w=1;w<C;w++)if(!isNaN(this.prevY[c-w][u])){v=this.prevY[c-w][u];break}for(var b=1;b<C;b++){if(this.prevYVal[c-b][u]<0){y=this.series[c][u]>=0?v-g+2*(this.isReversed?g:0):v;break}if(this.prevYVal[c-b][u]>=0){y=this.series[c][u]>=0?v:v+g-2*(this.isReversed?g:0);break}}void 0===y&&(y=l.globals.gridHeight),d=this.prevYF[0].every(function(e){return 0===e})&&this.prevYF.slice(1,c).every(function(e){return e.every(function(e){return isNaN(e)})})?l.globals.gridHeight-s:y}else d=l.globals.gridHeight-s;var x=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:r,y1:d,y2:t=d-this.series[c][u]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][u]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:o.realIndex,i:c,j:u,w:l});return this.barHelpers.barBackground({bc:p,j:u,i:c,x1:f,x2:r,elSeries:a}),i+=n,{pathTo:x.pathTo,pathFrom:x.pathFrom,x:l.globals.isXNumeric?i-n:i,y:t}}}]),o}(),Ee=function(e){p(o,G);var t=g(o);function o(){return a(this,o),t.apply(this,arguments)}return c(o,[{key:"draw",value:function(e,t){var o=this,i=this.w,n=new x(this.ctx),s=new D(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=i.config.plotOptions.bar.horizontal;var a=new S(this.ctx,i);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var l=n.group({class:"apexcharts-".concat(i.config.chart.type,"-series apexcharts-plot-series")}),c=function(a){o.isBoxPlot="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[a].type;var c,u,p,h,d,f,g=void 0,m=void 0,y=[],v=[],w=i.globals.comboCharts?t[a]:a,b=n.group({class:"apexcharts-series",seriesName:C.escapeString(i.globals.seriesNames[w]),rel:a+1,"data:realIndex":w});o.ctx.series.addCollapsedClassToSeries(b,w),e[a].length>0&&(o.visibleI=o.visibleI+1),o.yRatio.length>1&&(o.yaxisIndex=w);var x=o.barHelpers.initialPositions();m=x.y,d=x.barHeight,u=x.yDivision,h=x.zeroW,c=x.xDivision,p=x.zeroH,v.push((g=x.x)+(f=x.barWidth)/2);for(var S=n.group({class:"apexcharts-datalabels","data:realIndex":w}),E=function(t){var n=o.barHelpers.getStrokeWidth(a,t,w),l=null,C={indexes:{i:a,j:t,realIndex:w},x:g,y:m,strokeWidth:n,elSeries:b};l=o.isHorizontal?o.drawHorizontalBoxPaths(r(r({},C),{},{yDivision:u,barHeight:d,zeroW:h})):o.drawVerticalBoxPaths(r(r({},C),{},{xDivision:c,barWidth:f,zeroH:p})),m=l.y,g=l.x,t>0&&v.push(g+f/2),y.push(m),l.pathTo.forEach(function(r,c){var u=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?l.color[c]:i.globals.stroke.colors[a],p=s.fillPath({seriesNumber:w,dataPointIndex:t,color:l.color[c],value:e[a][t]});o.renderSeries({realIndex:w,pathFill:p,lineFill:u,j:t,i:a,pathFrom:l.pathFrom,pathTo:r,strokeWidth:n,elSeries:b,x:g,y:m,series:e,barHeight:d,barWidth:f,elDataLabelsWrap:S,visibleSeries:o.visibleI,type:i.config.chart.type})})},_=0;_<i.globals.dataPoints;_++)E(_);i.globals.seriesXvalues[w]=v,i.globals.seriesYvalues[w]=y,l.add(b)},u=0;u<e.length;u++)c(u);return l}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,o=e.x,i=e.xDivision,n=e.barWidth,r=e.zeroH,s=e.strokeWidth,a=this.w,l=new x(this.ctx),c=t.i,u=t.j,p=!0,h=a.config.plotOptions.candlestick.colors.upward,d=a.config.plotOptions.candlestick.colors.downward,f="";this.isBoxPlot&&(f=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.yRatio[this.yaxisIndex],m=t.realIndex,y=this.getOHLCValue(m,u),v=r,C=r;y.o>y.c&&(p=!1);var w=Math.min(y.o,y.c),b=Math.max(y.o,y.c),S=y.m;a.globals.isXNumeric&&(o=(a.globals.seriesX[m][u]-a.globals.minX)/this.xRatio-n/2);var E=o+n*this.visibleI;null==this.series[c][u]?(w=r,b=r):(w=r-w/g,b=r-b/g,v=r-y.h/g,C=r-y.l/g,S=r-y.m/g);var _=l.move(E,r),A=l.move(E+n/2,w);return a.globals.previousPaths.length>0&&(A=this.getPreviousPath(m,u,!0)),_=this.isBoxPlot?[l.move(E,w)+l.line(E+n/2,w)+l.line(E+n/2,v)+l.line(E+n/4,v)+l.line(E+n-n/4,v)+l.line(E+n/2,v)+l.line(E+n/2,w)+l.line(E+n,w)+l.line(E+n,S)+l.line(E,S)+l.line(E,w+s/2),l.move(E,S)+l.line(E+n,S)+l.line(E+n,b)+l.line(E+n/2,b)+l.line(E+n/2,C)+l.line(E+n-n/4,C)+l.line(E+n/4,C)+l.line(E+n/2,C)+l.line(E+n/2,b)+l.line(E,b)+l.line(E,S)+"z"]:[l.move(E,b)+l.line(E+n/2,b)+l.line(E+n/2,v)+l.line(E+n/2,b)+l.line(E+n,b)+l.line(E+n,w)+l.line(E+n/2,w)+l.line(E+n/2,C)+l.line(E+n/2,w)+l.line(E,w)+l.line(E,b-s/2)],A+=l.move(E,w),a.globals.isXNumeric||(o+=i),{pathTo:_,pathFrom:A,x:o,y:b,barXPosition:E,color:this.isBoxPlot?f:p?[h]:[d]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes,o=e.y,i=e.yDivision,n=e.barHeight,r=e.zeroW,s=e.strokeWidth,a=this.w,l=new x(this.ctx),c=t.i,u=t.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var h=this.invertedYRatio,d=t.realIndex,f=this.getOHLCValue(d,u),g=r,m=r,y=Math.min(f.o,f.c),v=Math.max(f.o,f.c),C=f.m;a.globals.isXNumeric&&(o=(a.globals.seriesX[d][u]-a.globals.minX)/this.invertedXRatio-n/2);var w=o+n*this.visibleI;null==this.series[c][u]?(y=r,v=r):(y=r+y/h,v=r+v/h,g=r+f.h/h,m=r+f.l/h,C=r+f.m/h);var b=l.move(r,w),S=l.move(y,w+n/2);return a.globals.previousPaths.length>0&&(S=this.getPreviousPath(d,u,!0)),b=[l.move(y,w)+l.line(y,w+n/2)+l.line(g,w+n/2)+l.line(g,w+n/2-n/4)+l.line(g,w+n/2+n/4)+l.line(g,w+n/2)+l.line(y,w+n/2)+l.line(y,w+n)+l.line(C,w+n)+l.line(C,w)+l.line(y+s/2,w),l.move(C,w)+l.line(C,w+n)+l.line(v,w+n)+l.line(v,w+n/2)+l.line(m,w+n/2)+l.line(m,w+n-n/4)+l.line(m,w+n/4)+l.line(m,w+n/2)+l.line(v,w+n/2)+l.line(v,w)+l.line(C,w)+"z"],S+=l.move(y,w),a.globals.isXNumeric||(o+=i),{pathTo:b,pathFrom:S,x:v,y:o,barYPosition:w,color:p}}},{key:"getOHLCValue",value:function(e,t){var o=this.w;return{o:this.isBoxPlot?o.globals.seriesCandleH[e][t]:o.globals.seriesCandleO[e][t],h:this.isBoxPlot?o.globals.seriesCandleO[e][t]:o.globals.seriesCandleH[e][t],m:o.globals.seriesCandleM[e][t],l:this.isBoxPlot?o.globals.seriesCandleC[e][t]:o.globals.seriesCandleL[e][t],c:this.isBoxPlot?o.globals.seriesCandleL[e][t]:o.globals.seriesCandleC[e][t]}}}]),o}(),_e=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,o=e.config.plotOptions[e.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(e,o){e.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,o,i){var n=this.w,r=1,s=n.config.plotOptions[e].shadeIntensity,a=this.determineColor(e,t,o);n.globals.hasNegs||i?r=n.config.plotOptions[e].reverseNegativeShade?a.percent<0?a.percent/100*(1.25*s):1.25*s*(1-a.percent/100):a.percent<=0?1-(1+a.percent/100)*s:(1-a.percent/100)*s:(r=1-a.percent/100,"treemap"===e&&(r=1.25*s*(1-a.percent/100)));var l=a.color,c=new C;return n.config.plotOptions[e].enableShades&&(l=C.hexToRgba(c.shadeColor("dark"===this.w.config.theme.mode?-1*r:r,a.color),n.config.fill.opacity)),{color:l,colorProps:a}}},{key:"determineColor",value:function(e,t,o){var i=this.w,n=i.globals.series[t][o],r=i.config.plotOptions[e],s=r.colorScale.inverse?o:t;r.distributed&&"treemap"===i.config.chart.type&&(s=o);var a=i.globals.colors[s],l=null,c=Math.min.apply(Math,m(i.globals.series[t])),u=Math.max.apply(Math,m(i.globals.series[t]));r.distributed||"heatmap"!==e||(c=i.globals.minY,u=i.globals.maxY),void 0!==r.colorScale.min&&(c=r.colorScale.min<i.globals.minY?r.colorScale.min:i.globals.minY,u=r.colorScale.max>i.globals.maxY?r.colorScale.max:i.globals.maxY);var p=Math.abs(u)+Math.abs(c),h=100*n/(0===p?p-1e-6:p);return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(e,t){if(n>=e.from&&n<=e.to){a=e.color,l=e.foreColor?e.foreColor:null,c=e.from,u=e.to;var o=Math.abs(u)+Math.abs(c);h=100*n/(0===o?o-1e-6:o)}}),{color:a,foreColor:l,percent:h}}},{key:"calculateDataLabels",value:function(e){var t=e.text,o=e.x,i=e.y,n=e.i,r=e.j,s=e.colorProps,a=e.fontSize,l=this.w.config.dataLabels,c=new x(this.ctx),u=new N(this.ctx),p=null;if(l.enabled){p=c.group({class:"apexcharts-data-labels"});var h=l.offsetY,d=o+l.offsetX,f=i+parseFloat(l.style.fontSize)/3+h;u.plotDataLabelsText({x:d,y:f,text:t,i:n,j:r,color:s.foreColor,parent:p,fontSize:a,dataLabelsConfig:l})}return p}},{key:"addListeners",value:function(e){var t=new x(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Ae=function(){function e(t,o){a(this,e),this.ctx=t,this.w=t.w,this.xRatio=o.xRatio,this.yRatio=o.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new _e(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(e,[{key:"draw",value:function(e){var t=this.w,o=new x(this.ctx),i=o.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var n=t.globals.gridWidth/t.globals.dataPoints,r=t.globals.gridHeight/t.globals.series.length,s=0,a=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(a=!0,l.reverse());for(var c=a?0:l.length-1;a?c<l.length:c>=0;a?c++:c--){var u=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:C.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(u,c),t.config.chart.dropShadow.enabled){var p=t.config.chart.dropShadow;new b(this.ctx).dropShadow(u,p,c)}for(var h=0,d=t.config.plotOptions.heatmap.shadeIntensity,f=0;f<l[c].length;f++){var g=this.helpers.getShadeColor(t.config.chart.type,c,f,this.negRange),m=g.color,y=g.colorProps;"image"===t.config.fill.type&&(m=new D(this.ctx).fillPath({seriesNumber:c,dataPointIndex:f,opacity:t.globals.hasNegs?y.percent<0?1-(1+y.percent/100):d+y.percent/100:y.percent/100,patternID:C.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:n,height:t.config.fill.image.height?t.config.fill.image.height:r}));var v=o.drawRect(h,s,n,r,this.rectRadius);if(v.attr({cx:h,cy:s}),v.node.classList.add("apexcharts-heatmap-rect"),u.add(v),v.attr({fill:m,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?m:t.globals.stroke.colors[0],color:m}),this.helpers.addListeners(v),t.config.chart.animations.enabled&&!t.globals.dataChanged){var w=1;t.globals.resized||(w=t.config.chart.animations.speed),this.animateHeatMap(v,h,s,n,r,w)}if(t.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){S=this.dynamicAnim.speed;var E=t.globals.previousPaths[c]&&t.globals.previousPaths[c][f]&&t.globals.previousPaths[c][f].color;E||(E="rgba(255, 255, 255, 0)"),this.animateHeatColor(v,C.isColorHex(E)?E:C.rgb2hex(E),C.isColorHex(m)?m:C.rgb2hex(m),S)}}var _=(0,t.config.dataLabels.formatter)(t.globals.series[c][f],{value:t.globals.series[c][f],seriesIndex:c,dataPointIndex:f,w:t}),A=this.helpers.calculateDataLabels({text:_,x:h+n/2,y:s+r/2,i:c,j:f,colorProps:y,series:l});null!==A&&u.add(A),h+=n}s+=r,i.add(u)}var R=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?R.unshift(""):R.push(""),t.globals.yAxisScale[0].result=R,t.config.yaxis[0].labels.offsetY=-t.globals.gridHeight/t.globals.series.length/2,i}},{key:"animateHeatMap",value:function(e,t,o,i,n,r){var s=new w(this.ctx);s.animateRect(e,{x:t+i/2,y:o+n/2,width:0,height:0},{x:t,y:o,width:i,height:n},r,function(){s.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,o,i){e.attr({fill:t}).animate(i).attr({fill:o})}}]),e}(),Re=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawYAxisTexts",value:function(e,t,o,i){var n=this.w,r=n.config.yaxis[0],s=n.globals.yLabelFormatters[0];return new x(this.ctx).drawText({x:e+r.labels.offsetX,y:t+r.labels.offsetY,text:s(i,o),textAnchor:"middle",fontSize:r.labels.style.fontSize,fontFamily:r.labels.style.fontFamily,foreColor:Array.isArray(r.labels.style.colors)?r.labels.style.colors[o]:r.labels.style.colors})}}]),e}(),Te=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var o=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==o.globals.stroke.colors?o.globals.stroke.colors:o.globals.colors,this.defaultSize=Math.min(o.globals.gridWidth,o.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=o.globals.gridWidth/2,this.fullAngle="radialBar"===o.config.chart.type?360:Math.abs(o.config.plotOptions.pie.endAngle-o.config.plotOptions.pie.startAngle),this.initialAngle=o.config.plotOptions.pie.startAngle%this.fullAngle,o.globals.radialSize=this.defaultSize/2.05-o.config.stroke.width-(o.config.chart.sparkline.enabled?0:o.config.chart.dropShadow.blur),this.donutSize=o.globals.radialSize*parseInt(o.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(e,[{key:"draw",value:function(e){var t=this,o=this.w,i=new x(this.ctx);if(this.ret=i.group({class:"apexcharts-pie"}),o.globals.noData)return this.ret;for(var n=0,r=0;r<e.length;r++)n+=C.negToZero(e[r]);var s=[],a=i.group();0===n&&(n=1e-5),e.forEach(function(e){t.maxY=Math.max(t.maxY,e)}),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),"back"===o.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var c=this.fullAngle*C.negToZero(e[l])/n;s.push(c),"polarArea"===this.chartType?(s[l]=this.fullAngle/e.length,this.sliceSizes.push(o.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var u,p=0,h=0;h<o.globals.previousPaths.length;h++)p+=C.negToZero(o.globals.previousPaths[h]);for(var d=0;d<o.globals.previousPaths.length;d++)u=this.fullAngle*C.negToZero(o.globals.previousPaths[d])/p,this.prevSectorAngleArr.push(u)}this.donutSize<0&&(this.donutSize=0);var f=o.config.plotOptions.pie.customScale,g=o.globals.gridWidth/2-o.globals.gridWidth/2*f,m=o.globals.gridHeight/2-o.globals.gridHeight/2*f;if("donut"===this.chartType){var y=i.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),a.add(y)}var v=this.drawArcs(s,e);if(this.sliceLabels.forEach(function(e){v.add(e)}),a.attr({transform:"translate(".concat(g,", ").concat(m,") scale(").concat(f,")")}),a.add(v),this.ret.add(a),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:g,translateY:m});this.ret.add(w)}return"front"===o.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var o=this.w,i=new b(this.ctx),n=new x(this.ctx),r=new D(this.ctx),s=n.group({class:"apexcharts-slices"}),a=this.initialAngle,l=this.initialAngle,c=this.initialAngle,u=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var p=0;p<e.length;p++){var h=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:C.escapeString(o.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});s.add(h),c=(a=c)+e[p],u=(l=u)+this.prevSectorAngleArr[p];var d=c<a?this.fullAngle+c-a:c-a,f=r.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:t[p]}),g=this.getChangedPath(l,u),m=n.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});m.attr({index:0,j:p}),i.setSelectionFilter(m,0,p),o.config.chart.dropShadow.enabled&&i.dropShadow(m,o.config.chart.dropShadow,p),this.addListeners(m,this.donutDataLabels),x.setAttrs(m.node,{"data:angle":d,"data:startAngle":a,"data:strokeWidth":this.strokeWidth,"data:value":t[p]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=C.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(a+d/2)%this.fullAngle):"donut"===this.chartType&&(y=C.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(a+d/2)%this.fullAngle)),h.add(m);var v=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):(0==(v=d/this.fullAngle*o.config.chart.animations.speed)&&(v=1),this.animDur=v+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(m,this.dynamicAnim&&o.globals.dataChanged?{size:this.sliceSizes[p],endAngle:c,startAngle:a,prevStartAngle:l,prevEndAngle:u,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[p],endAngle:c,startAngle:a,i:p,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:v}),o.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&m.click(this.pieClicked.bind(this,p)),void 0!==o.globals.selectedDataPoints[0]&&o.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),o.config.dataLabels.enabled){var w=y.x,S=y.y,E=100*d/this.fullAngle+"%";if(0!==d&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[p]){var _=o.config.dataLabels.formatter;void 0!==_&&(E=_(o.globals.seriesPercent[p][0],{seriesIndex:p,w:o}));var A=o.globals.dataLabels.style.colors[p],R=n.group({class:"apexcharts-datalabels"}),T=n.drawText({x:w,y:S,text:E,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:A});R.add(T),o.config.dataLabels.dropShadow.enabled&&i.dropShadow(T,o.config.dataLabels.dropShadow),T.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&!1===o.globals.resized&&(T.node.classList.add("apexcharts-pie-label-delay"),T.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(R)}}}return s}},{key:"addListeners",value:function(e,t){var o=new x(this.ctx);e.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",o.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var o=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,i=o,n=t.startAngle,r=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(n=t.prevEndAngle,i=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===this.w.config.series.length-1&&(o+r>this.fullAngle?t.endAngle=t.endAngle-(o+r):o+r<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(o+r)))),o===this.fullAngle&&(o=this.fullAngle-.01),this.animateArc(e,n,r,o,i,t)}},{key:"animateArc",value:function(e,t,o,i,n,r){var s,a=this,l=this.w,c=new w(this.ctx),u=r.size;(isNaN(t)||isNaN(n))&&(t=o,n=i,r.dur=0);var p=i,h=o,d=t<o?this.fullAngle+t-o:t-o;l.globals.dataChanged&&r.shouldSetPrevPaths&&r.prevEndAngle&&(s=a.getPiePath({me:a,startAngle:r.prevStartAngle,angle:r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle,size:u}),e.attr({d:s})),0!==r.dur?e.animate(r.dur,l.globals.easing,r.animBeginArr[r.i]).afterAll(function(){"pie"!==a.chartType&&"donut"!==a.chartType&&"polarArea"!==a.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":a.strokeWidth}),r.i===l.config.series.length-1&&c.animationCompleted(e)}).during(function(l){p=d+(i-d)*l,r.animateStartingPos&&(p=n+(i-n)*l,h=t-n+(o-(t-n))*l),s=a.getPiePath({me:a,startAngle:h,angle:p,size:u}),e.node.setAttribute("data:pathOrig",s),e.attr({d:s})}):(s=a.getPiePath({me:a,startAngle:h,angle:i,size:u}),r.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",s),e.attr({d:s,"stroke-width":a.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,o=this.w,i=this,n=i.sliceSizes[e]+(o.config.plotOptions.pie.expandOnClick?4:0),r=o.globals.dom.Paper.select(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==r.attr("data:pieClicked")){var s=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(s,function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");e.setAttribute("d",t)}),r.attr("data:pieClicked","true");var a=parseInt(r.attr("data:startAngle"),10),l=parseInt(r.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:a,angle:l,size:n}),360!==l&&r.plot(t)}else{r.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(r.node,this.donutDataLabels);var c=r.attr("data:pathOrig");r.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),o}},{key:"getPiePath",value:function(e){var t=e.me,o=e.startAngle,i=e.angle,n=e.size,r=o,s=Math.PI*(r-90)/180,a=i+o;Math.ceil(a)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(a=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(a)>this.fullAngle&&(a-=this.fullAngle);var l=Math.PI*(a-90)/180,c=t.centerX+n*Math.cos(s),u=t.centerY+n*Math.sin(s),p=t.centerX+n*Math.cos(l),h=t.centerY+n*Math.sin(l),d=C.polarToCartesian(t.centerX,t.centerY,t.donutSize,a),f=C.polarToCartesian(t.centerX,t.centerY,t.donutSize,r),g=i>180?1:0,m=["M",c,u,"A",n,n,0,g,1,p,h];return"donut"===t.chartType?[].concat(m,["L",d.x,d.y,"A",t.donutSize,t.donutSize,0,g,0,f.x,f.y,"L",c,u,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(m,["L",t.centerX,t.centerY,"L",c,u]).join(" "):[].concat(m).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,o=new Q(this.ctx),i=new x(this.ctx),n=new Re(this.ctx),r=i.group(),s=i.group(),a=o.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),l=a.result.reverse(),c=a.result.length;this.maxY=a.niceMax;for(var u=t.globals.radialSize,p=u/(c-1),h=0;h<c-1;h++){var d=i.drawCircle(u);if(d.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var f=n.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,h,l[h]);s.add(f)}r.add(d),u-=p}this.drawSpokes(e),e.add(r),e.add(s)}},{key:"renderInnerDataLabels",value:function(e,t){var o=this.w,i=new x(this.ctx),n=i.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),r=e.total.show;n.node.style.opacity=t.opacity;var s,a,l=t.centerX,c=t.centerY;s=void 0===e.name.color?o.globals.colors[0]:e.name.color;var u=e.name.fontSize,p=e.name.fontFamily,h=e.name.fontWeight;a=void 0===e.value.color?o.config.chart.foreColor:e.value.color;var d=e.value.formatter,f="",g="";if(r?(s=e.total.color,u=e.total.fontSize,p=e.total.fontFamily,h=e.total.fontWeight,g=e.total.label,f=e.total.formatter(o)):1===o.globals.series.length&&(f=d(o.globals.series[0],o),g=o.globals.seriesNames[0]),g&&(g=e.name.formatter(g,e.total.show,o)),e.name.show){var m=i.drawText({x:l,y:c+parseFloat(e.name.offsetY),text:g,textAnchor:"middle",foreColor:s,fontSize:u,fontWeight:h,fontFamily:p});m.node.classList.add("apexcharts-datalabel-label"),n.add(m)}if(e.value.show){var y=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,v=i.drawText({x:l,y:c+y,text:f,textAnchor:"middle",foreColor:a,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),n.add(v)}return n}},{key:"printInnerLabels",value:function(e,t,o,i){var n,r=this.w;i?n=void 0===e.name.color?r.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:r.globals.series.length>1&&e.total.show&&(n=e.total.color);var s=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),a=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,e.value.formatter)(o,r),i||"function"!=typeof e.total.formatter||(o=e.total.formatter(r)),t=e.name.formatter(t,t===e.total.label,r),null!==s&&(s.textContent=t),null!==a&&(a.textContent=o),null!==s&&(s.style.fill=n)}},{key:"printDataLabelsInner",value:function(e,t){var o=this.w,i=e.getAttribute("data:value"),n=o.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(t,n,i,e);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==r&&(r.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,o=this.w,i=new x(this.ctx),n=o.config.plotOptions.polarArea.spokes;if(0!==n.strokeWidth){for(var r=[],s=360/o.globals.series.length,a=0;a<o.globals.series.length;a++)r.push(C.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+s*a));r.forEach(function(o,r){var s=i.drawLine(o.x,o.y,t.centerX,t.centerY,Array.isArray(n.connectorColors)?n.connectorColors[r]:n.connectorColors);e.add(s)})}}},{key:"revertDataLabelsInner",value:function(e,t,o){var i=this,n=this.w,r=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),s=!1,a=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(e){var o=e.makeSliceOut,n=e.printLabel;Array.prototype.forEach.call(a,function(e){"true"===e.getAttribute("data:pieClicked")&&(o&&(s=!0),n&&i.printDataLabelsInner(e,t))})};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&n.globals.series.length>1)s&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(n));else if(l({makeSliceOut:!1,printLabel:!0}),!s)if(n.globals.selectedDataPoints.length&&n.globals.series.length>1)if(n.globals.selectedDataPoints[0].length>0){var c=n.globals.selectedDataPoints[0],u=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(u,t)}else r&&n.globals.selectedDataPoints.length&&0===n.globals.selectedDataPoints[0].length&&(r.style.opacity=0);else r&&n.globals.series.length>1&&(r.style.opacity=0)}}]),e}(),Oe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var o=this.w;this.graphics=new x(this.ctx),this.lineColorArr=void 0!==o.globals.stroke.colors?o.globals.stroke.colors:o.globals.colors,this.defaultSize=o.globals.svgHeight<o.globals.svgWidth?o.globals.gridHeight+1.5*o.globals.goldenPadding:o.globals.gridWidth,this.isLog=o.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(o.globals.maxY,0):o.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):o.globals.minY,this.polygons=o.config.plotOptions.radar.polygons,this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-o.config.chart.dropShadow.blur,o.config.xaxis.labels.show&&(this.size=this.size-o.globals.xAxisLabelsWidth/1.75),void 0!==o.config.plotOptions.radar.size&&(this.size=o.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(e,[{key:"draw",value:function(e){var t=this,o=this.w,i=new D(this.ctx),n=[],s=new N(this.ctx);e.length&&(this.dataPointsLen=e[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=o.globals.gridHeight/2+o.config.plotOptions.radar.offsetY,l=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(o.globals.gridWidth/2+o.config.plotOptions.radar.offsetX||0,", ").concat(a||0,")")}),c=[],u=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(e,a){var l=e.length===o.globals.dataPoints,h=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:C.escapeString(o.globals.seriesNames[a]),rel:a+1,"data:realIndex":a});t.dataRadiusOfPercent[a]=[],t.dataRadius[a]=[],t.angleArr[a]=[],e.forEach(function(e,o){var i=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[a][o]=e/i,t.dataRadius[a][o]=t.dataRadiusOfPercent[a][o]*t.size,t.angleArr[a][o]=o*t.disAngle}),c=t.getDataPointsPos(t.dataRadius[a],t.angleArr[a]);var d=t.createPaths(c,{x:0,y:0});u=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":a}),o.globals.delayedElements.push({el:u.node,index:a});var f={i:a,realIndex:a,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[a],strokeLineCap:o.config.stroke.lineCap},g=null;o.globals.previousPaths.length>0&&(g=t.getPreviousPath(a));for(var m=0;m<d.linePathsTo.length;m++){var y=t.graphics.renderPaths(r(r({},f),{},{pathFrom:null===g?d.linePathsFrom[m]:g,pathTo:d.linePathsTo[m],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[a]:t.strokeWidth,fill:"none",drawShadow:!1}));h.add(y);var v=i.fillPath({seriesNumber:a}),w=t.graphics.renderPaths(r(r({},f),{},{pathFrom:null===g?d.areaPathsFrom[m]:g,pathTo:d.areaPathsTo[m],strokeWidth:0,fill:v,drawShadow:!1}));o.config.chart.dropShadow.enabled&&new b(t.ctx).dropShadow(w,Object.assign({},o.config.chart.dropShadow,{noUserSpaceOnUse:!0}),a),h.add(w)}e.forEach(function(e,i){var n=new I(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:a,dataPointIndex:i}),l=t.graphics.drawMarker(c[i].x,c[i].y,n);l.attr("rel",i),l.attr("j",i),l.attr("index",a),l.node.setAttribute("default-marker-size",n.pSize);var d=t.graphics.group({class:"apexcharts-series-markers"});d&&d.add(l),u.add(d),h.add(u);var f=o.config.dataLabels;if(f.enabled){var g=f.formatter(o.globals.series[a][i],{seriesIndex:a,dataPointIndex:i,w:o});s.plotDataLabelsText({x:c[i].x,y:c[i].y,text:g,textAnchor:"middle",i:a,j:a,parent:p,offsetCorrection:!1,dataLabelsConfig:r({},f)})}h.add(p)}),n.push(h)}),this.drawPolygons({parent:l}),o.config.xaxis.labels.show){var h=this.drawXAxisTexts();l.add(h)}return n.forEach(function(e){l.add(e)}),l.add(this.yaxisLabels),l}},{key:"drawPolygons",value:function(e){for(var t=this,o=this.w,i=e.parent,n=new Re(this.ctx),r=o.globals.yAxisScale[0].result.reverse(),s=r.length,a=[],l=this.size/(s-1),c=0;c<s;c++)a[c]=l*c;a.reverse();var u=[],p=[];a.forEach(function(e,o){var i=C.getPolygonPos(e,t.dataPointsLen),n="";i.forEach(function(e,i){if(0===o){var r=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[i]:t.polygons.connectorColors);p.push(r)}0===i&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),n+=e.x+","+e.y+" "}),u.push(n)}),u.forEach(function(e,n){var r=t.polygons.strokeColors,s=t.polygons.strokeWidth,a=t.graphics.drawPolygon(e,Array.isArray(r)?r[n]:r,Array.isArray(s)?s[n]:s,o.globals.radarPolygons.fill.colors[n]);i.add(a)}),p.forEach(function(e){i.add(e)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(e,o){var i=n.drawYAxisTexts(e.x,e.y,o,r[o]);t.yaxisLabels.add(i)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,o=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),n=C.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(s,a){var l=t.config.xaxis.labels.formatter,c=new N(e.ctx);if(n[a]){var u=e.getTextPos(n[a],e.size),p=l(s,{seriesIndex:-1,dataPointIndex:a,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:p,textAnchor:u.textAnchor,i:a,j:a,parent:i,color:Array.isArray(o.style.colors)&&o.style.colors[a]?o.style.colors[a]:"#a8a8a8",dataLabelsConfig:r({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1})}}),i}},{key:"createPaths",value:function(e,t){var o=this,i=[],n=[],r=[],s=[];if(e.length){n=[this.graphics.move(t.x,t.y)],s=[this.graphics.move(t.x,t.y)];var a=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach(function(t,i){a+=o.graphics.line(t.x,t.y),l+=o.graphics.line(t.x,t.y),i===e.length-1&&(a+="Z",l+="Z")}),i.push(a),r.push(l)}return{linePathsFrom:n,linePathsTo:i,areaPathsFrom:s,areaPathsTo:r}}},{key:"getTextPos",value:function(e,t){var o="middle",i=e.x,n=e.y;return Math.abs(e.x)>=10?e.x>0?(o="start",i+=10):e.x<0&&(o="end",i-=10):o="middle",Math.abs(e.y)>=t-10&&(e.y<0?n-=10:e.y>0&&(n+=10)),{textAnchor:o,newX:i,newY:n}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,o=null,i=0;i<t.globals.previousPaths.length;i++){var n=t.globals.previousPaths[i];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[i].paths[0]&&(o=t.globals.previousPaths[i].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],n=0;n<o;n++){var r={};r.x=e[n]*Math.sin(t[n]),r.y=-e[n]*Math.cos(t[n]),i.push(r)}return i}}]),e}(),Pe=function(e){p(o,Te);var t=g(o);function o(e){var i;a(this,o),(i=t.call(this,e)).ctx=e,i.w=e.w,i.animBeginArr=[0],i.animDur=0;var n=i.w;return i.startAngle=n.config.plotOptions.radialBar.startAngle,i.endAngle=n.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),i.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),360===i.endAngle&&(i.endAngle=359.99),i.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),i}return c(o,[{key:"draw",value:function(e){var t=this.w,o=new x(this.ctx),i=o.group({class:"apexcharts-radialbar"});if(t.globals.noData)return i;var n=o.group(),r=this.defaultSize/2,s=t.globals.gridWidth/2,a=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(a=a-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:a,centerX:s,centerY:r,colorArr:l,series:e});n.add(c)}var u=this.drawArcs({size:a,centerX:s,centerY:r,colorArr:l,series:e}),p=360;t.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var h=(360-p)/360;if(t.globals.radialSize=a-a*h,this.radialDataLabels.value.show){var d=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=d*h}return n.add(u.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(u.g.add(u.elHollow),u.dataLabels&&u.g.add(u.dataLabels)),i.add(n),i}},{key:"drawTracks",value:function(e){var t=this.w,o=new x(this.ctx),i=o.group({class:"apexcharts-tracks"}),n=new b(this.ctx),r=new D(this.ctx),s=this.getStrokeWidth(e);e.size=e.size-s/2;for(var a=0;a<e.series.length;a++){var l=o.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(l),l.attr({rel:a+1}),e.size=e.size-s-this.margin;var c=t.config.plotOptions.radialBar.track,u=r.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[a]:c.background,solid:!0}),p=this.trackStartAngle,h=this.trackEndAngle;Math.abs(h)+Math.abs(p)>=360&&(h=360-Math.abs(this.startAngle)-.1);var d=o.drawPath({d:"",stroke:u,strokeWidth:s*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});c.dropShadow.enabled&&n.dropShadow(d,c.dropShadow),l.add(d),d.attr("id","apexcharts-radialbarTrack-"+a),this.animatePaths(d,{centerX:e.centerX,centerY:e.centerY,endAngle:h,startAngle:p,size:e.size,i:a,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return i}},{key:"drawArcs",value:function(e){var t=this.w,o=new x(this.ctx),i=new D(this.ctx),n=new b(this.ctx),r=o.group(),s=this.getStrokeWidth(e);e.size=e.size-s/2;var a=t.config.plotOptions.radialBar.hollow.background,l=e.size-s*e.series.length-this.margin*e.series.length-s*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(a=this.drawHollowImage(e,r,l,a));var u=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:a||"transparent"});t.config.plotOptions.radialBar.hollow.dropShadow.enabled&&n.dropShadow(u,t.config.plotOptions.radialBar.hollow.dropShadow);var p=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(p=0);var h=null;this.radialDataLabels.show&&(h=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:p})),"back"===t.config.plotOptions.radialBar.hollow.position&&(r.add(u),h&&r.add(h));var d=!1;t.config.plotOptions.radialBar.inverseOrder&&(d=!0);for(var f=d?e.series.length-1:0;d?f>=0:f<e.series.length;d?f--:f++){var g=o.group({class:"apexcharts-series apexcharts-radial-series",seriesName:C.escapeString(t.globals.seriesNames[f])});r.add(g),g.attr({rel:f+1,"data:realIndex":f}),this.ctx.series.addCollapsedClassToSeries(g,f),e.size=e.size-s-this.margin;var m=i.fillPath({seriesNumber:f,size:e.size,value:e.series[f]}),y=this.startAngle,v=void 0,w=C.negToZero(e.series[f]>100?100:e.series[f])/100,S=Math.round(this.totalAngle*w)+this.startAngle,E=void 0;t.globals.dataChanged&&(v=this.startAngle,E=Math.round(this.totalAngle*C.negToZero(t.globals.previousPaths[f])/100)+v),Math.abs(S)+Math.abs(y)>=360&&(S-=.01),Math.abs(E)+Math.abs(v)>=360&&(E-=.01);var _=S-y,A=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[f]:t.config.stroke.dashArray,R=o.drawPath({d:"",stroke:m,strokeWidth:s,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+f,strokeDashArray:A});x.setAttrs(R.node,{"data:angle":_,"data:value":e.series[f]}),t.config.chart.dropShadow.enabled&&n.dropShadow(R,t.config.chart.dropShadow,f),n.setSelectionFilter(R,0,f),this.addListeners(R,this.radialDataLabels),g.add(R),R.attr({index:0,j:f});var T=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(T=t.config.chart.animations.speed),t.globals.dataChanged&&(T=t.config.chart.animations.dynamicAnimation.speed),this.animDur=T/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(R,{centerX:e.centerX,centerY:e.centerY,endAngle:S,startAngle:y,prevEndAngle:E,prevStartAngle:v,size:e.size,i:f,totalItems:2,animBeginArr:this.animBeginArr,dur:T,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:r,elHollow:u,dataLabels:h}}},{key:"drawHollow",value:function(e){var t=new x(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,o,i){var n=this.w,r=new D(this.ctx),s=C.randomId(),a=n.config.plotOptions.radialBar.hollow.image;if(n.config.plotOptions.radialBar.hollow.imageClipped)r.clippedImgArea({width:o,height:o,image:a,patternID:"pattern".concat(n.globals.cuid).concat(s)}),i="url(#pattern".concat(n.globals.cuid).concat(s,")");else{var l=n.config.plotOptions.radialBar.hollow.imageWidth,c=n.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var u=n.globals.dom.Paper.image(a).loaded(function(t){this.move(e.centerX-t.width/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+n.config.plotOptions.radialBar.hollow.imageOffsetY)});t.add(u)}else{var p=n.globals.dom.Paper.image(a).loaded(function(t){this.move(e.centerX-l/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+n.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)});t.add(p)}}return i}},{key:"getStrokeWidth",value:function(e){return e.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}}]),o}(),De=function(){function e(t){a(this,e),this.w=t.w,this.lineCtx=t}return c(e,[{key:"sameValueSeriesFix",value:function(e,t){var o=this.w;if("line"===o.config.chart.type&&("gradient"===o.config.fill.type||"gradient"===o.config.fill.type[e])&&new S(this.lineCtx.ctx,o).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,o=e.x,i=e.y,n=e.i,r=e.j,s=e.prevY,a=this.w,l=[],c=[];if(0===r){var u=this.lineCtx.categoryAxisCorrection+a.config.markers.offsetX;a.globals.isXNumeric&&(u=(a.globals.seriesX[e.realIndex][0]-a.globals.minX)/this.lineCtx.xRatio+a.config.markers.offsetX),l.push(u),c.push(C.isNumber(t[n][0])?s+a.config.markers.offsetY:null),l.push(o+a.config.markers.offsetX),c.push(C.isNumber(t[n][r+1])?i+a.config.markers.offsetY:null)}else l.push(o+a.config.markers.offsetX),c.push(C.isNumber(t[n][r+1])?i+a.config.markers.offsetY:null);return{x:l,y:c}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,o=e.pathFromArea,i=e.realIndex,n=this.w,r=0;r<n.globals.previousPaths.length;r++){var s=n.globals.previousPaths[r];("line"===s.type||"area"===s.type)&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(i,10)&&("line"===s.type?(this.lineCtx.appendPathFrom=!1,t=n.globals.previousPaths[r].paths[0].d):"area"===s.type&&(this.lineCtx.appendPathFrom=!1,o=n.globals.previousPaths[r].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[r].paths[1]&&(t=n.globals.previousPaths[r].paths[1].d)))}return{pathFromLine:t,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(e){var t=e.i,o=e.series,i=e.prevY,n=e.lineYPosition,r=this.w;if(void 0!==o[t][0])i=(n=r.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-o[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?o[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(r.config.chart.stacked&&t>0&&void 0===o[t][0])for(var s=t-1;s>=0;s--)if(null!=o[s][0]){i=n=this.lineCtx.prevSeriesY[s][0];break}return{prevY:i,lineYPosition:n}}}]),e}(),Ie=function(){function e(t,o,i){a(this,e),this.ctx=t,this.w=t.w,this.xyRatios=o,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new M(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new De(this),this.markers=new I(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(e,[{key:"draw",value:function(e,t,o){var i=this.w,n=new x(this.ctx),r=i.globals.comboCharts?t:i.config.chart.type,s=n.group({class:"apexcharts-".concat(r,"-series apexcharts-plot-series")}),a=new S(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=a.getLogSeries(e),this.yRatio=a.getLogYRatios(this.yRatio);for(var l=[],c=0;c<e.length;c++){e=this.lineHelpers.sameValueSeriesFix(c,e);var u=i.globals.comboCharts?o[c]:c;this._initSerieVariables(e,c,u);var p=[],h=[],d=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(d=(i.globals.seriesX[u][0]-i.globals.minX)/this.xRatio),h.push(d);var f,g=d,m=g,y=this.zeroY;y=this.lineHelpers.determineFirstPrevY({i:c,series:e,prevY:y,lineYPosition:0}).prevY,p.push(y),f=y;var v=this._calculatePathsFrom({series:e,i:c,realIndex:u,prevX:m,prevY:y}),C=this._iterateOverDataPoints({series:e,realIndex:u,i:c,x:d,y:1,pX:g,pY:f,pathsFrom:v,linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:h,yArrj:p});this._handlePaths({type:r,realIndex:u,i:c,paths:C}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(i.config.chart.stacked)for(var w=l.length;w>0;w--)s.add(l[w-1]);else for(var b=0;b<l.length;b++)s.add(l[b]);return s}},{key:"_initSerieVariables",value:function(e,t,o){var i=this.w,n=new x(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-("on"===i.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[o]:i.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=o),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||"end"===i.config.plotOptions.area.fillTo)&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",seriesName:C.escapeString(i.globals.seriesNames[o])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":o}),this.elSeries.attr({"data:longestSeries":e[t].length===i.globals.dataPoints,rel:t+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,o,i,n,r=e.series,s=e.i,a=e.realIndex,l=e.prevX,c=e.prevY,u=this.w,p=new x(this.ctx);if(null===r[s][0]){for(var h=0;h<r[s].length;h++)if(null!==r[s][h]){t=p.move(l=this.xDivision*h,c=this.zeroY-r[s][h]/this.yRatio[this.yaxisIndex]),o=p.move(l,this.areaBottomY);break}}else t=p.move(l,c),o=p.move(l,this.areaBottomY)+p.line(l,c);if(i=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),n=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),u.globals.previousPaths.length>0){var d=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:n,realIndex:a});i=d.pathFromLine,n=d.pathFromArea}return{prevX:l,prevY:c,linePath:t,areaPath:o,pathFromLine:i,pathFromArea:n}}},{key:"_handlePaths",value:function(e){var t=e.type,o=e.realIndex,i=e.i,n=e.paths,s=this.w,a=new x(this.ctx),l=new D(this.ctx);this.prevSeriesY.push(n.yArrj),s.globals.seriesXvalues[o]=n.xArrj,s.globals.seriesYvalues[o]=n.yArrj;var c=s.config.forecastDataPoints;if(c.count>0){var u=s.globals.seriesXvalues[o][s.globals.seriesXvalues[o].length-c.count-1],p=a.drawRect(u,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(p.node);var h=a.drawRect(0,0,u,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var d={i:i,realIndex:o,animationDelay:i,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var f=l.fillPath({seriesNumber:o}),g=0;g<n.areaPaths.length;g++){var m=a.renderPaths(r(r({},d),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:f}));this.elSeries.add(m)}if(s.config.stroke.show&&!this.pointsChart){var y=null;if("line"===t)y=l.fillPath({seriesNumber:o,i:i});else if("solid"===s.config.stroke.fill.type)y=s.globals.stroke.colors[o];else{var v=s.config.fill;s.config.fill=s.config.stroke.fill,y=l.fillPath({seriesNumber:o,i:i}),s.config.fill=v}for(var C=0;C<n.linePaths.length;C++){var w=r(r({},d),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[C],stroke:y,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:"none"}),b=a.renderPaths(w);if(this.elSeries.add(b),c.count>0){var S=a.renderPaths(w);S.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&S.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),b.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){for(var t=e.series,o=e.realIndex,i=e.i,n=e.x,r=e.y,s=e.pX,a=e.pY,l=e.pathsFrom,c=e.linePaths,u=e.areaPaths,p=e.seriesIndex,h=e.lineYPosition,d=e.xArrj,f=e.yArrj,g=this.w,m=new x(this.ctx),y=this.yRatio,v=l.prevY,w=l.linePath,b=l.areaPath,S=l.pathFromLine,E=l.pathFromArea,_=C.isNumber(g.globals.minYArr[o])?g.globals.minYArr[o]:g.globals.minY,A=g.globals.dataPoints>1?g.globals.dataPoints-1:g.globals.dataPoints,R=0;R<A;R++){var T=null==t[i][R+1];if(g.globals.isXNumeric){var O=g.globals.seriesX[o][R+1];void 0===g.globals.seriesX[o][R+1]&&(O=g.globals.seriesX[o][A-1]),n=(O-g.globals.minX)/this.xRatio}else n+=this.xDivision;h=g.config.chart.stacked&&i>0&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,o=0;o<g.globals.series.length;o++)if(g.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(i-1)][R+1]:this.zeroY,r=T?h-_/y[this.yaxisIndex]+2*(this.isReversed?_/y[this.yaxisIndex]:0):h-t[i][R+1]/y[this.yaxisIndex]+2*(this.isReversed?t[i][R+1]/y[this.yaxisIndex]:0),d.push(n),f.push(r);var P=this.lineHelpers.calculatePoints({series:t,x:n,y:r,realIndex:o,i:i,j:R,prevY:v}),D=this._createPaths({series:t,i:i,realIndex:o,j:R,x:n,y:r,pX:s,pY:a,linePath:w,areaPath:b,linePaths:c,areaPaths:u,seriesIndex:p});u=D.areaPaths,c=D.linePaths,s=D.pX,a=D.pY,b=D.areaPath,w=D.linePath,this.appendPathFrom&&(S+=m.line(n,this.zeroY),E+=m.line(n,this.zeroY)),this.handleNullDataPoints(t,P,i,R,o),this._handleMarkersAndLabels({pointsPos:P,series:t,x:n,y:r,prevY:v,i:i,j:R,realIndex:o})}return{yArrj:f,xArrj:d,pathFromArea:E,areaPaths:u,pathFromLine:S,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.pointsPos,o=e.i,i=e.j,n=e.realIndex,r=this.w,s=new N(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:n,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{r.globals.series[o].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var a=this.markers.plotChartMarkers(t,n,i+1);null!==a&&this.elPointsMain.add(a)}var l=s.drawDataLabel(t,n,i+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(e){var t=e.series,o=e.i,i=e.realIndex,n=e.j,r=e.x,s=e.y,a=e.pX,l=e.pY,c=e.linePath,u=e.areaPath,p=e.linePaths,h=e.areaPaths,d=e.seriesIndex,f=this.w,g=new x(this.ctx),m=f.config.stroke.curve,y=this.areaBottomY;if(Array.isArray(f.config.stroke.curve)&&(m=Array.isArray(d)?f.config.stroke.curve[d[o]]:f.config.stroke.curve[o]),"smooth"===m){var v=.35*(r-a);f.globals.hasNullValues?(null!==t[o][n]&&(null!==t[o][n+1]?(c=g.move(a,l)+g.curve(a+v,l,r-v,s,r+1,s),u=g.move(a+1,l)+g.curve(a+v,l,r-v,s,r+1,s)+g.line(r,y)+g.line(a,y)+"z"):(c=g.move(a,l),u=g.move(a,l)+"z")),p.push(c),h.push(u)):(c+=g.curve(a+v,l,r-v,s,r,s),u+=g.curve(a+v,l,r-v,s,r,s)),a=r,l=s,n===t[o].length-2&&(u=u+g.curve(a,l,r,s,r,y)+g.move(r,s)+"z",f.globals.hasNullValues||(p.push(c),h.push(u)))}else null===t[o][n+1]&&(c+=g.move(r,s),u=u+g.line(f.globals.isXNumeric?(f.globals.seriesX[i][n]-f.globals.minX)/this.xRatio:r-this.xDivision,y)+g.move(r,s)+"z"),null===t[o][n]&&(c+=g.move(r,s),u+=g.move(r,y)),"stepline"===m?(c=c+g.line(r,null,"H")+g.line(null,s,"V"),u=u+g.line(r,null,"H")+g.line(null,s,"V")):"straight"===m&&(c+=g.line(r,s),u+=g.line(r,s)),n===t[o].length-2&&(u=u+g.line(r,y)+g.move(r,s)+"z",p.push(c),h.push(u));return{linePaths:p,areaPaths:h,pX:a,pY:l,linePath:c,areaPath:u}}},{key:"handleNullDataPoints",value:function(e,t,o,i,n){var r=this.w;if(null===e[o][i]&&r.config.markers.showNullDataPoints||1===e[o].length){var s=this.markers.plotChartMarkers(t,n,i+1,this.strokeWidth-r.config.markers.strokeWidth/2,!0);null!==s&&this.elPointsMain.add(s)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,o,i,n){this.xoffset=t,this.yoffset=o,this.height=n,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,o=[],i=this.xoffset,n=this.yoffset,s=r(e)/this.height,a=r(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)o.push([i,n,i+s,n+e[t]/s]),n+=e[t]/s;else for(t=0;t<e.length;t++)o.push([i,n,i+e[t]/a,n+a]),i+=e[t]/a;return o},this.cutArea=function(t){var o;if(this.width>=this.height){var i=t/this.height;o=new e(this.xoffset+i,this.yoffset,this.width-i,this.height)}else{var n=t/this.width;o=new e(this.xoffset,this.yoffset+n,this.width,this.height-n)}return o}}function t(t,i,n,s,a){return s=void 0===s?0:s,a=void 0===a?0:a,function(e){var t,o,i=[];for(t=0;t<e.length;t++)for(o=0;o<e[t].length;o++)i.push(e[t][o]);return i}(o(function(e,t){var o,i=[],n=t/r(e);for(o=0;o<e.length;o++)i[o]=e[o]*n;return i}(t,i*n),[],new e(s,a,i,n),[]))}function o(e,t,n,s){var a,l,c;if(0!==e.length)return a=n.shortestEdge(),function(e,t,o){var n;return 0===e.length||((n=e.slice()).push(t),i(e,o)>=i(n,o))}(t,l=e[0],a)?(t.push(l),o(e.slice(1),t,n,s)):(c=n.cutArea(r(t),s),s.push(n.getCoordinates(t)),o(e,[],c,s)),s;s.push(n.getCoordinates(t))}function i(e,t){var o=Math.min.apply(Math,e),i=Math.max.apply(Math,e),n=r(e);return Math.max(Math.pow(t,2)*i/Math.pow(n,2),Math.pow(n,2)/(Math.pow(t,2)*o))}function n(e){return e&&e.constructor===Array}function r(e){var t,o=0;for(t=0;t<e.length;t++)o+=e[t];return o}function s(e){var t,o=0;if(n(e[0]))for(t=0;t<e.length;t++)o+=s(e[t]);else o=r(e);return o}return function e(o,i,r,a,l){a=void 0===a?0:a,l=void 0===l?0:l;var c,u,p=[],h=[];if(n(o[0])){for(u=0;u<o.length;u++)p[u]=s(o[u]);for(c=t(p,i,r,a,l),u=0;u<o.length;u++)h.push(e(o[u],c[u][2]-c[u][0],c[u][3]-c[u][1],c[u][0],c[u][1]))}else h=t(o,i,r,a,l);return h}}();var Me,Ne,ke=function(){function e(t,o){a(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new _e(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(e,[{key:"draw",value:function(e){var t=this,o=this.w,i=new x(this.ctx),n=new D(this.ctx),r=i.group({class:"apexcharts-treemap"});if(o.globals.noData)return r;var s=[];return e.forEach(function(e){var t=e.map(function(e){return Math.abs(e)});s.push(t)}),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach(function(e,o){e.data.forEach(function(e){Array.isArray(t.labels[o])||(t.labels[o]=[]),t.labels[o].push(e.x)})}),window.TreemapSquared.generate(s,o.globals.gridWidth,o.globals.gridHeight).forEach(function(s,a){var l=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:C.escapeString(o.globals.seriesNames[a]),rel:a+1,"data:realIndex":a});if(o.config.chart.dropShadow.enabled){var c=o.config.chart.dropShadow;new b(t.ctx).dropShadow(r,c,a)}var u=i.group({class:"apexcharts-data-labels"});s.forEach(function(r,s){var c=r[0],u=r[1],p=r[2],h=r[3],d=i.drawRect(c,u,p-c,h-u,0,"#fff",1,t.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?g:o.globals.stroke.colors[a]);d.attr({cx:c,cy:u,index:a,i:a,j:s,width:p-c,height:h-u});var f=t.helpers.getShadeColor(o.config.chart.type,a,s,t.negRange),g=f.color;void 0!==o.config.series[a].data[s]&&o.config.series[a].data[s].fillColor&&(g=o.config.series[a].data[s].fillColor);var m=n.fillPath({color:g,seriesNumber:a,dataPointIndex:s});d.node.classList.add("apexcharts-treemap-rect"),d.attr({fill:m}),t.helpers.addListeners(d);var y={x:c+(p-c)/2,y:u+(h-u)/2,width:0,height:0},v={x:c,y:u,width:p-c,height:h-u};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var C=1;o.globals.resized||(C=o.config.chart.animations.speed),t.animateTreemap(d,y,v,C)}o.globals.dataChanged&&t.dynamicAnim.enabled&&o.globals.shouldAnimate&&(o.globals.previousPaths[a]&&o.globals.previousPaths[a][s]&&o.globals.previousPaths[a][s].rect&&(y=o.globals.previousPaths[a][s].rect),t.animateTreemap(d,y,v,t.dynamicAnim.speed));var w=t.getFontSize(r),b=o.config.dataLabels.formatter(t.labels[a][s],{value:o.globals.series[a][s],seriesIndex:a,dataPointIndex:s,w:o}),x=t.helpers.calculateDataLabels({text:b,x:(c+p)/2,y:(u+h)/2+t.strokeWidth/2+w/3,i:a,j:s,colorProps:f,fontSize:w,series:e});o.config.dataLabels.enabled&&x&&t.rotateToFitLabel(x,b,c,u,p,h),l.add(d),null!==x&&l.add(x)}),l.add(u),r.add(l)}),r}},{key:"getFontSize",value:function(e){var t,o=this.w,i=function e(t){var o,i=0;if(Array.isArray(t[0]))for(o=0;o<t.length;o++)i+=e(t[o]);else for(o=0;o<t.length;o++)i+=t[o].length;return i}(this.labels)/function e(t){var o,i=0;if(Array.isArray(t[0]))for(o=0;o<t.length;o++)i+=e(t[o]);else for(o=0;o<t.length;o++)i+=1;return i}(this.labels);return t=Math.pow((e[2]-e[0])*(e[3]-e[1]),.5),Math.min(t/i,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,o,i,n,r){var s=new x(this.ctx),a=s.getTextRects(t);if(a.width+5>n-o&&a.width<=r-i){var l=s.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(e,t,o,i){var n=new w(this.ctx);n.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:o.x,y:o.y,width:o.width,height:o.height},i,function(){n.animationCompleted(e)})}}]),e}(),Le=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var o=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var n=new H(this.ctx),s=(t-e)/864e5;this.determineInterval(s),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,s<.00011574074074074075?i.globals.disableZoomIn=!0:s>5e4&&(i.globals.disableZoomOut=!0);var a=n.getTimeUnitsfromTimestamp(e,t,this.utc),l=i.globals.gridWidth/s,c=l/24,u=c/60,p=u/60,h=Math.floor(24*s),d=Math.floor(1440*s),f=Math.floor(86400*s),g=Math.floor(s),m=Math.floor(s/30),y=Math.floor(s/365),v={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},C={firstVal:v,currentMillisecond:v.minMillisecond,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:p,numberOfSeconds:f,numberOfMinutes:d,numberOfHours:h,numberOfDays:g,numberOfMonths:m,numberOfYears:y};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var w=this.timeScaleArray.map(function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?r(r({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?r(r({},t),{},{value:e.value}):"minute"===e.unit?r(r({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?r(r({},t),{},{value:e.value,minute:e.minute,second:e.second}):e});return w.filter(function(e){var t=1,n=Math.ceil(i.globals.gridWidth/120),r=e.value;void 0!==i.config.xaxis.tickAmount&&(n=i.config.xaxis.tickAmount),w.length>n&&(t=Math.floor(w.length/n));var s=!1,a=!1;switch(o.tickInterval){case"years":"year"===e.unit&&(s=!0);break;case"half_year":t=7,"year"===e.unit&&(s=!0);break;case"months":t=1,"year"===e.unit&&(s=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(s=!0),30===r&&(a=!0);break;case"months_days":t=10,"month"===e.unit&&(s=!0),30===r&&(a=!0);break;case"week_days":t=8,"month"===e.unit&&(s=!0);break;case"days":t=1,"month"===e.unit&&(s=!0);break;case"hours":"day"===e.unit&&(s=!0);break;case"minutes_fives":r%5!=0&&(a=!0);break;case"seconds_tens":r%10!=0&&(a=!0);break;case"seconds_fives":r%5!=0&&(a=!0)}if("hours"===o.tickInterval||"minutes_fives"===o.tickInterval||"seconds_tens"===o.tickInterval||"seconds_fives"===o.tickInterval){if(!a)return!0}else if((r%t==0||s)&&!a)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var o=this.w,i=this.formatDates(e),n=this.removeOverlappingTS(i);o.globals.timescaleLabels=n.slice(),new pe(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,o=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,o=e.currentMonth,i=e.currentYear,n=e.daysWidthOnXAxis,r=e.numberOfYears,s=t.minYear,a=0,l=new H(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var u=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);a=(l.determineDaysOfYear(t.minYear)-u+1)*n,this.timeScaleArray.push({position:a,value:s=t.minYear+1,unit:c,year:s,month:C.monthMod(o+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:a,value:s,unit:c,year:i,month:C.monthMod(o+1)});for(var p=s,h=a,d=0;d<r;d++)p++,h=l.determineDaysOfYear(p-1)*n+h,this.timeScaleArray.push({position:h,value:p,unit:c,year:p,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,o=e.currentMonthDate,i=e.currentMonth,n=e.currentYear,r=e.daysWidthOnXAxis,s=e.numberOfMonths,a=i,l=0,c=new H(this.ctx),u="month",p=0;if(t.minDate>1){l=(c.determineDaysOfMonths(i+1,t.minYear)-o+1)*r,a=C.monthMod(i+1);var h=n+p,d=C.monthMod(a),f=a;0===a&&(u="year",f=h,d=1,h+=p+=1),this.timeScaleArray.push({position:l,value:f,unit:u,year:h,month:d})}else this.timeScaleArray.push({position:l,value:a,unit:u,year:n,month:C.monthMod(i)});for(var g=a+1,m=l,y=0,v=1;y<s;y++,v++){0===(g=C.monthMod(g))?(u="year",p+=1):u="month";var w=this._getYear(n,g,p);m=c.determineDaysOfMonths(g,w)*r+m,this.timeScaleArray.push({position:m,value:0===g?w:g,unit:u,year:w,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,o=e.currentMonth,i=e.currentYear,n=e.hoursWidthOnXAxis,r=e.numberOfDays,s=new H(this.ctx),a="day",l=t.minDate+1,c=l,u=function(e,t,o){return e>s.determineDaysOfMonths(t+1,o)?(c=1,a="month",h=t+=1,t):t},p=(24-t.minHour)*n,h=l,d=u(c,o,i);0===t.minHour&&1===t.minDate?(p=0,h=C.monthMod(t.minMonth),a="month",c=t.minDate,r++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(p=0,h=l=t.minDate,d=u(c=l,o,i)),this.timeScaleArray.push({position:p,value:h,unit:a,year:this._getYear(i,d,0),month:C.monthMod(d),day:c});for(var f=p,g=0;g<r;g++){a="day",d=u(c+=1,d,this._getYear(i,d,0));var m=this._getYear(i,d,0);f=24*n+f;var y=1===c?C.monthMod(d):c;this.timeScaleArray.push({position:f,value:y,unit:a,year:m,month:C.monthMod(d),day:y})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,o=e.currentDate,i=e.currentMonth,n=e.currentYear,r=e.minutesWidthOnXAxis,s=e.numberOfHours,a=new H(this.ctx),l="hour",c=function(e,t){return e>a.determineDaysOfMonths(t+1,n)&&(g=1,t+=1),{month:t,date:g}},u=function(e,t){return e>a.determineDaysOfMonths(t+1,n)?t+=1:t},p=60-(t.minMinute+t.minSecond/60),h=p*r,d=t.minHour+1,f=d+1;60===p&&(h=0,f=(d=t.minHour)+1);var g=o,m=u(g,i);this.timeScaleArray.push({position:h,value:d,unit:l,day:g,hour:f,year:n,month:C.monthMod(m)});for(var y=h,v=0;v<s;v++){l="hour",f>=24&&(f=0,l="day",m=c(g+=1,m).month,m=u(g,m));var w=this._getYear(n,m,0);this.timeScaleArray.push({position:y=0===f&&0===v?p*r:60*r+y,value:0===f?g:f,unit:l,hour:f,day:g,year:w,month:C.monthMod(m)}),f++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.minutesWidthOnXAxis,o=e.numberOfMinutes,i=e.currentMinute+1,n=e.currentDate,r=e.currentMonth,s=e.currentYear,a=e.currentHour,l=(60-e.currentSecond-e.currentMillisecond/1e3)*e.secondsWidthOnXAxis,c=0;c<o;c++)i>=60&&(i=0,24===(a+=1)&&(a=0)),this.timeScaleArray.push({position:l,value:i,unit:"minute",hour:a,minute:i,day:n,year:this._getYear(s,r,0),month:C.monthMod(r)}),l+=t,i++}},{key:"generateSecondScale",value:function(e){for(var t=e.secondsWidthOnXAxis,o=e.numberOfSeconds,i=e.currentSecond+1,n=e.currentMinute,r=e.currentDate,s=e.currentMonth,a=e.currentYear,l=e.currentHour,c=(1e3-e.currentMillisecond)/1e3*t,u=0;u<o;u++)i>=60&&(i=0,++n>=60&&(n=0,24==++l&&(l=0))),this.timeScaleArray.push({position:c,value:i,unit:"second",hour:l,minute:n,second:i,day:r,year:this._getYear(a,s,0),month:C.monthMod(s)}),c+=t,i++}},{key:"createRawDateString",value:function(e,t){var o=e.year;return 0===e.month&&(e.month=1),o+="-"+("0"+e.month.toString()).slice(-2),o+="day"===e.unit?"day"===e.unit?"-"+("0"+t).slice(-2):"-01":"-"+("0"+(e.day?e.day:"1")).slice(-2),o+="hour"===e.unit?"hour"===e.unit?"T"+("0"+t).slice(-2):"T00":"T"+("0"+(e.hour?e.hour:"0")).slice(-2),o+="minute"===e.unit?":"+("0"+t).slice(-2):":"+(e.minute?("0"+e.minute).slice(-2):"00"),o+="second"===e.unit?":"+("0"+t).slice(-2):":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(e){var t=this,o=this.w;return e.map(function(e){var i=e.value.toString(),n=new H(t.ctx),r=t.createRawDateString(e,i),s=n.getDate(n.parseDate(r));if(t.utc||(s=n.getDate(n.parseDateWithTimezone(r))),void 0===o.config.xaxis.labels.format){var a="dd MMM",l=o.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(a=l.year),"month"===e.unit&&(a=l.month),"day"===e.unit&&(a=l.day),"hour"===e.unit&&(a=l.hour),"minute"===e.unit&&(a=l.minute),"second"===e.unit&&(a=l.second),i=n.formatDate(s,a)}else i=n.formatDate(s,o.config.xaxis.labels.format);return{dateString:r,position:e.position,value:i,unit:e.unit,year:e.year,month:e.month}})}},{key:"removeOverlappingTS",value:function(e){var t,o=this,i=new x(this.ctx),n=!1;e.length>0&&e[0].value&&e.every(function(t){return t.value.length===e[0].value.length})&&(n=!0,t=i.getTextRects(e[0].value).width);var r=0;return e.map(function(s,a){if(a>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var l=n?t:i.getTextRects(e[r].value).width;return s.position>e[r].position+l+10?(r=a,s):null}return s}).filter(function(e){return null!==e})}},{key:"_getYear",value:function(e,t,o){return e+Math.floor(t/12)+o}}]),e}(),Fe=function(){function e(t,o){a(this,e),this.ctx=o,this.w=o.w,this.el=t}return c(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,o=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(o)>-1,e.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(o)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),x.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elAnnotations=e.dom.Paper.group().attr({class:"apexcharts-annotations"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var o=this.w,i=o.config,n=o.globals,r={series:[],i:[]},s={series:[],i:[]},a={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},u={series:[],i:[]},p={series:[],i:[]};n.series.map(function(t,h){var d=0;void 0!==e[h].type?("column"===e[h].type||"bar"===e[h].type?(n.series.length>1&&i.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(t),c.i.push(h),d++,o.globals.columnSeries=c.series):"area"===e[h].type?(s.series.push(t),s.i.push(h),d++):"line"===e[h].type?(r.series.push(t),r.i.push(h),d++):"scatter"===e[h].type?(a.series.push(t),a.i.push(h)):"bubble"===e[h].type?(l.series.push(t),l.i.push(h),d++):"candlestick"===e[h].type?(u.series.push(t),u.i.push(h),d++):"boxPlot"===e[h].type?(p.series.push(t),p.i.push(h),d++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),d>1&&(n.comboCharts=!0)):(r.series.push(t),r.i.push(h))});var h=new Ie(this.ctx,t),d=new Ee(this.ctx,t);this.ctx.pie=new Te(this.ctx);var f=new Pe(this.ctx);this.ctx.rangeBar=new V(this.ctx,t);var g=new Oe(this.ctx),m=[];if(n.comboCharts){if(s.series.length>0&&m.push(h.draw(s.series,"area",s.i)),c.series.length>0)if(o.config.chart.stacked){var y=new Se(this.ctx,t);m.push(y.draw(c.series,c.i))}else this.ctx.bar=new G(this.ctx,t),m.push(this.ctx.bar.draw(c.series,c.i));if(r.series.length>0&&m.push(h.draw(r.series,"line",r.i)),u.series.length>0&&m.push(d.draw(u.series,u.i)),p.series.length>0&&m.push(d.draw(p.series,p.i)),a.series.length>0){var v=new Ie(this.ctx,t,!0);m.push(v.draw(a.series,"scatter",a.i))}if(l.series.length>0){var C=new Ie(this.ctx,t,!0);m.push(C.draw(l.series,"bubble",l.i))}}else switch(i.chart.type){case"line":m=h.draw(n.series,"line");break;case"area":m=h.draw(n.series,"area");break;case"bar":i.chart.stacked?m=new Se(this.ctx,t).draw(n.series):(this.ctx.bar=new G(this.ctx,t),m=this.ctx.bar.draw(n.series));break;case"candlestick":case"boxPlot":m=new Ee(this.ctx,t).draw(n.series);break;case"rangeBar":m=this.ctx.rangeBar.draw(n.series);break;case"heatmap":m=new Ae(this.ctx,t).draw(n.series);break;case"treemap":m=new ke(this.ctx,t).draw(n.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(n.series);break;case"radialBar":m=f.draw(n.series);break;case"radar":m=g.draw(n.series);break;default:m=h.draw(n.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var o=C.getDimensions(this.el),i=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===i?C.isNumber(o[0])&&(0===o[0].width&&(o=C.getDimensions(this.el.parentNode)),e.svgWidth=o[0]*parseInt(t.chart.width,10)/100):"px"!==i&&""!==i||(e.svgWidth=parseInt(t.chart.width,10));var n=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===n){var r=C.getDimensions(this.el.parentNode);e.svgHeight=r[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),x.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==n&&(e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+(t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0)+"px"),e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals;x.setAttrs(e.dom.elGraphical.node,{transform:"translate("+e.translateX+", "+e.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,o=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(o=new de(this.ctx).legendHelpers.getLegendBBox().clwh+10);var n=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),r=2.05*e.globals.radialSize;if(n&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var s=C.getBoundingClientRect(n);r=s.bottom,r=Math.max(2.05*e.globals.radialSize,s.bottom-s.top)}var a=r+t.translateY+o+i;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",a),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=a+"px",x.setAttrs(t.dom.Paper.node,{height:a}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=a+"px")}},{key:"coreCalculations",value:function(){new J(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(e){return[]})},o=new j,i=this.w.globals;o.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new ie(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new ie(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Le(this.ctx);var o=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}e=new S(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var o=t.config.chart.brush.targets||[t.config.chart.brush.target];o.forEach(function(t){var o=ApexCharts.getChartByID(t);o.w.globals.brushSource=e.ctx,"function"!=typeof o.w.config.chart.events.zoomed&&(o.w.config.chart.events.zoomed=function(){e.updateSourceChart(o)}),"function"!=typeof o.w.config.chart.events.scrolled&&(o.w.config.chart.events.scrolled=function(){e.updateSourceChart(o)})}),t.config.chart.events.selection=function(e,i){o.forEach(function(e){var o=ApexCharts.getChartByID(e),n=C.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===o.w.globals.series.length){var s=new Q(o);n=s.autoScaleY(o,n,i)}var a=o.w.config.yaxis.reduce(function(e,t,i){return[].concat(m(e),[r(r({},o.w.config.yaxis[i]),{},{min:n[0].min,max:n[0].max})])},[]);o.ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max},yaxis:a},!1,!1,!1,!1)})}}}}]),e}(),Ge=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"_updateOptions",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(a){var l=[t.ctx];n&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(n,c){var u=n.w;if(u.globals.shouldAnimate=i,o||(u.globals.resized=!0,u.globals.dataChanged=!0,i&&n.series.getPreviousPaths()),e&&"object"===s(e)&&(n.config=new B(e),e=S.extendArrayProps(n.config,e,u),n.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,u.config=C.extend(u.config,e),r&&(u.globals.lastXAxis=e.xaxis?C.clone(e.xaxis):[],u.globals.lastYAxis=e.yaxis?C.clone(e.yaxis):[],u.globals.initialConfig=C.extend({},u.config),u.globals.initialSeries=C.clone(u.config.series),e.series))){for(var p=0;p<u.globals.collapsedSeriesIndices.length;p++){var h=u.config.series[u.globals.collapsedSeriesIndices[p]];u.globals.collapsedSeries[p].data=u.globals.axisCharts?h.data.slice():h}for(var d=0;d<u.globals.ancillaryCollapsedSeriesIndices.length;d++){var f=u.config.series[u.globals.ancillaryCollapsedSeriesIndices[d]];u.globals.ancillaryCollapsedSeries[d].data=u.globals.axisCharts?f.data.slice():f}n.series.emptyCollapsedSeries(u.config.series)}return n.update(e).then(function(){c===l.length-1&&a(n)})})})}},{key:"_updateSeries",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n){var r,s=o.w;return s.globals.shouldAnimate=t,s.globals.dataChanged=!0,t&&o.ctx.series.getPreviousPaths(),s.globals.axisCharts?(0===(r=e.map(function(e,t){return o._extendSeries(e,t)})).length&&(r=[{data:[]}]),s.config.series=r):s.config.series=e.slice(),i&&(s.globals.initialSeries=C.clone(s.config.series)),o.ctx.update().then(function(){n(o.ctx)})})}},{key:"_extendSeries",value:function(e,t){var o=this.w,i=o.config.series[t];return r(r({},o.config.series[t]),{},{name:e.name?e.name:i&&i.name,color:e.color?e.color:i&&i.color,type:e.type?e.type:i&&i.type,data:e.data?e.data:i&&i.data})}},{key:"toggleDataPointSelection",value:function(e,t){var o=this.w,i=null,n=".apexcharts-series[data\\:realIndex='".concat(e,"']");return o.globals.axisCharts?i=o.globals.dom.Paper.select("".concat(n," path[j='").concat(t,"'], ").concat(n," circle[j='").concat(t,"'], ").concat(n," rect[j='").concat(t,"']")).members[0]:void 0===t&&(i=o.globals.dom.Paper.select("".concat(n," path[j='").concat(e,"']")).members[0],"pie"!==o.config.chart.type&&"polarArea"!==o.config.chart.type&&"donut"!==o.config.chart.type||this.ctx.pie.pieClicked(e)),i?(new x(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(o){void 0!==e.xaxis[o]&&(t.config.xaxis[o]=e.xaxis[o],t.globals.lastXAxis[o]=e.xaxis[o])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var o=new W(e);e=o.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,o){e.yaxis[o].min=0,e.yaxis[o].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,o=this.w,i=o.globals.lastXAxis,n=o.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(n=e.yaxis),o.config.xaxis.min=i.min,o.config.xaxis.max=i.max,o.config.yaxis.map(function(e,i){o.globals.zoomed||void 0!==n[i]?function(e){void 0!==n[e]&&(o.config.yaxis[e].min=n[e].min,o.config.yaxis[e].max=n[e].max)}(i):void 0!==t.ctx.opts.yaxis[i]&&(e.min=t.ctx.opts.yaxis[i].min,e.max=t.ctx.opts.yaxis[i].max)})}}]),e}();Me="undefined"!=typeof window?window:void 0,Ne=function(e,t){var o=(void 0!==this?this:e).SVG=function(e){if(o.supported)return e=new o.Doc(e),o.parser.draw||o.prepare(),e};if(o.ns="http://www.w3.org/2000/svg",o.xmlns="http://www.w3.org/2000/xmlns/",o.xlink="http://www.w3.org/1999/xlink",o.svgjs="http://svgjs.dev",o.supported=!0,!o.supported)return!1;o.did=1e3,o.eid=function(e){return"Svgjs"+p(e)+o.did++},o.create=function(e){var o=t.createElementNS(this.ns,e);return o.setAttribute("id",this.eid(e)),o},o.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var i=e.length-1;i>=0;i--)if(e[i])for(var n in t)e[i].prototype[n]=t[n];o.Set&&o.Set.inherit&&o.Set.inherit()},o.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,o.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&o.extend(t,e.extend),e.construct&&o.extend(e.parent||o.Container,e.construct),t},o.adopt=function(t){return t?t.instance?t.instance:((i="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new o.Nested:new o.Doc:"linearGradient"==t.nodeName?new o.Gradient("linear"):"radialGradient"==t.nodeName?new o.Gradient("radial"):o[p(t.nodeName)]?new(o[p(t.nodeName)]):new o.Element(t)).type=t.nodeName,i.node=t,t.instance=i,i instanceof o.Doc&&i.namespace().defs(),i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i):null;var i},o.prepare=function(){var e=t.getElementsByTagName("body")[0],i=(e?new o.Doc(e):o.adopt(t.documentElement).nested()).size(2,0);o.parser={body:e||t.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:o.create("svg")}},o.parser={native:o.create("svg")},t.addEventListener("DOMContentLoaded",function(){o.parser.draw||o.prepare()},!1),o.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},o.utils={map:function(e,t){for(var o=e.length,i=[],n=0;n<o;n++)i.push(t(e[n]));return i},filter:function(e,t){for(var o=e.length,i=[],n=0;n<o;n++)t(e[n])&&i.push(e[n]);return i},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof e.SVGElement})}},o.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},o.Color=function(e){var t,i;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?o.regex.isRgb.test(e)?(t=o.regex.rgb.exec(e.replace(o.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):o.regex.isHex.test(e)&&(t=o.regex.hex.exec(4==(i=e).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===s(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},o.extend(o.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+h(this.r)+h(this.g)+h(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new o.Color(e),this},at:function(e){return this.destination?new o.Color({r:~~(this.r+(this.destination.r-this.r)*(e=e<0?0:e>1?1:e)),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)}):this}}),o.Color.test=function(e){return o.regex.isHex.test(e+="")||o.regex.isRgb.test(e)},o.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},o.Color.isColor=function(e){return o.Color.isRgb(e)||o.Color.test(e)},o.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},o.extend(o.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),o.PointArray=function(e,t){o.Array.call(this,e,t||[[0,0]])},o.PointArray.prototype=new o.Array,o.PointArray.prototype.constructor=o.PointArray;for(var i={M:function(e,t,o){return t.x=o.x=e[0],t.y=o.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},Z:function(e,t,o){return t.x=o.x,t.y=o.y,["Z"]}},n="mlhvqtcsaz".split(""),r=0,a=n.length;r<a;++r)i[n[r]]=function(e){return function(t,o,n){if("H"==e)t[0]=t[0]+o.x;else if("V"==e)t[0]=t[0]+o.y;else if("A"==e)t[5]=t[5]+o.x,t[6]=t[6]+o.y;else for(var r=0,s=t.length;r<s;++r)t[r]=t[r]+(r%2?o.y:o.x);if(i&&"function"==typeof i[e])return i[e](t,o,n)}}(n[r].toUpperCase());o.PathArray=function(e,t){o.Array.call(this,e,t||[["M",0,0]])},o.PathArray.prototype=new o.Array,o.PathArray.prototype.constructor=o.PathArray,o.extend(o.PathArray,{toString:function(){return function(e){for(var t=0,o=e.length,i="";t<o;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){return this.bbox(),this},at:function(e){if(!this.destination)return this;for(var t=this.value,i=this.destination.value,n=[],r=new o.PathArray,s=0,a=t.length;s<a;s++){n[s]=[t[s][0]];for(var l=1,c=t[s].length;l<c;l++)n[s][l]=t[s][l]+(i[s][l]-t[s][l])*e;"A"===n[s][0]&&(n[s][4]=+(0!=n[s][4]),n[s][5]=+(0!=n[s][5]))}return r.value=n,r},parse:function(e){if(e instanceof o.PathArray)return e.valueOf();var t,n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(o.regex.numbersWithDots,c).replace(o.regex.pathLetters," $& ").replace(o.regex.hyphen,"$1 -").trim().split(o.regex.delimiter):e.reduce(function(e,t){return[].concat.call(e,t)},[]);var r=[],s=new o.Point,a=new o.Point,l=0,u=e.length;do{o.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),r.push(i[t].call(null,e.slice(l,l+=n[t.toUpperCase()]).map(parseFloat),s,a))}while(u>l);return r},bbox:function(){return o.parser.draw||o.prepare(),o.parser.path.setAttribute("d",this.toString()),o.parser.path.getBBox()}}),o.Number=o.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(o.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof o.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new o.Number(e),new o.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new o.Number(e),new o.Number(this-e,this.unit||e.unit)},times:function(e){return e=new o.Number(e),new o.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new o.Number(e),new o.Number(this/e,this.unit||e.unit)},to:function(e){var t=new o.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new o.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new o.Number(this.destination).minus(this).times(e).plus(this):this}}}),o.Element=o.invent({create:function(e){this._stroke=o.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=d(this,e,t);return this.width(new o.Number(i.width)).height(new o.Number(i.height))},clone:function(e){this.writeDataToDom();var t=m(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(o.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return o.get(this.attr(e))},parent:function(t){var i=this;if(!i.node.parentNode)return null;if(i=o.adopt(i.node.parentNode),!t)return i;for(;i&&i.node instanceof e.SVGElement;){if("string"==typeof t?i.matches(t):i instanceof t)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=o.adopt(i.node.parentNode)}},doc:function(){return this instanceof o.Doc?this:this.parent(o.Doc)},parents:function(e){var t=[],o=this;do{if(!(o=o.parent(e))||!o.node)break;t.push(o)}while(o.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var i=t.createElement("svg");if(!(e&&this instanceof o.Parent))return i.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,r=i.firstChild.childNodes.length;n<r;n++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),o.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},o.morph=function(e){return function(t,i){return new o.MorphObj(t,i).at(e)}},o.Situation=o.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new o.Number(e.duration).valueOf(),this.delay=new o.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),o.FX=o.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,i){"object"===s(e)&&(t=e.ease,i=e.delay,e=e.duration);var n=new o.Situation({duration:e||1e3,delay:i||0,ease:o.easing[t||"-"]||t});return this.queue(n),this},target:function(e){return e&&e instanceof o.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof o.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof o.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var i in t.animations){e=this.target()[i](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[i])||(t.animations[i]=[t.animations[i]]);for(var n=e.length;n--;)t.animations[i][n]instanceof o.Number&&(e[n]=new o.Number(e[n])),t.animations[i][n]=e[n].morph(t.animations[i][n])}for(var i in t.attrs)t.attrs[i]=new o.MorphObj(this.target().attr(i),t.attrs[i]);for(var i in t.styles)t.styles[i]=new o.MorphObj(this.target().style(i),t.styles[i]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var o=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!o&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",function o(i){i.detail.situation==t&&(e.call(this,t),this.off("finished.fx",o))}),this._callStart()},during:function(e){var t=this.last(),i=function(i){i.detail.situation==t&&e.call(this,i.detail.pos,o.morph(i.detail.pos),i.detail.eased,t)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)}),this._callStart()},afterAll:function(e){var t=function t(o){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,o){return this.last()[o||"animations"][e]=t,this._callStart()},step:function(e){var t,o,i;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),o=Math.floor(t),!0===this.situation.loops||o<this.situation.loops?(this.pos=t-o,i=this.situation.loop,this.situation.loop=o):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var n=this.situation.ease(this.pos);for(var r in this.situation.once)r>this.lastPos&&r<=n&&(this.situation.once[r].call(this.target(),this.pos,n),delete this.situation.once[r]);return this.active&&this.target().fire("during",{pos:this.pos,eased:n,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=n,this):this},eachAt:function(){var e,t=this,i=this.target(),n=this.situation;for(var r in n.animations)e=[].concat(n.animations[r]).map(function(e){return"string"!=typeof e&&e.at?e.at(n.ease(t.pos),t.pos):e}),i[r].apply(i,e);for(var r in n.attrs)e=[r].concat(n.attrs[r]).map(function(e){return"string"!=typeof e&&e.at?e.at(n.ease(t.pos),t.pos):e}),i.attr.apply(i,e);for(var r in n.styles)e=[r].concat(n.styles[r]).map(function(e){return"string"!=typeof e&&e.at?e.at(n.ease(t.pos),t.pos):e}),i.style.apply(i,e);if(n.transforms.length){e=n.initialTransformation,r=0;for(var s=n.transforms.length;r<s;r++){var a=n.transforms[r];a instanceof o.Matrix?e=a.relative?e.multiply((new o.Matrix).morph(a).at(n.ease(this.pos))):e.morph(a).at(n.ease(this.pos)):(a.relative||a.undo(e.extract()),e=e.multiply(a.at(n.ease(this.pos))))}i.matrix(e)}return this},once:function(e,t,o){var i=this.last();return o||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:o.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new o.FX(this))).animate(e,t,i)},delay:function(e){return(this.fx||(this.fx=new o.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),o.MorphObj=o.invent({create:function(e,t){return o.Color.isColor(t)?new o.Color(e).morph(t):o.regex.delimiter.test(e)?o.regex.pathLetters.test(e)?new o.PathArray(e).morph(t):new o.Array(e).morph(t):o.regex.numberAndUnit.test(t)?new o.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),o.extend(o.FX,{attr:function(e,t,o){if("object"===s(e))for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},plot:function(e,t,o,i){return 4==arguments.length?this.plot([e,t,o,i]):this.add("plot",new(this.target().morphArray)(e))}}),o.Box=o.invent({create:function(e,t,i,n){if(!("object"!==s(e)||e instanceof o.Element))return o.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=i,this.height=n),y(this)}}),o.BBox=o.invent({create:function(e){if(o.Box.apply(this,[].slice.call(arguments)),e instanceof o.Element){var i;try{if(!t.documentElement.contains){for(var n=e.node;n.parentNode;)n=n.parentNode;if(n!=t)throw new Error("Element not in the dom")}i=e.node.getBBox()}catch(t){if(e instanceof o.Shape){o.parser.draw||o.prepare();var r=e.clone(o.parser.draw.instance).show();r&&r.node&&"function"==typeof r.node.getBBox&&(i=r.node.getBBox()),r&&"function"==typeof r.remove&&r.remove()}else i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}o.Box.call(this,i)}},inherit:o.Box,parent:o.Element,construct:{bbox:function(){return new o.BBox(this)}}}),o.BBox.prototype.constructor=o.BBox,o.Matrix=o.invent({create:function(e){var t=g([1,0,0,1,0,0]);e=null===e?t:e instanceof o.Element?e.matrixify():"string"==typeof e?g(e.split(o.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(e)?g(e):e&&"object"===s(e)?e:t;for(var i=C.length-1;i>=0;--i)this[C[i]]=null!=e[C[i]]?e[C[i]]:t[C[i]]},extend:{extract:function(){var e=f(this,0,1);f(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new o.Matrix(this)}},clone:function(){return new o.Matrix(this)},morph:function(e){return this.destination=new o.Matrix(e),this},multiply:function(e){return new o.Matrix(this.native().multiply(function(e){return e instanceof o.Matrix||(e=new o.Matrix(e)),e}(e).native()))},inverse:function(){return new o.Matrix(this.native().inverse())},translate:function(e,t){return new o.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=o.parser.native.createSVGMatrix(),t=C.length-1;t>=0;t--)e[C[t]]=this[C[t]];return e},toString:function(){return"matrix("+v(this.a)+","+v(this.b)+","+v(this.c)+","+v(this.d)+","+v(this.e)+","+v(this.f)+")"}},parent:o.Element,construct:{ctm:function(){return new o.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof o.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new o.Matrix(t)}return new o.Matrix(this.node.getScreenCTM())}}}),o.Point=o.invent({create:function(e,t){var o;o=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===s(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=o.x,this.y=o.y},extend:{clone:function(){return new o.Point(this)},morph:function(e,t){return this.destination=new o.Point(e,t),this}}}),o.extend(o.Element,{point:function(e,t){return new o.Point(e,t).transform(this.screenCTM().inverse())}}),o.extend(o.Element,{attr:function(e,t,i){if(null==e){for(e={},i=(t=this.node.attributes).length-1;i>=0;i--)e[t[i].nodeName]=o.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"===s(e))for(var n in e)this.attr(n,e[n]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?o.defaults.attrs[e]:o.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(o.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof o.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}))),"number"==typeof t?t=new o.Number(t):o.Color.isColor(t)?t=new o.Color(t):Array.isArray(t)&&(t=new o.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),o.extend(o.Element,{transform:function(e,t){var i;return"object"!==s(e)?(i=new o.Matrix(this).extract(),"string"==typeof e?i[e]:i):(i=new o.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(i=t?i.multiply(new o.Matrix(e)):new o.Matrix(e)),this.attr("transform",i))}}),o.extend(o.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(o.regex.transforms).slice(0,-1).map(function(e){var t=e.trim().split("(");return[t[0],t[1].split(o.regex.delimiter).map(function(e){return parseFloat(e)})]}).reduce(function(e,t){return"matrix"==t[0]?e.multiply(g(t[1])):e[t[0]].apply(e,t[1])},new o.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),o=e.screenCTM().inverse();return this.addTo(e).untransform().transform(o.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),o.Transformation=o.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var o=0,i=this.arguments.length;o<i;++o)this[this.arguments[o]]=e[o];else if(e&&"object"===s(e))for(o=0,i=this.arguments.length;o<i;++o)this[this.arguments[o]]=e[this.arguments[o]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),o.Translate=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),o.extend(o.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===s(e))for(var i in e)this.style(i,e[i]);else{if(!o.regex.isCss.test(e))return this.node.style[u(e)];for(e=e.split(/\s*;\s*/).filter(function(e){return!!e}).map(function(e){return e.split(/\s*:\s*/)});t=e.pop();)this.style(t[0],t[1])}else this.node.style[u(e)]=null===t||o.regex.isBlank.test(t)?"":t;return this}}),o.Parent=o.invent({create:function(e){this.constructor.call(this,e)},inherit:o.Element,extend:{children:function(){return o.utils.map(o.utils.filterSVGElements(this.node.childNodes),function(e){return o.adopt(e)})},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return o.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var i=this.children(),n=0,r=i.length;n<r;n++)i[n]instanceof o.Element&&e.apply(i[n],[n,i]),t&&i[n]instanceof o.Container&&i[n].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),o.extend(o.Parent,{ungroup:function(e,t){return 0===t||this instanceof o.Defs||this.node==o.parser.draw||(e=e||(this instanceof o.Doc?this:this.parent(o.Parent)),t=t||1/0,this.each(function(){return this instanceof o.Defs?this:this instanceof o.Parent?this.ungroup(e,t-1):this.toParent(e)}),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),o.Container=o.invent({create:function(e){this.constructor.call(this,e)},inherit:o.Parent}),o.ViewBox=o.invent({parent:o.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){o.Element.prototype[e]=function(t){return o.on(this.node,e,t),this}}),o.listeners=[],o.handlerMap=[],o.listenerId=0,o.on=function(e,t,i,n,r){var s=i.bind(n||e.instance||e),a=(o.handlerMap.indexOf(e)+1||o.handlerMap.push(e))-1,l=t.split(".")[0],c=t.split(".")[1]||"*";o.listeners[a]=o.listeners[a]||{},o.listeners[a][l]=o.listeners[a][l]||{},o.listeners[a][l][c]=o.listeners[a][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++o.listenerId),o.listeners[a][l][c][i._svgjsListenerId]=s,e.addEventListener(l,s,r||{passive:!0})},o.off=function(e,t,i){var n=o.handlerMap.indexOf(e),r=t&&t.split(".")[0],s=t&&t.split(".")[1],a="";if(-1!=n)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;o.listeners[n][r]&&o.listeners[n][r][s||"*"]&&(e.removeEventListener(r,o.listeners[n][r][s||"*"][i],!1),delete o.listeners[n][r][s||"*"][i])}else if(s&&r){if(o.listeners[n][r]&&o.listeners[n][r][s]){for(var l in o.listeners[n][r][s])o.off(e,[r,s].join("."),l);delete o.listeners[n][r][s]}}else if(s)for(var c in o.listeners[n])for(var a in o.listeners[n][c])s===a&&o.off(e,[c,s].join("."));else if(r){if(o.listeners[n][r]){for(var a in o.listeners[n][r])o.off(e,[r,a].join("."));delete o.listeners[n][r]}}else{for(var c in o.listeners[n])o.off(e,c);delete o.listeners[n],delete o.handlerMap[n]}},o.extend(o.Element,{on:function(e,t,i,n){return o.on(this.node,e,t,i,n),this},off:function(e,t){return o.off(this.node,e,t),this},fire:function(t,i){return this.node.dispatchEvent(t instanceof e.Event?t:t=new o.CustomEvent(t,{detail:i,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),o.Defs=o.invent({create:"defs",inherit:o.Container}),o.G=o.invent({create:"g",inherit:o.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new o.G)}}}),o.Doc=o.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,o.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:o.Container,extend:{namespace:function(){return this.attr({xmlns:o.ns,version:"1.1"}).attr("xmlns:xlink",o.xlink,o.xmlns).attr("xmlns:svgjs",o.svgjs,o.xmlns)},defs:function(){var e;return this._defs||(this._defs=(e=this.node.getElementsByTagName("defs")[0])?o.adopt(e):new o.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,o.parser.draw&&!o.parser.draw.parentNode&&this.node.appendChild(o.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,o=m(t.cloneNode(!0));return e?(e.node||e).appendChild(o.node):t.parentNode.insertBefore(o.node,t.nextSibling),o}}}),o.extend(o.Element,{}),o.Gradient=o.invent({create:function(e){this.constructor.call(this,o.create(e+"Gradient")),this.type=e},inherit:o.Container,extend:{at:function(e,t,i){return this.put(new o.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="gradientTransform"),o.Container.prototype.attr.call(this,e,t,i)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),o.extend(o.Gradient,o.FX,{from:function(e,t){return this.attr("radial"==(this._target||this).type?{fx:new o.Number(e),fy:new o.Number(t)}:{x1:new o.Number(e),y1:new o.Number(t)})},to:function(e,t){return this.attr("radial"==(this._target||this).type?{cx:new o.Number(e),cy:new o.Number(t)}:{x2:new o.Number(e),y2:new o.Number(t)})}}),o.extend(o.Defs,{gradient:function(e,t){return this.put(new o.Gradient(e)).update(t)}}),o.Stop=o.invent({create:"stop",inherit:o.Element,extend:{update:function(e){return("number"==typeof e||e instanceof o.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new o.Number(e.offset)),this}}}),o.Pattern=o.invent({create:"pattern",inherit:o.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="patternTransform"),o.Container.prototype.attr.call(this,e,t,i)}},construct:{pattern:function(e,t,o){return this.defs().pattern(e,t,o)}}}),o.extend(o.Defs,{pattern:function(e,t,i){return this.put(new o.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),o.Shape=o.invent({create:function(e){this.constructor.call(this,e)},inherit:o.Element}),o.Symbol=o.invent({create:"symbol",inherit:o.Container,construct:{symbol:function(){return this.put(new o.Symbol)}}}),o.Use=o.invent({create:"use",inherit:o.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,o.xlink)}},construct:{use:function(e,t){return this.put(new o.Use).element(e,t)}}}),o.Rect=o.invent({create:"rect",inherit:o.Shape,construct:{rect:function(e,t){return this.put(new o.Rect).size(e,t)}}}),o.Circle=o.invent({create:"circle",inherit:o.Shape,construct:{circle:function(e){return this.put(new o.Circle).rx(new o.Number(e).divide(2)).move(0,0)}}}),o.extend(o.Circle,o.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),o.Ellipse=o.invent({create:"ellipse",inherit:o.Shape,construct:{ellipse:function(e,t){return this.put(new o.Ellipse).size(e,t).move(0,0)}}}),o.extend(o.Ellipse,o.Rect,o.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),o.extend(o.Circle,o.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new o.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new o.Number(e).divide(2))},size:function(e,t){var i=d(this,e,t);return this.rx(new o.Number(i.width).divide(2)).ry(new o.Number(i.height).divide(2))}}),o.Line=o.invent({create:"line",inherit:o.Shape,extend:{array:function(){return new o.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,i,n){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:i,y2:n}:new o.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var o=d(this,e,t);return this.attr(this.array().size(o.width,o.height).toLine())}},construct:{line:function(e,t,i,n){return o.Line.prototype.plot.apply(this.put(new o.Line),null!=e?[e,t,i,n]:[0,0,0,0])}}}),o.Polyline=o.invent({create:"polyline",inherit:o.Shape,construct:{polyline:function(e){return this.put(new o.Polyline).plot(e||new o.PointArray)}}}),o.Polygon=o.invent({create:"polygon",inherit:o.Shape,construct:{polygon:function(e){return this.put(new o.Polygon).plot(e||new o.PointArray)}}}),o.extend(o.Polyline,o.Polygon,{array:function(){return this._array||(this._array=new o.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new o.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var o=d(this,e,t);return this.attr("points",this.array().size(o.width,o.height))}}),o.extend(o.Line,o.Polyline,o.Polygon,{morphArray:o.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),o.Path=o.invent({create:"path",inherit:o.Shape,extend:{morphArray:o.PathArray,array:function(){return this._array||(this._array=new o.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new o.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new o.Path).plot(e||new o.PathArray)}}}),o.Image=o.invent({create:"image",inherit:o.Shape,extend:{load:function(t){if(!t)return this;var i=this,n=new e.Image;return o.on(n,"load",function(){o.off(n);var e=i.parent(o.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(n.width,n.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:n.width,height:n.height,ratio:n.width/n.height,url:t}))}),o.on(n,"error",function(e){o.off(n),"function"==typeof i._error&&i._error.call(i,e)}),this.attr("href",n.src=this.src=t,o.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,i){return this.put(new o.Image).load(e).size(t||0,i||t||0)}}}),o.Text=o.invent({create:function(){this.constructor.call(this,o.create("text")),this.dom.leading=new o.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",o.defaults.attrs["font-family"])},inherit:o.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,i=0,n=t.length;i<n;++i)0!=i&&3!=t[i].nodeType&&1==o.adopt(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{i=0;for(var r=(e=e.split("\n")).length;i<r;i++)this.tspan(e[i]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new o.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=o.utils.map(o.utils.filterSVGElements(e.childNodes),function(e){return o.adopt(e)});return new o.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,i=0,n=this.dom.leading*new o.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?i+=n:(this.attr("dy",n+i),i=0))}),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new o.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new o.Text).text(e)},plain:function(e){return this.put(new o.Text).plain(e)}}}),o.Tspan=o.invent({create:"tspan",inherit:o.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(o.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),o.extend(o.Text,o.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,i=new o.Tspan;return!1===this._build&&this.clear(),t.appendChild(i.node),i.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),o.TextPath=o.invent({create:"textPath",inherit:o.Parent,parent:o.Text,construct:{morphArray:o.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),o=null;return t&&(o=t.plot(e)),null==e?o:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return o.adopt(this.node.firstChild)}}}),o.Nested=o.invent({create:function(){this.constructor.call(this,o.create("svg")),this.style("overflow","visible")},inherit:o.Container,construct:{nested:function(){return this.put(new o.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,i,n){return i+n.replace(o.regex.dots," .")}function u(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function d(e,t,o){if(null==t||null==o){var i=e.bbox();null==t?t=i.width/i.height*o:null==o&&(o=i.height/i.width*t)}return{width:t,height:o}}function f(e,t,o){return{x:t*e.a+o*e.c+0,y:t*e.b+o*e.d+0}}function g(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function m(t){for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i]instanceof e.SVGElement&&m(t.childNodes[i]);return o.adopt(t).id(o.eid(t.nodeName))}function y(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function v(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach(function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||o.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var i=l[e].length-1;i>=0;i--)null!=t[l[e][i]]&&this.attr(l.prefix(e,l[e][i]),t[l[e][i]]);return this},o.extend(o.Element,o.FX,t)}),o.extend(o.Element,o.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new o.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new o.Number(e).plus(this instanceof o.FX?0:this.x()),!0)},dy:function(e){return this.y(new o.Number(e).plus(this instanceof o.FX?0:this.y()),!0)}}),o.extend(o.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),o.Set=o.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,o=e.length;t<o;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,o=this.members.length;t<o;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new o.Set(e)}}}),o.FX.Set=o.invent({create:function(e){this.set=e}}),o.Set.inherit=function(){var e=[];for(var t in o.Shape.prototype)"function"==typeof o.Shape.prototype[t]&&"function"!=typeof o.Set.prototype[t]&&e.push(t);for(var t in e.forEach(function(e){o.Set.prototype[e]=function(){for(var t=0,i=this.members.length;t<i;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new o.FX.Set(this)):this}}),e=[],o.FX.prototype)"function"==typeof o.FX.prototype[t]&&"function"!=typeof o.FX.Set.prototype[t]&&e.push(t);e.forEach(function(e){o.FX.Set.prototype[e]=function(){for(var t=0,o=this.set.members.length;t<o;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},o.extend(o.Element,{}),o.extend(o.Element,{remember:function(e,t){if("object"===s(arguments[0]))for(var o in e)this.remember(o,e[o]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),o.get=function(e){var i=t.getElementById(function(e){var t=(e||"").toString().match(o.regex.reference);if(t)return t[1]}(e)||e);return o.adopt(i)},o.select=function(e,i){return new o.Set(o.utils.map((i||t).querySelectorAll(e),function(e){return o.adopt(e)}))},o.extend(o.Parent,{select:function(e){return o.select(e,this.node)}});var C="abcdef".split("");if("function"!=typeof e.CustomEvent){var w=function(e,o){o=o||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,o.bubbles,o.cancelable,o.detail),i};w.prototype=e.Event.prototype,o.CustomEvent=w}else o.CustomEvent=e.CustomEvent;return o},void 0!==(i=(function(){return Ne(Me,Me.document)}).call(t,o,t,e))&&(e.exports=i),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,o){return this.put(new SVG.BlendEffect(e,t,o))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,o){return this.put(new SVG.CompositeEffect(e,t,o))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,o){return this.put(new SVG.DiffuseLightingEffect(e,t,o))},displacementMap:function(e,t,o,i,n){return this.put(new SVG.DisplacementMapEffect(e,t,o,i,n))},specularLighting:function(e,t,o,i){return this.put(new SVG.SpecularLightingEffect(e,t,o,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,o,i,n){return this.put(new SVG.TurbulenceEffect(e,t,o,i,n))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,o){return this.parent()&&this.parent().diffuseLighting(e,t,o).in(this)},displacementMap:function(e,t,o,i){return this.parent()&&this.parent().displacementMap(this,e,t,o,i)},specularLighting:function(e,t,o,i){return this.parent()&&this.parent().specularLighting(e,t,o,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,o,i,n){return this.parent()&&this.parent().turbulence(e,t,o,i,n).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,o){this.attr({in:e,in2:t,mode:o||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=n(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=n(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,o){this.attr({in:e,in2:t,operator:o})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,o,i,n){this.attr({in:e,in2:t,scale:o,xChannelSelector:i,yChannelSelector:n})},gaussianBlur:function(e,t){this.attr("stdDeviation",null!=e||null!=t?r(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,o,i,n){this.attr({numOctaves:t,seed:o,stitchTiles:i,baseFrequency:e,type:n})}},o={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each(function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))})}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var o=0;o<e.length;o++)e[o]instanceof SVG.MergeNode?this.put(e[o]):this.put(new SVG.MergeNode(e[o]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}).bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach((function(t){this[t].attr(e.rgb)}).bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,o){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:o})},specularLighting:function(e,t,o,i){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:o,kernelUnitLength:i})}},i={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,o){this.attr({x:e,y:t,z:o})},spotLight:function(e,t,o,i,n,r){this.attr({x:e,y:t,z:o,pointsAtX:i,pointsAtY:n,pointsAtZ:r})},mergeNode:function(e){this.attr("in",e)}};function n(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function r(e){if(!Array.isArray(e))return e;for(var t=0,o=e.length,i=[];t<o;t++)i.push(e[t]);return i.join(" ")}function s(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var o in arguments[t])e(arguments[t][o],o,arguments[t])}["r","g","b","a"].forEach(function(e){i["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),s(t,function(e,t){var o=t.charAt(0).toUpperCase()+t.slice(1);SVG[o+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+o)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),s(o,function(e,t){var o=t.charAt(0).toUpperCase()+t.slice(1);SVG[o+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+o)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),s(i,function(e,t){var o=t.charAt(0).toUpperCase()+t.slice(1);SVG[o]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+o)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function e(e,n,r,s,a,l,c){for(var u=e.slice(n,r||c),p=s.slice(a,l||c),h=0,d={pos:[0,0],start:[0,0]},f={pos:[0,0],start:[0,0]};u[h]=t.call(d,u[h]),p[h]=t.call(f,p[h]),u[h][0]!=p[h][0]||"M"==u[h][0]||"A"==u[h][0]&&(u[h][4]!=p[h][4]||u[h][5]!=p[h][5])?(Array.prototype.splice.apply(u,[h,1].concat(i.call(d,u[h]))),Array.prototype.splice.apply(p,[h,1].concat(i.call(f,p[h])))):(u[h]=o.call(d,u[h]),p[h]=o.call(f,p[h])),++h!=u.length||h!=p.length;)h==u.length&&u.push(["C",d.pos[0],d.pos[1],d.pos[0],d.pos[1],d.pos[0],d.pos[1]]),h==p.length&&p.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]);return{start:u,dest:p}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function o(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function i(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var o,i,n,r,s,a,l,c,u,p,h,d,f,g,m,y,v,C,w,b,x,S,E,_,A,R,T=Math.abs(t[1]),O=Math.abs(t[2]),P=t[3]%360,D=t[4],I=t[5],M=t[6],N=t[7],k=new SVG.Point(e),L=new SVG.Point(M,N),F=[];if(0===T||0===O||k.x===L.x&&k.y===L.y)return[["C",k.x,k.y,L.x,L.y,L.x,L.y]];for((i=(o=new SVG.Point((k.x-L.x)/2,(k.y-L.y)/2).transform((new SVG.Matrix).rotate(P))).x*o.x/(T*T)+o.y*o.y/(O*O))>1&&(T*=i=Math.sqrt(i),O*=i),n=(new SVG.Matrix).rotate(P).scale(1/T,1/O).rotate(-P),k=k.transform(n),a=(r=[(L=L.transform(n)).x-k.x,L.y-k.y])[0]*r[0]+r[1]*r[1],s=Math.sqrt(a),r[0]/=s,r[1]/=s,l=a<4?Math.sqrt(1-a/4):0,D===I&&(l*=-1),c=new SVG.Point((L.x+k.x)/2+l*-r[1],(L.y+k.y)/2+l*r[0]),u=new SVG.Point(k.x-c.x,k.y-c.y),p=new SVG.Point(L.x-c.x,L.y-c.y),h=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(h*=-1),d=Math.acos(p.x/Math.sqrt(p.x*p.x+p.y*p.y)),p.y<0&&(d*=-1),I&&h>d&&(d+=2*Math.PI),!I&&h<d&&(d-=2*Math.PI),y=[],v=h,f=(d-h)/(g=Math.ceil(2*Math.abs(h-d)/Math.PI)),m=4*Math.tan(f/4)/3,x=0;x<=g;x++)w=Math.cos(v),C=Math.sin(v),b=new SVG.Point(c.x+w,c.y+C),y[x]=[new SVG.Point(b.x+m*C,b.y-m*w),b,new SVG.Point(b.x-m*C,b.y+m*w)],v+=f;for(y[0][0]=y[0][1].clone(),y[y.length-1][2]=y[y.length-1][1].clone(),n=(new SVG.Matrix).rotate(P).scale(T,O).rotate(-P),x=0,S=y.length;x<S;x++)y[x][0]=y[x][0].transform(n),y[x][1]=y[x][1].transform(n),y[x][2]=y[x][2].transform(n);for(x=1,S=y.length;x<S;x++)E=(b=y[x-1][2]).x,_=b.y,A=(b=y[x][0]).x,R=b.y,M=(b=y[x][1]).x,F.push(["C",E,_,A,R,M,N=b.y]);return F}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function n(e,t){if(!1===t)return!1;for(var o=t,i=e.length;o<i;++o)if("M"==e[o][0])return o;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var o=this.value,i=this.parse(t),r=0,s=0,a=!1,l=!1;!1!==r||!1!==s;){var c;a=n(o,!1!==r&&r+1),l=n(i,!1!==s&&s+1),!1===r&&(r=0==(c=new SVG.PathArray(u.start).bbox()).height||0==c.width?o.push(o[0])-1:o.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===s&&(s=0==(c=new SVG.PathArray(u.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var u=e(o,r,a,i,s,l);o=o.slice(0,r).concat(u.start,!1===a?[]:o.slice(a)),i=i.slice(0,s).concat(u.dest,!1===l?[]:i.slice(l)),r=!1!==a&&r+u.start.length,s=!1!==l&&s+u.dest.length}return this.value=o,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),(function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var o=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(e){o.start(e)}),this.el.on("touchstart.drag",function(e){o.start(e)})},e.prototype.transformPoint=function(e,t){var o=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=o.clientX-(t||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,i=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(e,o),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(e){t.drag(e)}),SVG.on(window,"touchmove.drag",function(e){t.drag(e)}),SVG.on(window,"mouseup.drag",function(e){t.end(e)}),SVG.on(window,"touchend.drag",function(e){t.end(e)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),o=this.transformPoint(e),i=this.startPoints.box.x+o.x-this.startPoints.point.x,n=this.startPoints.box.y+o.y-this.startPoints.point.y,r=this.constraint,s=o.x-this.startPoints.point.x,a=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if("function"==typeof r){var l=r.call(this.el,i,n,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(n):!1!==l.y&&this.el.y(l.y)}else"object"==typeof r&&(null!=r.minX&&i<r.minX?s=(i=r.minX)-this.startPoints.box.x:null!=r.maxX&&i>r.maxX-t.width&&(s=(i=r.maxX-t.width)-this.startPoints.box.x),null!=r.minY&&n<r.minY?a=(n=r.minY)-this.startPoints.box.y:null!=r.maxY&&n>r.maxY-t.height&&(a=(n=r.maxY-t.height)-this.startPoints.box.y),null!=r.snapToGrid&&(i-=i%r.snapToGrid,n-=n%r.snapToGrid,s-=s%r.snapToGrid,a-=a%r.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:s,y:a},!0):this.el.move(i,n));return o},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,o){"function"!=typeof t&&"object"!=typeof t||(o=t,t=!0);var i=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?i.init(o||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,o){var i="string"!=typeof e?e:t[e];return o?i/2:i},this.pointCoords=function(e,t){var o=this.pointsList[e];return{x:this.pointCoord(o[0],t,"t"===e||"b"===e),y:this.pointCoord(o[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var o=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var n in this.el.selectize.defaults)this.options[n]=this.el.selectize.defaults[n],void 0!==t[n]&&(this.options[n]=t[n]);var r=["points","pointsExclude"];for(var n in r){var s=this.options[r[n]];"string"==typeof s?s=s.length>0?s.split(/\s*,\s*/i):[]:"boolean"==typeof s&&"points"===r[n]&&(s=s?i:[]),this.options[r[n]]=s}this.options.points=[i,this.options.points].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),o=0,i=t.length;o<i;++o){var n=function(t){return function(o){(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation(),e.el.fire("point",{x:o.pageX||o.touches[0].pageX,y:o.pageY||o.touches[0].pageY,i:t,event:o})}}(o),r=this.drawPoint(t[o][0],t[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(r)}},e.prototype.drawPoint=function(e,t){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof o)return o.call(this,e,t);throw new Error("Unknown "+o+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(o,i){var n=e.pointCoords(o,t);e.rectSelection.set.get(i+1).center(n.x,n.y)}),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,o=this.el.bbox();function i(e){return function(o){(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation(),t.el.fire(e,{x:o.pageX||o.touches[0].pageX,y:o.pageY||o.touches[0].pageY,event:o})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(e,n){var r=t.pointCoords(e,o),s=t.drawPoint(r.x,r.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",i(e)).on("touchstart",i(e));t.rectSelection.set.add(s)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var n=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),t.el.fire("rot",{x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY,event:e})},r=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",n).on("mousedown",n);this.rectSelection.set.add(r)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,o){return"object"==typeof t&&(o=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,o||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,o){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],void 0!==e[o]&&(this.options[o]=e[o]);this.el.on("lt.resize",function(e){t.resize(e||window.event)}),this.el.on("rt.resize",function(e){t.resize(e||window.event)}),this.el.on("rb.resize",function(e){t.resize(e||window.event)}),this.el.on("lb.resize",function(e){t.resize(e||window.event)}),this.el.on("t.resize",function(e){t.resize(e||window.event)}),this.el.on("r.resize",function(e){t.resize(e||window.event)}),this.el.on("b.resize",function(e){t.resize(e||window.event)}),this.el.on("l.resize",function(e){t.resize(e||window.event)}),this.el.on("rot.resize",function(e){t.resize(e||window.event)}),this.el.on("point.resize",function(e){t.resize(e||window.event)}),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var i=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[i[e.detail.i][0],i[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var o=this.snapToGrid(e,t);if(this.parameters.box.width-o[0]>0&&this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-o[0]);o=this.checkAspectRatio(o),this.el.move(this.parameters.box.x+o[0],this.parameters.box.y+o[1]).size(this.parameters.box.width-o[0],this.parameters.box.height-o[1])}};break;case"rt":this.calc=function(e,t){var o=this.snapToGrid(e,t,2);if(this.parameters.box.width+o[0]>0&&this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+o[0]);o=this.checkAspectRatio(o,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+o[1]).size(this.parameters.box.width+o[0],this.parameters.box.height-o[1])}};break;case"rb":this.calc=function(e,t){var o=this.snapToGrid(e,t,0);if(this.parameters.box.width+o[0]>0&&this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+o[0]);o=this.checkAspectRatio(o),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+o[0],this.parameters.box.height+o[1])}};break;case"lb":this.calc=function(e,t){var o=this.snapToGrid(e,t,1);if(this.parameters.box.width-o[0]>0&&this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+o[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-o[0]);o=this.checkAspectRatio(o,!0),this.el.move(this.parameters.box.x+o[0],this.parameters.box.y).size(this.parameters.box.width-o[0],this.parameters.box.height+o[1])}};break;case"t":this.calc=function(e,t){var o=this.snapToGrid(e,t,2);if(this.parameters.box.height-o[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+o[1]).height(this.parameters.box.height-o[1])}};break;case"r":this.calc=function(e,t){var o=this.snapToGrid(e,t,0);if(this.parameters.box.width+o[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+o[0])}};break;case"b":this.calc=function(e,t){var o=this.snapToGrid(e,t,0);if(this.parameters.box.height+o[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+o[1])}};break;case"l":this.calc=function(e,t){var o=this.snapToGrid(e,t,1);if(this.parameters.box.width-o[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+o[0],this.parameters.box.y).width(this.parameters.box.width-o[0])}};break;case"rot":this.calc=function(e,t){var o=e+this.parameters.p.x,i=t+this.parameters.p.y,n=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),r=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,o-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(r-n)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var o=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+o[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+o[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),o=this.transformPoint(t.x,t.y),i=o.x-this.parameters.p.x,n=o.y-this.parameters.p.y;this.lastUpdateCall=[i,n],this.calc(i,n),this.el.fire("resizing",{dx:i,dy:n,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,o,i){var n;return n=void 0!==i?[(o+e)%this.options.snapToGrid,(i+t)%this.options.snapToGrid]:[(this.parameters.box.x+e+(1&(o=null==o?3:o)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&o?0:this.parameters.box.height))%this.options.snapToGrid],e<0&&(n[0]-=this.options.snapToGrid),t<0&&(n[1]-=this.options.snapToGrid),e-=Math.abs(n[0])<this.options.snapToGrid/2?n[0]:n[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(n[1])<this.options.snapToGrid/2?n[1]:n[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,o,i)},e.prototype.constraintToBox=function(e,t,o,i){var n,r,s=this.options.constraint||{};return void 0!==i?(n=o,r=i):(n=this.parameters.box.x+(1&o?0:this.parameters.box.width),r=this.parameters.box.y+(2&o?0:this.parameters.box.height)),void 0!==s.minX&&n+e<s.minX&&(e=s.minX-n),void 0!==s.maxX&&n+e>s.maxX&&(e=s.maxX-n),void 0!==s.minY&&r+t<s.minY&&(t=s.minY-r),void 0!==s.maxY&&r+t>s.maxY&&(t=s.maxY-r),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var o=e.slice(),i=this.parameters.box.width/this.parameters.box.height,n=this.parameters.box.width+e[0],r=this.parameters.box.height-e[1],s=n/r;return s<i?(o[1]=n/i-this.parameters.box.height,t&&(o[1]=-o[1])):s>i&&(o[0]=this.parameters.box.width-r*i,t&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var He=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new oe(this.ctx),this.ctx.core=new Fe(this.ctx.el,this.ctx),this.ctx.config=new B({}),this.ctx.data=new U(this.ctx),this.ctx.grid=new K(this.ctx),this.ctx.graphics=new x(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new ie(this.ctx),this.ctx.events=new ee(this.ctx),this.ctx.exports=new q(this.ctx),this.ctx.localization=new te(this.ctx),this.ctx.options=new O,this.ctx.responsive=new ne(this.ctx),this.ctx.series=new L(this.ctx),this.ctx.theme=new re(this.ctx),this.ctx.formatters=new Y(this.ctx),this.ctx.titleSubtitle=new se(this.ctx),this.ctx.legend=new de(this.ctx),this.ctx.toolbar=new fe(this.ctx),this.ctx.dimensions=new pe(this.ctx),this.ctx.updateHelpers=new Ge(this.ctx),this.ctx.zoomPanSelection=new ge(this.ctx),this.ctx.w.globals.tooltip=new xe(this.ctx)}}]),e}(),Ve=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(e,t){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,o=this.w.globals.dom.Paper.node;o.parentNode&&o.parentNode.parentNode&&!e.isUpdating&&(o.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach(function(e){i.removeEventListener(e,t.ctx.events.documentEvent)});var n=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(n.Paper),n.Paper.remove(),n.elWrap=null,n.elGraphical=null,n.elAnnotations=null,n.elLegendWrap=null,n.baseEl=null,n.elGridRect=null,n.elGridRectMask=null,n.elGridRectMarkerMask=null,n.elForecastMask=null,n.elNonForecastMask=null,n.elDefs=null}}]),e}(),We=new WeakMap,Be=function(){function e(t,o){a(this,e),this.opts=o,this.ctx=this,this.w=new z(o).init(),this.el=t,this.w.globals.cuid=C.randomId(),this.w.globals.chartID=this.w.config.chart.id?C.escapeString(this.w.config.chart.id):this.w.globals.cuid,new He(this).initModules(),this.create=C.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(e,[{key:"render",value:function(){var e=this;return new Promise(function(t,o){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;if("function"==typeof i&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var o=!1,i=e.getBoundingClientRect();"none"!==e.style.display&&0!==i.width||(o=!0);var n=new ResizeObserver(function(i){o&&t.call(e,i),o=!0});e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach(function(e){return n.observe(e)}):n.observe(e),We.set(t,n)}(e.el.parentNode,e.parentResizeHandler),!e.css){var n=e.el.getRootNode&&e.el.getRootNode(),r=C.is("ShadowRoot",n),s=e.el.ownerDocument,a=s.getElementById("apexcharts-css");!r&&a||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',r?n.prepend(e.css):s.head.appendChild(e.css))}var l=e.create(e.w.config.series,{});if(!l)return t(e);e.mount(l).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(l)}).catch(function(e){o(e)})}else o(new Error("Element not found"))})}},{key:"create",value:function(e,t){var o=this.w;new He(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,this.responsive.checkResponsiveConfig(t),o.config.xaxis.convertedCatToNumeric&&new W(o.config).convertCatToNumericXaxis(o.config,this.ctx),null===this.el)return i.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===o.config.chart.type&&(o.config.grid.show=!1,o.config.yaxis[0].show=!1),0===i.svgWidth)return i.animationEnded=!0,null;var n=S.checkComboSeries(e);i.comboCharts=n.comboCharts,i.comboBarCount=n.comboBarCount;var r=e.every(function(e){return e.data&&0===e.data.length});(0===e.length||r)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new I(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!o.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),"category"!==o.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=o.globals.minX,this.ctx.toolbar.maxX=o.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var s=this.core.xySettings();this.grid.createGridMask();var a=this.core.plotChartType(e,s),l=new N(this);return l.bringForward(),o.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:a,xyRatios:s,elInner:o.globals.dom.elGraphical,dimensions:{plot:{left:o.globals.translateX,top:o.globals.translateY,width:o.globals.gridWidth,height:o.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this,i=o.w;return new Promise(function(n,r){if(null===o.el)return r(new Error("Not enough data to display or target element not found"));(null===t||i.globals.allSeriesCollapsed)&&o.series.handleNoData(),"treemap"!==i.config.chart.type&&o.axes.drawAxis(i.config.chart.type,t.xyRatios),o.grid=new K(o);var s=o.grid.drawGrid();o.annotations=new P(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),"back"===i.config.grid.position&&s&&i.globals.dom.elGraphical.add(s.el);var a=new Z(e.ctx),l=new $(e.ctx);if(null!==s&&(a.xAxisLabelCorrections(s.xAxisTickWidth),l.setYAxisTextAlignments(),i.config.yaxis.map(function(e,t){-1===i.globals.ignoreYAxisIndexes.indexOf(t)&&l.yAxisTitleRotate(t,e.opposite)})),"back"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var c=0;c<t.elGraph.length;c++)i.globals.dom.elGraphical.add(t.elGraph[c]);else i.globals.dom.elGraphical.add(t.elGraph);if("front"===i.config.grid.position&&s&&i.globals.dom.elGraphical.add(s.el),"front"===i.config.xaxis.crosshairs.position&&o.crosshairs.drawXCrosshairs(),"front"===i.config.yaxis[0].crosshairs.position&&o.crosshairs.drawYCrosshairs(),"front"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&o.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:t.xyRatios});else{var u=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(e){u[e]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(e){e.method(e.params,!1,e.context)}),i.globals.axisCharts||i.globals.noData||o.core.resizeNonAxisCharts(),n(o)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),(t=We.get(e=this.parentResizeHandler))&&(t.disconnect(),We.delete(e));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach(function(e,t){e.id===C.escapeString(o)&&Apex._chartInstances.splice(t,1)}),new Ve(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w;return s.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(e,o){return t.updateHelpers._extendSeries(e,o)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),s.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,o,i,n,r)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,o)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,o)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var i=o.w.config.series.slice(),n=0;n<i.length;n++)if(null!=e[n])for(var r=0;r<e[n].data.length;r++)i[n].data.push(e[n].data[r]);return o.w.config.series=i,t&&(o.w.globals.initialSeries=C.clone(o.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(o,i){new Ve(t.ctx).clear({isUpdating:!0});var n=t.create(t.w.config.series,e);if(!n)return o(t);t.mount(n).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,o(t)}).catch(function(e){i(e)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(e){t.push(e)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;o&&(i=o),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;o&&(i=o),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;o&&(i=o),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=this;t&&(o=t),o.annotations.removeAnnotation(o,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new J(this.ctx);return t.getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new J(this.ctx);return t.getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new q(this.ctx).dataURI(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=C.escapeString(e),o=Apex._chartInstances.filter(function(e){return e.id===t})[0];return o&&o.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),o=0;o<t.length;o++)new e(t[o],JSON.parse(t[o].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var o=this.getChartByID(e);if(o){o.w.globals.isExecCalled=!0;var i=null;if(-1!==o.publicMethods.indexOf(t)){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];i=o[t].apply(o,r)}return i}}},{key:"merge",value:function(e,t){return C.extend(e,t)}}]),e}();e.exports=Be},2318:e=>{var t=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t},6215:(e,t,o)=>{"use strict";o.d(t,{X:()=>r});var i=o(7709),n=o(7971);class r extends i.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.N;return this._value}next(e){super.next(this._value=e)}}},7574:(e,t,o)=>{"use strict";o.d(t,{y:()=>c});var i=o(7393),n=o(9181),r=o(6490),s=o(6554),a=o(4487),l=o(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const o=new e;return o.source=this,o.operator=t,o}subscribe(e,t,o){const{operator:s}=this,a=function(e,t,o){if(e){if(e instanceof i.L)return e;if(e[n.b])return e[n.b]()}return e||t||o?new i.L(e,t,o):new i.L(r.c)}(e,t,o);if(a.add(s?s.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:o,isStopped:n}=e;if(t||n)return!1;e=o&&o instanceof i.L?o:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,o)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(n){o(n),i&&i.unsubscribe()}},o,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let o;this.subscribe(e=>o=e,e=>t(e),()=>e(o))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,o)=>{"use strict";o.d(t,{c:()=>r});var i=o(2494),n=o(4449);const r={closed:!0,next(e){},error(e){if(i.v.useDeprecatedSynchronousErrorHandling)throw e;(0,n.z)(e)},complete(){}}},5197:(e,t,o)=>{"use strict";o.d(t,{L:()=>n});var i=o(7393);class n extends i.L{notifyNext(e,t,o,i,n){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},7709:(e,t,o)=>{"use strict";o.d(t,{xQ:()=>u,Yc:()=>c});var i=o(7574),n=o(7393),r=o(5319),s=o(7971);class a extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const o=t.indexOf(this.subscriber);-1!==o&&t.splice(o,1)}}var l=o(9181);class c extends n.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new p(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:t}=this,o=t.length,i=t.slice();for(let n=0;n<o;n++)i[n].next(e)}}error(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,o=t.length,i=t.slice();for(let n=0;n<o;n++)i[n].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:e}=this,t=e.length,o=e.slice();for(let i=0;i<t;i++)o[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),r.w.EMPTY):this.isStopped?(e.complete(),r.w.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new i.y;return e.source=this,e}}return e.create=(e,t)=>new p(e,t),e})();class p extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):r.w.EMPTY}}},7393:(e,t,o)=>{"use strict";o.d(t,{L:()=>c});var i=o(9105),n=o(6490),r=o(5319),s=o(9181),a=o(2494),l=o(4449);class c extends r.w{constructor(e,t,o){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.c;break;case 1:if(!e){this.destination=n.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,o)}}[s.b](){return this}static create(e,t,o){const i=new c(e,t,o);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,o,r){let s;super(),this._parentSubscriber=e;let a=this;(0,i.m)(t)?s=t:t&&(s=t.next,o=t.error,r=t.complete,t!==n.c&&(a=Object.create(t),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=o,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:o}=a.v;if(this._error)o&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)o?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),o)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(o){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw o;(0,l.z)(o)}}__tryOrSetError(e,t,o){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,o)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,o)=>{"use strict";o.d(t,{w:()=>a});var i=o(9796),n=o(1555),r=o(9105);const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:o,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let i=0;i<t.length;++i)t[i].remove(this);if((0,r.m)(l)){o&&(this._unsubscribe=void 0);try{l.call(this)}catch(p){e=p instanceof s?c(p.errors):[p]}}if((0,i.k)(u)){let t=-1,o=u.length;for(;++t<o;){const o=u[t];if((0,n.K)(o))try{o.unsubscribe()}catch(p){e=e||[],p instanceof s?e=e.concat(c(p.errors)):e.push(p)}}}if(e)throw new s(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:o}=t;if(null===o)t._parentOrParents=this;else if(o instanceof a){if(o===this)return t;t._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return t;o.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(e,t,o)=>{"use strict";o.d(t,{v:()=>n});let i=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},5345:(e,t,o)=>{"use strict";o.d(t,{IY:()=>s,Ds:()=>a,ft:()=>l});var i=o(7393),n=o(7574),r=o(7444);class s extends i.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof n.y)return e.subscribe(t);let o;try{o=(0,r.s)(e)(t)}catch(i){t.error(i)}return o}},2441:(e,t,o)=>{"use strict";o.d(t,{c:()=>a,N:()=>l});var i=o(7709),n=o(7574),r=o(5319),s=o(1307);class a extends n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new r.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=r.w.EMPTY)),e}refCount(){return(0,s.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends i.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9112:(e,t,o)=>{"use strict";o.d(t,{aj:()=>c});var i=o(4869),n=o(9796),r=o(5197),s=o(509),a=o(6693);const l={};function c(...e){let t,o;return(0,i.K)(e[e.length-1])&&(o=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,n.k)(e[0])&&(e=e[0]),(0,a.n)(e,o).lift(new u(t))}class u{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new p(e,this.resultSelector))}}class p extends r.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(l),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let o=0;o<t;o++)this.add((0,s.D)(this,e[o],void 0,o))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,o){const i=this.values,n=this.toRespond?i[o]===l?--this.toRespond:this.toRespond:0;i[o]=t,0===n&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}},8071:(e,t,o)=>{"use strict";o.d(t,{z:()=>r});var i=o(5917),n=o(3282);function r(...e){return(0,n.J)(1)((0,i.of)(...e))}},9193:(e,t,o)=>{"use strict";o.d(t,{E:()=>n,c:()=>r});var i=o(7574);const n=new i.y(e=>e.complete());function r(e){return e?function(e){return new i.y(t=>e.schedule(()=>t.complete()))}(e):n}},4402:(e,t,o)=>{"use strict";o.d(t,{D:()=>p});var i=o(7574),n=o(7444),r=o(5319),s=o(6554),a=o(4087),l=o(377),c=o(4072),u=o(9489);function p(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.L]}(e))return function(e,t){return new i.y(o=>{const i=new r.w;return i.add(t.schedule(()=>{const n=e[s.L]();i.add(n.subscribe({next(e){i.add(t.schedule(()=>o.next(e)))},error(e){i.add(t.schedule(()=>o.error(e)))},complete(){i.add(t.schedule(()=>o.complete()))}}))})),i})}(e,t);if((0,c.t)(e))return function(e,t){return new i.y(o=>{const i=new r.w;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{o.next(e),i.add(t.schedule(()=>o.complete()))}))},e=>{i.add(t.schedule(()=>o.error(e)))}))),i})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.y(o=>{const i=new r.w;let n;return i.add(()=>{n&&"function"==typeof n.return&&n.return()}),i.add(t.schedule(()=>{n=e[l.hZ](),i.add(t.schedule(function(){if(o.closed)return;let e,t;try{const o=n.next();e=o.value,t=o.done}catch(i){return void o.error(i)}t?o.complete():(o.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.y?e:new i.y((0,n.s)(e))}},6693:(e,t,o)=>{"use strict";o.d(t,{n:()=>s});var i=o(7574),n=o(5015),r=o(4087);function s(e,t){return t?(0,r.r)(e,t):new i.y((0,n.V)(e))}},6682:(e,t,o)=>{"use strict";o.d(t,{T:()=>a});var i=o(7574),n=o(4869),r=o(3282),s=o(6693);function a(...e){let t=Number.POSITIVE_INFINITY,o=null,a=e[e.length-1];return(0,n.K)(a)?(o=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===o&&1===e.length&&e[0]instanceof i.y?e[0]:(0,r.J)(t)((0,s.n)(e,o))}},5917:(e,t,o)=>{"use strict";o.d(t,{of:()=>s});var i=o(4869),n=o(6693),r=o(4087);function s(...e){let t=e[e.length-1];return(0,i.K)(t)?(e.pop(),(0,r.r)(e,t)):(0,n.n)(e)}},205:(e,t,o)=>{"use strict";o.d(t,{_:()=>n});var i=o(7574);function n(e,t){return new i.y(t?o=>t.schedule(r,0,{error:e,subscriber:o}):t=>t.error(e))}function r({error:e,subscriber:t}){t.error(e)}},8634:(e,t,o)=>{"use strict";o.d(t,{H:()=>l});var i=o(7574),n=o(3637),r=o(9796);function s(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}var a=o(4869);function l(e=0,t,o){let r=-1;return s(t)?r=Number(t)<1?1:Number(t):(0,a.K)(t)&&(o=t),(0,a.K)(o)||(o=n.P),new i.y(t=>{const i=s(e)?e:+e-o.now();return o.schedule(c,i,{index:0,period:r,subscriber:t})})}function c(e){const{index:t,period:o,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===o)return i.complete();e.index=t+1,this.schedule(e,o)}}},5304:(e,t,o)=>{"use strict";o.d(t,{K:()=>n});var i=o(5345);function n(e){return function(t){const o=new r(e),i=t.lift(o);return o.caught=i}}class r{constructor(e){this.selector=e}call(e,t){return t.subscribe(new s(e,this.selector,this.caught))}}class s extends i.Ds{constructor(e,t,o){super(e),this.selector=t,this.caught=o}error(e){if(!this.isStopped){let o;try{o=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new i.IY(this);this.add(n);const r=(0,i.ft)(o,n);r!==n&&this.add(r)}}}},4612:(e,t,o)=>{"use strict";o.d(t,{b:()=>n});var i=o(9773);function n(e,t){return(0,i.zg)(e,t,1)}},9497:(e,t,o)=>{"use strict";o.d(t,{g:()=>c});var i=o(3637),n=o(7393),r=o(9193),s=o(5917),a=o(205);class l{constructor(e,t,o){this.kind=e,this.value=t,this.error=o,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,o){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return o&&o()}}accept(e,t,o){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,o)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,a._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new l("N",e):l.undefinedValueNotification}static createError(e){return new l("E",void 0,e)}static createComplete(){return l.completeNotification}}function c(e,t=i.P){var o;const n=(o=e)instanceof Date&&!isNaN(+o)?+e-t.now():Math.abs(e);return e=>e.lift(new u(n,t))}l.completeNotification=new l("C"),l.undefinedValueNotification=new l("N",void 0);class u{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new p(e,this.delay,this.scheduler))}}class p extends n.L{constructor(e,t,o){super(e),this.delay=t,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,o=t.queue,i=e.scheduler,n=e.destination;for(;o.length>0&&o[0].time-i.now()<=0;)o.shift().notification.observe(n);if(o.length>0){const t=Math.max(0,o[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(p.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,o=new h(t.now()+this.delay,e);this.queue.push(o),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(l.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(l.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.time=e,this.notification=t}}},5435:(e,t,o)=>{"use strict";o.d(t,{h:()=>n});var i=o(7393);function n(e,t){return function(o){return o.lift(new r(e,t))}}class r{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}class s extends i.L{constructor(e,t,o){super(e),this.predicate=t,this.thisArg=o,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}t&&this.destination.next(e)}}},8939:(e,t,o)=>{"use strict";o.d(t,{x:()=>r});var i=o(7393),n=o(5319);function r(e){return t=>t.lift(new s(e))}class s{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends i.L{constructor(e,t){super(e),this.add(new n.w(t))}}},8002:(e,t,o)=>{"use strict";o.d(t,{U:()=>n});var i=o(7393);function n(e,t){return function(o){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new r(e,t))}}class r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends i.L{constructor(e,t,o){super(e),this.project=t,this.count=0,this.thisArg=o||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}},3282:(e,t,o)=>{"use strict";o.d(t,{J:()=>r});var i=o(9773),n=o(4487);function r(e=Number.POSITIVE_INFINITY){return(0,i.zg)(n.y,e)}},9773:(e,t,o)=>{"use strict";o.d(t,{zg:()=>s});var i=o(8002),n=o(4402),r=o(5345);function s(e,t,o=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(s((o,r)=>(0,n.D)(e(o,r)).pipe((0,i.U)((e,i)=>t(o,e,r,i))),o)):("number"==typeof t&&(o=t),t=>t.lift(new a(e,o)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends r.Ds{constructor(e,t,o=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new r.IY(this),o=this.destination;o.add(t);const i=(0,r.ft)(e,t);i!==t&&o.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(e,t,o)=>{"use strict";o.d(t,{x:()=>n});var i=o(7393);function n(){return function(e){return e.lift(new r(e))}}class r{constructor(e){this.connectable=e}call(e,t){const{connectable:o}=this;o._refCount++;const i=new s(e,o),n=t.subscribe(i);return i.closed||(i.connection=o.connect()),n}}class s extends i.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:o}=this,i=e._connection;this.connection=null,!i||o&&i!==o||i.unsubscribe()}}},8819:(e,t,o)=>{"use strict";o.d(t,{B:()=>a});var i=o(2441),n=o(1307),r=o(7709);function s(){return new r.xQ}function a(){return e=>{return(0,n.x)()((t=s,function(e){let o;o="function"==typeof t?t:function(){return t};const n=Object.create(e,i.N);return n.source=e,n.subjectFactory=o,n})(e));var t}}},9761:(e,t,o)=>{"use strict";o.d(t,{O:()=>r});var i=o(8071),n=o(4869);function r(...e){const t=e[e.length-1];return(0,n.K)(t)?(e.pop(),o=>(0,i.z)(e,o,t)):t=>(0,i.z)(e,t)}},3190:(e,t,o)=>{"use strict";o.d(t,{w:()=>s});var i=o(8002),n=o(4402),r=o(5345);function s(e,t){return"function"==typeof t?o=>o.pipe(s((o,r)=>(0,n.D)(e(o,r)).pipe((0,i.U)((e,i)=>t(o,e,r,i))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends r.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const o=new r.IY(this),i=this.destination;i.add(o),this.innerSubscription=(0,r.ft)(e,o),this.innerSubscription!==o&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},5257:(e,t,o)=>{"use strict";o.d(t,{q:()=>s});var i=o(7393),n=o(7108),r=o(9193);function s(e){return t=>0===e?(0,r.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new n.W}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends i.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))}}},6782:(e,t,o)=>{"use strict";o.d(t,{R:()=>n});var i=o(5345);function n(e){return t=>t.lift(new r(e))}class r{constructor(e){this.notifier=e}call(e,t){const o=new s(e),n=(0,i.ft)(this.notifier,new i.IY(o));return n&&!o.seenValue?(o.add(n),t.subscribe(o)):o}}class s extends i.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},8307:(e,t,o)=>{"use strict";o.d(t,{b:()=>s});var i=o(7393),n=o(8640),r=o(9105);function s(e,t,o){return function(i){return i.lift(new a(e,t,o))}}class a{constructor(e,t,o){this.nextOrObserver=e,this.error=t,this.complete=o}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends i.L{constructor(e,t,o,i){super(e),this._tapNext=n.Z,this._tapError=n.Z,this._tapComplete=n.Z,this._tapError=o||n.Z,this._tapComplete=i||n.Z,(0,r.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||n.Z,this._tapError=t.error||n.Z,this._tapComplete=t.complete||n.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,o)=>{"use strict";o.d(t,{r:()=>r});var i=o(7574),n=o(5319);function r(e,t){return new i.y(o=>{const i=new n.w;let r=0;return i.add(t.schedule(function(){r!==e.length?(o.next(e[r++]),o.closed||i.add(this.schedule())):o.complete()})),i})}},6465:(e,t,o)=>{"use strict";o.d(t,{o:()=>r});var i=o(5319);class n extends i.w{constructor(e,t){super()}schedule(e,t=0){return this}}class r extends n{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,o=0){return setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!==o&&this.delay===o&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(n){i=!0,o=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),o}_unsubscribe(){const e=this.id,t=this.scheduler,o=t.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&o.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,o)=>{"use strict";o.d(t,{v:()=>n});let i=(()=>{class e{constructor(t,o=e.now){this.SchedulerAction=t,this.now=o}schedule(e,t=0,o){return new this.SchedulerAction(this,e).schedule(o,t)}}return e.now=()=>Date.now(),e})();class n extends i{constructor(e,t=i.now){super(e,()=>n.delegate&&n.delegate!==this?n.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,o){return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,o):super.schedule(e,t,o)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let o;this.active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}},3637:(e,t,o)=>{"use strict";o.d(t,{P:()=>n});var i=o(6465);const n=new(o(6102).v)(i.o)},377:(e,t,o)=>{"use strict";o.d(t,{hZ:()=>i});const i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,o)=>{"use strict";o.d(t,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,o)=>{"use strict";o.d(t,{b:()=>i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(e,t,o)=>{"use strict";o.d(t,{W:()=>i});const i=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},7971:(e,t,o)=>{"use strict";o.d(t,{N:()=>i});const i=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,o)=>{"use strict";function i(e){setTimeout(()=>{throw e},0)}o.d(t,{z:()=>i})},4487:(e,t,o)=>{"use strict";function i(e){return e}o.d(t,{y:()=>i})},9796:(e,t,o)=>{"use strict";o.d(t,{k:()=>i});const i=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,o)=>{"use strict";o.d(t,{z:()=>i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,o)=>{"use strict";function i(e){return"function"==typeof e}o.d(t,{m:()=>i})},1555:(e,t,o)=>{"use strict";function i(e){return null!==e&&"object"==typeof e}o.d(t,{K:()=>i})},4072:(e,t,o)=>{"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}o.d(t,{t:()=>i})},4869:(e,t,o)=>{"use strict";function i(e){return e&&"function"==typeof e.schedule}o.d(t,{K:()=>i})},8640:(e,t,o)=>{"use strict";function i(){}o.d(t,{Z:()=>i})},7444:(e,t,o)=>{"use strict";o.d(t,{s:()=>u});var i=o(5015),n=o(4449),r=o(377),s=o(6554),a=o(9489),l=o(4072),c=o(1555);const u=e=>{if(e&&"function"==typeof e[s.L])return u=e,e=>{const t=u[s.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,i.V)(e);if((0,l.t)(e))return o=e,e=>(o.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,n.z),e);if(e&&"function"==typeof e[r.hZ])return t=e,e=>{const o=t[r.hZ]();for(;;){let t;try{t=o.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof o.return&&e.add(()=>{o.return&&o.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,o,u}},5015:(e,t,o)=>{"use strict";o.d(t,{V:()=>i});const i=e=>t=>{for(let o=0,i=e.length;o<i&&!t.closed;o++)t.next(e[o]);t.complete()}},509:(e,t,o)=>{"use strict";o.d(t,{D:()=>a});var i=o(7393);class n extends i.L{constructor(e,t,o){super(),this.parent=e,this.outerValue=t,this.outerIndex=o,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var r=o(7444),s=o(7574);function a(e,t,o,i,a=new n(e,o,i)){if(!a.closed)return t instanceof s.y?t.subscribe(a):(0,r.s)(t)(a)}},8444:(e,t,o)=>{"use strict";o.d(t,{j:()=>r});var i=o(7716),n=o(9699);let r=(()=>{class e{constructor(e){this._toastr=e}handleErrors(e){401==e.status?this.showInfoToast("Your session has been expired, logging in again!"):this.showErrorToast(400==e.status||404==e.status?e.error.error.message:"Something went wrong!","Error")}showSuccessToast(e,t,o){this._toastr.success(e,t,o)}showErrorToast(e,t,o){this._toastr.error(e,t,o)}showWarningToast(e,t,o){this._toastr.warning(e,t,o)}showInfoToast(e,t,o){this._toastr.info(e,t,o)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(n._W))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1656:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DashboardModule:()=>cr});var i=o(8583),n=o(9763),r=o(7716),s=o(8444),a=o(1841);let l=(()=>{class e{constructor(e,t){this._toastCustomService=e,this._http=t}ngOnInit(){}showSuccess(){this._toastCustomService.showSuccessToast("This is a success toast with close button and disabled timeout!","Success",{closeButton:!0,disableTimeOut:!0})}showError(){this._toastCustomService.showErrorToast("<i>This is an error toast with html template and timeout of 10 seconds!</i>","Error",{timeOut:1e4,enableHtml:!0})}showWarning(){this._toastCustomService.showWarningToast("This is a simple warning toast with content only!")}showInfo(){this._toastCustomService.showInfoToast("This is a simple info toast without title!")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.j),r.Y36(a.eN))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-batch-status"]],decls:9,vars:0,consts:[[1,"my-1"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-warning","me-2",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"button",1),r.NdJ("click",function(){return t.showSuccess()}),r._uU(2,"Success Toast"),r.qZA(),r.TgZ(3,"button",2),r.NdJ("click",function(){return t.showError()}),r._uU(4,"Errir Toast"),r.qZA(),r.TgZ(5,"button",3),r.NdJ("click",function(){return t.showWarning()}),r._uU(6,"Warning Toast"),r.qZA(),r.TgZ(7,"button",4),r.NdJ("click",function(){return t.showInfo()}),r._uU(8,"Info Toast"),r.qZA(),r.qZA())},styles:[""]}),e})();var c,u=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getData=function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)},e}(),p=function(){function e(e){this.groupColumns=[];var t=e.valueService,o=e.gridOptionsWrapper,i=e.processCellCallback,n=e.processHeaderCallback,r=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnModel=e.columnModel,this.valueService=t,this.gridOptionsWrapper=o,this.processCellCallback=i,this.processHeaderCallback=n,this.processGroupHeaderCallback=r,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.groupColumns=e.filter(function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,o,i,n){var r,s=this.gridOptionsWrapper.isGroupMultiAutoColumn()?n.rowGroupIndex:0;r=n&&n.group&&(t===s&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(e,n);var a=this.processCell(o,n,e,r,this.processCellCallback,i);return null!=a?a:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,o,i,n,r){return n?n({accumulatedRowIndex:e,column:o,node:t,value:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:r}):null!=i?i:""},e}(),h=o(5501),d=function(){function e(){}return e.download=function(e,t){var o=document.defaultView||window;if(o){var i=document.createElement("a"),n=o.URL.createObjectURL(t);i.setAttribute("href",n),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(i),o.setTimeout(function(){o.URL.revokeObjectURL(n)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),f=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e){function t(t){var o=e.call(this,t)||this;o.isFirstLine=!0,o.result="";var i=t.columnSeparator;return o.suppressQuotes=t.suppressQuotes,o.columnSeparator=i,o}return f(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,o){0!==o&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,h.gTE.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(p),m=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),y=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},t,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),o=this.getData(t),i=new Blob(["\ufeff",o],{type:"text/plain"});return d.download(this.getFileName(t.fileName),i),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var t=this.getMergedParams(e);return this.getData(t)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this;return new g({columnModel:t.columnModel,valueService:t.valueService,gridOptionsWrapper:t.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},y([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),y([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),y([(0,h.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),y([(0,h.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),y([h.NqP],t.prototype,"postConstruct",null),y([(0,h.Vu6)("csvCreator")],t)}(u),C=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),w=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},b=(()=>(function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(b||(b={})),b))(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var o=this.getColumnsToExport(t.allColumns,t.columnKeys);return h._.compose(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t))(e).parse()},t.prototype.processRow=function(e,t,o,i){var n=this,r=t.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsWrapper,a=s.getContext(),l=s.getApi(),c=s.getColumnApi(),u=s.isGroupRemoveSingleChildren(),p=s.isGroupRemoveLowestSingleChildren(),d=t.rowNodes||t.onlySelected,f=s.isGroupHideOpenParents()&&!d,g=this.columnModel.isPivotMode()?i.leafGroup:!i.group,m=1===i.allChildrenCount&&(u||p&&i.leafGroup);(t.skipGroups||t.skipRowGroups)&&t.skipGroups&&h._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var y={rowIndex:i.rowIndex,rowPinned:i.rowPinned};if(!(!g&&(t.skipRowGroups||m||f)||t.onlySelected&&!i.isSelected()||t.rowNodes&&!t.rowNodes.some(function(e){return n.rowPositionUtils.sameRow(e,y)})||t.skipPinnedTop&&"top"===i.rowPinned||t.skipPinnedBottom&&"bottom"===i.rowPinned)&&(-1!==i.level||i.leafGroup)&&!r({node:i,api:l,columnApi:c,context:a})){var v=e.onNewBodyRow();if(o.forEach(function(e,t){v.onColumn(e,t,i)}),t.getCustomContentBelowRow){var C=t.getCustomContentBelowRow({node:i,api:l,columnApi:c,context:a});C&&e.addCustomContent(C)}}},t.prototype.appendContent=function(e){return function(t){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&h._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),t.addCustomContent(o)),t}},t.prototype.prependContent=function(e){return function(t){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&h._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),t.addCustomContent(o)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var o=this;return function(i){if(e.skipColumnGroupHeaders)e.columnGroups&&h._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var n=new h.fkf,r=o.displayedGroupCreator.createDisplayedGroups(t,o.columnModel.getGridBalancedTree(),n,null);o.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}},t.prototype.exportHeaders=function(e,t){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&h._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var i=o.onNewHeaderRow();t.forEach(function(e,t){i.onColumn(e,t,void 0)})}return o}},t.prototype.processPinnedTopRows=function(e,t){var o=this;return function(i){var n=o.processRow.bind(o,i,e,t);return o.pinnedRowModel.forEachPinnedTopRow(n),i}},t.prototype.processRows=function(e,t){var o=this;return function(i){var n=o.rowModel,r=n.getType(),s=r===h.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,a=r===h.gTE.ROW_MODEL_TYPE_SERVER_SIDE,l=!s&&e.onlySelected,c=o.processRow.bind(o,i,e,t);return o.columnModel.isPivotMode()?s?n.forEachPivotNode(c):n.forEachNode(c):e.onlySelectedAllPages||l?o.selectionService.getSelectedNodes().forEach(c):s||a?n.forEachNodeAfterFilterAndSort(c):n.forEachNode(c),i}},t.prototype.processPinnedBottomRows=function(e,t){var o=this;return function(i){var n=o.processRow.bind(o,i,e,t);return o.pinnedRowModel.forEachPinnedBottomRow(n),i}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!o?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([h.gTE.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,o){var i=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return i.push(e)})}),e.length>0&&e[0]instanceof h.Exx&&this.doAddHeaderHeader(t,e,o),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,o)},t.prototype.doAddHeaderHeader=function(e,t,o){var i=this,n=e.onNewHeaderGroupingRow(),r=0;t.forEach(function(e){var t,s=e;t=o?o({columnGroup:s,api:i.gridOptionsWrapper.getApi(),columnApi:i.gridOptionsWrapper.getColumnApi(),context:i.gridOptionsWrapper.getContext()}):i.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce(function(e,t,o,i){var n=h._.last(e);return"open"===t.getColumnGroupShow()?n&&null==n[1]||e.push(n=[o]):n&&null==n[1]&&(n[1]=o-1),o===i.length-1&&n&&null==n[1]&&(n[1]=o),e},[]);n.onColumn(t||"",r++,s.getLeafColumns().length-1,a)})},w([(0,h.fsG)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),w([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),w([(0,h.fsG)("rowModel")],t.prototype,"rowModel",void 0),w([(0,h.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),w([(0,h.fsG)("selectionService")],t.prototype,"selectionService",void 0),w([(0,h.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),w([(0,h.Vu6)("gridSerializer")],t)}(h.AS9),S={moduleName:h.GXE.CsvExportModule,beans:[v,x]},E="\r\n",_=function(){function e(){}return e.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},e.createXml=function(e,t){var o=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(n){i+=o.returnAttributeIfPopulated(e.prefix+n,e.map[n],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(n){i+=o.returnAttributeIfPopulated(n,e.properties.rawMap[n],t)}));var n="<"+e.name+i;return e.children||null!=e.textNode?null!=e.textNode?n+">"+e.textNode+"</"+e.name+">"+E:(n+=">\r\n",e.children&&e.children.forEach(function(e){n+=o.createXml(e,t)}),n+"</"+e.name+">"+E):n+"/>"+E},e.returnAttributeIfPopulated=function(e,t,o){if(!t&&""!==t&&0!==t)return"";var i=t;return"boolean"==typeof t&&o&&(i=o(t))," "+e+'="'+i+'"'},e}(),A=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),R=function(){function e(){}return e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,o){void 0===o&&(o=!1),this.files.push({path:e,created:new Date,content:t,isBase64:o})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){var t,o;void 0===e&&(e="");var i=this.folders.concat(this.files),n=i.length,r="",s=0,a=0;try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=l.next();!c.done;c=l.next()){var u=this.getHeader(c.value,s),p=u.fileHeader,h=u.folderHeader,d=u.content;s+=p.length+d.length,a+=h.length,e+=p+d,r+=h}}catch(f){t={error:f}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}return e+r+this.buildFolderEnd(n,a,s)},e.getHeader=function(e,t){var o=e.content,i=e.path,n=e.created,r=e.isBase64,s=h._.decToHex,a=(0,h._.utf8_encode)(i),l=a!==i,c=this.convertTime(n),u=this.convertDate(n),p="";if(l){var d=s(1,1)+s(this.getFromCrc32Table(a),4)+a;p="up"+s(d.length,2)+d}var f=o?this.getConvertedContent(o,r):{size:0,content:""},g=f.size,m=f.content,y="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+s(c,2)+s(u,2)+s(g?this.getFromCrc32Table(m):0,4)+s(g,4)+s(g,4)+s(a.length,2)+s(p.length,2);return{fileHeader:"PK\x03\x04"+y+a+p,folderHeader:"PK\x01\x02\x14\0"+y+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+a+p,content:m||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),{size:(e=t?atob(e):e).length,content:e}},e.buildFolderEnd=function(e,t,o){var i=h._.decToHex;return"PK\x05\x06\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(o,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),o=0;o<t.length;o++)t[o]=e.charCodeAt(o);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,o=new Uint8Array(t),i=0;i<t;i++)o[i]=e.charCodeAt(i);var n=-1;for(i=0;i<t;i++)n=n>>>8^A[255&(n^o[i])];return-1^n},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},e.folders=[],e.files=[],e}(),T=o(4412);const O={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},P={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}})}}},D={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},I={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},M={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},N={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}};var k=function(){function e(){}return e.createExcel=function(e,t){var o=this.excelXmlHeader(),i=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},e,t);return""+o+_.createXml(i,function(e){return e?"1":"0"})},e.workbook=function(e,t,o,i){var n,r,s,a,l,c,u=[e,t,this.stylesXmlElement(o)].concat((s=(n=i).name,a=(r=n.table).rows,l=r.columns.map(function(e){return function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}}(e)}),c=a.map(function(e){return function(e){return{name:"Row",children:e.cells.map(function(e){return r=(t=e).styleId,s=t.data,a={},(n=t.mergeAcross)&&(a.MergeAcross=n),r&&(a.StyleID=r),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:a}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null===(o=s)||void 0===o?void 0:o.type}}]},textNode:null===(i=s)||void 0===i?void 0:i.value}]};var t,o,i,n,r,s,a})}}(e)}),{name:"Worksheet",children:[{name:"Table",children:l.concat(c)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:s}}]}}));return Object.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:u})},e.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},e.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map(function(e){return t.styleXmlElement(e)}):[]}},e.styleXmlElement=function(e){var t=h._.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return Object.assign({},function(e){var t=e.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:e.name||t}}]}}}(e),{children:t})},e.addProperty=function(e,t){return function(o){return t[e]?o.concat({alignment:O,borders:P,font:D,interior:I,numberFormat:N,protection:M}[e].getTemplate(t)):o}},e.factoryMode=h.nPL.SINGLE_SHEET,e}(),L={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},F=function(e){return Math.ceil(9525*e)},G=function(e,t){var o;if(t)return o="number"==typeof t?t:t({rowIndex:e}),Math.round(72*o/96)},H=function(e){return""+_.createHeader({encoding:"UTF-8",standalone:"yes"})+_.createXml(e)},V=function(e){var t=String.fromCharCode,o=Math.floor(e/26),i=e%26;return o&&26!==e?i?o<26?t(65+o-1)+t(65+i-1):V(o)+t(65+i-1):V(o-1)+"Z":t(65+e-1)},W=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),B=function(){return(B=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},j=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},z=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(j(arguments[t]));return e},U=function(e){function t(t){var o=e.call(this,t)||this;return o.mixedStyles={},o.mixedStyleCounter=0,o.rows=[],o.config=Object.assign({},t),o.stylesByIds={},o.config.baseExcelStyles.forEach(function(e){o.stylesByIds[e.id]=e}),o.excelStyles=z(o.config.baseExcelStyles),o}return W(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach(function(e){var o=t.rows.length+1;t.rows.push({height:G(o,t.config.rowHeight),cells:(e.cells||[]).map(function(e,i){var n,r=t.addImage(o,t.columnsToExport[i],null===(n=e.data)||void 0===n?void 0:n.value),s=B({},e);return r&&(s.data={},null!=r.value?s.data.value=r.value:(s.data.type="e",s.data.value=null)),s}),outlineLevel:e.outlineLevel||void 0})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:G(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(o,i,n,r){var s=e.config.styleLinker(b.HEADER_GROUPING,1,"grouping-"+o,void 0,void 0);t.push(B(B({},e.createMergedCell(e.getStyleId(s),e.getDataTypeForValue("string"),o,n)),{collapsibleRanges:r}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(t){var o=this;e.prototype.prepare.call(this,t),this.columnsToExport=z(t),this.cols=t.map(function(e,t){return o.convertColumnToExcel(e,t)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(e,t){return Math.max(e,t.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,t){var o=this.config.columnWidth;return o?"number"==typeof o?{width:o}:{width:o({column:e,index:t})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,t){var o=this;return function(i,n){var r=o.extractHeaderValue(i),s=o.config.styleLinker(b.HEADER,e,r,i,void 0);t.push(o.createCell(o.getStyleId(s),o.getDataTypeForValue("string"),r))}},t.prototype.onNewRow=function(e,t){var o=[];return this.rows.push({cells:o,height:G(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewBodyColumn=function(e,t){var o=this,i=0;return function(n,r,s){if(i>0)i-=1;else{!o.config.gridOptionsWrapper.isGroupHideOpenParents()&&s.level&&(h._.last(o.rows).outlineLevel=s.level);var a=o.extractRowCellValue(n,r,e,h.gTE.EXPORT_TYPE_EXCEL,s),l=o.config.styleLinker(b.BODY,e,a,n,s),c=o.getStyleId(l),u=n.getColSpan(s),p=o.addImage(e,n,a);p?t.push(o.createCell(c,o.getDataTypeForValue(p.value),null==p.value?"":p.value)):u>1?(i=u-1,t.push(o.createMergedCell(c,o.getDataTypeForValue(a),a,u-1))):t.push(o.createCell(c,o.getDataTypeForValue(a),a))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,i={};e.forEach(function(e){t.excelStyles.forEach(function(t){t.id===e&&h._.mergeDeep(i,h._.deepCloneObject(t))})}),i.id=o,i.name=o;var n=e.join("-");this.mixedStyles[n]={excelID:o,key:n,result:i},this.excelStyles.push(i),this.stylesByIds[o]=i},t}(p),Y=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.createExcel=function(e){return k.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return h._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,t,o){if(this.isFormula(o))return"Formula";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,t,o){var i=this.getStyleById(e),n=this.getType(t,i,o)||t;return{styleId:i?e:void 0,data:{type:n,value:this.getValueTransformed(n,o)}}},t.prototype.getValueTransformed=function(e,t){var o,i=this;switch(e){case"String":return function(e){if(i.config.suppressTextAsCDATA)return h._.escapeString(e);var t=new RegExp("]]>","g");return"<![CDATA["+String(e).replace(t,"]]]]><![CDATA[>")+"]]>"}(t);case"Number":return Number(t).valueOf()+"";case"Boolean":return(o=t)&&"0"!==o&&"false"!==o?"1":"0";default:return t}},t.prototype.createMergedCell=function(e,t,o,i){return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:o},mergeAcross:i}},t}(U);var q=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Z=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q(arguments[t]));return e};const K=function(e){var t=new Array(e).fill(void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(t+1)+".xml"}}),o=Je.worksheetImages.size,i={};Je.workbookImageIds.forEach(function(e){i[e.type]=!0});var n=new Array(o).fill(void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(t+1)+".xml"}}),r=Object.keys(i).map(function(e){return{name:"Default",ContentType:"image/"+e,Extension:e}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:Z(r,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],n,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(e){return{name:(t=e).name,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:t.ContentType}}};var t})}};var Q=function(e,t){return{name:"xdr:"+e,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},J=function(e){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},$=function(e,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[J(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},ee=function(e){if(e.saturation||e.tint){var t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t}},te=function(e,t){var o,i,n;if(e.transparency){var r=Math.min(Math.max(e.transparency,0),100);o=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*r)}}}]}if(e.recolor)switch(o||(o=[]),e.recolor.toLocaleLowerCase()){case"grayscale":o.push({name:"a:grayscl"});break;case"sepia":o.push((n={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(i={color:"black"}).color}},children:ee(i)},{name:"a:srgbClr",properties:{rawMap:{val:n.color}},children:ee(n)}]}));break;case"washout":o.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:o},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},oe=function(e,t){var o={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return e.rotation&&(o.properties={rawMap:{rot:6e4*Math.min(Math.max(e.rotation,0),360)}}),{name:"xdr:spPr",children:[o,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},ie=function(e,t,o,i){return{name:"xdr:pic",children:[$(e,t+1),te(e,o+1),oe(e,i)]}};const ne=function(e){var t=e.sheetIndex,o=Je.worksheetImages.get(t),i=Je.worksheetImageIds.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:o.map(function(e,t){var o=function(e){e.fitCell=!!e.fitCell||!e.width||!e.height;var t=e.position,o=void 0===t?{}:t,i=e.fitCell,n=e.width,r=void 0===n?0:n,s=e.height,a=void 0===s?0:s,l=e.totalHeight,c=e.totalWidth,u=o.offsetX,p=void 0===u?0:u,h=o.offsetY,d=void 0===h?0:h,f=o.row,g=void 0===f?1:f,m=o.rowSpan,y=void 0===m?1:m,v=o.column,C=void 0===v?1:v,w=o.colSpan,b=void 0===w?1:w;return{from:{row:g-1,col:C-1,offsetX:F(p),offsetY:F(d)},to:{row:g-1+(i?1:y-1),col:C-1+(i?1:b-1),offsetX:F(r+p),offsetY:F(a+d)},height:F(l||a),width:F(c||r)}}(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Q("from",o.from),Q("to",o.to),ie(e,t,i.get(e.id).index,o),{name:"xdr:clientData"}]}})}};var re=function(e){var t=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(e,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}};var se=function(e){var t=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(e,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}};var ae=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},le=function(e,t,o){return{name:"a:"+e,properties:{rawMap:{val:t}},children:o}},ce=function(e){var t=ae(e,6),o=t[0],i=t[1],n=t[3],r=t[4],s=t[5],a=[];return a.push(le("satMod",t[2])),n&&a.push(le("lumMod",n)),r&&a.push(le("tint",r)),s&&a.push(le("shade",s)),{name:"a:gs",properties:{rawMap:{pos:o}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:a}]}},ue=function(e,t){return{name:"a:solidFill",children:[le("schemeClr",e,t)]}},pe=function(e){var t=ae(e,5),o=t[0],i=t[1],n=t[2],r=t[3],s=ae(t[4],2),a=s[0],l=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:o}},children:[{name:"a:gsLst",children:[ce(i),ce(n),ce(r)]},{name:"a:lin",properties:{rawMap:{ang:a,scaled:l}}}]}},he=function(e){var t=ae(e,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[ue("phClr"),le("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},de=function(e){var t=[];if(e){var o=ae(e,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:o[0],dist:o[1],dir:o[2],algn:o[3],rotWithShape:o[4]}},children:[le("srgbClr","000000",[le("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}};var fe={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},ge=["Dashed","DashDot","DashDotDot"],me={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},ye={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},ve={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Ce=function(e){return null==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"FF"+e:e)},we=function(e,t){if(!e)return"thin";var o=function(e){switch(e){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),i=fe[e];return"Continuous"===e?o:"medium"===o&&-1!==ge.indexOf(i)?"medium"+i:i.charAt(0).toLowerCase()+i.substr(1)},be=function(e){return ye[e]||"general"},xe=function(e){return ve[e]||void 0},Se=function(e){return{name:"color",properties:{rawMap:{rgb:Ce(e||"#000000")}}}};const Ee=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.left,o=e.right,i=e.top,n=e.bottom,r=e.diagonal,s=t?[Se(t.color)]:void 0,a=o?[Se(o.color)]:void 0,l=i?[Se(i.color)]:void 0,c=n?[Se(n.color)]:void 0,u=r?[Se(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:s},{name:"right",properties:{rawMap:{style:o&&o.style}},children:a},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:n&&n.style}},children:c},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:u}]}}(e)})}};var _e=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)};const Ae=function(e){var t=e.alignment,o=e.borderId,i=e.fillId,n=e.fontId,r=e.numFmtId,s=e.protection,a=e.xfId,l=[];return t&&l.push(function(e){var t=e.horizontal,o=e.indent,i=e.readingOrder,n=e.rotate,r=e.shrinkToFit,s=e.vertical,a=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&be(t),indent:o,readingOrder:i&&_e(i),textRotation:n,shrinkToFit:r,vertical:s&&xe(s),wrapText:a}}}}(t)),s&&l.push(function(e){return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:!1===e.protected?0:1}}}}(s)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:s?1:void 0,applyBorder:o?1:void 0,applyFill:i?1:void 0,borderId:o,fillId:i,applyFont:n?1:void 0,fontId:n,applyNumberFormat:r?1:void 0,numFmtId:r,xfId:a}},children:l.length?l:void 0}};var Re,Te,Oe,Pe,De,Ie,Me,Ne,ke,Le=function(){return(Le=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Fe=function(e,t){return-1!==e.indexOf("mixedStyle")&&t>1&&(e+="_"+t),e},Ge=function(){Re={base:0},Te=[],Oe=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Pe=[{patternType:"none"},{patternType:"gray125"}],De=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Ie=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Me=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Ne=[{builtinId:0,name:"Normal",xfId:0}]},He=function(e){var t,o,i,n,r,s,a=e.alignment,l=e.borders,c=e.font,u=e.interior,p=e.numberFormat,d=e.protection,f=e.id,g=0,m=0,y=0,v=0;f&&(f=Fe(f,ke),null==Re[f]&&(u&&(i=(o=(t=u).pattern)?me[o]||o:"none",n=Ce(t.color),r=Ce(t.patternColor),-1===(s=Pe.findIndex(function(e){return e.patternType==i&&e.fgRgb==n&&e.bgRgb==r}))&&(s=Pe.length,Pe.push({patternType:i,fgRgb:n,bgRgb:r})),g=s),l&&(m=function(e){var t,o,i,n,r,s,a,l,c=e.borderBottom,u=e.borderTop,p=e.borderLeft,h=e.borderRight;p&&(i=we(p.lineStyle,p.weight),a=Ce(p.color)),h&&(n=we(h.lineStyle,h.weight),l=Ce(h.color)),c&&(t=we(c.lineStyle,c.weight),r=Ce(c.color)),u&&(o=we(u.lineStyle,u.weight),s=Ce(u.color));var d=De.findIndex(function(e){var c=e.left,u=e.right,p=e.top,h=e.bottom;if(!c&&(i||a))return!1;if(!u&&(n||l))return!1;if(!p&&(o||s))return!1;if(!h&&(t||r))return!1;var d=c||{},f=u||{},g=p||{},m=h||{};return d.style==i&&d.color==a&&f.style==n&&f.color==l&&g.style==o&&g.color==s&&m.style==t&&m.color==r});return-1===d&&(d=De.length,De.push({left:{style:i,color:a},right:{style:n,color:l},top:{style:o,color:s},bottom:{style:t,color:r},diagonal:{style:void 0,color:void 0}})),d}(l)),c&&(y=function(e){var t=e.fontName,o=void 0===t?"Calibri":t,i=e.color,n=e.size,r=e.bold,s=e.italic,a=e.outline,l=e.shadow,c=e.strikeThrough,u=e.underline,p=e.family,d=e.verticalAlign,f=o?h._.utf8_encode(o):o,g=Ce(i),m=function(e){if(void 0!==e){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)}}(p),y=u?u.toLocaleLowerCase():void 0,v=d?d.toLocaleLowerCase():void 0,C=Oe.findIndex(function(e){return e.fontName==f&&e.color==g&&e.size==n&&e.bold==r&&e.italic==s&&e.outline==a&&e.shadow==l&&e.strikeThrough==c&&e.underline==y&&e.verticalAlign==v&&e.family==m});return-1===C&&(C=Oe.length,Oe.push({fontName:f,color:g,size:n,bold:r,italic:s,outline:a,shadow:l,strikeThrough:c,underline:y,verticalAlign:v,family:null!=m?m.toString():void 0})),C}(c)),p&&(v=function(e){if(e=h._.utf8_encode(e),L[e])return L[e];var t=Te.findIndex(function(t){return t.formatCode===e});return-1===t?Te.push({formatCode:e,numFmtId:t=Te.length+164}):t=Te[t].numFmtId,t}(p.format)),Re[f]=Me.length,Me.push({alignment:a,borderId:m||0,fillId:g||0,fontId:y||0,numFmtId:v||0,protection:d,xfId:0})))},Ve=function(e,t){return Re[Fe(e,t)]||0};const We=function(e){var t,o=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}}(e)})}}(Te),i=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.color,o=e.fontName,i=e.family,n=e.scheme,r=e.italic,s=e.bold,a=e.strikeThrough,l=e.outline,c=e.shadow,u=e.underline,p=e.verticalAlign,h=[{name:"sz",properties:{rawMap:{val:e.size}}},{name:"color",properties:{rawMap:{theme:e.colorTheme,rgb:void 0===t?"FF000000":t}}},{name:"name",properties:{rawMap:{val:void 0===o?"Calibri":o}}}];return i&&h.push({name:"family",properties:{rawMap:{val:i}}}),n&&h.push({name:"scheme",properties:{rawMap:{val:n}}}),r&&h.push({name:"i"}),s&&h.push({name:"b"}),a&&h.push({name:"strike"}),l&&h.push({name:"outline"}),c&&h.push({name:"shadow"}),u&&h.push({name:"u",properties:{rawMap:{val:u}}}),p&&h.push({name:"vertAlign",properties:{rawMap:{val:p}}}),{name:"font",children:h}}(e)})}}(Oe.map(function(t){return Le(Le({},t),{size:null!=t.size?t.size:e})})),n=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.fgTheme,o=e.fgTint,i=e.fgRgb,n=e.bgRgb,r=e.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:e.patternType}}};return(t||o||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:t,tint:o,rgb:i}}}]),(r||n)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:r,rgb:n}}})),{name:"fill",children:[s]}}(e)})}}(Pe),r=Ee(De),s={name:"cellStyleXfs",properties:{rawMap:{count:(t=Ie).length}},children:t.map(function(e){return Ae(e)})},a=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(function(e){return Ae(e)})}}(Me),l=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}}(e)})}}(Ne);return Ge(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[o,i,n,r,s,a,l,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},Be=function(e){return{name:"sheets",children:e.map(function(e,t){return function(e,t){var o=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:o,"r:id":"rId"+o}}}}(e,t)})}};var je=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},ze=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(je(arguments[t]));return e},Ue=function(e){var t;return""!==(null===(t=e.data)||void 0===t?void 0:t.value)||void 0!==e.styleId};const Ye=function(e,t,o){var i=e.index,n=e.collapsed,r=e.hidden,s=e.height,a=e.outlineLevel,l=e.cells,c=void 0===l?[]:l;return function(e,t){for(var o=[],i=0,n=0;n<e.length;n++)(s=e[n]).mergeAcross&&(o.push({pos:n,excelPos:i}),i+=s.mergeAcross),i++;if(o.length)for(n=o.length-1;n>=0;n--){for(var r=[],s=e[o[n].pos],a=1;a<=s.mergeAcross;a++)r.push({ref:""+V(o[n].excelPos+1+a)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});r.length&&e.splice.apply(e,ze([o[n].pos+1,0],r))}}(c,t),{name:"row",properties:{rawMap:{r:i,collapsed:n,hidden:r?"1":"0",ht:s,customHeight:null!=s?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:c.filter(Ue).map(function(e,t){return function(e,t,o){var i=e.ref,n=e.styleId,r=e.data||{type:"empty",value:null},s=r.type,a=r.value,l=s;"f"===s?l="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(l=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(s));var c,u={name:"c",properties:{rawMap:{r:i,t:"empty"===l?void 0:l,s:n?Ve(n,o):void 0}}};return"empty"===l?u:(c="str"===l&&"f"===s?[{name:"f",textNode:h._.escapeString(h._.utf8_encode(a))}]:"inlineStr"===l?[{name:"is",children:[{name:"t",textNode:h._.escapeString(h._.utf8_encode(a))}]}]:[{name:"v",textNode:a}],Object.assign({},u,{children:c}))}(e,0,o)})}};var Xe=function(e){if(null==e)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},qe=function(e){var t=[];return["all","first","even"].forEach(function(o){var i=e[o],n="all"===o?"odd":o;i&&(i.header||i.footer)&&h._.iterateObject(i,function(e,o){var i,r=""+e.charAt(0).toUpperCase()+e.slice(1);o&&t.push({name:""+n+r,properties:{rawMap:{"xml:space":"preserve"}},textNode:(i=o,i.reduce(function(e,t){var o,i,n,r;return""+(n=e+"&amp;"+("Center"===(o=t.position)?"C":"Right"===o?"R":"L"),(r=t.font)?(n+="&amp;&quot;",n+=r.fontName||"Calibri",n+=r.bold!==r.italic?r.bold?",Bold":",Italic":r.bold?",Bold Italic":",Regular",n+="&quot;",r.size&&(n+="&amp;"+r.size),r.strikeThrough&&(n+="&amp;S"),r.underline&&(n+="&amp;"+("Double"===r.underline?"E":"U")),r.color&&(n+="&amp;K"+r.color.replace("#","").toUpperCase()),n):n)+h._.escapeString((i=t.value,h._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,t){i=i.replace(e,t)}),i))},""))})})}),t};const Ze=function(e){var t,o=e.currentSheet,i=e.margins,n=void 0===i?{}:i,r=e.pageSetup,s=e.headerFooterConfig,a=e.worksheet.table,l=a.rows,c=a.columns,u=c&&c.length?function(e,t){var o=[],i=[];e.forEach(function(e,n){var r,s=e.cells,a=0;e.index=n+1,s.forEach(function(e,s){var l=s+a+1,c=V(l),u=n+1;if(e.mergeAcross){var p=V(s+(a+=e.mergeAcross)+1);o.push(""+c+u+":"+p+u)}t[l-1]||(t[l-1]={});var h=e.collapsibleRanges;h&&h.forEach(function(e){i.push([l+e[0],l+e[1]])}),(r=t[l-1]).min=l,r.max=l,e.ref=""+c+u})}),i.sort(function(e,t){return e[0]!==t[0]?e[0]-t[0]:t[1]-e[1]});var n=new Map,r=new Map;return i.filter(function(e){var t=e.toString();return!n.get(t)&&(n.set(t,!0),!0)}).forEach(function(e){var o=t.find(function(t){return t.min==e[0]&&t.max==e[1]}),i=r.get(e[0]);t.push({min:e[0],max:e[1],outlineLevel:i||1,width:(o||{width:100}).width}),r.set(e[0],(i||0)+1)}),o}(l,c):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:h._.compose(function(e){return e.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),e},function(e){return function(t){var o=e.reduce(function(e,t){return t.outlineLevel&&t.outlineLevel>e?t.outlineLevel:e},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:o||void 0}}}),t}}(l),function(e){return function(t){return e.length&&t.push({name:"cols",children:e.map(function(e){return o=(t=e).min,i=t.max,n=t.outlineLevel,r=t.s,a=t.hidden,l=t.bestFit,c=1,u="0",(s=t.width)>1&&(c=function(e){return Math.ceil((e-12)/7+1)}(s),u="1"),{name:"col",properties:{rawMap:{min:o,max:i,outlineLevel:null!=n?n:void 0,width:c,style:r,hidden:a?"1":"0",bestFit:l?"1":"0",customWidth:u}}};var t,o,i,n,r,s,a,l,c,u})}),t}}(c),function(e,t){return function(o){return e.length&&o.push({name:"sheetData",children:e.map(function(e,o){return Ye(e,o,t)})}),o}}(l,o+1),(t=u,function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map(function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}})}),e}),function(e){return function(t){var o=e.top,i=e.right,n=e.bottom,r=e.left,s=e.header,a=e.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===n?.75:n,footer:void 0===a?.3:a,header:void 0===s?.3:s,left:void 0===r?.7:r,right:void 0===i?.7:i,top:void 0===o?.75:o}}}),t}}(n),function(e){return function(t){var o;return e&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(o=e.orientation,!o||"Portrait"!==o&&"Landscape"!==o?"portrait":o.toLocaleLowerCase()),paperSize:Xe(e.pageSize)}}}),t}}(r),function(e){return function(t){return e?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=e.first?1:0,differentOddEven:null!=e.even?1:0}},children:qe(e)}),t):t}}(s),function(e){return function(t){return Je.worksheetImages.get(e)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(o))([])}},Ke=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(function(e){return{name:"Relationship",properties:{rawMap:{Id:(t=e).Id,Type:t.Type,Target:t.Target}}};var t})}};var Qe=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Je=function(){function e(){}return e.createExcel=function(e,t,o,i,n){return this.addSheetName(t),function(e,t){1===(ke=t)&&Ge(),e.forEach(He)}(e,this.sheetNames.length),this.createWorksheet(t,o,i,n)},e.buildImageMap=function(e,t,o,i,n){var r=this.sheetNames.length,s=this.images.get(e.id);e.position&&e.position.row&&e.position.column||(e.position||(e.position={}),e.position=Object.assign({},e.position,{row:t,column:i.indexOf(o)+1}));var a=e;if(function(e,t){var o=e.position,i=o.colSpan,n=o.column;if(e.width)if(i)for(var r=t.slice(n-1,n+i-1),s=0,a=0;a<r.length;a++){var l=r[a].getActualWidth();if(e.width<s+l){e.position.colSpan=a+1,e.totalWidth=e.width,e.width=e.totalWidth-s;break}s+=l}else e.totalWidth=e.width}(a,i),function(e,t){var o,i=e.position,n=i.rowSpan,r=i.row;if(e.height)if(n)for(var s=0,a=0,l=r;l<r+n;l++){var c=(o=G(l,t)||20,Math.round(96*o/72));if(e.height<s+c){e.position.rowSpan=a+1,e.totalHeight=e.height,e.height=e.totalHeight-s;break}s+=c,a++}else e.totalHeight=e.height}(a,n),s){var l=s.find(function(e){return e.sheetId===r});l?l.image.push(a):s.push({sheetId:r,image:[a]})}else this.images.set(a.id,[{sheetId:r,image:[a]}]),this.workbookImageIds.set(a.id,{type:a.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(r,a)},e.buildSheetImageMap=function(e,t){var o=this.worksheetImageIds.get(e);o||(o=new Map,this.worksheetImageIds.set(e,o));var i=this.worksheetImages.get(e);i?(i.push(t),o.get(t.id)||o.set(t.id,{index:o.size,type:t.imageType})):(this.worksheetImages.set(e,[t]),o.set(t.id,{index:0,type:t.imageType}))},e.addSheetName=function(e){for(var t=h._.escapeString(e.name)||"",o="";-1!==this.sheetNames.indexOf(""+t+o);)if(""===o)o="_1";else{var i=parseInt(o.slice(1),10);o="_"+(i+1)}e.name=""+t+o,this.sheetNames.push(e.name)},e.getStringPosition=function(e){return this.sharedStrings.has(e)?this.sharedStrings.get(e):(this.sharedStrings.set(e,this.sharedStrings.size),this.sharedStrings.size-1)},e.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=h.nPL.SINGLE_SHEET},e.createWorkbook=function(){return H({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[Be(this.sheetNames)]})},e.createStylesheet=function(e){return H(We(e))},e.createSharedStrings=function(){return H({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:(e=this.sharedStrings).size,uniqueCount:e.size}},children:(t=e,o=[],t.forEach(function(e,t){var i=t.toString(),n={name:"t",textNode:h._.utf8_encode(h._.escapeString(i))};i.trim().length!==i.length&&(n.properties={rawMap:{"xml:space":"preserve"}}),o.push({name:"si",children:[n]})}),o)});var e,t,o},e.createCore=function(e){return H(function(e){var t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}}(e))},e.createContentTypes=function(e){return H(K(e))},e.createRels=function(){var e=Ke([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return H(e)},e.createTheme=function(){return H({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[re(["dk1","sysClr","windowText","000000"]),re(["lt1","sysClr","window","FFFFFF"]),re(["dk2","srgbClr","44546A"]),re(["lt2","srgbClr","E7E6E6"]),re(["accent1","srgbClr","4472C4"]),re(["accent2","srgbClr","ED7D31"]),re(["accent3","srgbClr","A5A5A5"]),re(["accent4","srgbClr","FFC000"]),re(["accent5","srgbClr","5B9BD5"]),re(["accent6","srgbClr","70AD47"]),re(["hlink","srgbClr","0563C1"]),re(["folHlink","srgbClr","954F72"])]},(e=h._.utf8_encode,{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[se(["latin","Calibri Light",void 0,"020F0302020204030204"]),se(["ea",""]),se(["cs",""]),se(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),se(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),se(["font",e("\u7b49\u7ebf Light"),"Hans"]),se(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),se(["font","Times New Roman","Arab"]),se(["font","Times New Roman","Hebr"]),se(["font","Tahoma","Thai"]),se(["font","Nyala","Ethi"]),se(["font","Vrinda","Beng"]),se(["font","Shruti","Gujr"]),se(["font","MoolBoran","Khmr"]),se(["font","Tunga","Knda"]),se(["font","Raavi","Guru"]),se(["font","Euphemia","Cans"]),se(["font","Plantagenet Cherokee","Cher"]),se(["font","Microsoft Yi Baiti","Yiii"]),se(["font","Microsoft Himalaya","Tibt"]),se(["font","MV Boli","Thaa"]),se(["font","Mangal","Deva"]),se(["font","Gautami","Telu"]),se(["font","Latha","Taml"]),se(["font","Estrangelo Edessa","Syrc"]),se(["font","Kalinga","Orya"]),se(["font","Kartika","Mlym"]),se(["font","DokChampa","Laoo"]),se(["font","Iskoola Pota","Sinh"]),se(["font","Mongolian Baiti","Mong"]),se(["font","Times New Roman","Viet"]),se(["font","Microsoft Uighur","Uigh"]),se(["font","Sylfaen","Geor"]),se(["font","Arial","Armn"]),se(["font","Leelawadee UI","Bugi"]),se(["font","Microsoft JhengHei","Bopo"]),se(["font","Javanese Text","Java"]),se(["font","Segoe UI","Lisu"]),se(["font","Myanmar Text","Mymr"]),se(["font","Ebrima","Nkoo"]),se(["font","Nirmala UI","Olck"]),se(["font","Ebrima","Osma"]),se(["font","Phagspa","Phag"]),se(["font","Estrangelo Edessa","Syrn"]),se(["font","Estrangelo Edessa","Syrj"]),se(["font","Estrangelo Edessa","Syre"]),se(["font","Nirmala UI","Sora"]),se(["font","Microsoft Tai Le","Tale"]),se(["font","Microsoft New Tai Lue","Talu"]),se(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[se(["latin","Calibri",void 0,"020F0502020204030204"]),se(["ea",""]),se(["cs",""]),se(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),se(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),se(["font",e("\u7b49\u7ebf"),"Hans"]),se(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),se(["font","Arial","Arab"]),se(["font","Arial","Hebr"]),se(["font","Tahoma","Thai"]),se(["font","Nyala","Ethi"]),se(["font","Vrinda","Beng"]),se(["font","Shruti","Gujr"]),se(["font","DaunPenh","Khmr"]),se(["font","Tunga","Knda"]),se(["font","Raavi","Guru"]),se(["font","Euphemia","Cans"]),se(["font","Plantagenet Cherokee","Cher"]),se(["font","Microsoft Yi Baiti","Yiii"]),se(["font","Microsoft Himalaya","Tibt"]),se(["font","MV Boli","Thaa"]),se(["font","Mangal","Deva"]),se(["font","Gautami","Telu"]),se(["font","Latha","Taml"]),se(["font","Estrangelo Edessa","Syrc"]),se(["font","Kalinga","Orya"]),se(["font","Kartika","Mlym"]),se(["font","DokChampa","Laoo"]),se(["font","Iskoola Pota","Sinh"]),se(["font","Mongolian Baiti","Mong"]),se(["font","Arial","Viet"]),se(["font","Microsoft Uighur","Uigh"]),se(["font","Sylfaen","Geor"]),se(["font","Arial","Armn"]),se(["font","Leelawadee UI","Bugi"]),se(["font","Microsoft JhengHei","Bopo"]),se(["font","Javanese Text","Java"]),se(["font","Segoe UI","Lisu"]),se(["font","Myanmar Text","Mymr"]),se(["font","Ebrima","Nkoo"]),se(["font","Nirmala UI","Olck"]),se(["font","Ebrima","Osma"]),se(["font","Phagspa","Phag"]),se(["font","Estrangelo Edessa","Syrn"]),se(["font","Estrangelo Edessa","Syrj"]),se(["font","Estrangelo Edessa","Syre"]),se(["font","Nirmala UI","Sora"]),se(["font","Microsoft Tai Le","Tale"]),se(["font","Microsoft New Tai Lue","Talu"]),se(["font","Ebrima","Tfng"])]}]}),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[ue("phClr"),pe(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),pe(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[he(["6350","flat","sng","ctr"]),he(["12700","flat","sng","ctr"]),he(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[de(),de(),de(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[ue("phClr"),ue("phClr",[le("tint","95000"),le("satMod","170000")]),pe(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]});var e},e.createWorkbookRels=function(e){var t=new Array(e).fill(void 0).map(function(e,t){return{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(t+1)+".xml"}}),o=Ke(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qe(arguments[t]));return e}(t,[{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(e+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(e+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return H(o)},e.createDrawing=function(e){return H(ne({sheetIndex:e}))},e.createDrawingRel=function(e){var t=this,o=this.worksheetImageIds.get(e),i=[];return o.forEach(function(e,o){i.push({Id:"rId"+(e.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(t.workbookImageIds.get(o).index+1)+"."+e.type})}),H(Ke(i))},e.createWorksheetDrawingRel=function(e){var t=Ke([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(e+1)+".xml"}]);return H(t)},e.createWorksheet=function(e,t,o,i){return H(Ze({worksheet:e,currentSheet:this.sheetNames.length-1,margins:t,pageSetup:o,headerFooterConfig:i}))},e.sharedStrings=new Map,e.sheetNames=[],e.images=new Map,e.worksheetImages=new Map,e.workbookImageIds=new Map,e.worksheetImageIds=new Map,e.factoryMode=h.nPL.SINGLE_SHEET,e}(),$e=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $e(t,e),t.prototype.createExcel=function(e){var t=this.config;return Je.createExcel(this.excelStyles,e,t.margins,t.pageSetup,t.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":h._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,t,o){if(this.isFormula(o))return"f";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(e,t,o){if(this.config.addImageToCell){var i=this.config.addImageToCell(e,t,o);if(i)return Je.buildImageMap(i.image,e,t,this.columnsToExport,this.config.rowHeight),i}},t.prototype.createCell=function(e,t,o){var i=this.getStyleById(e),n=this.getType(t,i,o)||t;return{styleId:i?e:void 0,data:{type:n,value:this.getCellValue(n,o)}}},t.prototype.createMergedCell=function(e,t,o,i){var n=null==o?"":o;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?Je.getStringPosition(n).toString():o},mergeAcross:i}},t.prototype.getCellValue=function(e,t){if(null==t)return Je.getStringPosition("").toString();switch(e){case"s":return""===t?"":Je.getStringPosition(t).toString();case"f":return t.slice(1);case"n":return Number(t).toString();default:return t}},t}(U),tt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ot=function(){return(ot=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},it=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nt=function(e){var t=e.data,o=e.fontSize,i=void 0===o?11:o,n=e.author,r=void 0===n?"AG Grid":n,s=Je.images.size>0;if(R.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),s){R.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var a=0;Je.images.forEach(function(e){var t=e[0].image[0];R.addFile("xl/media/image"+ ++a+"."+t.imageType,t.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Je.resetFactory();var l=t.length,c=0;return t.forEach(function(e,t){R.addFile("xl/worksheets/sheet"+(t+1)+".xml",e),s&&Je.worksheetImages.get(t)&&rt(t,c++)}),R.addFile("xl/workbook.xml",Je.createWorkbook()),R.addFile("xl/styles.xml",Je.createStylesheet(i)),R.addFile("xl/sharedStrings.xml",Je.createSharedStrings()),R.addFile("xl/theme/theme1.xml",Je.createTheme()),R.addFile("xl/_rels/workbook.xml.rels",Je.createWorkbookRels(l)),R.addFile("docProps/core.xml",Je.createCore(r)),R.addFile("[Content_Types].xml",Je.createContentTypes(l)),R.addFile("_rels/.rels",Je.createRels()),Je.resetFactory(),R.getContent(e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},rt=function(e,t){var o="xl/drawings/drawing"+(t+1)+".xml",i="xl/worksheets/_rels/sheet"+(e+1)+".xml.rels";R.addFile("xl/drawings/_rels/drawing"+(t+1)+".xml.rels",Je.createDrawingRel(e)),R.addFile(o,Je.createDrawing(e)),R.addFile(i,Je.createWorksheetDrawingRel(t))},st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exportMode="xlsx",t}return tt(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},t,e)},t.prototype.getData=function(t){return this.setExportMode(t.exportMode||"xlsx"),e.prototype.getData.call(this,t)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),o=this.getData(t),i=this.packageFile({data:[o],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType});return i&&d.download(this.getFileName(t.fileName),i),o},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var t=this.getMergedParams(e),o=this.getData(t);return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType})},t.prototype.setFactoryMode=function(e,t){void 0===t&&(t="xlsx"),("xlsx"===t?Je:k).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Je:k).factoryMode},t.prototype.getSheetDataForExcel=function(e){var t=this.getMergedParams(e);return this.getData(t)},t.prototype.getMultipleSheetsAsExcel=function(e){return nt(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(e){var t=e.fileName,o=void 0===t?"export.xlsx":t,i=nt(e);i&&d.download(o,i)}(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this,o=t.columnModel,i=t.valueService,n=t.gridOptionsWrapper,r="xlsx"===this.getExportMode(),s="ag-grid";null!=e.sheetName&&(s=h._.utf8_encode(e.sheetName.toString().substr(0,31)));var a=ot(ot({},e),{sheetName:s,columnModel:o,valueService:i,gridOptionsWrapper:n,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(r?et:X)(a)},t.prototype.styleLinker=function(e,t,o,i,n){if(e===b.HEADER)return["header"];if(e===b.HEADER_GROUPING)return["header","headerGroup"];var r=this.gridOptions.excelStyles,s=["cell"];if(!r||!r.length)return s;var a=r.map(function(e){return e.id});return this.stylingService.processAllCellClasses(i.getColDef(),{value:o,data:n.data,node:n,colDef:i.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(e){a.indexOf(e)>-1&&s.push(e)}),s.sort(function(e,t){return a.indexOf(e)<a.indexOf(t)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):nt(e)},it([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),it([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),it([(0,h.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),it([(0,h.fsG)("stylingService")],t.prototype,"stylingService",void 0),it([(0,h.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),it([(0,h.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),it([h.NqP],t.prototype,"postConstruct",null),it([(0,h.Vu6)("excelCreator")],t)}(u),at={moduleName:h.GXE.ExcelExportModule,beans:[st,x,v],dependantModules:[S,T.f]},lt=o(1641),ct=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ut=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pt=(()=>(function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(pt||(pt={})),pt))(),ht=(function(e){function t(){return e.call(this,t.TEMPLATE)||this}ct(t,e),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(t){t.key===h.VDZ.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(t("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=h._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=h._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=h._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(pt.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,i=this.columnModel.isPrimaryColumnGroupsPresent(),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search...")),h._.setDisplayed(this.eFilterTextField.getGui(),e),h._.setDisplayed(this.eSelect.getGui(),t),h._.setDisplayed(this.eExpand,o&&i)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=h._.debounce(function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var o=this;e.key===h.VDZ.ENTER&&setTimeout(function(){return o.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===pt.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,h._.setDisplayed(this.eExpandChecked,this.expandState===pt.EXPANDED),h._.setDisplayed(this.eExpandUnchecked,this.expandState===pt.COLLAPSED),h._.setDisplayed(this.eExpandIndeterminate,this.expandState===pt.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',ut([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),ut([(0,h.cqo)("eExpand")],t.prototype,"eExpand",void 0),ut([(0,h.cqo)("eSelect")],t.prototype,"eSelect",void 0),ut([(0,h.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),ut([h.NqP],t.prototype,"postConstruct",null)}(h.wA2),function(){function e(e,t,o,i,n){void 0===i&&(i=!1),this.eventService=new h.POd,this.displayName=e,this.dept=o,this.group=i,i?(this.columnGroup=t,this.expanded=n,this.children=[]):this.column=t}return e.prototype.isGroup=function(){return this.group},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.getColumn=function(){return this.column},e.prototype.getDept=function(){return this.dept},e.prototype.isExpanded=function(){return!!this.expanded},e.prototype.getChildren=function(){return this.children},e.prototype.isPassesFilter=function(){return this.passesFilter},e.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED}))},e.prototype.setPassesFilter=function(e){this.passesFilter=e},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e}()),dt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ft=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},mt=function(e){function t(t,o,i){var n=e.call(this,'<div class="ag-menu"></div>')||this;return n.column=t,n.mouseEvent=o,n.parentEl=i,n.displayName=null,n}return dt(t,e),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof h.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof h.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(e){return e.isPrimary()&&e.isAllowRowGroup()}),this.allowValues=this.columns.some(function(e){return e.isPrimary()&&e.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(e){return e.isPrimary()&&e.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,t=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(e){return e.isPrimary()&&e.isAllowRowGroup()},activeFunction:function(e){return e.isRowGroupActive()},activateLabel:function(){return t("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return t("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var t=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(e){return e.isPrimary()&&e.isAllowValue()},activeFunction:function(e){return e.isValueActive()},activateLabel:function(){return t("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return t("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var t=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(t){return e.columnModel.isPivotMode()&&t.isPrimary()&&t.isAllowPivot()},activeFunction:function(e){return e.isPivotActive()},activateLabel:function(){return t("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return t("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var t=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gt(arguments[t]));return e}(e).concat(this.columns.filter(function(t){return-1===e.indexOf(t)}))},t.prototype.removeColumnsFromList=function(e){var t=this;return e.filter(function(e){return-1===t.columns.indexOf(e)})},t.prototype.displayContextMenu=function(){var e=this,t=this.getGui(),o=this.createBean(new h.O_3),i=this.getMappedMenuItems(),n=function(){};t.appendChild(o.getGui()),o.addMenuItems(i),o.addManagedListener(o,h.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),n()});var r=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(o.getGui())},ariaLabel:"Foo",closedCallback:function(t){t instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(o)}});r&&(n=r.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,t,o=[],i=function(e){var t=n.columns.some(function(t){return e.allowedFunction(t)&&!e.activeFunction(t)}),i=n.columns.some(function(t){return e.allowedFunction(t)&&e.activeFunction(t)});t&&o.push({name:e.activateLabel(n.displayName),icon:h._.createIconNoSpan(e.addIcon,n.gridOptionsWrapper,null),action:function(){return e.activateFunction()}}),i&&o.push({name:e.deactivateLabel(n.displayName),icon:h._.createIconNoSpan(e.removeIcon,n.gridOptionsWrapper,null),action:function(){return e.deActivateFunction()}})},n=this;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),s=r.next();!s.done;s=r.next())i(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return o},ft([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),ft([(0,h.fsG)("popupService")],t.prototype,"popupService",void 0),ft([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),ft([h.NqP],t.prototype,"postConstruct",null),t}(h.wA2),yt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ct=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.modelItem=t,r.allowDragging=o,r.eventType=i,r.focusWrapper=n,r.processingColumnStateChange=!1,r.modelItem=t,r.columnGroup=t.getColumnGroup(),r.columnDept=t.getDept(),r.allowDragging=o,r}return yt(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=h._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var o=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();o.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),h._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,h.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ht.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),h.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(t){return e.addOrRemoveCssClass(t,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef();if(t){var o=function(){e.setTooltip(t.headerTooltip)};o(),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,o)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumnGroup",t},t.prototype.handleKeyDown=function(e){switch(e.key){case h.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case h.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case h.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var t=this,o=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var i=this.createBean(new mt(o,e,this.focusWrapper));this.addDestroyFunc(function(){i.isAlive()&&t.destroyBean(i)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(t){e.addManagedListener(t,h.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,h.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,h.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,h.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),o={type:h.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:t?h.jUB.ICON_HIDE:h.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){t&&e.onChangeCommon(!0)},onGridExit:function(){t&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else h._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(t){e[t.getId()]=t.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(h._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(h._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new h.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,h.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],t=function(o){o.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?t(o.getChildren()):e.push(o.getColumn()))})};return t(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("ariaColumnGroup","Column Group"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");h._.setAriaLabel(this.focusWrapper,this.displayName+" "+t),this.cbSelect.setInputAriaLabel(i+" ("+o+")"),h._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,t=this.columnModel.isPivotMode(),o=this.getVisibleLeafColumns(),i=0,n=0;if(o.forEach(function(o){!t&&o.getColDef().lockVisible||(e.isColumnChecked(o,t)?i++:n++)}),!(i>0&&n>0))return i>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach(function(o){e?o.isAnyFunctionAllowed()&&t++:o.getColDef().lockVisible||t++}),0===t},t.prototype.isColumnChecked=function(e,t){if(t){var o=e.isPivotActive(),i=e.isRowGroupActive(),n=e.isValueActive();return o||i||n}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();h._.setDisplayed(this.eGroupClosedIcon,!e),h._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){h._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',vt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),vt([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vt([(0,h.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),vt([(0,h.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),vt([(0,h.cqo)("eLabel")],t.prototype,"eLabel",void 0),vt([(0,h.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),vt([(0,h.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),vt([(0,h.cqo)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),vt([h.NqP],t.prototype,"init",null),t}(h.wA2),wt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),bt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xt="ag-list-item-hovered",St=function(e){function t(t,o){var i=e.call(this)||this;return i.comp=t,i.virtualList=o,i.currentDragColumn=null,i.lastHoveredColumnItem=null,i}return wt(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(e){var t=e.getColDef();return!!t.suppressMovable||!!t.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(e){return e===h.rvo.ToolPanel},getIconName:function(){return h.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(t){return e.onDragging(t)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new h.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(t){return e.scrollTop=t}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var t=this.getDragColumnItem(e),o=this.virtualList.getComponentAt(t.rowIndex);if(o){var i=o.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===t.rowIndex&&this.lastHoveredColumnItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=t,h._.radioCssClass(i,""+xt),h._.radioCssClass(i,"ag-item-highlight-"+t.position))}}},t.prototype.getDragColumnItem=function(e){var t=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),r=Math.max(0,(e.y-o+n)/i),s=this.comp.getDisplayedColsList().length-1,a=0|Math.min(s,r);return{rowIndex:a,position:Math.round(r)>r||r>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),t=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(t,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var t=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(),i=o.length;return t.indexOf(o[0])<e?i:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof h.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var e,t=this.lastHoveredColumnItem.component,o="top"===this.lastHoveredColumnItem.position;t instanceof Ct?(e=t.getColumns()[0],o=!0):e=t.getColumn();var i=this.columnModel.getAllGridColumns().indexOf(e),n=o?i:i+1;return n-this.getMoveDiff(n)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+xt).forEach(function(e){[xt,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(t){e.classList.remove(t)})}),this.lastHoveredColumnItem=null},bt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),bt([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bt([h.NqP],t.prototype,"postConstruct",null),t}(h.AS9),Et=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_t=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},At=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.column=t,s.columnDept=o,s.allowDragging=i,s.groupsExist=n,s.focusWrapper=r,s.processingColumnStateChange=!1,s}return Et(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=h._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var o=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();o.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var n=h._.escapeString(this.displayName);this.eLabel.innerHTML=n;var r=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+r),this.setupDragging(),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,h.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,h.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,h.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,h.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,h.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),h.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(t){return e.addOrRemoveCssClass(t,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumn",t.colDef=this.column.getColDef(),t},t.prototype.onContextMenu=function(e){var t=this,o=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var i=this.createBean(new mt(o,e,this.focusWrapper));this.addDestroyFunc(function(){i.isAlive()&&t.destroyBean(i)})}},t.prototype.handleKeyDown=function(e){e.key===h.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("ariaColumn","Column"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");h._.setAriaLabel(this.focusWrapper,this.displayName+" "+t),this.cbSelect.setInputAriaLabel(i+" ("+o+")"),h._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),o={type:h.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:t?h.jUB.ICON_HIDE:h.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){t&&e.onChangeCommon(!0)},onGridExit:function(){t&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else h._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var t=this.column.isAnyFunctionActive();this.cbSelect.setValue(t)}else this.cbSelect.setValue(this.column.isVisible());var o=!0,i=!0;if(e){var n=this.gridOptionsWrapper.isFunctionsReadOnly(),r=!this.column.isAnyFunctionAllowed();i=o=!n&&!r}else{var s=this.column.getColDef();o=!s.lockVisible,i=!!s.enableRowGroup||!!s.enableValue||!(s.lockPosition||s.suppressMovable)}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!i),this.addOrRemoveCssClass("ag-column-select-column-readonly",!i&&!o);var a=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(a),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',_t([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),_t([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_t([(0,h.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),_t([(0,h.cqo)("eLabel")],t.prototype,"eLabel",void 0),_t([(0,h.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),_t([h.NqP],t.prototype,"init",null),t}(h.wA2),Rt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Tt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ot=function(){function e(e){this.items=e}return e.prototype.getRowCount=function(){return this.items.length},e.prototype.getRow=function(e){return this.items[e]},e}(),Pt=(function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.destroyColumnItemFuncs=[],o}Rt(t,e),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,t,o){var i=this;this.params=e,this.allowDragging=t,this.eventType=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[h.zW2.EVENT_COLUMN_PIVOT_CHANGED,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,h.zW2.EVENT_COLUMN_VALUE_CHANGED,h.zW2.EVENT_COLUMN_VISIBLE,h.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(e){i.addManagedListener(i.eventService,e,i.fireSelectionChangedEvent.bind(i))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var n=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new h.CPJ("column-select","tree",n)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(e,t){return h._.setAriaLevel(t,e.getDept()+1),i.createComponentFromItem(e,t)}),this.columnModel.isReady()&&this.onColumnsChanged(),e.suppressColumnMove||this.gridOptionsWrapper.isSuppressMovableColumns()||this.createManagedBean(new St(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,t){if(e.isGroup()){var o=new Ct(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(o),o}var i=new At(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,t);return this.getContext().createBean(i),i},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),t=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||t?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(t){if(t.isGroup()){var o=t.getColumnGroup();o&&(e[o.getId()]=t.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem(function(t){if(t.isGroup()){var o=t.getColumnGroup();if(o){var i=e[o.getId()];null!=i&&t.setExpanded(i)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(function(e){return e&&void 0!==e.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var t=this,o=this.onColumnExpanded.bind(this),i=function(e,t,o){e.forEach(function(e){e instanceof h.KTm?n(e,t,o):r(e,t,o)})},n=function(e,n,r){var s=e.getColGroupDef();if(!s||!s.suppressColumnsToolPanel)if(e.isPadding())i(e.getChildren(),n,r);else{var a=t.columnModel.getDisplayNameForProvidedColumnGroup(null,e,t.eventType),l=new ht(a,e,n,!0,t.expandGroupsByDefault);r.push(l),function(e){e.addEventListener(ht.EVENT_EXPANDED_CHANGED,o);var i=e.removeEventListener.bind(e,ht.EVENT_EXPANDED_CHANGED,o);t.destroyColumnItemFuncs.push(i)}(l),i(e.getChildren(),n+1,l.getChildren())}},r=function(e,o,i){if(!e.getColDef()||!e.getColDef().suppressColumnsToolPanel){var n=t.columnModel.getDisplayNameForColumn(e,"columnToolPanel");i.push(new ht(n,e,o))}};this.destroyColumnTree(),i(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var t=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(t))};this.allColsTree.forEach(t),this.virtualList.setModel(new Ot(this.displayedColsList));var o=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=o&&this.focusRowIfAlive(o),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout(function(){t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var t=function(o){o.forEach(function(o){e(o),o.isGroup()&&t(o.getChildren())})};t(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(t){t.isGroup()&&t.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,t){if(t){var o=[];this.forEachItem(function(i){if(i.isGroup()){var n=i.getColumnGroup().getId();t.indexOf(n)>=0&&(i.setExpanded(e),o.push(n))}});var i=t.filter(function(e){return!h._.includes(o,e)});i.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",i)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,t=0;return this.forEachItem(function(o){o.isGroup()&&(o.isExpanded()?e++:t++)}),e>0&&t>0?pt.INDETERMINATE:t>0?pt.COLLAPSED:pt.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,t=0,o=this.columnModel.isPivotMode();if(this.forEachItem(function(i){if(!i.isGroup()&&i.isPassesFilter()){var n,r=i.getColumn(),s=r.getColDef();if(o){if(!r.isAllowPivot()&&!r.isAllowRowGroup()&&!r.isAllowValue())return;n=r.isValueActive()||r.isPivotActive()||r.isRowGroupActive()}else{if(s.lockVisible)return;n=r.isVisible()}n?e++:t++}}),!(e>0&&t>0))return!(0===e||t>0)},t.prototype.setFilterText=function(e){this.filterText=h._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,t=function(t){if(!h._.exists(e.filterText))return!0;var o=t.getDisplayName();return null==o||-1!==o.toLowerCase().indexOf(e.filterText)},o=function(e,i){var n=!1;if(e.isGroup()){var r=t(e);e.getChildren().forEach(function(e){var t=o(e,r||i);t&&(n=t)})}var s=!(!i&&!n)||t(e);return e.setPassesFilter(s),s};this.allColsTree.forEach(function(e){return o(e,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',Tt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Tt([(0,h.fsG)("toolPanelColDefService")],t.prototype,"colDefService",void 0),Tt([(0,h.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Tt([h.FXL],t.prototype,"destroyColumnTree",null)}(h.wA2),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Dt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pt(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,h.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Dt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Dt([(0,h.cqo)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Dt([h.$j7],t.prototype,"init",null),t}(h.wA2),Mt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kt=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Mt(t,e),t.prototype.execute=function(e){var t=h._.missingOrEmpty(this.columnModel.getValueColumns()),o=!this.gridOptionsWrapper.getGroupRowAggFunc(),i=e.changedPath&&e.changedPath.isActive();if(!(t&&o&&i)){var n=this.createAggDetails(e);this.recursivelyCreateAggData(n)}},t.prototype.createAggDetails=function(e){var t=this.columnModel.isPivotActive(),o=this.columnModel.getValueColumns(),i=t?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:i}},t.prototype.recursivelyCreateAggData=function(e){var t=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(o){if(o.hasChildren()){if(-1===o.level){var i=!t.columnModel.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&i)return}t.aggregateRowNode(o,e)}else o.aggData&&o.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,t){var o,i=0===t.valueColumns.length,n=0===t.pivotColumns.length,r=this.gridOptionsWrapper.getGroupRowAggFunc();o=r?r({nodes:e.childrenAfterFilter}):i?null:n?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(o),e.sibling&&e.sibling.setAggData(o)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,o={},i=this.pivotStage.getPivotColumnDefs();return i.filter(function(e){return!h._.exists(e.pivotTotalColumnIds)}).forEach(function(i){var n,r=i.pivotValueColumn,s=i.colId;n=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,i.pivotKeys||[],r):t.getValuesPivotNonLeaf(e,s),o[s]=t.aggregateValues(n,r.getAggFunc(),r,e)}),i.filter(function(e){return h._.exists(e.pivotTotalColumnIds)}).forEach(function(i){var n=[],r=i.pivotValueColumn,s=i.pivotTotalColumnIds,a=i.colId;s&&s.length&&(s.forEach(function(e){n.push(o[e])}),o[a]=t.aggregateValues(n,r.getAggFunc(),r,e))}),o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var o=this,i={},n=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,r=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,s=this.getValuesNormal(e,n),a=e.aggData;return n.forEach(function(t,n){i[t.getId()]=o.aggregateValues(s[n],t.getAggFunc(),t,e)}),r&&a&&r.forEach(function(e){i[e.getId()]=a[e.getId()]}),i},t.prototype.getValuesPivotNonLeaf=function(e,t){var o=[];return e.childrenAfterFilter.forEach(function(e){o.push(e.aggData[t])}),o},t.prototype.getValuesFromMappedSet=function(e,t,o){var i=this,n=e;if(t.forEach(function(e){return n=n?n[e]:null}),!n)return[];var r=[];return n.forEach(function(e){var t=i.valueService.getValue(o,e);r.push(t)}),r},t.prototype.getValuesNormal=function(e,t){var o=[];t.forEach(function(){return o.push([])});for(var i=t.length,n=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,r=n.length,s=0;s<r;s++)for(var a=n[s],l=0;l<i;l++){var c=this.valueService.getValue(t[l],a);o[l].push(c)}return o},t.prototype.aggregateValues=function(e,t,o,i){var n="string"==typeof t?this.aggFuncService.getAggFunc(t):t;return"function"!=typeof n?(console.error("AG Grid: unrecognised aggregation function "+t),null):n({values:e,column:o,colDef:o?o.getColDef():void 0,rowNode:i,data:i?i.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()})},Nt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Nt([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),Nt([(0,h.fsG)("pivotStage")],t.prototype,"pivotStage",void 0),Nt([(0,h.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),Nt([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),Nt([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),t=Nt([(0,h.Vu6)("aggregationStage")],t)}(h.AS9),function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.getAllParents=function(){return this.allParents},e.prototype.flush=function(){var e=this;this.allParents.forEach(function(t){var o=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter(function(e){return!o.removeFromChildrenAfterGroup[e.id]}),t.allLeafChildren=t.allLeafChildren.filter(function(e){return!o.removeFromAllLeafChildren[e.id]}),t.updateHasChildren(),t.sibling&&(t.sibling.childrenAfterGroup=t.childrenAfterGroup,t.sibling.allLeafChildren=t.allLeafChildren)}),this.allSets={},this.allParents.length=0},e}()),Lt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ft=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},Ht=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new h.at1,t}Lt(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);t.transactions?this.handleTransaction(t):this.shotgunResetEverything(t,!0===e.afterColumnsChanged),this.positionLeafsAboveGroups(e.changedPath),this.orderGroups(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.positionLeafsAboveGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst(function(e){if(e.childrenAfterGroup){var t=[],o=[];e.childrenAfterGroup.forEach(function(e){var i;(null===(i=e.childrenAfterGroup)||void 0===i?void 0:i.length)?o.push(e):t.push(e)}),e.childrenAfterGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gt(arguments[t]));return e}(t,o)}},!1)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,o=e.changedPath,i=e.rowNodeTransactions,n=e.rowNodeOrder,r=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:r,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!r?0:r.length,rowNodeOrder:n,transactions:i,changedPath:o}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach(function(o){var i=t.usingTreeData?void 0:new kt;if(h._.existsAndNotEmpty(o.remove)&&t.removeNodes(o.remove,e,i),h._.existsAndNotEmpty(o.update)&&t.moveNodesInWrongPath(o.update,e,i),h._.existsAndNotEmpty(o.add)&&t.insertNodes(o.add,e,!1),i){var n=i.getAllParents().slice();i.flush(),t.removeEmptyGroups(n,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(t){h._.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.orderGroups=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getInitialGroupOrderComparator();h._.exists(t)&&function e(o){h._.exists(o.childrenAfterGroup)&&!o.leafGroup&&(o.childrenAfterGroup.sort(function(e,o){return t({nodeA:e,nodeB:o})}),o.childrenAfterGroup.forEach(function(t){return e(t)}))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var o=[],i=this.usingTreeData?e:e.parent;i&&i!==t.rootNode;)o.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,t,o){var i=this;e.forEach(function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var n=function(e){return e.key},r=i.getExistingPathForNode(e,t).map(n),s=i.getGroupInfo(e,t).map(n);h._.areEqual(r,s)||i.moveNode(e,t,o)})},t.prototype.moveNode=function(e,t,o){this.removeNodesInStages([e],t,o),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,t,o){this.removeNodesInStages(e,t,o),t.changedPath.isActive()&&e.forEach(function(e){return t.changedPath.addParentNode(e.parent)})},t.prototype.removeNodesInStages=function(e,t,o){if(this.removeNodesFromParents(e,t,o),this.usingTreeData){this.postRemoveCreateFillerNodes(e,t);var i=e.map(function(e){return e.parent});this.removeEmptyGroups(i,t)}},t.prototype.forEachParentGroup=function(e,t,o){for(var i=t;i&&i!==e.rootNode;)o(i),i=i.parent},t.prototype.removeNodesFromParents=function(e,t,o){var i=this,n=null==o,r=o||new kt;e.forEach(function(e){i.removeFromParent(e,r),i.forEachParentGroup(t,e.parent,function(t){r.removeFromAllLeafChildren(t,e)})}),n&&r.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var o=this;e.forEach(function(e){if(e.hasChildren()){var i=o.getExistingPathForNode(e,t),n=o.findParentForNode(e,i,t);n.expanded=e.expanded,n.allLeafChildren=e.allLeafChildren,n.childrenAfterGroup=e.childrenAfterGroup,n.childrenMapped=e.childrenMapped,n.updateHasChildren(),n.childrenAfterGroup.forEach(function(e){return e.parent=n})}})},t.prototype.removeEmptyGroups=function(e,t){for(var o=this,i=!0,n=function(){i=!1;var n=new kt;e.forEach(function(e){o.forEachParentGroup(t,e,function(e){(function(e){var t=o.getChildrenMappedKey(e.key,e.rowGroupColumn),i=e.parent;return!!(i&&i.childrenMapped&&i.childrenMapped[t]&&e.isEmptyRowGroupNode())})(e)&&(i=!0,o.removeFromParent(e,n),e.setSelected(!1))})}),n.flush()};i;)n()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(h._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,t){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(null!=t.childrenMapped&&(t.childrenMapped[o]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&h._.areEqual(e.groupedCols,t.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var t=this,o=function(e){e&&e.forEach(function(e){!t.usingTreeData&&!e.group||(t.setGroupData(e,{field:e.field,key:e.key,rowGroupColumn:e.rowGroupColumn}),o(e.childrenAfterGroup))})};o(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,t){if(!this.noChangeInGroupingColumns(e,t)){this.selectionService.removeGroupsFromSelection();var o=e.rootNode;o.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();var i=o.sibling;i&&(i.childrenAfterGroup=o.childrenAfterGroup,i.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,t){var o=!1,i=this.columnModel.getGroupDisplayColumns(),n=i?i.map(function(e){return e.getId()}).join("-"):"";return t&&(o=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==n&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=n,o},t.prototype.insertNodes=function(e,t,o){var i=this;e.forEach(function(e){i.insertOneNode(e,t,o),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)})},t.prototype.insertOneNode=function(e,t,o){var i=this.getGroupInfo(e,t),n=this.findParentForNode(e,i,t);n.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[n.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(n,e,o):(e.parent=n,e.level=i.length,n.childrenAfterGroup.push(e),n.updateHasChildren())},t.prototype.findParentForNode=function(e,t,o){var i=this,n=o.rootNode;return t.forEach(function(t,r){(n=i.getOrCreateNextNode(n,t,r,o)).allLeafChildren.push(e)}),n},t.prototype.swapGroupWithUserNode=function(e,t,o){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,o||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(function(e){return e.parent=t}),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,o,i){var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn),r=e.childrenMapped?e.childrenMapped[n]:void 0;return r||(r=this.createGroup(t,e,o,i),this.addToParent(r,e)),r},t.prototype.createGroup=function(e,t,o,i){var n=new h.Fxk(this.beans);return n.group=!0,n.field=e.field,n.rowGroupColumn=e.rowGroupColumn,this.setGroupData(n,e),n.id=h.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),n.key=e.key,n.level=o,n.leafGroup=!this.usingTreeData&&o===i.groupedColCount-1,n.allLeafChildren=[],n.setAllChildrenCount(0),n.rowGroupIndex=this.usingTreeData?null:o,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren(),n.parent=i.includeParents?t:null,this.setExpandedInitialValue(i,n),n},t.prototype.setGroupData=function(e,t){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(i){(o.usingTreeData||e.rowGroupColumn&&i.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[i.getColId()]=t.key)})},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,t){if(e.pivotMode&&t.leafGroup)t.expanded=!1;else{var o=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();t.expanded=o?1==o({rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn}):-1===e.expandByDefault||t.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;return null!=t&&0!==t.length||h._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),t?t.map(function(e){return{key:e,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var o=this,i=[];return t.groupedCols.forEach(function(n){var r=o.valueService.getKeyForNode(n,e),s=null!=r;if(t.pivotMode&&!s&&(r=" ",s=!0),s){var a={key:r,field:n.getColDef().field,rowGroupColumn:n};i.push(a)}}),i},Ft([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ft([(0,h.fsG)("selectableService")],t.prototype,"selectableService",void 0),Ft([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),Ft([(0,h.fsG)("beans")],t.prototype,"beans",void 0),Ft([(0,h.fsG)("selectionService")],t.prototype,"selectionService",void 0),Ft([h.NqP],t.prototype,"postConstruct",null),t=Ft([(0,h.Vu6)("groupStage")],t)}(h.AS9),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Vt=function(){return(Vt=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Wt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},jt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bt(arguments[t]));return e},zt=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;Ht(t,e),o=t,t.prototype.createPivotColumnDefs=function(e){var t=this.columnModel.getPivotColumns(),o=this.columnModel.getValueColumns(),i=this.recursiveBuildGroup(0,e,[],t.length,t),n=function e(t,o){return void 0===o&&(o=[]),t.forEach(function(t){void 0!==t.children?e(t.children,o):o.push(t)}),o}(i);return this.addRowGroupTotals(i,n,o),this.addExpandablePivotGroups(i,n),this.addPivotTotalsToGroups(i,n),{pivotColumnGroupDefs:i,pivotColumnDefs:n.map(function(e){return h._.cloneObject(e)})}},t.prototype.recursiveBuildGroup=function(e,t,o,i,n){var r=this,s=this.columnModel.getValueColumns();if(e>=i)return this.buildMeasureCols(o);var a=n[e].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(1===s.length&&this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&e===i-1){var c=[];return h._.iterateObject(t,function(e){var t=jt(o,[e]);c.push(Vt(Vt({},r.createColDef(s[0],e,t)),{columnGroupShow:"open"}))}),c.sort(l),c}var u=[];return h._.iterateObject(t,function(t,s){var a=jt(o,[t]);u.push({children:r.recursiveBuildGroup(e+1,s,a,i,n),headerName:t,pivotKeys:a,columnGroupShow:"open",groupId:r.generateColumnGroupId(a)})}),u.sort(l),u},t.prototype.buildMeasureCols=function(e){var t=this,o=this.columnModel.getValueColumns();return 0===o.length?[this.createColDef(null,"-",e)]:o.map(function(o){var i=t.columnModel.getDisplayNameForColumn(o,"header");return Vt(Vt({},t.createColDef(o,i,e)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(e,t){var o=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var i=function(e,t,n){var r=e;if(r.children){var s=new Map;r.children.forEach(function(e){i(e,t,s)});var a=!r.children.some(function(e){return e.children});o.columnModel.getValueColumns().forEach(function(i){var n=o.columnModel.getDisplayNameForColumn(i,"header"),r=o.createColDef(i,n,e.pivotKeys);r.pivotTotalColumnIds=s.get(i.getColId()),r.columnGroupShow="closed",r.aggFunc=i.getAggFunc(),a||(e.children.push(r),t.push(r))}),o.merge(n,s)}else{var l=e;if(!l.pivotValueColumn)return;var c=l.pivotValueColumn.getColId(),u=n.has(c)?n.get(c):[];u.push(l.colId),n.set(c,u)}};e.forEach(function(e){i(e,t,new Map)})}},t.prototype.addPivotTotalsToGroups=function(e,t){var o=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var i="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),n=this.columnModel.getValueColumns(),r=n.map(function(e){return e.getAggFunc()});if(r&&!(r.length<1)&&this.sameAggFuncs(r)){var s=n[0];e.forEach(function(e){o.recursivelyAddPivotTotal(e,t,s,i)})}}},t.prototype.recursivelyAddPivotTotal=function(e,t,o,i){var n=this,r=e;if(!r.children)return e.colId?[e.colId]:null;var s=[];if(r.children.forEach(function(e){var r=n.recursivelyAddPivotTotal(e,t,o,i);r&&(s=s.concat(r))}),r.children.length>1){var a=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),l=this.createColDef(o,a,e.pivotKeys,!0);l.pivotTotalColumnIds=s,l.aggFunc=o.getAggFunc();var c=e.children;i?c.push(l):c.unshift(l),t.push(l)}return s},t.prototype.addRowGroupTotals=function(e,t,o){var i=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var n="after"===this.gridOptionsWrapper.getPivotRowTotals(),r=n?o.slice():o.slice().reverse(),s=function(o){var s=r[o],l=[];e.forEach(function(e){l=l.concat(i.extractColIdsForValueColumn(e,s))}),a.createRowGroupTotal(e,t,s,l,n)},a=this,l=0;l<r.length;l++)s(l)},t.prototype.extractColIdsForValueColumn=function(e,t){var o=this;if(!e.children)return e.pivotValueColumn===t&&e.colId?[e.colId]:[];var i=[];return e.children.forEach(function(e){o.extractColIdsForValueColumn(e,t);var n=o.extractColIdsForValueColumn(e,t);i=i.concat(n)}),i},t.prototype.createRowGroupTotal=function(e,t,i,n,r){var s;if(0===this.columnModel.getValueColumns().length)s=this.createColDef(null,"-",[]);else{var a=this.columnModel.getDisplayNameForColumn(i,"header");(s=this.createColDef(i,a,[])).pivotTotalColumnIds=n}s.colId=o.PIVOT_ROW_TOTAL_PREFIX+s.colId,t.push(s),r?e.push(s):e.unshift(s)},t.prototype.createColDef=function(e,t,o,i){void 0===i&&(i=!1);var n={};if(e){var r=e.getColDef();Object.assign(n,r),n.hide=!1}return n.headerName=t,n.colId=this.generateColumnId(o||[],e&&!i?e.getColId():""),n.field=n.colId,n.pivotKeys=o,n.pivotValueColumn=e,!0===n.filter&&(n.filter="agNumberColumnFilter"),n},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,o){return e?e(t.headerName,o.headerName):t.headerName&&!o.headerName?1:!t.headerName&&o.headerName?-1:t.headerName&&o.headerName?t.headerName<o.headerName?-1:t.headerName>o.headerName?1:0:0},t.prototype.merge=function(e,t){t.forEach(function(t,o,i){var n=e.has(o)?e.get(o):[],r=jt(n,t);e.set(o,r)})},t.prototype.generateColumnGroupId=function(e){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(e){return e.getColId()}).join("-")+"_"+e.join("-")},t.prototype.generateColumnId=function(e,t){return"pivot_"+this.columnModel.getPivotColumns().map(function(e){return e.getColId()}).join("-")+"_"+e.join("-")+"_"+t},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Wt([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=o=Wt([(0,h.Vu6)("pivotColDefService")],t)}(h.AS9),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Ut=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yt=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}zt(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t,o):this.executePivotOff(o)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var o=this.bucketUpRowNodes(e),i=this.setUniqueValues(o),n=this.columnModel.getValueColumns(),r=n.map(function(e){return e.getId()+"-"+e.getColDef().headerName}).join("#"),s=n.map(function(e){return e.getAggFunc().toString()}).join("#"),a=this.aggregationColumnsHashLastTime!==r,l=this.aggregationFuncsHashLastTime!==s;if(this.aggregationColumnsHashLastTime=r,this.aggregationFuncsHashLastTime=s,i||a||l){var c=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),u=c.pivotColumnGroupDefs;this.pivotColumnDefs=c.pivotColumnDefs,this.columnModel.setSecondaryColumns(u,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var t=this,o={},i=function(e){e.leafGroup?t.bucketRowNode(e,o):e.childrenAfterFilter.forEach(function(e){i(e)})};return i(e),o},t.prototype.bucketRowNode=function(e,t){var o=this.columnModel.getPivotColumns();e.childrenMapped=0===o.length?null:this.bucketChildren(e.childrenAfterFilter,o,0,t),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,t,o,i){var n=this,r={},s=t[o];if(e.forEach(function(e){var t=n.valueService.getKeyForNode(s,e);h._.missing(t)&&(t=""),i[t]||(i[t]={}),r[t]||(r[t]=[]),r[t].push(e)}),o===t.length-1)return r;var a={};return h._.iterateObject(r,function(e,r){a[e]=n.bucketChildren(r,t,o+1,i[e])}),a},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Ut([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),Ut([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ut([(0,h.fsG)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=Ut([(0,h.Vu6)("pivotStage")],t)}(h.AS9),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Xt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qt="undefined"==typeof BigInt?null:BigInt;function Zt(e){for(var t=e.values,o=null,i=0;i<t.length;i++){var n=t[i];"number"==typeof n?null===o?o=n:o+=qt?"number"==typeof o?n:qt(n):n:"bigint"==typeof n&&(o=null===o?n:("bigint"==typeof o?o:qt(o))+n)}return o}function Kt(e){return e.values.length>0?e.values[0]:null}function Qt(e){return e.values.length>0?h._.last(e.values):null}function Jt(e){for(var t=e.values,o=null,i=0;i<t.length;i++){var n=t[i];"number"!=typeof n&&"bigint"!=typeof n||!(null===o||o>n)||(o=n)}return o}function $t(e){for(var t=e.values,o=null,i=0;i<t.length;i++){var n=t[i];"number"!=typeof n&&"bigint"!=typeof n||!(null===o||o<n)||(o=n)}return o}function eo(e){for(var t=e.values,o=0,i=0;i<t.length;i++){var n=t[i];o+=null!=n&&"number"==typeof n.value?n.value:1}return{value:o,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function to(e){for(var t=e.values,o=0,i=0,n=0;n<t.length;n++){var r=t[n],s=null;"number"==typeof r||"bigint"==typeof r?(s=r,i++):null==r||"number"!=typeof r.value&&"bigint"!=typeof r.value||"number"!=typeof r.count||(s=qt?r.value*("number"==typeof r.value?r.count:qt(r.count)):r.value*r.count,i+=r.count),"number"==typeof s?o+=qt?"number"==typeof o?s:qt(s):s:"bigint"==typeof s&&(o=("bigint"==typeof o?o:qt(o))+s)}var a=null;return i>0&&(a=qt?o/("number"==typeof o?i:qt(i)):o/i),{count:i,value:a,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var o;Yt(t,e),o=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[o.AGG_SUM]=Zt,this.aggFuncsMap[o.AGG_FIRST]=Kt,this.aggFuncsMap[o.AGG_LAST]=Qt,this.aggFuncsMap[o.AGG_MIN]=Jt,this.aggFuncsMap[o.AGG_MAX]=$t,this.aggFuncsMap[o.AGG_COUNT]=eo,this.aggFuncsMap[o.AGG_AVG]=to,this.initialised=!0},t.prototype.isAggFuncPossible=function(e,t){var o=this.getFuncNames(e),i=h._.includes(o,t),n=h._.exists(this.aggFuncsMap[t]);return i&&n},t.prototype.getDefaultAggFunc=function(e){var t=e.getColDef().defaultAggFunc;if(h._.exists(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,o.AGG_SUM))return o.AGG_SUM;var i=this.getFuncNames(e);return h._.existsAndNotEmpty(i)?i[0]:null},t.prototype.addAggFuncs=function(e){h._.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",Xt([h.NqP],t.prototype,"init",null),t=o=Xt([(0,h.Vu6)("aggFuncService")],t)}(h.AS9);var oo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),io=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},no=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.column=t,s.dragSourceDropTarget=o,s.ghost=i,s.dropZonePurpose=n,s.horizontal=r,s.popupShowing=!1,s}return oo(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var o=this.getGui(),i=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(o),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(h._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(h._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||i||this.addDragSource(),this.setupAria(),this.addManagedListener(this.column,h.sgG.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip()},t.prototype.setupAria=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.getColumnAndAggFuncName(),o=t.name,i=t.aggFuncName,n=e("ariaDropZoneColumnComponentAggFuncSeperator"," of "),r={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=[[i&&""+i+n,o,this.isGroupingZone()&&s&&", "+r[s]].filter(function(e){return!!e}).join("")],l=this.gridOptionsWrapper.isFunctionsReadOnly();if(this.isAggregationZone()&&!l){var c=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");a.push(c)}if(this.isGroupingZone()&&this.column.getColDef().sortable){var u=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");a.push(u)}var p=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");a.push(p),h._.setAriaLabel(this.getGui(),a.join(". "))},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.setupSort=function(){var e=this,t=this.column.getColDef().sortable,o=this.isGroupingZone();if(t&&o){this.eSortIndicator.setupSort(this.column,!0);var i=function(t){t.preventDefault();var o=e.gridOptionsWrapper.isMultiSortKeyCtrl();e.sortController.progressSort(e.column,o?t.ctrlKey||t.metaKey:t.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",i),this.addGuiEventListener("keydown",function(t){t.key===h.VDZ.ENTER&&e.isGroupingZone()&&i(t)})}},t.prototype.addDragSource=function(){var e=this,t={type:h.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:h.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;h._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var o={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(t){var i=t.key===h.VDZ.ENTER;t.key===h.VDZ.DELETE&&(t.preventDefault(),e.dispatchEvent(o)),i&&e.isAggregationZone()&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(t.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(t){e.dispatchEvent(o),t.stopPropagation()});var i=new h.rwP(this.eButton);this.addManagedListener(i,h.rwP.EVENT_TAP,function(){e.dispatchEvent(o)}),this.addDestroyFunc(i.destroy.bind(i))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,t="";if(this.isAggregationZone()){var o=this.column.getAggFunc(),i="string"==typeof o?o:"agg";t=this.gridOptionsWrapper.getLocaleTextFunc()(i,i)}return{name:e,aggFuncName:t}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),t=e.name,o=e.aggFuncName,i=this.isAggregationZone()?o+"("+t+")":t,n=h._.escapeString(i);this.eText.innerHTML=n},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new h.CPJ("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column),i=this.getGui(),n=t.getGui();t.setModel({getRow:function(e){return o[e]},getRowCount:function(){return o.length}}),this.getContext().createBean(t);var r=h._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(n),r.style.width=i.clientWidth+"px";var s=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){e.destroyBean(t),e.popupShowing=!1,i.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});a&&t.setComponentCreator(this.createAggSelect.bind(this,a.hideFunc)),t.addGuiEventListener("keydown",function(e){if(e.key===h.VDZ.ENTER||e.key===h.VDZ.SPACE){var o=t.getLastFocusedRow();if(null==o)return;var i=t.getComponentAt(o);i&&i.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:i,ePopup:r,keepWithinBounds:!0,column:this.column}),t.refresh();var l=o.findIndex(function(t){return t===e.column.getAggFunc()});-1===l&&(l=0),t.focusRow(l)}},t.prototype.createAggSelect=function(e,t){var o=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),n=t.toString(),r=i(n,n);return new ro(function(){e(),o.gridOptionsWrapper.isFunctionsPassive()?o.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:t,api:o.gridApi,columnApi:o.columnApi}):o.columnModel.setColumnAggFunc(o.column,t,"toolPanelDragAndDrop")},r)},t.prototype.addElementClasses=function(e,t){e.classList.add("ag-column-drop-cell"+(t=t?"-"+t:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+t)},t.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},t.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',io([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),io([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),io([(0,h.fsG)("popupService")],t.prototype,"popupService",void 0),io([(0,h.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),io([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),io([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),io([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),io([(0,h.cqo)("eText")],t.prototype,"eText",void 0),io([(0,h.cqo)("eDragHandle")],t.prototype,"eDragHandle",void 0),io([(0,h.cqo)("eButton")],t.prototype,"eButton",void 0),io([(0,h.cqo)("eSortIndicator")],t.prototype,"eSortIndicator",void 0),io([h.NqP],t.prototype,"init",null),t}(h.wA2),ro=function(e){function t(t,o){var i=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=t,i.getGui().innerText=o,i.addGuiEventListener("click",i.selectItem),i}return oo(t,e),t}(h.wA2),so=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ao=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lo=function(e){function t(o,i){var n=e.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return n.horizontal=o,n.dropZonePurpose=i,n.state=t.STATE_NOT_DRAGGING,n.guiDestroyFunctions=[],n.childColumnComponents=[],n.resizeEnabled=!1,n.addElementClasses(n.getGui()),n.eColumnDropList=document.createElement("div"),n.addElementClasses(n.eColumnDropList,"list"),h._.setAriaRole(n.eColumnDropList,"listbox"),n}return so(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,h._.clearElement(this.getGui()),h._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new h.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new h.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),h._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var t=e.key===h.VDZ.DOWN,o=e.key===h.VDZ.UP;if(this.horizontal){var i=this.gridOptionsWrapper.isEnableRtl();t=!i&&e.key===h.VDZ.RIGHT||i&&e.key===h.VDZ.LEFT,o=!i&&e.key===h.VDZ.LEFT||i&&e.key===h.VDZ.RIGHT}if(t||o){var n=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);n&&(e.preventDefault(),n.focus())}},t.prototype.addElementClasses=function(e,t){e.classList.add("ag-column-drop"+(t=t?"-"+t:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===h.rvo.HeaderCell||e===h.rvo.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var o=t!==this.insertIndex;return o&&(this.insertIndex=t),o},t.prototype.getNewHorizontalInsertIndex=function(e){if(h._.missing(e.hDirection))return-1;var t=0,o=e.event,i=this.beans.gridOptionsWrapper.isEnableRtl(),n=e.hDirection===h.poj.Left,r=o.clientX;return this.childColumnComponents.forEach(function(e){var o=e.getGui().getBoundingClientRect(),s=n?o.right:o.left;(i?r<=s:r>=s)&&t++}),t},t.prototype.getNewVerticalInsertIndex=function(e){if(h._.missing(e.vDirection))return-1;var t=0,o=e.event;return this.childColumnComponents.forEach(function(i){var n=i.getGui().getBoundingClientRect();o.clientY>=(e.vDirection===h.HO_.Down?n.top:n.bottom)&&t++}),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var o=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var i=o.filter(this.isColumnDroppable.bind(this));if(i.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&!e.fromNudge){var n=e.dragSource.getDragItem();this.setColumnsVisible(n.columns,!1,"uiColumnDragged")}this.potentialDndColumns=i,this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var i=e.filter(function(e){return!e.getColDef().lockVisible});this.colModel.setColumnsVisible(i,t,o)}},t.prototype.isPotentialDndColumns=function(){return h._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var o=e.dragSource.getDragItem().columns||[];this.removeColumns(o)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&!e.fromNudge){var i=e.dragSource.getDragItem(),n=this.potentialDndColumns.filter(function(e){var t,o;return null!=(o=null===(t=i.visibleState)||void 0===t?void 0:t[e.getId()])&&o}),r=this.potentialDndColumns.filter(function(e){var t,o;return!(null!=(o=null===(t=i.visibleState)||void 0===t?void 0:t[e.getId()])&&o)});this.setColumnsVisible(n,!1,"uiColumnDragged"),this.setColumnsVisible(r,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter(function(t){return!h._.includes(e,t)});this.updateColumns(t)},t.prototype.addColumns=function(e){if(e){var t=this.getExistingColumns().slice(),o=e.filter(function(e){return t.indexOf(e)<0});h._.insertArrayIntoArray(t,o,this.insertIndex),this.updateColumns(t)}},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return h._.insertArrayIntoArray(t,e,this.insertIndex),!h._.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,t=this.resizeEnabled,o=this.getFocusedItem(),i=this.focusService.findNextFocusableElement();i||(i=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t),this.restoreFocus(o,i)},t.prototype.getFocusedItem=function(){var e=this.getGui(),t=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1},t.prototype.restoreFocus=function(e,t){var o=this.getGui(),i=Array.from(o.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===i.length&&t.focus();var n=i[Math.min(i.length-1,e)];n&&n.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter(function(t){return!h._.includes(e.potentialDndColumns,t)}):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),o=this.isPotentialDndColumns(),i=[];t.forEach(function(t,n){if(!(o&&n>=e.insertIndex)){var r=e.createColumnComponent(t,!1);i.push(r)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(t){var o=e.createColumnComponent(t,!0);i.push(o)}),t.forEach(function(t,o){if(!(o<e.insertIndex)){var n=e.createColumnComponent(t,!1);i.push(n)}})),this.appendChild(this.eColumnDropList),i.forEach(function(t,o){o>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(t,o){var i=t.getGui();h._.setAriaPosInSet(i,o+1),h._.setAriaSetSize(i,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,t){var o=this,i=new no(e,this.dropTarget,t,this.dropZonePurpose,this.horizontal);return i.addEventListener(no.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(i),this.guiDestroyFunctions.push(function(){return o.destroyBean(i)}),t||this.childColumnComponents.push(i),i},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(t.setAttribute("aria-hidden","true"),this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,t.appendChild(o)}this.appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),o=h._.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",ao([(0,h.fsG)("columnModel")],t.prototype,"colModel",void 0),ao([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),t}(h.wA2),co=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},po=function(e){function t(t){return e.call(this,t,"rowGroup")||this}return co(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:h.jUB.ICON_GROUP,icon:h._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:i}),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="rowGroupColumnsList",t},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?h.jUB.ICON_GROUP:h.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},uo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),uo([(0,h.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),uo([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),uo([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),uo([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),uo([h.NqP],t.prototype,"passBeansUp",null),t}(lo),ho=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},go=function(e){function t(t){return e.call(this,t,"pivot")||this}return ho(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("pivotColumnsEmptyMessage","Drag here to set column labels"),i=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:h.jUB.ICON_GROUP,icon:h._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:i}),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="pivotColumnsList",t},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?h.jUB.ICON_PIVOT:h.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},fo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),fo([(0,h.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),fo([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),fo([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),fo([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),fo([h.NqP],t.prototype,"passBeansUp",null),t}(lo),mo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vo=(function(e){function t(){return e.call(this)||this}mo(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),h._.setAriaRole(e,"presentation"),this.rowGroupComp=new po(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new go(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,h.wA2.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,h.wA2.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===h.gTE.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===h.gTE.ONLY_WHEN_GROUPING){var t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},yo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),yo([h.NqP],t.prototype,"postConstruct",null)}(h.wA2),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Co=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wo=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}vo(t,e),t.prototype.execute=function(e){var t=this,o=this.columnModel.isPivotMode(),i=this.filterManager.isAggregateFilterPresent(),n=this.gridOptionsWrapper.getGroupAggFiltering()||(o?function(e){return e.node.leafGroup}:function(e){return!e.node.group}),r=function(e,o){void 0===o&&(o=!1),e.childrenAfterFilter&&(e.childrenAfterAggFilter=e.childrenAfterFilter,o&&e.childrenAfterAggFilter.forEach(function(e){return r(e,o)}),t.setAllChildrenCount(e)),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(i?function(e){var o;e.childrenAfterAggFilter=(null===(o=e.childrenAfterFilter)||void 0===o?void 0:o.filter(function(e){var o;return n({node:e})&&t.filterManager.doesRowPassAggregateFilters({rowNode:e})?(r(e,!0),!0):null===(o=e.childrenAfterAggFilter)||void 0===o?void 0:o.length}))||null,t.setAllChildrenCount(e),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)}:r,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterAggFilter.forEach(function(e){t++,t+=e.allChildrenCount}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterAggFilter.forEach(function(e){e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsWrapper.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},Co([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),Co([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=Co([(0,h.Vu6)("filterAggregatesStage")],t)}(h.AS9),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),bo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xo=function(e){function t(t){return e.call(this,t,"aggregation")||this}return wo(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("valueColumnsEmptyMessage","Drag here to aggregate"),i=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:h.jUB.ICON_AGGREGATE,icon:h._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:o,title:i}),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="valueColumnsList",t},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?h.jUB.ICON_AGGREGATE:h.jUB.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},bo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),bo([(0,h.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),bo([(0,h.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bo([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),bo([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),bo([h.NqP],t.prototype,"passBeansUp",null),t}(lo),So=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Eo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_o=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return So(t,e),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,t,o){this.allowDragging=e,this.params=t,this.eventType=o,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new h.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',Eo([(0,h.cqo)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),Eo([(0,h.cqo)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),Eo([h.NqP],t.prototype,"postConstruct",null),t}(h.BxR),Ao=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ro=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},To=(function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.initialised=!1,o.childDestroyFuncs=[],o}Ao(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t=this,o={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(h._.mergeDeep(o,e),this.params=o,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new It),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new _o),this.childDestroyFuncs.push(function(){return t.destroyBean(t.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new po(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new xo(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new go(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var i=this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){t.resetChildrenHeight(),t.setLastVisible()});this.childDestroyFuncs.push(function(){return i()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new It),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new po(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new xo(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new go(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(e){return e.classList.remove("ag-last-column-drop")});var t=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=h._.last(t);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui().children,t=0;t<e.length;t++){var o=e[t];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return h.O3h.assertRegistered(h.GXE.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,h._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Ro([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ro([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0)}(h.wA2),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Oo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Po=function(e){function t(){var t=e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return t.minWidth=100,t.maxWidth=null,t}return To(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.elementToResize.style.width=t+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},Oo([(0,h.fsG)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Oo([h.NqP],t.prototype,"postConstruct",null),t}(h.wA2),Do=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Io=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mo=function(e){function t(t){var o=e.call(this)||this;return o.toolPanelDef=t,o}return Do(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",h._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Io([(0,h.cqo)("eToggleButton")],t.prototype,"eToggleButton",void 0),Io([(0,h.cqo)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),Io([h.NqP],t.prototype,"postConstruct",null),t}(h.wA2),No=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ko=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lo=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.buttonComps=[],o}return No(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===h.VDZ.TAB&&e.shiftKey){var t=h._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(t,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(t){t.setSelected(e===t.getToolPanelId())})},t.prototype.addButtonComp=function(e){var o=this,i=this.createBean(new Mo(e));this.buttonComps.push(i),this.appendChild(i),i.addEventListener(Mo.EVENT_TOGGLE_BUTTON_CLICKED,function(){o.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),h._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',ko([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),ko([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),ko([h.NqP],t.prototype,"postConstruct",null),ko([h.FXL],t.prototype,"clearButtons",null),t}(h.wA2),Fo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Go=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ho=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Fo(t,e),t.prototype.setupResize=function(){var e=this.getGui(),t=this.resizeBar=new Po;this.getContext().createBean(t),t.setElementToResize(e),this.appendChild(t)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var t=e.id,o=e.minWidth,i=e.maxWidth,n=e.width;this.toolPanelId=t,this.width=n;var r=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=r?(r.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=i&&this.resizeBar.setMaxWidth(i)):console.warn("AG Grid: error processing tool panel component "+t+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){t.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t=this.gridOptionsWrapper.isEnableRtl(),o="left"===e;this.resizeBar.setInverted(t?o:!o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Go([(0,h.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Go([h.NqP],t.prototype,"setupResize",null),t}(h.wA2),Vo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Wo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bo=(function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.toolPanelWrappers=[],o}Vo(t,e),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(Lo.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new h.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this.focusService,o=this.sideBarButtonsComp,i=this.getGui(),n=o.getGui(),r=this.gridOptionsWrapper.getDocument().activeElement,s=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(s)if(n.contains(r))t.focusInto(s,e.shiftKey)&&e.preventDefault();else if(!t.isFocusUnderManagedComponent(s)&&e.shiftKey){var a=t.findFocusableElements(s)[0];if(this.gridOptionsWrapper.getDocument().activeElement===a){var l=n.querySelector(".ag-selected button");l&&(e.preventDefault(),l.focus())}}}},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(t.activeElement)){var o=this.sideBarButtonsComp.getGui(),i=Array.prototype.slice.call(o.querySelectorAll(".ag-side-button")),n=t.activeElement,r=i.findIndex(function(e){return e.contains(n)}),s=null;switch(e.key){case h.VDZ.LEFT:case h.VDZ.UP:s=Math.max(0,r-1);break;case h.VDZ.RIGHT:case h.VDZ.DOWN:s=Math.min(r+1,i.length-1)}if(null!==s){var a=i[s].querySelector("button");a&&(a.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId,o=this.openedItem();this.openToolPanel(o===t?void 0:t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){this.setDisplayed(t&&!e.hiddenByDefault);var o=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(o),this.setupToolPanels(o),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,o=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(function(e){e.setResizerSizerSide(o)}),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach(function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel&&!h.O3h.assertRegistered(h.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel&&!h.O3h.assertRegistered(h.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var o=new Ho;t.getContext().createBean(o),o.setToolPanelDef(e),o.setDisplayed(!1),t.getGui().appendChild(o.getGui()),t.toolPanelWrappers.push(o)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach(function(t){var o=e===t.getToolPanelId();t.setDisplayed(o)}),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter(function(t){return t.getToolPanelId()===e})[0];if(t)return t.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:h.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(t){t.isDisplayed()&&(e=t.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(t){h._.removeFromParent(t.getGui()),e.destroyBean(t)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Wo([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),Wo([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Wo([(0,h.cqo)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Wo([h.NqP],t.prototype,"postConstruct",null)}(h.wA2),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),jo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zo=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&void 0!==e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}Bo(t,e),t.prototype.createColumnTree=function(e){var t=this,o=[],i=function(e,n){if(t.isColGroupDef(e)){var r=e,s=new h.KTm(r,void 0!==r.groupId?r.groupId:r.headerName,!1,n),a=[];return r.children.forEach(function(e){var t=i(e,n+1);t&&a.push(t)}),s.setChildren(a),s}var l=e,c=t.columnModel.getPrimaryColumn(l.colId?l.colId:l.field);return c||o.push(l),c},n=[];return e.forEach(function(e){var t=i(e,0);t&&n.push(t)}),o.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",o),n},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){var e=function(t,o){var i;if(t instanceof h.KTm)if(t.isPadding())i=o;else{var n=Object.assign({},t.getColGroupDef());n.groupId=t.getGroupId(),n.children=[o],i=n}else{var r=Object.assign({},t.getColDef());r.colId=t.getColId(),i=r}var s=t.getOriginalParent();return s?e(s,i):i};return this.columnModel.getAllGridColumns().filter(function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}).map(function(t){return e(t,t.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var t,o,i=this,n=function(e,t){if(!i.isColGroupDef(t))return e;var o=e,r=t;return r.children&&r.groupId&&i.addChildrenToGroup(o,r.groupId,r.children[0])||r.children.forEach(function(e){return n(o,e)}),o},r=[],s=1;s<=e.length;s++){var a=e[s-1],l=e[s];o=l,i.isColGroupDef(t=a)&&i.isColGroupDef(o)&&i.getId(t)===i.getId(o)?e[s]=n(a,l):r.push(a)}return r},t.prototype.addChildrenToGroup=function(e,t,o){var i=this;if(!this.isColGroupDef(e))return!0;var n=e,r=o;if(function(e,t){var o=e.children.map(i.getId),n=h._.includes(o,i.getId(t)),r=h._.last(e.children),s=r&&i.getId(r)!==i.getId(t);return n&&s}(n,r))return n.children.push(r),!0;if(n.groupId===t){var s=n.children.map(this.getId);if(!h._.includes(s,this.getId(r)))return n.children.push(r),!0}return n.children.forEach(function(e){return i.addChildrenToGroup(e,t,o)}),!1},jo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=jo([(0,h.Vu6)("toolPanelColDefService")],t)}(h.AS9),function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}),Uo=(function(){function e(){}e.prototype.selectAllChildren=function(e,t,o){var i=this.extractAllLeafColumns(e);this.setAllColumns(i,t,o)},e.prototype.setColumn=function(e,t,o){this.setAllColumns([e],t,o)},e.prototype.setAllColumns=function(e,t,o){this.columnModel.isPivotMode()?this.setAllPivot(e,t,o):this.setAllVisible(e,t,o)},e.prototype.extractAllLeafColumns=function(e){var t=[],o=function(e){e.forEach(function(e){e.isPassesFilter()&&(e.isGroup()?o(e.getChildren()):t.push(e.getColumn()))})};return o(e),t},e.prototype.setAllVisible=function(e,t,o){var i=[];e.forEach(function(e){e.getColDef().lockVisible||e.isVisible()!=t&&i.push({colId:e.getId(),hide:!t})}),i.length>0&&this.columnModel.applyColumnState({state:i},o)},e.prototype.setAllPivot=function(e,t,o){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,o)},e.prototype.setAllPivotPassive=function(e,t){var o=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),n=this.columnModel.getRowGroupColumns().slice(),r=!1,s=!1,a=!1;e.forEach(t?function(e){e.isAnyFunctionActive()||(e.isAllowValue()?(i.push(e),s=!0):e.isAllowRowGroup()?(n.push(e),r=!0):e.isAllowPivot()&&(o.push(e),a=!0))}:function(e){e.isAnyFunctionActive()&&(o.indexOf(e)>=0&&(h._.removeFromArray(o,e),r=!0),i.indexOf(e)>=0&&(h._.removeFromArray(i,e),s=!0),n.indexOf(e)>=0&&(h._.removeFromArray(n,e),a=!0))}),r&&this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi}),a&&this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),s&&this.eventService.dispatchEvent({type:h.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setAllPivotActive=function(e,t,o){var i=this,n=[];e.forEach(t?function(e){if(!e.isAnyFunctionActive())if(e.isAllowValue()){var t="string"==typeof e.getAggFunc()?e.getAggFunc():i.aggFuncService.getDefaultAggFunc(e);n.push({colId:e.getId(),aggFunc:t})}else e.isAllowRowGroup()?n.push({colId:e.getId(),rowGroup:!0}):e.isAllowPivot()&&n.push({colId:e.getId(),pivot:!0})}:function(e){(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&n.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),n.length>0&&this.columnModel.applyColumnState({state:n},o)},zo([(0,h.fsG)("aggFuncService")],e.prototype,"aggFuncService",void 0),zo([(0,h.fsG)("columnModel")],e.prototype,"columnModel",void 0),zo([(0,h.fsG)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),zo([(0,h.fsG)("columnApi")],e.prototype,"columnApi",void 0),zo([(0,h.fsG)("gridApi")],e.prototype,"gridApi",void 0),zo([(0,h.fsG)("eventService")],e.prototype,"eventService",void 0),e=zo([(0,h.Vu6)("modelItemUtils")],e)}(),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),Yo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uo(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,o){var i=this;this.showMenu(e,function(n){var r=n.getGui();i.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:r}),o&&n.showTab(o)},"columnMenu",o,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,o,i,n){var r=this,s=-1,a="left";this.gridOptionsWrapper.isEnableRtl()&&(s=1,a="right"),this.showMenu(e,function(n){var l=n.getGui();r.popupService.positionPopupUnderComponent({type:o,column:e,eventSource:t,ePopup:l,alignSide:a,nudgeX:9*s,nudgeY:-23,keepWithinBounds:!0}),i&&n.showTab(i)},o,i,n,t)},t.prototype.showMenu=function(e,t,o,i,n,r){var s=this,a=this.createBean(new qo(e,this.lastSelectedTab,n)),l=a.getGui(),c=r||this.ctrlsService.getGridBodyCtrl().getGui(),u=[];u.push(function(t){if(s.destroyBean(a),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&r&&h._.isVisible(r)){var o=s.focusService.findTabbableParent(r);o&&o.focus()}});var p=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(e){u.forEach(function(t){return t(e)})},afterGuiAttached:function(e){return a.afterGuiAttached(Object.assign({},{container:o},e))},positionCallback:function(){return t(a)},anchorToElement:c,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});if(d){var f=d.stopAnchoringPromise;f&&f.then(function(t){e.addEventListener(h.sgG.EVENT_LEFT_CHANGED,t),e.addEventListener(h.sgG.EVENT_VISIBLE_CHANGED,t),u.push(function(){e.removeEventListener(h.sgG.EVENT_LEFT_CHANGED,t),e.removeEventListener(h.sgG.EVENT_VISIBLE_CHANGED,t)})})}i||(a.showTabBasedOnPreviousSelection(),t(a)),a.addEventListener(qo.EVENT_TAB_SELECTED,function(e){s.lastSelectedTab=e.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(h.AS9.EVENT_DESTROYED,function(){s.activeMenu===a&&(s.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(qo.TABS_DEFAULT).length>0},Yo([(0,h.fsG)("popupService")],t.prototype,"popupService",void 0),Yo([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Yo([(0,h.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),Yo([(0,h.Vu6)("menuFactory")],t)}(h.AS9),qo=function(e){function t(o,i,n){var r=e.call(this)||this;return r.tabFactories={},r.includeChecks={},r.column=o,r.initialSelection=i,r.tabFactories[t.TAB_GENERAL]=r.createMainPanel.bind(r),r.tabFactories[t.TAB_FILTER]=r.createFilterPanel.bind(r),r.tabFactories[t.TAB_COLUMNS]=r.createColumnsPanel.bind(r),r.includeChecks[t.TAB_GENERAL]=function(){return!0},r.includeChecks[t.TAB_FILTER]=function(){return o.isFilterAllowed()},r.includeChecks[t.TAB_COLUMNS]=function(){return!0},r.restrictTo=n,r}return Uo(t,e),t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map(function(t){return e.createTab(t)});this.tabbedLayout=new h.WD6({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(t){return e.isValidMenuTabItem(t)}).filter(function(t){return e.isNotSuppressed(t)}).filter(function(t){return e.isModuleLoaded(t)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||h.O3h.isRegistered(h.GXE.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var o=!0,i=t.TABS_DEFAULT;return null!=this.restrictTo&&(o=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),(o=o&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+i+"]"),o},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var o=null;switch(e.item){case this.tabItemColumns:o=t.TAB_COLUMNS;break;case this.tabItemFilter:o=t.TAB_FILTER;break;case this.tabItemGeneral:o=t.TAB_GENERAL}o&&this.activateTab(o)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var e,o=this.getDefaultMenuOptions(),i=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=i?i({column:this.column,defaultItems:o}):o,h._.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],o=!this.column.getColDef().lockPinned,i=this.columnModel.getRowGroupColumns().length,n=i>0,r=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),c=this.columnModel.isPivotMode(),u=this.rowModel.getType()===h.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,p=this.gridOptionsWrapper.isTreeData(),d=l&&n&&s||!l;return o&&e.push("pinSubMenu"),d&&e.push("valueAggSubMenu"),(o||d)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&e.push(r?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),u&&(p||i>(c?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new h.O_3);var e=this.getMenuItems(),o=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(o),this.mainMenuList.addEventListener(h.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:h._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:h.j_S.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});var o=this.focusService.getFocusedCell(),i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&o&&this.focusService.setFocusedCell({rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned,forceBrowserFocus:!0})},t.prototype.createFilterPanel=function(){var e,o=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!o)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:h._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=o)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(e){var t;(null===(t=o)||void 0===t?void 0:t.filterPromise)&&o.filterPromise.then(function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new _o);var o=this.column.getColDef().columnsMenuParams;o||(o={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o.contractColumnSelection,suppressColumnExpandAll:!!o.suppressColumnExpandAll,suppressColumnFilter:!!o.suppressColumnFilter,suppressColumnSelectAll:!!o.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!o.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var i=this.columnSelectPanel.getGui();return i.classList.add("ag-menu-column-select"),e.appendChild(i),this.tabItemColumns={title:h._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:h.j_S.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:t}),t&&(this.hidePopupFunc=t,this.addDestroyFunc(t))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",Yo([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Yo([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),Yo([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),Yo([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),Yo([(0,h.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Yo([(0,h.fsG)("rowModel")],t.prototype,"rowModel",void 0),Yo([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Yo([h.NqP],t.prototype,"init",null),t}(h.AS9),Zo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ko=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qo="ag-context-menu-open",Jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zo(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,o){var i=[];if(h._.exists(e)&&h.O3h.isRegistered(h.GXE.ClipboardModule)&&t&&i.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&h.O3h.isRegistered(h.GXE.RangeSelectionModule)&&h.O3h.isRegistered(h.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&i.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&i.push("chartRange")),h._.exists(e)){var n=!h.O3h.isRegistered(h.GXE.CsvExportModule),r=!h.O3h.isRegistered(h.GXE.ExcelExportModule),s=this.gridOptionsWrapper.isSuppressExcelExport()||r,a=this.gridOptionsWrapper.isSuppressCsvExport()||n;!(h._.isIOSUserAgent()||s&&a)&&i.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var l=this.gridOptionsWrapper.getContextMenuItemsFunc();return l?l({node:e,column:t,value:o,defaultItems:i.length?i:void 0}):void 0}return i},t.prototype.onContextMenu=function(e,t,o,i,n,r){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu()||this.showMenu(o,i,n,e||t.touches[0],r)&&(e||t).preventDefault())},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var t=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===t&&e.preventDefault()},t.prototype.showMenu=function(e,t,o,i,n){var r=this,s=this.getMenuItems(e,t,o),a=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||h._.missingOrEmpty(s))return!1;var l=new $o(s);this.createBean(l);var c=l.getGui(),u={column:t,rowNode:e,type:"contextMenu",mouseEvent:i,ePopup:c,nudgeY:1},p=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.classList.remove(Qo),r.destroyBean(l)},click:i,positionCallback:function(){r.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:r.gridOptionsWrapper.isEnableRtl()?-1*(c.offsetWidth+1):1},u))},anchorToElement:n,ariaLabel:p("ariaLabelContextMenu","Context Menu")});return d&&(a.classList.add(Qo),l.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(h.AS9.EVENT_DESTROYED,function(){r.activeMenu===l&&(r.activeMenu=null)}),d&&l.addEventListener(h.sJC.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},Ko([(0,h.fsG)("popupService")],t.prototype,"popupService",void 0),Ko([(0,h.FiY)("rangeService")],t.prototype,"rangeService",void 0),Ko([(0,h.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),Ko([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ko([(0,h.Vu6)("contextMenuFactory")],t)}(h.AS9),$o=function(e){function t(t){var o=e.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return o.menuList=null,o.focusedCell=null,o.menuItems=t,o}return Zo(t,e),t.prototype.addMenuItems=function(){var e=this,t=this.createBean(new h.O_3),o=this.menuItemMapper.mapWithStockItems(this.menuItems,null);t.addMenuItems(o),this.appendChild(t),this.menuList=t,t.addEventListener(h.sJC.EVENT_MENU_ITEM_SELECTED,function(t){return e.dispatchEvent(t)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,o=t.rowIndex,i=t.rowPinned,n=t.column,r=this.gridOptionsWrapper.getDocument();r.activeElement===r.body&&this.focusService.setFocusedCell({rowIndex:o,column:n,rowPinned:i,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},Ko([(0,h.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Ko([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Ko([(0,h.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ko([h.NqP],t.prototype,"addMenuItems",null),t}(h.wA2),ei=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ti=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.mapWithStockItems=function(e,t){var o=this;if(!e)return[];var i=[];return e.forEach(function(e){var n;if(n="string"==typeof e?o.getStockMenuItem(e,t):e){var r=n.subMenu;r&&r instanceof Array&&(n.subMenu=o.mapWithStockItems(n.subMenu,t)),null!=n&&i.push(n)}}),i},t.prototype.getStockMenuItem=function(e,t){var o=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:i("pinColumn","Pin Column"),icon:h._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:i("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(t,h.gTE.PINNED_LEFT,"contextMenu")},checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:i("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(t,h.gTE.PINNED_RIGHT,"contextMenu")},checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:i("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(t,null,"contextMenu")},checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return h.O3h.assertRegistered(h.GXE.RowGroupingModule,"Aggregation from Menu")?{name:i("valueAggregation","Value Aggregation"),icon:h._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:i("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(t,n,"contextMenu")}};case"autoSizeAll":return{name:i("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(n,"contextMenu")}};case"rowGroup":return{name:i("groupBy","Group by")+" "+h._.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return o.columnModel.addRowGroupColumn(t,"contextMenu")},icon:h._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:i("ungroupBy","Un-Group by")+" "+h._.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return o.columnModel.removeRowGroupColumn(t,"contextMenu")},icon:h._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:i("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:i("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:i("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return h.O3h.assertRegistered(h.GXE.ClipboardModule,"Copy from Menu")?{name:i("copy","Copy"),shortcut:i("ctrlC","Ctrl+C"),icon:h._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return h.O3h.assertRegistered(h.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:i("copyWithHeaders","Copy with Headers"),icon:h._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return h.O3h.assertRegistered(h.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:i("copyWithGroupHeaders","Copy with Group Headers"),icon:h._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return h.O3h.assertRegistered(h.GXE.ClipboardModule,"Paste from Clipboard")?{name:i("paste","Paste"),shortcut:i("ctrlV","Ctrl+V"),disabled:!0,icon:h._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var r=[],s=h.O3h.isRegistered(h.GXE.CsvExportModule),a=h.O3h.isRegistered(h.GXE.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&s&&r.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&a&&r.push("excelExport"),{name:i("export","Export"),subMenu:r,icon:h._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:i("csvExport","CSV Export"),icon:h._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:i("excelExport","Excel Export"),icon:h._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),i=function(e,i,n){return{name:o(e,i),action:function(){return t.chartService.createPivotChart({chartType:n})}}},n=function(e,i,n){return{name:o(e,i),action:function(){return t.chartService.createChartFromCurrentRange(n)}}};switch(e){case"pivotChart":return{name:o("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:h._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:o("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:h._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:o("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return i("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return i("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return i("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:o("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return n("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return n("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return n("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:o("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return i("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return i("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return i("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:o("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return n("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return n("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return n("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:o("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return i("pie","Pie&lrm;","pie");case"pivotDoughnut":return i("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:o("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return n("pie","Pie&lrm;","pie");case"rangeDoughnut":return n("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return i("line","Line&lrm;","line");case"rangeLineChart":return n("line","Line&lrm;","line");case"pivotXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return i("scatter","Scatter&lrm;","scatter");case"pivotBubble":return i("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return n("scatter","Scatter&lrm;","scatter");case"rangeBubble":return n("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:o("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return i("area","Area&lrm;","area");case"pivotStackedArea":return i("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return i("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:o("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return n("area","Area&lrm;","area");case"rangeStackedArea":return n("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return n("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return n("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return n("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:o("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,o=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),n=e.isValueActive(),r=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var s=e.getColDef().pivotValueColumn;t=h._.exists(s)?s:void 0}var a=[];return r.forEach(function(e){a.push({name:i(e,e),action:function(){o.columnModel.setColumnAggFunc(t,e,"contextMenu"),o.columnModel.addValueColumn(t,"contextMenu")},checked:n&&t.getAggFunc()===e})}),a},ti([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),ti([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),ti([(0,h.FiY)("clipboardService")],t.prototype,"clipboardService",void 0),ti([(0,h.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),ti([(0,h.FiY)("chartService")],t.prototype,"chartService",void 0),ti([(0,h.Vu6)("menuItemMapper")],t)}(h.AS9),ii={moduleName:h.GXE.MenuModule,beans:[Xo,Jo,oi],dependantModules:[T.f]},ni=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ri=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pauseStoreUpdateListening=!1,t.started=!1,t}return ni(t,e),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&h._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&h._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),i=!h._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),n=!h._.jsonEquals(this.storeParams.rowGroupCols,e),r=!h._.jsonEquals(this.storeParams.pivotCols,o),s=!h._.jsonEquals(this.storeParams.valueCols,t);(i||n||r||s)&&this.resetRootStore()}else this.resetRootStore()},t.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,t){this.storeParams&&(this.storeParams.sortModel=e);var o=this.getRootStore();o&&(o.refreshAfterSort(t),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new h.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:h.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var t=this;return e.map(function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnModel.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),i=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:t,rowGroupCols:e,pivotCols:o,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new h.at1,dynamicRowHeight:i}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:h.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new h.at1,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(t){t.group&&t.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,t){this.storeParams&&(this.storeParams.filterModel=e);var o=this.getRootStore();o&&(o.refreshAfterFilter(t),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return h.gTE.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var t=this.getRootStore();t&&t.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var t=this.getRootStore();t&&t.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,t){var o=this.getRootStore();if(o){var i=o.getChildStore(e);i&&t(i)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(t){return t.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,t){return h._.exists(t)&&e.parent!==t.parent?[]:e.parent.childStore.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode(function(o){o.id===e&&(t=o),o.detailNode&&o.detailNode.id===e&&(t=o.detailNode)}),t},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},ri([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),ri([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),ri([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),ri([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),ri([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),ri([(0,h.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),ri([(0,h.fsG)("ssrmSortService")],t.prototype,"sortListener",void 0),ri([(0,h.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),ri([(0,h.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),ri([(0,h.fsG)("beans")],t.prototype,"beans",void 0),ri([h.FXL],t.prototype,"destroyDatasource",null),ri([h.NqP],t.prototype,"addEventListeners",null),ri([h.FXL],t.prototype,"destroyRootStore",null),ri([(0,h.Vu6)("rowModel")],t)}(h.AS9),ai=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),li=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ai(t,e),t.prototype.loadFromDatasource=function(e){var t=e.storeParams,o=e.parentBlock,i=e.parentNode.getGroupKeys();if(t.datasource){var n={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:t.rowGroupCols,valueCols:t.valueCols,pivotCols:t.pivotCols,pivotMode:t.pivotMode,groupKeys:i,filterModel:t.filterModel,sortModel:t.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};window.setTimeout(function(){t.datasource&&o.isAlive()?t.datasource.getRows(n):e.failCallback()},0)}},t.prototype.getChildStore=function(e,t,o){if(h._.missingOrEmpty(e))return t;var i=o(e[0]);if(i){var n=e.slice(1,e.length),r=i.childStore;return r?r.getChildStore(n):null}return null},t.prototype.isServerRefreshNeeded=function(e,t,o){if(o.valueColChanged||o.secondaryColChanged)return!0;var i=e.level+1;return!(i<t.length&&!(o.changedColumns.indexOf(t[i].id)>-1))},li([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),li([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),li([(0,h.Vu6)("ssrmStoreUtils")],t)}(h.AS9),ui=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ui(t,e),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var t=new h.Fxk(this.beans);return t.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn),t},t.prototype.destroyRowNodes=function(e){var t=this;e&&e.forEach(function(e){return t.destroyRowNode(e)})},t.prototype.destroyRowNode=function(e,t){void 0===t&&(t=!1),e.childStore&&!t&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var t=this.gridOptionsWrapper.getIsServerSideGroupFunc(),o=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=t&&(e.setGroup(t(e.data)),e.group&&null!=o&&(e.key=o(e.data))),e.group||null==e.childStore||(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&h._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var t=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==t||t(e.data)},t.prototype.updateDataIntoRowNode=function(e,t){e.updateData(t),this.usingTreeData&&this.setTreeGroupInfo(e)},t.prototype.setDataIntoRowNode=function(e,t,o,i){e.stub=!1,h._.exists(t)?(e.setDataAndId(t,o),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),h._.exists(t)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,i).height)},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,o=this.columnModel.getGroupDisplayColumns(),i=this.gridOptionsWrapper.isTreeData();o.forEach(function(o){if(null==e.groupData&&(e.groupData={}),i)e.groupData[o.getColId()]=e.key;else if(o.isRowGroupDisplayed(e.rowGroupColumn.getId())){var n=t.valueService.getValue(e.rowGroupColumn,e);e.groupData[o.getColId()]=n}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&h._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,t,o){if(e.setRowIndex(t.next()),e.setRowTop(o.value),o.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.next()),e.detailNode.setRowTop(o.value),o.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&h._.exists(e.childStore)){var i=e.childStore;e.expanded?i.setDisplayIndexes(t,o):i.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,t){var o=0,i=t.length-1;if(h._.missing(i)||h._.missing(o))console.warn("AG Grid: error: topPointer = "+i+", bottomPointer = "+o);else for(;;){var n=Math.floor((o+i)/2),r=t[n];if(r.rowIndex===e)return r;var s=r.detailNode;if(r.master&&r.expanded&&s&&s.rowIndex===e)return r.detailNode;var a=r.childStore;if(r.expanded&&a&&a.isDisplayIndexInStore(e))return a.getRowUsingDisplayIndex(e);if(r.rowIndex<e)o=n+1;else{if(!(r.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");i=n-1}}},t.prototype.extractRowBounds=function(e,t){var o=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}};if(e.rowIndex===t)return o(e);if(e.group&&e.expanded&&h._.exists(e.childStore)){var i=e.childStore;if(i.isDisplayIndexInStore(t))return i.getRowBounds(t)}else if(e.master&&e.expanded&&h._.exists(e.detailNode)&&e.detailNode.rowIndex===t)return o(e.detailNode)},t.prototype.getIndexAtPixel=function(e,t){if(e.isPixelInRange(t))return e.rowIndex;var o=e.detailNode;if(e.master&&e.expanded&&o&&o.isPixelInRange(t))return e.detailNode.rowIndex;if(e.group&&e.expanded&&h._.exists(e.childStore)){var i=e.childStore;if(i.isPixelInRange(t))return i.getRowIndexAtPixel(t)}return null},t.prototype.createNodeIdPrefix=function(e){for(var t=[],o=e;o&&o.level>=0;)t.push(o.key),o=o.parent;if(t.length>0)return t.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var t=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();t&&t({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},pi([(0,h.fsG)("valueService")],t.prototype,"valueService",void 0),pi([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),pi([(0,h.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),pi([(0,h.fsG)("beans")],t.prototype,"beans",void 0),pi([h.NqP],t.prototype,"postConstruct",null),pi([(0,h.Vu6)("ssrmBlockUtils")],t)}(h.AS9),di=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fi=function(){function e(){this.rowNodes={}}return e.prototype.addRowNode=function(e){var t=e.id;this.rowNodes[t]&&(console.warn("AG Grid: Duplicate node id "+e.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[t].data),console.warn("second instance",e.data)),this.rowNodes[t]=e},e.prototype.removeNode=function(e){var t=e.id;this.rowNodes[t]&&(this.rowNodes[t]=void 0)},e.prototype.clear=function(){this.rowNodes={}},di([h.FXL],e.prototype,"clear",null),di([(0,h.Vu6)("ssrmNodeManager")],e)}(),gi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.asyncTransactions=[],t}return gi(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})},t.prototype.scheduleExecuteAsync=function(){var e=this,t=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},t)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var t=[],o=[],i=[],n=!1;if(this.asyncTransactions.forEach(function(r){var s;e.serverSideRowModel.executeOnStore(r.transaction.route,function(e){s=e.applyTransaction(r.transaction)}),null==s&&(s={status:h.Qk6.StoreNotFound}),o.push(s),s.status==h.Qk6.StoreLoading?i.push(r):(r.callback&&t.push(function(){return r.callback(s)}),s.status===h.Qk6.Applied&&(n=!0))}),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=i,n&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED})),o.length>0){var r={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:h.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(r)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var t;return this.serverSideRowModel.executeOnStore(e.route,function(o){t=o.applyTransaction(e)}),t?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED}),t):{status:h.Qk6.StoreNotFound}},mi([(0,h.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),mi([(0,h.fsG)("valueCache")],t.prototype,"valueCache",void 0),mi([(0,h.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),mi([h.NqP],t.prototype,"postConstruct",null),mi([(0,h.Vu6)("ssrmTransactionManager")],t)}(h.AS9),vi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ci=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vi(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,h.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if(h._.missing(t.childStore)){var o=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(o,t))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&h._.exists(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(h._.exists(e.detailNode))return e.detailNode;var t=new h.Fxk(this.beans);t.detail=!0,t.selectable=!1,t.parent=e,h._.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var o=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=o||200,e.detailNode=t,t},Ci([(0,h.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),Ci([(0,h.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Ci([(0,h.fsG)("beans")],t.prototype,"beans",void 0),Ci([h.NqP],t.prototype,"postConstruct",null),Ci([(0,h.Vu6)("ssrmExpandListener")],t)}(h.AS9),bi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bi(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,h.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var t=h.gTE.GROUP_AUTO_COLUMN_ID+"-",o=0;o<e.length;++o)e[o].colId.indexOf(t)>-1&&(e[o].colId=e[o].colId.substr(t.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var t=e.find(function(e){return e.colId==h.gTE.GROUP_AUTO_COLUMN_ID});if(t){var o=e.indexOf(t);h._.removeFromArray(e,t);var i=this.columnModel.getRowGroupColumns().filter(function(t){return 0==e.filter(function(e){return e.colId===t.getColId()}).length}).map(function(e){return{colId:e.getId(),sort:t.sort}});h._.insertArrayIntoArray(e,i,o)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.extractSortModel(),o=this.findChangedColumnsInSort(t,e.sortModel),i=this.listenerUtils.isSortingWithValueColumn(o),n=this.listenerUtils.isSortingWithSecondaryColumn(o);this.serverSideRowModel.refreshAfterSort(t,{valueColChanged:i,secondaryColChanged:n,changedColumns:o})}},t.prototype.findChangedColumnsInSort=function(e,t){var o=[];return[e,t].forEach(function(e){if(e){var t=e.map(function(e){return e.colId});o=o.concat(t)}}),o.filter(function(o){var i=t.find(function(e){return e.colId===o}),n=e.find(function(e){return e.colId===o});return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(i,n)||function(o,i){return(o?t.indexOf(o):-1)!==(i?e.indexOf(i):-1)}(i,n)})},xi([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),xi([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),xi([(0,h.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),xi([(0,h.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),xi([h.NqP],t.prototype,"postConstruct",null),xi([(0,h.Vu6)("ssrmSortService")],t)}(h.AS9),Ei=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_i=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ei(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,h.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.filterManager.getFilterModel(),o=this.findChangedColumns(t,e?e.filterModel:{}),i=this.listenerUtils.isSortingWithValueColumn(o),n=this.listenerUtils.isSortingWithSecondaryColumn(o);this.serverSideRowModel.refreshAfterFilter(t,{valueColChanged:i,secondaryColChanged:n,changedColumns:o})}},t.prototype.findChangedColumns=function(e,t){var o={};Object.keys(e).forEach(function(e){return o[e]=!0}),Object.keys(t).forEach(function(e){return o[e]=!0});var i=[];return Object.keys(o).forEach(function(o){JSON.stringify(e[o])!=JSON.stringify(t[o])&&i.push(o)}),i},_i([(0,h.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),_i([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),_i([(0,h.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),_i([h.NqP],t.prototype,"postConstruct",null),_i([(0,h.Vu6)("ssrmFilterListener")],t)}(h.AS9),Ri=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ti=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pi=function(e){function t(t,o,i,n,r){var s=e.call(this,t)||this;return s.ssrmParams=i,s.storeParams=n,s.parentRowNode=o,s.startRow=t*n.cacheBlockSize,s.parentStore=r,s.level=o.level+1,s.groupLevel=i.rowGroupCols?s.level<i.rowGroupCols.length:void 0,s.leafGroup=!!i.rowGroupCols&&s.level===i.rowGroupCols.length-1,s}return Ri(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(e){return e.expanded}).length>0},t.prototype.forEachNode=function(e,t,o,i){void 0===t&&(t=new h.at1),this.rowNodes.forEach(function(n){if(e(n,t.next()),o&&n.childStore){var r=n.childStore;i?r.forEachNodeDeepAfterFilterAndSort(e,t):r.forEachNodeDeep(e,t)}})},t.prototype.forEachNodeDeep=function(e,t){this.forEachNode(e,t,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){this.forEachNode(e,t,!0,!0)},t.prototype.forEachNodeShallow=function(e,t){this.forEachNode(e,t,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===h.NlK.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,t){var o=this;void 0===e&&(e=[]),void 0===t&&(t=!1),this.destroyRowNodes();for(var i=this.parentStore.getRowCount(),n=this.getId()*this.storeParams.cacheBlockSize,r=Math.min(n+this.storeParams.cacheBlockSize,i)-n,s=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,a=s?Math.round(s/r):void 0,l=function(i){var n=i<e.length,r=function(r){var s=null!=r?r:o.blockUtils.createRowNode({field:o.groupField,group:o.groupLevel,leafGroup:o.leafGroup,level:o.level,parent:o.parentRowNode,rowGroupColumn:o.rowGroupColumn,rowHeight:a});if(n){var l=e[i];if(r)o.blockUtils.updateDataIntoRowNode(s,l);else{var c=o.prefixId(o.startRow+i);o.blockUtils.setDataIntoRowNode(s,l,c,a),o.blockUtils.checkOpenByDefault(s)}o.parentStore.removeDuplicateNode(s.id),o.nodeManager.addRowNode(s),o.allNodesMap[s.id]=s}return t&&(s.failedLoad=!0),s},s=c.gridOptionsWrapper.getRowIdFunc(),l=void 0;if(s&&n){var u=e[i],p=c.parentRowNode.getGroupKeys(),h=s({data:u,level:c.level,parentKeys:p.length>0?p:void 0});l=r(c.parentStore.retrieveNodeFromCache(h))}l||(l=r()),c.rowNodes.push(l)},c=this,u=0;u<r;u++)l(u)},t.prototype.removeDuplicateNode=function(e){if(this.getState()!=h.NlK.STATE_LOADED){var t=this.allNodesMap[e];if(t){this.blockUtils.destroyRowNode(t);var o=this.rowNodes.indexOf(t),i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[o]=i}}},t.prototype.refresh=function(){this.getState()!==h.NlK.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){var e,t=this;null===(e=this.rowNodes)||void 0===e||e.forEach(function(e){var o=t.parentStore.isNodeCached(e.id);t.blockUtils.destroyRowNode(e,o)}),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var t,o,i;this.touchLastAccessed();try{for(var n=Oi(this.rowNodes),r=n.next();!r.done&&null==(i=this.blockUtils.extractRowBounds(r.value,e));r=n.next());}catch(s){t={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return i},t.prototype.getRowIndexAtPixel=function(e){var t,o;this.touchLastAccessed();var i=null;try{for(var n=Oi(this.rowNodes),r=n.next();!r.done&&null==(i=this.blockUtils.getIndexAtPixel(r.value,e));r=n.next());}catch(s){t={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return i},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.setDisplayIndexes=function(e,t){var o=this;this.displayIndexStart=e.peek(),this.blockTopPx=t.value,this.rowNodes.forEach(function(i){return o.blockUtils.setDisplayIndex(i,e,t)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=t.value-this.blockTopPx},Ti([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ti([(0,h.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Ti([(0,h.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Ti([(0,h.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ti([(0,h.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ti([h.NqP],t.prototype,"postConstruct",null),Ti([h.FXL],t.prototype,"destroyRowNodes",null),Ti([(0,o=(0,h.qaB)("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),t;var o}(h.NlK),Di=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ii=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mi=(()=>(function(e){e[e.FOUND=0]="FOUND",e[e.CONTINUE_FIND=1]="CONTINUE_FIND",e[e.BREAK_FIND=2]="BREAK_FIND"}(Mi||(Mi={})),Mi))(),Ni=function(e){function t(o,i,n){var r=e.call(this)||this;return r.blocks={},r.blockHeights={},r.lastRowIndexKnown=!1,r.displayIndexStart=0,r.displayIndexEnd=0,r.cacheTopPixel=0,r.info={},r.refreshedNodeCache={},r.ssrmParams=o,r.storeParams=i,r.parentRowNode=n,r.rowCount=t.INITIAL_ROW_COUNT,r}return Di(t,e),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)}),this.blockUtils.destroyRowNodes(Object.values(this.refreshedNodeCache))},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,t){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t.rowCount);var o=t.storeInfo||t.groupLevelInfo;o&&Object.assign(this.info,o),t.rowData||h._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',t)},"InfiniteStore.noData");var i=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.isAlive()&&(this.checkRowCount(e,i),e.setData(t.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,i=this.getBlocksInOrder().filter(function(t){return t!=e});i.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var n=this.storeParams.maxBlocksInCache>0,r=n?this.storeParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(e,t){if(e.getState()===Pi.STATE_WAITING_TO_LOAD&&t>=s||n&&t>=r){if(e.isAnyNodeOpen())return;if(o.isBlockCurrentlyDisplayed(e))return;if(o.isBlockFocused(e))return;o.destroyBlock(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var o=e.getDisplayIndexStart(),i=e.getDisplayIndexEnd();return null!=i&&null!=o&&t.rowIndex>=o&&t.rowIndex<i},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(t,o)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(t){return t.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,o){if("number"==typeof o&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<i&&(this.rowCount=i)}},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new h.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new h.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeAfterFilterAndSort(e,t)})},t.prototype.getBlocksInOrder=function(){return h._.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&t.push(o)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.isNodeCached=function(e){return!!this.refreshedNodeCache[e]},t.prototype.retrieveNodeFromCache=function(e){var t=this.refreshedNodeCache[e];return t&&delete this.refreshedNodeCache[e],t},t.prototype.buildRowNodeCache=function(){var e={};this.getBlocksInOrder().forEach(function(t){t.rowNodes.forEach(function(t){t.group&&(e[t.id]=t)})}),this.refreshedNodeCache=e},t.prototype.refreshBlocks=function(){this.buildRowNodeCache(),this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive()||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,t){var o=[],i=-1,n=!1;h._.missing(e)&&(n=!0);var r=!1;return this.getBlocksInOrder().forEach(function(s){r||(n&&i+1!==s.getId()?r=!0:(i=s.getId(),s.forEachNodeShallow(function(i){var r=i===e||i===t;(n||r)&&o.push(i),r&&(n=!n)})))}),r||n?[]:o},t.prototype.findBlockAndExecute=function(e,t,o){var i,n=!1,r=!1,s=null;return this.getBlocksInOrder().forEach(function(o){if(!n&&!r){var a=e(o);a==Mi.FOUND?(i=t(o),n=!0):a==Mi.CONTINUE_FIND?s=o:a==Mi.BREAK_FIND&&(r=!0)}}),n||(i=o(s)),i},t.prototype.getRowBounds=function(e){var t=this;return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?Mi.FOUND:t.isBlockBefore(e)?Mi.CONTINUE_FIND:Mi.BREAK_FIND},function(t){return t.getRowBounds(e)},function(o){var i,n;return null!==o?(i=o.getBlockTopPx()+o.getBlockHeightPx(),n=o.getDisplayIndexEnd()):(i=t.cacheTopPixel,n=t.displayIndexStart),{rowHeight:t.defaultRowHeight,rowTop:i+(e-n)*t.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var t=this,o=this.findBlockAndExecute(function(t){return t.isPixelInRange(e)?Mi.FOUND:t.getBlockTopPx()<e?Mi.CONTINUE_FIND:Mi.BREAK_FIND},function(t){return t.getRowIndexAtPixel(e)},function(o){var i,n;o?(i=o.getBlockTopPx()+o.getBlockHeightPx(),n=o.getDisplayIndexEnd()):(i=t.cacheTopPixel,n=t.displayIndexStart);for(var r=t.storeParams.cacheBlockSize,s=t.defaultRowHeight*r,a=o?o.getId()+1:0,l=function(o){var n=t.getCachedBlockHeight(o),r=null!=n?n:s;return{height:r,pixelInBlock:e<=r+i}},c=l(a);!c.pixelInBlock;)i+=c.height,n+=r,c=l(++a);return n+(0|Math.floor((e-i)/(c.height/r)))}),i=this.getDisplayIndexEnd()-1;return Math.min(o,i)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,t){var o=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=t.value;var i=-1,n=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(r){var s=r.getId(),a=s-i-1,l=a*n;l>0&&e.skip(l);for(var c=1;c<=a;c++){var u=s-c;h._.exists(o.blockHeights[u])?t.value+=o.blockHeights[u]:t.value+=n*o.defaultRowHeight}i=s,r.setDisplayIndexes(e,t),o.blockHeights[s]=r.getBlockHeightPx()});var r=(i+1)*n-1,s=this.getRowCount()-r-1;s>0&&(e.skip(s),t.value+=s*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=t.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,t){var o=this;if(void 0===t&&(t=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?Mi.FOUND:t.isBlockBefore(e)?Mi.CONTINUE_FIND:Mi.BREAK_FIND},function(t){return t.getRowUsingDisplayIndex(e)},function(i){if(!t){var n,r,s,a=o.storeParams.cacheBlockSize;if(i)for(n=i.getId()+1,r=i.getDisplayIndexEnd(),s=i.getBlockHeightPx()+i.getBlockTopPx();!(e>=r&&e<r+a);){r+=a;var l=o.blockHeights[n];h._.exists(l)?s+=l:s+=o.defaultRowHeight*a,n++}else n=Math.floor((e-o.displayIndexStart)/a),r=o.displayIndexStart+n*a,s=o.cacheTopPixel+n*a*o.defaultRowHeight;return o.logger.log("block missing, rowIndex = "+e+", creating #"+n+", displayIndexStart = "+r),o.createBlock(n,r,{value:s}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.storeParams.cacheBlockSize,o=Math.floor(e/t);return this.findBlockAndExecute(function(e){return e.getId()===o?Mi.FOUND:e.getId()<o?Mi.CONTINUE_FIND:Mi.BREAK_FIND},function(t){return t.getRowUsingLocalIndex(e).rowIndex},function(o){if(!o)return e;var i=t*(o.getId()+1)-1,n=o.getRowUsingLocalIndex(i);return(n.expanded&&n.childStore?n.childStore.getDisplayIndexEnd()-1:n.expanded&&n.detailNode?n.detailNode.rowIndex:n.rowIndex)+(e-i)})},t.prototype.addStoreStates=function(e){e.push({infiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,t,o){var i=this.createBean(new Pi(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return i.setDisplayIndexes(new h.at1(t),o),this.blocks[i.getId()]=i,this.purgeBlocksIfNeeded(i),this.rowNodeBlockLoader.addBlock(i),i},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:h.Qk6.StoreWrongType}},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){var o=null;return t.getBlocksInOrder().forEach(function(t){t.forEachNodeShallow(function(t){t.key==e&&(o=t)},new h.at1)}),o})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(t){return t.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){this.gridOptionsWrapper.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(t){t.isGroupLevel()&&t.forEachNodeShallow(function(t){var o=t.childStore;o&&e(o)},new h.at1)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,Ii([(0,h.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Ii([(0,h.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ii([(0,h.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Ii([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Ii([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ii([(0,h.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Ii([h.NqP],t.prototype,"postConstruct",null),Ii([h.FXL],t.prototype,"destroyAllBlocks",null),Ii([(0,o=(0,h.qaB)("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),t;var o}(h.AS9),ki=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Li=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fi=function(e){function t(t,o,i){var n=e.call(this,0)||this;return n.nodeIdSequence=new h.at1,n.info={},n.ssrmParams=t,n.parentRowNode=i,n.level=i.level+1,n.groupLevel=t.rowGroupCols?n.level<t.rowGroupCols.length:void 0,n.leafGroup=!!t.rowGroupCols&&n.level===t.rowGroupCols.length-1,n}return ki(t,e),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,t){void 0===e&&(e=1),void 0===t&&(t=!1),this.destroyRowNodes();for(var o=0;o<e;o++){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});t&&(i.failedLoad=!0),this.allRowNodes.push(i),this.nodesAfterFilter.push(i),this.nodesAfterSort.push(i)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,t){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=t?h._.insertIntoArray(this.allRowNodes,o,t):this.allRowNodes.push(o);var i=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(o,e,i,void 0),this.nodeManager.addRowNode(o),this.blockUtils.checkOpenByDefault(o),this.allNodesMap[o.id]=o,o},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var t=e.storeInfo||e.groupLevelInfo;t&&Object.assign(this.info,t);var o=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||h._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(o,e.rowData),o&&this.blockUtils.destroyRowNodes(h._.getAllValuesInObject(o)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,t){var o=this;t&&t.forEach(function(t){var i=function(t){if(e){var i=o.gridOptionsWrapper.getRowIdFunc();if(i){var n=o.parentRowNode.getGroupKeys(),r=i({data:t,parentKeys:n.length>0?n:void 0,level:o.level}),s=e[r];if(s)return delete e[r],s}}}(t);i?function(e,t){o.allNodesMap[e.id]=e,o.blockUtils.updateDataIntoRowNode(e,t),o.allRowNodes.push(e)}(i,t):o.createDataNode(t)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.gridOptionsWrapper.isServerSideSortAllLevels()||this.gridOptionsWrapper.isServerSideSortOnServer(),t=this.sortController.getSortOptions();this.nodesAfterSort=e||!t||0==t.length?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,t)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.gridOptionsWrapper.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(t){return e.filterManager.doesRowPassFilter({rowNode:t})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,t){var o=this;this.displayIndexStart=e.peek(),this.topPx=t.value;var i={};this.nodesAfterSort.forEach(function(n){o.blockUtils.setDisplayIndex(n,e,t),i[n.id]=!0}),this.allRowNodes.forEach(function(e){i[e.id]||o.blockUtils.clearDisplayIndex(e)}),this.displayIndexEnd=e.peek(),this.heightPx=t.value-this.topPx},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new h.at1),this.allRowNodes.forEach(function(o){e(o,t.next());var i=o.childStore;i&&i.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new h.at1),this.nodesAfterSort.forEach(function(o){e(o,t.next());var i=o.childStore;i&&i.forEachNodeDeepAfterFilterAndSort(e,t)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var t=0;t<this.nodesAfterSort.length;t++){var o=this.blockUtils.extractRowBounds(this.nodesAfterSort[t],e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var t=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var o=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=o.rowTop+o.rowHeight&&o.expanded){if(o.childStore&&o.childStore.getRowCount()>0)return o.childStore.getRowIndexAtPixel(e);if(o.detailNode)return o.detailNode.rowIndex}return o.rowIndex}var i=null;return this.nodesAfterSort.forEach(function(o){var n=t.blockUtils.getIndexAtPixel(o,e);null!=n&&(i=n)}),null==i?this.displayIndexEnd-1:i},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){return t.allRowNodes.find(function(t){return t.key==e})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(t){var o=t.childStore;o&&e(o)})},t.prototype.refreshAfterFilter=function(e){var t=this.gridOptionsWrapper.isServerSideFilterOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.gridOptionsWrapper.isServerSideFilterAllLevels()||t&&o)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var t=this.gridOptionsWrapper.isServerSideSortOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.gridOptionsWrapper.isServerSideSortAllLevels()||t&&o)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case h.NlK.STATE_FAILED:return{status:h.Qk6.StoreLoadingFailed};case h.NlK.STATE_LOADING:return{status:h.Qk6.StoreLoading};case h.NlK.STATE_WAITING_TO_LOAD:return{status:h.Qk6.StoreWaitingToLoad}}var t=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(t&&!t({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:h.Qk6.Cancelled};var o={status:h.Qk6.Applied,remove:[],update:[],add:[]},i=[];return this.executeAdd(e,o),this.executeRemove(e,o,i),this.executeUpdate(e,o,i),this.filterAndSortNodes(),this.updateSelection(i),o},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(e){e.setSelected(!1,!1,!0)});var t={type:h.zW2.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)}},t.prototype.executeAdd=function(e,t){var o=this,i=e.add,n=e.addIndex;h._.missingOrEmpty(i)||("number"==typeof n&&n>=0?i.reverse().forEach(function(e){var i=o.createDataNode(e,n);t.add.push(i)}):i.forEach(function(e){var i=o.createDataNode(e);t.add.push(i)}))},t.prototype.executeRemove=function(e,t,o){var i=this,n=e.remove;if(null!=n){var r={};n.forEach(function(e){var n=i.lookupRowNode(e);n&&(n.isSelected()&&o.push(n),n.clearRowTopAndRowIndex(),r[n.id]=!0,delete i.allNodesMap[n.id],t.remove.push(n),i.nodeManager.removeNode(n))}),this.allRowNodes=this.allRowNodes.filter(function(e){return!r[e.id]})}},t.prototype.executeUpdate=function(e,t,o){var i=this,n=e.update;null!=n&&n.forEach(function(e){var n=i.lookupRowNode(e);n&&(n.updateData(e),!n.selectable&&n.isSelected()&&o.push(n),t.update.push(n))})},t.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var i=this.level,n=this.parentRowNode.getGroupKeys(),r=o({data:e,parentKeys:n.length>0?n:void 0,level:i});if(!(t=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(t=this.allRowNodes.find(function(t){return t.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return t},t.prototype.addStoreStates=function(e){e.push({infiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===h.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==h.NlK.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,t){var o=[],i=!1;return h._.missing(e)&&(i=!0),this.nodesAfterSort.forEach(function(n){var r=n===e||n===t;(i||r)&&o.push(n),r&&(i=!i)}),i?[]:o},Li([(0,h.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Li([(0,h.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Li([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Li([(0,h.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Li([(0,h.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Li([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),Li([(0,h.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Li([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),Li([(0,h.fsG)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Li([h.NqP],t.prototype,"postConstruct",null),Li([h.FXL],t.prototype,"destroyRowNodes",null),t}(h.NlK),Gi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hi=function(){function e(){}return e.prototype.createStore=function(e,t){var o=this.getStoreParams(e,t);return new(o.infiniteScroll?Ni:Fi)(e,o,t)},e.prototype.getStoreParams=function(e,t){var o=this.getLevelSpecificParams(t),i=this.isInfiniteScroll(o);return{infiniteScroll:i,cacheBlockSize:this.getBlockSize(i,o),maxBlocksInCache:this.getMaxBlocksInCache(i,e,o)}},e.prototype.getMaxBlocksInCache=function(e,t,o){if(e){var i=o&&null!=o.maxBlocksInCache?o.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=i&&i>=0)if(t.dynamicRowHeight)h._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight");else{if(!this.columnModel.isAutoRowHeightActive())return i;h._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},e.prototype.getBlockSize=function(e,t){if(e){var o=t&&null!=t.cacheBlockSize?t.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=o&&o>0?o:100}},e.prototype.getLevelSpecificParams=function(e){var t=this.gridOptionsWrapper.getServerSideGroupLevelParamsFunc();if(t){var o=t({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=o.storeType&&(o.infiniteScroll="partial"===o.storeType),o}},e.prototype.isInfiniteScroll=function(e){return e&&null!=e.infiniteScroll?e.infiniteScroll:this.gridOptionsWrapper.isServerSideInfiniteScroll()},Gi([(0,h.fsG)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Gi([(0,h.fsG)("columnModel")],e.prototype,"columnModel",void 0),Gi([(0,h.Vu6)("ssrmStoreFactory")],e)}(),Vi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wi=function(){function e(){}return e.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnModel.getValueColumns().map(function(e){return e.getColId()}),o=0;o<e.length;o++)if(t.indexOf(e[o])>-1)return!0;return!1},e.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnModel.getSecondaryColumns())return!1;for(var t=this.columnModel.getSecondaryColumns().map(function(e){return e.getColId()}),o=0;o<e.length;o++)if(t.indexOf(e[o])>-1)return!0;return!1},Vi([(0,h.fsG)("columnModel")],e.prototype,"columnModel",void 0),Vi([(0,h.Vu6)("ssrmListenerUtils")],e)}(),Bi={moduleName:h.GXE.ServerSideRowModelModule,rowModels:{serverSide:si},beans:[wi,Si,ci,hi,fi,yi,Ai,Hi,Wi],dependantModules:[T.f]},ji=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},zi=function(){function e(t,o,i,n,r,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=o,this.eventService=i,this.columnModel=n,this.gridApi=r,this.columnApi=s,this.beans=l,this.selectionService=a,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return h._.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){var o=this;if("string"!=typeof t){var i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(function(t){return o.createNode(t,o.rootNode,e.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.updateRowData=function(e,t){var o={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,o,i),this.executeUpdate(e,o,i),this.executeAdd(e,o),this.updateSelection(i),t&&h._.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e){var t=e.length>0;t&&e.forEach(function(e){e.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:h.zW2.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.executeAdd=function(t,o){var i=this,n=t.add,r=t.addIndex;if(!h._.missingOrEmpty(n)){var s,a,l=n.map(function(t){return i.createNode(t,i.rootNode,e.TOP_LEVEL)});if("number"==typeof r&&r>=0){var c=this.rootNode.allLeafChildren,u=0===r?0:c.reduce(function(e,t,o){var i,n=t.rowIndex,s=null===(i=c[e])||void 0===i?void 0:i.rowIndex;return null!=n&&null!=s&&n<r&&n>s?o:e},0)+1;s=c.slice(0,u),a=c.slice(u,c.length)}else s=this.rootNode.allLeafChildren,a=[];this.rootNode.allLeafChildren=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ji(arguments[t]));return e}(s,l,a),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),o.add=l}},e.prototype.executeRemove=function(e,t,o){var i=this,n=e.remove;if(!h._.missingOrEmpty(n)){var r={};n.forEach(function(e){var n=i.lookupRowNode(e);n&&(n.isSelected()&&o.push(n),n.clearRowTopAndRowIndex(),r[n.id]=!0,delete i.allNodesMap[n.id],t.remove.push(n))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(e){return!r[e.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},e.prototype.executeUpdate=function(t,o,i){var n=this,r=t.update;h._.missingOrEmpty(r)||r.forEach(function(t){var r=n.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&i.push(r),n.setMasterForRow(r,t,e.TOP_LEVEL,!1),o.update.push(r))})},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowIdFunc();if(o){var i=o({data:e,level:0});if(!(t=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(t=this.rootNode.allLeafChildren.find(function(t){return t.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return t||null},e.prototype.createNode=function(e,t,o){var i=new h.Fxk(this.beans);return i.group=!1,this.setMasterForRow(i,e,o,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=o,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},e.prototype.setMasterForRow=function(e,t,o,i){if(this.doingTreeData)e.setMaster(!1),i&&(e.expanded=!1);else if(e.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),i){var n=this.columnModel.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(o+(n?n.length:0))}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Ui=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yi=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xi=(()=>(function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(Xi||(Xi={})),Xi))(),qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowsToDisplay=[],t}return Ui(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:h.j_r.EVERYTHING}),t=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o=this.refreshModel.bind(this,{step:h.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:h.j_r.PIVOT})),this.addManagedListener(this.eventService,h.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var i=this.refreshModel.bind(this,{step:h.j_r.MAP,keepRenderedRows:!0,animate:t});this.addManagedListener(this.gridOptionsWrapper,h.wfB.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i),this.addManagedListener(this.gridOptionsWrapper,h.wfB.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i),this.rootNode=new h.Fxk(this.beans),this.nodeManager=new zi(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,i){var n,r=!1;do{n=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),c=Math.min(a,i),u=l;u<=c;u++){var p=this.getRow(u);if(p.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(h.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),t=0,o=new Set,i=this.gridOptionsWrapper.getDomLayout()===h.gTE.DOM_LAYOUT_NORMAL,n=0;n<this.rowsToDisplay.length;n++){var r=this.rowsToDisplay[n];if(null!=r.id&&o.add(r.id),null==r.rowHeight){var s=this.gridOptionsWrapper.getRowHeightForNode(r,i,e);r.setRowHeight(s.height,s.estimated)}r.setRowTop(t),r.setRowIndex(n),t+=r.rowHeight}return o},t.prototype.clearRowTopAndRowIndex=function(e,t){var o=e.isActive(),i=function(e){e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},n=function(e){i(e),i(e.detailNode),i(e.sibling),e.hasChildren()&&e.childrenAfterGroup&&(o&&-1!=e.level&&!e.expanded||e.childrenAfterGroup.forEach(n))};n(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,t,o){var i=this;void 0===o&&(o=0);var n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gridOptionsWrapper.isSuppressAnimationFrame();return r!==e[0]&&(e.forEach(function(e){h._.removeFromArray(i.rootNode.allLeafChildren,e)}),e.forEach(function(e,t){h._.insertIntoArray(i.rootNode.allLeafChildren,e,Math.max(n+o,0)+t)}),this.refreshModel({step:h.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,i=null!=o?this.getRow(o):null;if(i&&e&&i!==e&&null!=t){var n=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(n),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return h.oh5.Below}return e-t.rowTop<t.rowHeight/2?h.oh5.Above:h.oh5.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var e=this.rootNode.childrenAfterAggFilter;return e?e.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(h._.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:h.j_r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows(),o=0===e.columns.length||e.columns.some(function(e){return e.isPrimary()});this.refreshModel({step:o?h.j_r.FILTER:h.j_r.FILTER_AGGREGATES,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:h.j_r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return h.gTE.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:h.j_r.PIVOT}):this.refreshModel({step:h.j_r.AGGREGATE})},t.prototype.createChangePath=function(e){var t=h._.missingOrEmpty(e),o=new h.Dkq(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==e.rowNodeTransactions)return!1;var t=e.rowNodeTransactions.filter(function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0});return null==t||0==t.length},t.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var t=this.createChangePath(e.rowNodeTransactions);switch(e.step){case h.j_r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,t,!!e.afterColumnsChanged);case h.j_r.FILTER:this.doFilter(t);case h.j_r.PIVOT:this.doPivot(t);case h.j_r.AGGREGATE:this.doAggregate(t);case h.j_r.FILTER_AGGREGATES:this.doFilterAggregates(t);case h.j_r.SORT:this.doSort(e.rowNodeTransactions,t);case h.j_r.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,o),this.eventService.dispatchEvent({type:h.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1})}},t.prototype.isEmpty=function(){var e=h._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return h._.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return h._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,i=!t,n=!1,r=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var l=i&&!n;if(i||a!==t&&a!==e||(i=!0),!a.group||!s){var c=i&&!n,u=a.isParentOfNode(o);(c||u)&&r.push(a)}l&&(a!==t&&a!==e||(n=!0,o=a===t?t:e))}),r},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(h._.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var i=Math.floor((t+o)/2),n=this.rowsToDisplay[i];if(this.isRowInPixel(n,e))return i;n.rowTop<e?t=i+1:n.rowTop>e&&(o=i-1)}},t.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(t,o){return e(t,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Xi.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,Xi.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Xi.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Xi.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,o,i){if(!e)return i;for(var n=0;n<e.length;n++){var r=e[n];if(t(r,i++),r.hasChildren()){var s=null;switch(o){case Xi.Normal:s=r.childrenAfterGroup;break;case Xi.AfterFilter:s=r.childrenAfterAggFilter;break;case Xi.AfterFilterAndSort:s=r.childrenAfterSort;break;case Xi.PivotNodes:s=r.leafGroup?null:r.childrenAfterSort}s&&(i=this.recursivelyWalkNodesAndCallback(s,t,o,i))}}return i},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData(),o=this.columnModel.isPivotActive(),i=function(n){n&&n.forEach(function(n){var r=function(){n.expanded=e,i(n.childrenAfterGroup)};t?h._.exists(n.childrenAfterGroup)&&r():o?!n.leafGroup&&r():n.group&&r()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:h.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:h.zW2.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,i,n){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(i)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&h._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){"boolean"==typeof e[o]&&(t.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return h._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){return e[o]=t.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(h.Fxk.ID_PREFIX_ROW_GROUP)){var t=void 0;return this.forEachNode(function(o){o.id===e&&(t=o)}),t}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:h.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:h.j_r.EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(n){var r=e.nodeManager.updateRowData(n.rowDataTransaction,void 0);o.push(r),n.callback&&t.push(n.callback.bind(null,r)),"number"==typeof n.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(o,void 0,i),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),o.length>0){var n={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:h.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(n)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([o],t,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var t=0;t<this.rootNode.allLeafChildren.length;t++)e[this.rootNode.allLeafChildren[t].id]=t;return e}},t.prototype.commonUpdateRowData=function(e,t,o){var i=!this.gridOptionsWrapper.isSuppressAnimationFrame();o&&(t=this.createRowNodeOrder()),this.refreshModel({step:h.j_r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:h.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:h.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(t){t.setRowHeight(t.rowHeight,!0);var o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Yi([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),Yi([(0,h.fsG)("selectionService")],t.prototype,"selectionService",void 0),Yi([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),Yi([(0,h.fsG)("valueCache")],t.prototype,"valueCache",void 0),Yi([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),Yi([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),Yi([(0,h.fsG)("animationFrameService")],t.prototype,"animationFrameService",void 0),Yi([(0,h.fsG)("beans")],t.prototype,"beans",void 0),Yi([(0,h.fsG)("filterStage")],t.prototype,"filterStage",void 0),Yi([(0,h.fsG)("sortStage")],t.prototype,"sortStage",void 0),Yi([(0,h.fsG)("flattenStage")],t.prototype,"flattenStage",void 0),Yi([(0,h.FiY)("groupStage")],t.prototype,"groupStage",void 0),Yi([(0,h.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),Yi([(0,h.FiY)("pivotStage")],t.prototype,"pivotStage",void 0),Yi([(0,h.FiY)("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Yi([h.NqP],t.prototype,"init",null),Yi([(0,h.Vu6)("rowModel")],t)}(h.AS9),Zi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ki=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zi(t,e),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},Ki([(0,h.fsG)("filterService")],t.prototype,"filterService",void 0),Ki([(0,h.Vu6)("filterStage")],t)}(h.AS9),Ji=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$i=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ji(t,e),t.prototype.execute=function(e){var t=this,o=this.sortController.getSortOptions(),i=h._.exists(o)&&o.length>0,n=i&&h._.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),r=o.some(function(e){return!!t.columnModel.getGroupDisplayColumnForGroup(e.column.getId())});this.sortService.sort(o,i,n,e.rowNodeTransactions,e.changedPath,r)},$i([(0,h.fsG)("sortService")],t.prototype,"sortService",void 0),$i([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),$i([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),$i([(0,h.Vu6)("sortStage")],t)}(h.AS9),tn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),on=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],i={value:0},n=this.columnModel.isPivotMode(),r=n&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(r?[t]:t.childrenAfterSort,o,i,n,0),!r&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,o,i,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,i,n){if(!h._.missingOrEmpty(e))for(var r=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<e.length;l++){var c=e[l],u=c.hasChildren(),p=s&&u&&1===c.childrenAfterGroup.length,d=a&&u&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(i&&!u||r&&c.expanded&&!c.master&&(!i||!c.leafGroup)||p||d)&&this.addRowNodeToRowsToDisplay(c,t,o,n),!i||!c.leafGroup)if(u){var f=p||d;(c.expanded||f)&&(this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,t,o,i,f?n:n+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,t,o,n)))}else if(c.master&&c.expanded){var g=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(g,t,o,n)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,i){var n=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(n?0:i)},t.prototype.ensureFooterNodeExists=function(e){if(!h._.exists(e.sibling)){var t=new h.Fxk(this.beans);Object.keys(e).forEach(function(o){t[o]=e[o]}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,h._.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(h._.exists(e.detailNode))return e.detailNode;var t=new h.Fxk(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,h._.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},on([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),on([(0,h.fsG)("beans")],t.prototype,"beans",void 0),on([(0,h.Vu6)("flattenStage")],t)}(h.AS9),rn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rn(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,o,i,n,r){var s=this,a=this.gridOptionsWrapper.isGroupMaintainOrder(),l=this.columnModel.getAllGridColumns().some(function(e){return e.isRowGroupActive()}),c={};o&&i&&(c=this.calculateDirtyNodes(i));var u=this.columnModel.isPivotMode();n&&n.forEachChangedNodeDepthFirst(function(i){if(s.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0),!t||a&&l&&!i.leafGroup&&!r||u&&i.leafGroup){var p=i.childrenAfterAggFilter.slice(0);if(a&&i.childrenAfterSort){var h=i.childrenAfterSort.reduce(function(e,t,o){return e[t.id]=o,e},{});p.sort(function(e,t){return(h[e.id]||0)-(h[t.id]||0)})}i.childrenAfterSort=p}else i.childrenAfterSort=o?s.doDeltaSort(i,c,n,e):s.rowNodeSorter.doFullSort(i.childrenAfterAggFilter,e);i.sibling&&(i.sibling.childrenAfterSort=i.childrenAfterSort),s.updateChildIndexes(i),s.postSortFunc&&s.postSortFunc({nodes:i.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(n)},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach(function(e){return t[e.id]=!0})};return e&&e.forEach(function(e){o(e.add),o(e.update),o(e.remove)}),t},t.prototype.doDeltaSort=function(e,t,o,i){var n=this,r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,i);var a={},l=[];r.forEach(function(e){t[e.id]||!o.canSkip(e)?l.push(e):a[e.id]=!0});var c=s.filter(function(e){return a[e.id]}),u=function(e,t){return{currentPos:t,rowNode:e}},p=l.map(u).sort(function(e,t){return n.rowNodeSorter.compareRowNodes(i,e,t)});return this.mergeSortedArrays(i,p,c.map(u)).map(function(e){return e.rowNode})},t.prototype.mergeSortedArrays=function(e,t,o){for(var i=[],n=0,r=0;n<t.length&&r<o.length;){var s=this.rowNodeSorter.compareRowNodes(e,t[n],o[r]);i.push(s<0?t[n++]:o[r++])}for(;n<t.length;)i.push(t[n++]);for(;r<o.length;)i.push(o[r++]);return i},t.prototype.updateChildIndexes=function(e){if(!h._.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var i=t[o],n=o===e.childrenAfterSort.length-1;i.setFirstChild(0===o),i.setLastChild(n),i.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return h._.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(function(e){e.hasChildren()&&o(e)})};e&&e.executeFromRootNode(function(e){return o(e)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!h._.missing(e)&&e.forEach(function(e){o.columnModel.getGroupDisplayColumns().forEach(function(i){var n=i.getColDef().showRowGroup;if("string"==typeof n){var r=o.columnModel.getPrimaryColumn(n);if(r!==e.rowGroupColumn)if(t)e.setGroupValue(i.getId(),void 0);else{var s=e.getFirstChildOfFirstChild(r);s&&e.setGroupValue(i.getId(),s.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},sn([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),sn([(0,h.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),sn([h.NqP],t.prototype,"init",null),sn([(0,h.Vu6)("sortService")],t)}(h.AS9),ln=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),cn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ln(t,e),t.prototype.filter=function(e){var t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,i=function(t,i){t.childrenAfterFilter=t.hasChildren()&&e&&!i?t.childrenAfterGroup.filter(function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&o.filterManager.doesRowPassFilter({rowNode:e});return t||i}):t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var n=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||o.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?n(e.childrenAfterGroup[r],a):i(s,a)}i(e,t)};t.executeFromRootNode(function(e){return n(e,!1)})}else t.forEachChangedNodeDepthFirst(function(e){return i(e,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},cn([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),cn([(0,h.Vu6)("filterService")],t)}(h.AS9),pn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===h.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var t=this.createTransactionForRowData(e);if(t){var o=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}(t,2),i=this.clientSideRowModel.updateRowData(o[0],o[1]);i&&this.rowRenderer.refreshFullWidthRows(i.update)}},t.prototype.createTransactionForRowData=function(e){if(h._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowIdFunc();if(null!=t){var o={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return h._.exists(e)&&e.forEach(function(e,r){var s=t({data:e,level:0}),a=i[s];n&&(n[s]=r),a?(a.data!==e&&o.update.push(e),i[s]=void 0):o.add.push(e)}),h._.iterateObject(i,function(e,t){t&&o.remove.push(t.data)}),[o,n]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},hn([(0,h.fsG)("rowModel")],t.prototype,"rowModel",void 0),hn([(0,h.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),hn([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),hn([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),hn([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),hn([h.NqP],t.prototype,"postConstruct",null),hn([(0,h.Vu6)("immutableService")],t)}(h.AS9),fn={moduleName:h.GXE.ClientSideRowModelModule,beans:[Qi,en,nn,an,un,dn],rowModels:{clientSide:qi}},gn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yn=function(e){function t(t,o,i){var n=e.call(this,t)||this;return n.parentCache=o,n.params=i,n.startRow=t*i.blockSize,n.endRow=n.startRow+i.blockSize,n}return gn(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,o){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),h._.exists(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();h._.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(t)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,t,o){var i=this;this.rowNodes.forEach(function(n,r){i.startRow+r<o&&e(n,t.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,o=new h.Fxk(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(t),o.setRowTop(this.params.rowHeight*t),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach(function(o,i){t.setDataAndId(o,e.rowData?e.rowData[i]:void 0,t.startRow+i)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},mn([(0,h.fsG)("beans")],t.prototype,"beans",void 0),mn([h.NqP],t.prototype,"postConstruct",null),mn([h.FXL],t.prototype,"destroyRowNodes",null),t}(h.NlK),vn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wn=function(e){function t(t){var o=e.call(this)||this;return o.lastRowIndexKnown=!1,o.blocks={},o.blockCount=0,o.rowCount=t.initialRowCount,o.params=t,o}return vn(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var o=Math.floor(e/this.params.blockSize),i=this.blocks[o];if(!i){if(t)return;i=this.createBlock(o)}return i.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new yn(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(e){return e.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,i=this.getBlocksInOrder().filter(function(t){return t!=e});i.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(e,t){if(e.getState()===yn.STATE_WAITING_TO_LOAD&&t>=s||n&&t>=r){if(o.isBlockCurrentlyDisplayed(e))return;if(o.isBlockFocused(e))return;o.removeBlockFromCache(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var o=e.getStartRow(),i=e.getEndRow();return t.rowIndex>=o&&t.rowIndex<i},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,o)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,h._.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,o=new h.at1;this.getBlocksInOrder().forEach(function(i){return i.forEachNode(e,o,t.rowCount)})},t.prototype.getBlocksInOrder=function(){return h._.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:h.zW2.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.params.blockSize>=e.rowCount&&t.push(o)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.removeBlockFromCache(t)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var o=this,i=[],n=-1,r=!1,s=new h.at1;h._.missing(e)&&(r=!0);var a=!1;return this.getBlocksInOrder().forEach(function(l){a||(r&&n+1!==l.getId()?a=!0:(n=l.getId(),l.forEachNode(function(o){var n=o===e||o===t;(r||n)&&i.push(o),n&&(r=!r)},s,o.rowCount)))}),a||r?[]:i},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Cn([(0,h.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Cn([(0,h.fsG)("focusService")],t.prototype,"focusService",void 0),Cn([(0,o=(0,h.qaB)("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Cn([h.FXL],t.prototype,"destroyAllBlocks",null),t;var o}(h.AS9),bn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bn(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,o,i){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&h._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,h.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,h.zW2.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!h._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return h.gTE.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:h.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new h.at1},this.infiniteCache=this.createBean(new wn(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode(function(o){o.id===e&&(t=o)}),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},xn([(0,h.fsG)("filterManager")],t.prototype,"filterManager",void 0),xn([(0,h.fsG)("sortController")],t.prototype,"sortController",void 0),xn([(0,h.fsG)("selectionService")],t.prototype,"selectionService",void 0),xn([(0,h.fsG)("gridApi")],t.prototype,"gridApi",void 0),xn([(0,h.fsG)("columnApi")],t.prototype,"columnApi",void 0),xn([(0,h.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),xn([(0,h.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),xn([h.NqP],t.prototype,"init",null),xn([h.FXL],t.prototype,"destroyDatasource",null),xn([(0,h.Vu6)("rowModel")],t)}(h.AS9),En={moduleName:h.GXE.InfiniteRowModelModule,rowModels:{infinite:Sn}};let _n=(()=>{class e{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let e=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(e.children=this.getChildColDefs(this.childColumns)),e}getChildColDefs(e){return e.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(e){return function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o}(e,["childColumns"])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ag-grid-column"]],contentQueries:function(t,o,i){if(1&t&&r.Suo(i,e,4),2&t){let e;r.iGM(e=r.CRH())&&(o.childColumns=e)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",wrapHeaderText:"wrapHeaderText",autoHeaderHeight:"autoHeaderHeight",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),An=(()=>{class e extends h.vA3{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,t){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},t)}):window.setTimeout(()=>{e()},t)}setInterval(e,t){return new h.j_S(o=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{o(window.setInterval(()=>{e()},t))}):o(window.setInterval(()=>{e()},t))})}addEventListener(e,t,o,i){this.isOutsideAngular(t)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i)}dispatchEvent(e,t,o=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(t):t():(this.isEmitterUsed(e)||o)&&(!r.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(t):t())}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return t&&"agInit"in t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Rn=(()=>{class e extends h.Nk3{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let t=this,o=new class extends class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(e){super.init(e),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return t.createComponent(e)}hasMethod(e){return null!=o.getFrameworkComponentInstance()[e]}callMethod(e,t){const i=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[e].apply(i,t)}addMethod(e,t){o[e]=t}};return o}createComponent(e){let t=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(t)}}return e.\u0275fac=function(){let t;return function(o){return(t||(t=r.n5z(e)))(o||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Tn=(()=>{class e{constructor(e,t,o,i,n){this.viewContainerRef=t,this.angularFrameworkOverrides=o,this.frameworkComponentWrapper=i,this.componentFactoryResolver=n,this._initialised=!1,this._destroyed=!1,this._fullyReady=h.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.groupRowsSticky=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.serverSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new r.vpe,this.pasteStart=new r.vpe,this.pasteEnd=new r.vpe,this.columnVisible=new r.vpe,this.columnPinned=new r.vpe,this.columnResized=new r.vpe,this.columnMoved=new r.vpe,this.columnValueChanged=new r.vpe,this.columnPivotModeChanged=new r.vpe,this.columnPivotChanged=new r.vpe,this.columnGroupOpened=new r.vpe,this.newColumnsLoaded=new r.vpe,this.gridColumnsChanged=new r.vpe,this.displayedColumnsChanged=new r.vpe,this.virtualColumnsChanged=new r.vpe,this.columnEverythingChanged=new r.vpe,this.componentStateChanged=new r.vpe,this.cellValueChanged=new r.vpe,this.cellEditRequest=new r.vpe,this.rowValueChanged=new r.vpe,this.cellEditingStarted=new r.vpe,this.cellEditingStopped=new r.vpe,this.rowEditingStarted=new r.vpe,this.rowEditingStopped=new r.vpe,this.filterOpened=new r.vpe,this.filterChanged=new r.vpe,this.filterModified=new r.vpe,this.chartCreated=new r.vpe,this.chartRangeSelectionChanged=new r.vpe,this.chartOptionsChanged=new r.vpe,this.chartDestroyed=new r.vpe,this.cellKeyDown=new r.vpe,this.cellKeyPress=new r.vpe,this.gridReady=new r.vpe,this.firstDataRendered=new r.vpe,this.gridSizeChanged=new r.vpe,this.modelUpdated=new r.vpe,this.virtualRowRemoved=new r.vpe,this.viewportChanged=new r.vpe,this.bodyScroll=new r.vpe,this.bodyScrollEnd=new r.vpe,this.dragStarted=new r.vpe,this.dragStopped=new r.vpe,this.paginationChanged=new r.vpe,this.rowDragEnter=new r.vpe,this.rowDragMove=new r.vpe,this.rowDragLeave=new r.vpe,this.rowDragEnd=new r.vpe,this.columnRowGroupChanged=new r.vpe,this.rowGroupOpened=new r.vpe,this.expandOrCollapseAll=new r.vpe,this.pinnedRowDataChanged=new r.vpe,this.rowDataChanged=new r.vpe,this.rowDataUpdated=new r.vpe,this.asyncTransactionsFlushed=new r.vpe,this.cellClicked=new r.vpe,this.cellDoubleClicked=new r.vpe,this.cellFocused=new r.vpe,this.cellMouseOver=new r.vpe,this.cellMouseOut=new r.vpe,this.cellMouseDown=new r.vpe,this.rowClicked=new r.vpe,this.rowDoubleClicked=new r.vpe,this.rowSelected=new r.vpe,this.selectionChanged=new r.vpe,this.cellContextMenu=new r.vpe,this.rangeSelectionChanged=new r.vpe,this.sortChanged=new r.vpe,this.columnRowGroupChangeRequest=new r.vpe,this.columnPivotChangeRequest=new r.vpe,this.columnValueChangeRequest=new r.vpe,this.columnAggFuncChangeRequest=new r.vpe,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=h.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new h.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&h.plv.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const t=this[e],o=!!t&&t.observers&&t.observers.length>0,i=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return o||!!this.gridOptions&&!!this.gridOptions[i]}globalEventListener(e,t){if(this._destroyed)return;const o=this[e];o&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(e=>{o.emit(t)}):o.emit(t))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(An),r.Y36(Rn),r.Y36(r._Vd))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ag-grid-angular"]],contentQueries:function(e,t,o){if(1&e&&r.Suo(o,_n,4),2&e){let e;r.iGM(e=r.CRH())&&(t.columns=e)}},inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",groupRowsSticky:"groupRowsSticky",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",serverSideInfiniteScroll:"serverSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[r._Bn([An,Rn]),r.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),On=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[]]}),e})();const Pn=function(e){return{"container-fluid":e}};let Dn=(()=>{class e{constructor(){this.extraModules=[],this.extraConfig={},this.isContainer=!1,this.gridApi=new r.vpe,this.modules=[fn,ii,En,Bi]}generateGridConfig(){let e=this;this.gridConfig={defaultColDef:{flex:1,minWidth:100,sortable:!0,filter:"agTextColumnFilter",resizable:!0,sortingOrder:["asc","desc"],menuTabs:[],floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},rowSelection:"multiple",suppressRowClickSelection:!0,rowDragManaged:!0,suppressMoveWhenRowDragging:!0,suppressDragLeaveHidesColumns:!0,columnDefs:this.colConfig,animateRows:!0,groupSelectsChildren:!0,groupDefaultExpanded:1,unSortIcon:!0,context:{actionFunction:this.actionFunction,parentComponent:this.parentComponent},suppressContextMenu:!0,onGridReady:function(t){e.gridApi.emit(t)}}}get agGridConfig(){return Object.assign(Object.assign({},this.gridConfig),this.extraConfig)}get agGridModules(){return[...this.modules,...this.extraModules]}ngOnInit(){this.generateGridConfig()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-ag-grid-custom"]],inputs:{colConfig:"colConfig",rowData:"rowData",extraModules:"extraModules",actionFunction:"actionFunction",parentComponent:"parentComponent",extraConfig:"extraConfig",isContainer:"isContainer"},outputs:{gridApi:"gridApi"},decls:3,vars:6,consts:[[1,"h-100",3,"ngClass"],[1,"h-100","ag-theme-balham"],[2,"height","100%","width","100%",3,"gridOptions","rowData","modules"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"ag-grid-angular",2),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngClass",r.VKq(4,Pn,t.isContainer)),r.xp6(2),r.Q6J("gridOptions",t.agGridConfig)("rowData",t.rowData)("modules",t.agGridModules))},directives:[i.mk,Tn],styles:[""]}),e})(),In=(()=>{class e{constructor(e){this.http=e,this.rowModelType="serverSide",this.colConfig=[{field:"recalling_firm",headerName:"Company Name",checkboxSelection:!0},{field:"status",headerName:"Status",valueFormatter:e=>{var t;return"terminated"==(null===(t=e.value)||void 0===t?void 0:t.toLowerCase())?"Disabled":"Enabled"}}],this.extraConfig={rowModelType:this.rowModelType,serverSideInfiniteScroll:!0,cacheBlockSize:10,blockLoadDebounceMillis:1500,overlayNoRowsTemplate:"No data found"},this.extraModules=[S,at],this.totalRows=0,this.excelFileParams={fileName:"companies.xlsx"},this.csvFileParams={fileName:"companies.csv"}}ngOnInit(){}onGridReadyCB(e){this.grid=e,e.api.setServerSideDatasource(this.dataSource()),e.api.addGlobalListener((e,t)=>{"rowClicked"===e&&console.log(t.data)})}dataSource(){let e=this;return{getRows:t=>{let o="https://api.fda.gov/food/enforcement.json?limit=10&";t.request.sortModel.length&&(o+=`sort=${t.request.sortModel[0].colId}:${t.request.sortModel[0].sort}&`),Object.keys(t.request.filterModel).forEach(e=>{o+=`search=${e}:${t.request.filterModel[e].filter}&`}),o+=`skip=${t.request.startRow}`,console.log(o),e.http.get(o).subscribe(e=>{this.totalRows=e.meta.results.total,t.success({rowData:e.results,rowCount:void 0})},e=>{this.totalRows=0,t.success({rowData:[],rowCount:0}),this.grid.api.showNoRowsOverlay()})}}}deleteSelectedRows(){let e=this.grid.api.getSelectedNodes().map(e=>e.data);console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.eN))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-company"]],decls:21,vars:4,consts:[[1,"my-1"],[1,"d-flex","justify-content-between","mb-1","align-items-center"],[1,"ems-page-heading"],[1,"d-flex"],[1,"form-group","me-2"],["type","text","placeholder","Global Filter...",1,"form-control"],["ngbDropdown","","container","body",1,"d-inline"],["type","button","ngbDropdownToggle","",1,"btn","btn-info","btn-ems","btn-ems-green","me-2"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"my-1","dropdown-divider"],[1,"btn","btn-outline-success","btn-hollow-ems",3,"click"],[2,"height","550px"],[3,"colConfig","extraConfig","extraModules","gridApi"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._UZ(6,"input",5),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r._uU(10,"Export"),r.qZA(),r.TgZ(11,"div",8),r.TgZ(12,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsExcel(t.excelFileParams)}),r._uU(13,"Export As Excel"),r.qZA(),r._UZ(14,"div",10),r.TgZ(15,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsCsv(t.csvFileParams)}),r._uU(16,"Export As CSV"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"button",11),r.NdJ("click",function(){return t.deleteSelectedRows()}),r._uU(18,"Disable"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"app-ag-grid-custom",13),r.NdJ("gridApi",function(e){return t.onGridReadyCB(e)}),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.hij("Companies (",t.totalRows,")"),r.xp6(17),r.Q6J("colConfig",t.colConfig)("extraConfig",t.extraConfig)("extraModules",t.extraModules))},directives:[lt.jt,lt.iD,lt.Vi,lt.TH,Dn],styles:[""]}),e})(),Mn=(()=>{class e{constructor(e){this.http=e,this.rowModelType="serverSide",this.colConfig=[{field:"recall_number",headerName:"Security Profile",checkboxSelection:!0},{field:"city"},{field:"country"}],this.extraConfig={rowModelType:this.rowModelType,serverSideInfiniteScroll:!0,pagination:!0,paginationPageSize:10,cacheBlockSize:10,suppressPaginationPanel:!0,onPaginationChanged:()=>this.onPaginationChanged()},this.page=1,this.extraModules=[S,at],this.excelFileParams={fileName:"security_profiles.xlsx"},this.csvFileParams={fileName:"security_profiles.csv"}}ngOnInit(){}onGridReadyCB(e){this.grid=e,e.api.setServerSideDatasource(this.dataSource())}dataSource(){let e=this;return{getRows:t=>{let o="https://api.fda.gov/food/enforcement.json?limit=10&";t.request.sortModel.length&&(o+=`_sort=${t.request.sortModel[0].colId}&_order=${t.request.sortModel[0].sort}&`),Object.keys(t.request.filterModel).forEach(e=>{o+=`${e}=${t.request.filterModel[e].filter}&`}),o+=`skip=${t.request.endRow}`,console.log(o),e.http.get(o).subscribe(e=>{this.totalRows=e.meta.results.total,t.success({rowData:e.results,rowCount:e.meta.results.total})})}}}loadPage(e){this.page=e,this.grid.api.paginationGoToPage(e-1)}onPaginationChanged(){var e;(null===(e=this.grid)||void 0===e?void 0:e.api)&&(this.totalRows=this.grid.api.getDisplayedRowCount())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.eN))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-security"]],decls:21,vars:11,consts:[[1,"my-1"],[1,"d-flex","justify-content-between","mb-1","align-items-center"],[1,"ems-page-heading"],[1,"d-flex"],[1,"form-group","me-2"],["type","text","placeholder","Global Filter...",1,"form-control"],["ngbDropdown","","container","body",1,"d-inline"],["type","button","ngbDropdownToggle","",1,"btn","btn-info","btn-ems","btn-ems-green","me-2"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"my-1","dropdown-divider"],[2,"height","500px"],[3,"colConfig","extraConfig","extraModules","gridApi"],[1,"ems-pagination-panel","d-flex","justify-content-end","px-2","py-1"],[1,"d-flex","justify-content-end",3,"pageSize","collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._UZ(6,"input",5),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r._uU(10,"Export"),r.qZA(),r.TgZ(11,"div",8),r.TgZ(12,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsExcel(t.excelFileParams)}),r._uU(13,"Export As Excel"),r.qZA(),r._UZ(14,"div",10),r.TgZ(15,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsCsv(t.csvFileParams)}),r._uU(16,"Export As CSV"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",11),r.TgZ(18,"app-ag-grid-custom",12),r.NdJ("gridApi",function(e){return t.onGridReadyCB(e)}),r.qZA(),r.qZA(),r.TgZ(19,"div",13),r.TgZ(20,"ngb-pagination",14),r.NdJ("pageChange",function(e){return t.page=e})("pageChange",function(e){return t.loadPage(e)}),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.hij("Security Profiles (",t.totalRows,")"),r.xp6(15),r.Q6J("colConfig",t.colConfig)("extraConfig",t.extraConfig)("extraModules",t.extraModules),r.xp6(2),r.Q6J("pageSize",10)("collectionSize",t.totalRows)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0))},directives:[lt.jt,lt.iD,lt.Vi,lt.TH,Dn,lt.N9],styles:[""]}),e})();var Nn=function(){function e(e,t,o){this.rowModel=e,this.filterParams=t,this.caseFormat=o}return e.prototype.extractUniqueValues=function(e){var t=this,o={},i=this.filterParams.colDef.keyCreator,n=function(e){var i=null!=e?t.caseFormat(e):"__<ag-grid-pseudo-null>__";i&&null==o[i]&&(o[i]=e)};return this.rowModel.forEachLeafNode(function(o){if(o.data&&e(o)){var r=t.filterParams,s=t.filterParams.valueGetter({api:r.api,colDef:r.colDef,column:r.column,columnApi:r.columnApi,context:r.context,data:o.data,getValue:function(e){return o.data[e]},node:o});i&&(s=i({value:s,colDef:t.filterParams.colDef,column:t.filterParams.column,node:o,data:o.data,api:t.filterParams.api,columnApi:t.filterParams.columnApi,context:t.filterParams.context})),null!=(s=h._.makeNull(s))&&Array.isArray(s)?s.forEach(function(e){var t=h._.toStringOrNull(h._.makeNull(e));n(t)}):n(h._.toStringOrNull(s))}}),h._.values(o)},e}(),kn=(()=>(function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(kn||(kn={})),kn))(),Ln=function(){function e(e,t,o,i,n){var r=this;this.filterParams=e,this.setIsLoading=t,this.valueFormatterService=o,this.translate=i,this.caseFormat=n,this.localEventService=new h.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var s=e.colDef,a=e.textFormatter,l=e.doesRowPassOtherFilter,c=e.suppressSorting,u=e.comparator,p=e.rowModel,d=e.values;this.column=e.column,this.formatter=a||h.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=l,this.suppressSorting=c||!1,this.comparator=u||s.comparator||h._.defaultComparator,p.getType()===h.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new Nn(p,this.filterParams,this.caseFormat)),null==d?this.valuesType=kn.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(d)?kn.PROVIDED_LIST:kn.PROVIDED_CALLBACK,this.providedValues=d),this.updateAllValues().then(function(e){return r.resetSelectionState(e||[])})}return e.prototype.addEventListener=function(e,t,o){this.localEventService.addEventListener(e,t,o)},e.prototype.removeEventListener=function(e,t,o){this.localEventService.removeEventListener(e,t,o)},e.prototype.refreshValues=function(){var e=this.getModel();return this.updateAllValues(),this.setModel(e)},e.prototype.overrideValues=function(e){var t=this;return new h.j_S(function(o){t.allValuesPromise.then(function(){t.valuesType=kn.PROVIDED_LIST,t.providedValues=e,t.refreshValues().then(function(){return o()})})})},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}):h.j_S.resolve()},e.prototype.isInitialised=function(){return this.initialised},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new h.j_S(function(t){switch(e.valuesType){case kn.TAKEN_FROM_GRID_VALUES:case kn.PROVIDED_LIST:var o=e.valuesType===kn.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):h._.values(e.uniqueValues(h._.toStrings(e.providedValues)||[])),i=e.sortValues(o||[]);e.allValues=i,t(i);break;case kn.PROVIDED_CALLBACK:e.setIsLoading(!0);var n=e.providedValues,r=e.filterParams,s={success:function(o){var i=h._.values(e.uniqueValues(h._.toStrings(o)||[]));e.setIsLoading(!1);var n=e.sortValues(i||[]);e.allValues=n,t(n)},colDef:r.colDef,column:r.column,columnApi:r.columnApi,api:r.api,context:r.context};window.setTimeout(function(){return n(s)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}).then(function(){return e.initialised=!0}),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===kn.TAKEN_FROM_GRID_VALUES},e.prototype.updateAvailableValues=function(t){var o=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=h._.convertToSet(o),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){return this.suppressSorting?e:!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(this.comparator):e.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;return void 0===e&&(e=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(o){return!e||t.doesRowPassOtherFilters(o)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},e.prototype.setMiniFilter=function(e){return e=h._.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(o){return null!=o&&e.caseFormat(o).indexOf(t)>=0};this.availableValues.forEach(function(t){if(null==t)e.filterParams.excelMode&&o(e.translate("blanks"))&&e.displayedValues.push(t);else{var i=e.formatter(t),n=e.valueFormatterService.formatValue(e.column,null,i,e.filterParams.valueFormatter,!1);(o(i)||o(n))&&e.displayedValues.push(t)}})}else this.displayedValues=h._.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=h._.convertToSet(this.allValues):(e&&this.selectedValues.clear(),this.displayedValues.forEach(function(e){return t.selectedValues.add(e)}))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(t){return e.selectedValues.delete(t)})},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return this.displayedValues.filter(function(t){return e.isValueSelected(t)}).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===this.displayedValues.filter(function(t){return e.isValueSelected(t)}).length},e.prototype.getModel=function(){return this.hasSelections()?h._.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then(function(o){if(null==e)t.resetSelectionState(o||[]);else{t.selectedValues.clear();var i=t.uniqueValues(o||[]);e.forEach(function(e){var o=i[t.uniqueKey(e)];void 0!==o&&t.selectedValues.add(o)})}})},e.prototype.uniqueValues=function(e){var t=this,o={};return(e||[]).forEach(function(e){var i=h._.makeNull(e),n=t.uniqueKey(i);void 0===o[n]&&(o[n]=i)}),o},e.prototype.uniqueKey=function(e){return null==e?"__<ag-grid-pseudo-null>__":this.caseFormat(e)},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=h._.convertToSet(e||[])},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),Fn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hn=function(e){function t(o,i,n,r){var s=e.call(this,t.TEMPLATE)||this;return s.value=o,s.params=i,s.translate=n,s.isSelected=r,s}return Fn(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.params.readOnly||this.eCheckbox.onValueChange(function(o){var i=o||!1;e.isSelected=i,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:i})})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,t=this.value,o=null;"function"==typeof t?t=t():o=this.getFormattedValue(this.params,e,t),this.params.showTooltips&&this.setTooltip(null!=o?o:t);var i={value:t,valueFormatted:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(i)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="setFilterValue",t.colDef=this.getComponentHolder(),t},t.prototype.getFormattedValue=function(e,t,o){return this.valueFormatterService.formatValue(t,null,o,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var t=this,o=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),i=o?o.newAgStackInstance():void 0;if(null!=i)i.then(function(e){e&&(t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc(function(){return t.destroyBean(e)}))});else{var n=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==n?this.translate("blanks"):n)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',Gn([(0,h.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Gn([(0,h.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gn([(0,h.cqo)("eCheckbox")],t.prototype,"eCheckbox",void 0),Gn([h.NqP],t.prototype,"init",null),t}(h.wA2),Vn={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Wn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jn=function(e){function t(){var t=e.call(this,"setFilter")||this;return t.valueModel=null,t.setFilterParams=null,t.virtualList=null,t.caseSensitive=!1,t.appliedModelValues=null,t}return Wn(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.positionableFeature=new h.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(t){if(e.prototype.handleKeyDown.call(this,t),!t.defaultPrevented)switch(t.key){case h.VDZ.SPACE:this.handleKeySpace(t);break;case h.VDZ.ENTER:this.handleKeyEnter(t)}},t.prototype.handleKeySpace=function(e){var t=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(t.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var i=this.virtualList.getComponentAt(o);null!=i&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||i.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var t=this.setFilterParams||{};t.excelMode&&!t.readOnly&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var t=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return t.refresh()}):h.j_S.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&h._.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var o=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.setFilterParams=t,this.caseSensitive=t.caseSensitive||!1,this.valueModel=new Ln(t,function(e){return o.showOrHideLoadingScreen(e)},this.valueFormatterService,function(e){return o.translateForSetFilter(e)},function(e){return o.caseFormat(e)}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,h.zW2.EVENT_CELL_VALUE_CHANGED,function(t){e.setFilterParams&&t.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.refresh(),e.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){h._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),o=this.virtualList=this.createBean(new h.CPJ("filter","listbox",t)),i=this.getRefElement("eSetFilterList");i&&i.appendChild(o.getGui());var n,r=this.setFilterParams.cellHeight;null!=r&&o.setRowHeight(r),o.setComponentCreator(function(t){return e.createSetListItem(t)}),n=this.setFilterParams.suppressSelectAll?new zn(this.valueModel):new Un(this.valueModel,function(){return e.isSelectAllSelected()}),o.setModel(n)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var o,i=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((o=this.createBean(new Hn(function(){return i.getSelectAllLabel()},this.setFilterParams,function(e){return i.translateForSetFilter(e)},this.isSelectAllSelected()))).addEventListener(Hn.EVENT_SELECTION_CHANGED,function(e){return i.onSelectAll(e.isSelected)}),o):((o=this.createBean(new Hn(e,this.setFilterParams,function(e){return i.translateForSetFilter(e)},this.valueModel.isValueSelected(e)))).addEventListener(Hn.EVENT_SELECTION_CHANGED,function(t){return i.onItemSelected(e,t.isSelected)}),o)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.eMiniFilter,o=this.gridOptionsWrapper.getLocaleTextFunc();t.setDisplayed(!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange(function(){return e.onMiniFilterInput()}),t.setInputAriaLabel(o("ariaSearchFilterValues","Search filter values")),this.addManagedListener(t.getInputElement(),"keypress",function(t){return e.onMiniFilterKeyPress(t)})},t.prototype.afterGuiAttached=function(t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");e.prototype.afterGuiAttached.call(this,t),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var o=this.eMiniFilter;o.setInputPlaceholder(this.translateForSetFilter("searchOoo")),t&&t.suppressFocus||o.getFocusableElement().focus();var i,n=!(!t||"floatingFilter"!==t.container);i=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},n?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(i)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=e.prototype.applyModel.call(this),i=this.getModel();return this.appliedModelValues=i?i.values.reduce(function(e,o){return e[t.caseFormat(String(o))]=!0,e},{}):null,o},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var t=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var o=e.node,i=e.data,n=this.setFilterParams,r=n.colDef.keyCreator,s=n.api,a=n.colDef,l=n.column,c=n.columnApi,u=n.context,p=(0,n.valueGetter)({api:s,colDef:a,column:l,columnApi:c,context:u,data:i,getValue:function(e){return i[e]},node:o});return r&&(p=r({value:p,colDef:a,column:l,node:o,data:i,api:s,columnApi:c,context:u})),p=h._.makeNull(p),Array.isArray(p)?p.some(function(e){return!0===t.appliedModelValues[t.caseFormat(String(h._.makeNull(e)))]}):!0===this.appliedModelValues[this.caseFormat(String(p))]},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===kn.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){t.refresh(),t.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(kn.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;h._.setDisplayed(this.eNoMatches,e),h._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var t=this.setFilterParams||{};e.key!==h.VDZ.ENTER||t.excelMode||t.readOnly||this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var t=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(t)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var t=this;null!=e&&window.setTimeout(function(){if(!t.virtualList)throw new Error("Virtual list has not been created.");t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},t.prototype.onItemSelected=function(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var o=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(o)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Vn[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),e.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",Bn([(0,h.cqo)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Bn([(0,h.cqo)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Bn([(0,h.cqo)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Bn([(0,h.cqo)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Bn([(0,h.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(h.AGU),zn=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e.prototype.isRowSelected=function(e){return this.model.isValueSelected(this.getRow(e))},e}(),Un=function(){function e(e,t){this.model=e,this.isSelectAllSelected=t}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},e.prototype.getRow=function(e){return 0===e?jn.SELECT_ALL_VALUE:this.model.getDisplayedValue(e-1)},e.prototype.isRowSelected=function(e){return 0===e?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(e))},e}(),Yn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qn=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return Yn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(t){if(!(t instanceof jn))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(t)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(t){var o=t.getValueModel();o&&e.addManagedListener(o,Ln.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var t=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(o){var i=(e||o.getModel()||{}).values,n=o.getValueModel();if(null!=i&&null!=n){var r=t.gridOptionsWrapper.getLocaleTextFunc(),s=i.filter(function(e){return n.isValueAvailable(e)}).map(function(e){var o=t.params,i=t.valueFormatterService.formatValue(o.column,null,e,o.filterParams.valueFormatter,!1),n=null!=i?i:e;return null==n?r("blanks",Vn.blanks):n}),a=s.length>10?s.slice(0,10).concat("..."):s,l="("+s.length+") "+a.join(",");t.eFloatingFilterText.setValue(l)}else t.eFloatingFilterText.setValue("")})},Xn([(0,h.cqo)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Xn([(0,h.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Xn([(0,h.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(h.wA2),Zn={moduleName:h.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:jn},{componentName:"agSetColumnFloatingFilter",componentClass:qn}],dependantModules:[T.f]};const Kn=[{path:"batch-status",component:l},{path:"companies",component:In},{path:"security",component:Mn},{path:"system-users",component:(()=>{class e{constructor(){this.colConfig=[{field:"name",headerName:"Name",headerCheckboxSelection:!0,checkboxSelection:!0},{field:"network_name",headerName:"Network Name"},{field:"user_id",headerName:"User ID"},{field:"country",headerName:"Country",filter:"agSetColumnFilter",floatingFilterComponentParams:{suppressFilterButton:!1}}],this.rowData=[{name:"Abbott, Jane",user_id:1e3,network_name:"JANE ABBOTT JANE ABBOTT JANE ABBOTT JANE ABBOTT",country:"India"},{name:"Adams, Jane",user_id:1001,network_name:"JANE ADAMS",country:"India"},{name:"Andrews, Jane",user_id:1002,network_name:"JANE ANDREWS",country:"Pakistan"},{name:"Armstrong, Jane",user_id:1003,network_name:"JANE ARMSTRONG",country:"India"},{name:"Austin, Jane",user_id:1004,network_name:"AUSTIN, JANE",country:"India"},{name:"Bailey, Jane",user_id:1005,network_name:"BAILEY, JANE",country:"Australia"},{name:"Baker, Jane",user_id:1006,network_name:"BAKER, JANE",country:"India"},{name:"Bell, Jane",user_id:1007,network_name:"BELL, JANE",country:"Australia"},{name:"Brooks, Jane",user_id:1008,network_name:"BROOKS, JANE",country:"India"},{name:"Camphell, Joe",user_id:1009,network_name:"CAMPHELL, Joe",country:"Pakistan"},{name:"Carter, Joe",user_id:1010,network_name:"CARTER, JOE",country:"India"},{name:"Collins, Joe",user_id:1011,network_name:"COLLINS, JOE",country:"India"},{name:"Cook, Joe",user_id:1012,network_name:"COOK, JOE",country:"Pakistan"},{name:"Dixon, Jane",user_id:1013,network_name:"DIXON, JANE",country:"India"},{name:"Dunn, Jane",user_id:1014,network_name:"DUNN, JANE",country:"India"},{name:"Davis, Jane",user_id:1015,network_name:"DAVIS, JANE",country:"Australia"},{name:"Duncan, Jane",user_id:1016,network_name:"DUNCAN, JANE",country:"India"},{name:"Abbott, Jane 1",user_id:1017,network_name:"JANE ABBOTT 1",country:"India"},{name:"Adams, Jane 1",user_id:1018,network_name:"JANE ADAMS 1",country:"India"},{name:"Andrews, Jane 1",user_id:1019,network_name:"JANE ANDREWS 1",country:"Pakistan"},{name:"Armstrong, Jane 1",user_id:1020,network_name:"JANE ARMSTRONG 1",country:"India"},{name:"Austin, Jane 1",user_id:1021,network_name:"AUSTIN, JANE 1",country:"India"},{name:"Bailey, Jane 1",user_id:1022,network_name:"BAILEY, JANE 1",country:"Australia"},{name:"Baker, Jane 1",user_id:1023,network_name:"BAKER, JANE 1",country:"India"},{name:"Bell, Jane 1",user_id:1024,network_name:"BELL, JANE 1",country:"Australia"},{name:"Brooks, Jane 1",user_id:1025,network_name:"BROOKS, JANE 1",country:"India"},{name:"Camphell, Joe 1",user_id:1026,network_name:"CAMPHELL, Joe 1",country:"Pakistan"},{name:"Carter, Joe 1",user_id:1027,network_name:"CARTER, JOE 1",country:"India"},{name:"Collins, Joe 1",user_id:1028,network_name:"COLLINS, JOE 1",country:"India"},{name:"Cook, Joe 1",user_id:1029,network_name:"COOK, JOE 1",country:"Pakistan"},{name:"Dixon, Jane 1",user_id:1030,network_name:"DIXON, JANE 1",country:"India"},{name:"Dunn, Jane 1",user_id:1031,network_name:"DUNN, JANE 1",country:"India"},{name:"Davis, Jane 1",user_id:1032,network_name:"DAVIS, JANE 1",country:"Australia"},{name:"Duncan, Jane 1",user_id:1033,network_name:"DUNCAN, JANE 1",country:"India"}],this.extraModules=[Zn,S,at],this.page=1,this.extraConfig={pagination:!0,paginationPageSize:10,suppressPaginationPanel:!0,onPaginationChanged:()=>this.onPaginationChanged()},this.totalRows=this.rowData.length,this.excelFileParams={fileName:"system_users.xlsx"},this.csvFileParams={fileName:"system_users.csv"}}ngOnInit(){}onGridReadyCB(e){this.grid=e}onFilterTextBoxChanged(){this.grid.api.setQuickFilter(document.getElementById("filter-text-box").value)}loadPage(e){this.page=e,this.grid.api.paginationGoToPage(e-1)}onPaginationChanged(){var e;(null===(e=this.grid)||void 0===e?void 0:e.api)&&(this.totalRows=this.grid.api.getDisplayedRowCount())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-system-users"]],decls:21,vars:12,consts:[[1,"my-1"],[1,"d-flex","justify-content-between","mb-1","align-items-center"],[1,"ems-page-heading"],[1,"d-flex"],[1,"form-group","me-2"],["id","filter-text-box","type","text","placeholder","Global Filter...",1,"form-control",3,"input"],["ngbDropdown","","container","body",1,"d-inline"],["type","button","ngbDropdownToggle","",1,"btn","btn-info","btn-ems","btn-ems-green","me-2"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"my-1","dropdown-divider"],[2,"height","500px"],[3,"colConfig","rowData","extraConfig","extraModules","gridApi"],[1,"ems-pagination-panel","d-flex","justify-content-end","px-2","py-1"],[1,"d-flex","justify-content-end",3,"pageSize","collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"input",5),r.NdJ("input",function(){return t.onFilterTextBoxChanged()}),r.qZA(),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r._uU(10,"Export"),r.qZA(),r.TgZ(11,"div",8),r.TgZ(12,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsExcel(t.excelFileParams)}),r._uU(13,"Export As Excel"),r.qZA(),r._UZ(14,"div",10),r.TgZ(15,"button",9),r.NdJ("click",function(){return t.grid.api.exportDataAsCsv(t.csvFileParams)}),r._uU(16,"Export As CSV"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",11),r.TgZ(18,"app-ag-grid-custom",12),r.NdJ("gridApi",function(e){return t.onGridReadyCB(e)}),r.qZA(),r.qZA(),r.TgZ(19,"div",13),r.TgZ(20,"ngb-pagination",14),r.NdJ("pageChange",function(e){return t.page=e})("pageChange",function(e){return t.loadPage(e)}),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.hij("System Users (",t.totalRows,")"),r.xp6(15),r.Q6J("colConfig",t.colConfig)("rowData",t.rowData)("extraConfig",t.extraConfig)("extraModules",t.extraModules),r.xp6(2),r.Q6J("pageSize",10)("collectionSize",t.totalRows)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0))},directives:[lt.jt,lt.iD,lt.Vi,lt.TH,Dn,lt.N9],styles:[""]}),e})()}];let Qn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.Bz.forChild(Kn)],n.Bz]}),e})(),Jn=1;const $n=Promise.resolve(),er={};function tr(e){return e in er&&(delete er[e],!0)}const or={setImmediate(e){const t=Jn++;return er[t]=!0,$n.then(()=>tr(t)&&e()),t},clearImmediate(e){tr(e)}};var ir=o(6465),nr=o(6102);new class extends nr.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let o,i=-1,n=t.length;e=e||t.shift();do{if(o=e.execute(e.state,e.delay))break}while(++i<n&&(e=t.shift()));if(this.active=!1,o){for(;++i<n&&(e=t.shift());)e.unsubscribe();throw o}}}(class extends ir.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e.scheduled||(e.scheduled=or.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(or.clearImmediate(t),e.scheduled=void 0)}});var rr=o(3300);window.ApexCharts=rr;let sr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[]]}),e})(),ar=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,n.Bz,On]]}),e})();var lr=o(665);let cr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,Qn,sr,ar,lr.u5,lt.jF,lt.XC]]}),e})()},8562:(e,t,o)=>{"use strict";var i=o(9075),n=o(7716),r=o(1841),s=o(9763);const a="https://account.stage.emsbilling.com/?appId=ems-dev";let l=(()=>{class e{getItem(e){try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return localStorage.getItem(e)}}setItem(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(o){console.error(o)}}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),c=(()=>{class e{constructor(e,t){this.localStorage=e,this.router=t,this.USER_KEY="token",this.token=this.localStorage.getItem(this.USER_KEY),this.token&&(this.user=this.parseJWT(this.token))}parseJWT(e){let t=e.split(".")[1];t=t.replace(/-/g,"+").replace(/_/g,"/");let o=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));try{return JSON.parse(o)}catch(i){return{}}}getToken(){return this.token}getUser(){return this.user}setUser(e){this.localStorage.setItem(this.USER_KEY,e),this.token=e,this.user=this.parseJWT(e)}removeUser(){this.localStorage.removeItem(this.USER_KEY),this.user=null,this.goToLogin()}redirectUser(){this.user?this.goToLanding():this.goToLogin()}goToLanding(){this.router.navigate(["dashboard/companies"])}goToLogin(){window.location.href=a}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(l),n.LFG(s.F0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e){this.userService=e}canActivate(){return!!this.userService.getUser()||(this.userService.goToLogin(),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(c))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(e,t,o){this._activatedRoute=e,this._loggedInUserService=t,this._router=o}ngOnInit(){setTimeout(()=>{this._activatedRoute.queryParams.subscribe(e=>{e.token?(this._loggedInUserService.setUser(e.token),this._router.navigate(["dashboard/companies"])):this._loggedInUserService.getUser()?this._router.navigate(["dashboard/companies"]):window.location.href=a})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.gz),n.Y36(c),n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"container"],[1,"panel"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._uU(2," Logging In..... "),n.qZA(),n.qZA())},styles:[".panel[_ngcontent-%COMP%]{align-self:center;height:10rem;width:50rem;border:1px solid #ccc;align-items:center;font-size:xxx-large;background:#fff;border-radius:2px}.container[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]{align-content:center;height:45rem}"]}),e})();var h=(()=>(function(e){e.CHANGE_LAYOUT="changelayout",e.CHANGE_LAYOUT_WIDTH="changeLayoutWidth",e.CHANGE_LEFT_SIDEBAR_TYPE="changeLeftSidebarType",e.CHANGE_LEFT_SIDEBAR_THEME="changeLeftSidebarTheme",e.CHANGE_MENU_POSITION="changeMenuPosition",e.CHANGE_TOPBAR_THEME="changeTopbarTheme",e.TOGGLE_SIDEBAR_USERINFO="toggleLeftSidebarUserInfo",e.SHOW_RIGHT_SIDEBAR="showRightSideBar",e.HIDE_RIGHT_SIDEBAR="hideRightSideBar"}(h||(h={})),h))();const d="vertical",f="horizontal",g="detached",m="two-column",y="fluid",v="fixed",C="default",w="condensed",b="light",x=(e,t)=>{let o=[];const i=S(e,t.parentKey);return i&&(o.push(i.key),i.parentKey&&(o=[...o,...x(e,i)])),o},S=(e,t)=>{if(e&&t)for(const i of e){if(i.key===t)return i;var o=S(i.children,t);if(o)return o}return null},E=(e,t,o="set")=>{switch(o){case"remove":document.body&&document.body.hasAttribute(e)&&document.body.removeAttribute(e);break;default:document.body&&document.body.setAttribute(e,t)}},_=e=>{let t={layoutWidth:sessionStorage.getItem("Layout_Width")||y,menuPosition:sessionStorage.getItem("Menu_Position")||v,leftSidebarTheme:sessionStorage.getItem("Leftsidebar_Theme")||"dark",leftSidebarType:sessionStorage.getItem("Leftsidebar_Type")||C,topbarTheme:sessionStorage.getItem("Topbar_Theme")||b,showSidebarUserInfo:!1};switch(e){case f:return t;case g:return t.showSidebarUserInfo=!0,t;case m:default:return t}};var A=o(7709),R=o(5435);let T=(()=>{class e{constructor(){this.handler=new A.xQ}broadcast(e,t=""){this.handler.next({type:e,payload:t})}on(e){return this.handler.pipe((0,R.h)(t=>t.type===e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=o(8583),P=o(1641);function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const N=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var k="object"==typeof global&&global&&global.Object===Object&&global,L="object"==typeof self&&self&&self.Object===Object&&self;const F=k||L||Function("return this")(),G=function(){return F.Date.now()};var H=/\s/,V=/^\s+/;var W=F.Symbol,B=Object.prototype,j=B.hasOwnProperty,z=B.toString,U=W?W.toStringTag:void 0,Y=Object.prototype.toString,X=W?W.toStringTag:void 0;var q=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,K=/^0o[0-7]+$/i,Q=parseInt;const J=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=j.call(e,U),o=e[U];try{e[U]=void 0;var i=!0}catch(r){}var n=z.call(e);return i&&(t?e[U]=o:delete e[U]),n}(e):function(e){return Y.call(e)}(e)}(e)}(e))return NaN;if(N(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=N(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;var o;e=(o=e)?o.slice(0,function(e){for(var t=e.length;t--&&H.test(e.charAt(t)););return t}(o)+1).replace(V,""):o;var i=Z.test(e);return i||K.test(e)?Q(e.slice(2),i?2:8):q.test(e)?NaN:+e};var $=Math.max,ee=Math.min;const te=function(e,t,o){var i,n,r,s,a,l,c=0,u=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var o=i,r=n;return i=n=void 0,c=t,s=e.apply(r,o)}function f(e){return c=e,a=setTimeout(m,t),u?d(e):s}function g(e){var o=e-l;return void 0===l||o>=t||o<0||p&&e-c>=r}function m(){var e=G();if(g(e))return y(e);a=setTimeout(m,function(e){var o=t-(e-l);return p?ee(o,r-(e-c)):o}(e))}function y(e){return a=void 0,h&&i?d(e):(i=n=void 0,s)}function v(){var e=G(),o=g(e);if(i=arguments,n=this,l=e,o){if(void 0===a)return f(l);if(p)return clearTimeout(a),a=setTimeout(m,t),d(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=J(t)||0,N(o)&&(u=!!o.leading,r=(p="maxWait"in o)?$(J(o.maxWait)||0,t):r,h="trailing"in o?!!o.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=n=a=void 0},v.flush=function(){return void 0===a?s:y(G())},v},oe=function(e,t,o){var i=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return N(o)&&(i="leading"in o?!!o.leading:i,n="trailing"in o?!!o.trailing:n),te(e,t,{leading:i,maxWait:t,trailing:n})};var ie=o(2318),ne=o.n(ie),re=null,se=null;function ae(){if(null===re){if("undefined"==typeof document)return re=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var o=t.getBoundingClientRect().right;e.removeChild(t),re=o}return re}function le(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function ce(e){return e&&e.ownerDocument?e.ownerDocument:document}function ue(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)}return o}function pe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(o),!0).forEach(function(t){D(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ue(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}ne()&&window.addEventListener("resize",function(){se!==window.devicePixelRatio&&(se=window.devicePixelRatio,re=null)});var he=function(){function e(t){var o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,e),this.onScroll=function(){var e=le(o.el);o.scrollXTicking||(e.requestAnimationFrame(o.scrollX),o.scrollXTicking=!0),o.scrollYTicking||(e.requestAnimationFrame(o.scrollY),o.scrollYTicking=!0),o.isScrolling||(o.isScrolling=!0,o.el.classList.add(o.classNames.scrolling)),o.onStopScrolling()},this.scrollX=function(){o.axis.x.isOverflowing&&o.positionScrollbar("x"),o.scrollXTicking=!1},this.scrollY=function(){o.axis.y.isOverflowing&&o.positionScrollbar("y"),o.scrollYTicking=!1},this.onStopScrolling=function(){o.el.classList.remove(o.classNames.scrolling),o.isScrolling=!1},this.onMouseEnter=function(){o.isMouseEntering||(o.el.classList.add(o.classNames.mouseEntered),o.isMouseEntering=!0),o.onMouseEntered()},this.onMouseEntered=function(){o.el.classList.remove(o.classNames.mouseEntered),o.isMouseEntering=!1},this.onMouseMove=function(e){o.mouseX=e.clientX,o.mouseY=e.clientY,(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&o.onMouseMoveForAxis("x"),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&o.onMouseMoveForAxis("y")},this.onMouseLeave=function(){o.onMouseMove.cancel(),(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&o.onMouseLeaveForAxis("x"),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&o.onMouseLeaveForAxis("y"),o.mouseX=-1,o.mouseY=-1},this.onWindowResize=function(){o.scrollbarWidth=e.getScrollbarWidth(),o.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,i;o.axis.x.track.rect=o.axis.x.track.el.getBoundingClientRect(),o.axis.y.track.rect=o.axis.y.track.el.getBoundingClientRect(),(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&(t=o.isWithinBounds(o.axis.x.track.rect)),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&(i=o.isWithinBounds(o.axis.y.track.rect)),(t||i)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(o.axis.x.scrollbar.rect=o.axis.x.scrollbar.el.getBoundingClientRect(),o.isWithinBounds(o.axis.x.scrollbar.rect)?o.onDragStart(e,"x"):o.onTrackClick(e,"x")),i&&(o.axis.y.scrollbar.rect=o.axis.y.scrollbar.el.getBoundingClientRect(),o.isWithinBounds(o.axis.y.scrollbar.rect)?o.onDragStart(e,"y"):o.onTrackClick(e,"y"))))},this.drag=function(t){var i=o.axis[o.draggedAxis].track,n=i.rect[o.axis[o.draggedAxis].sizeAttr],r=o.axis[o.draggedAxis].scrollbar,s=o.contentWrapperEl[o.axis[o.draggedAxis].scrollSizeAttr],a=parseInt(o.elStyles[o.axis[o.draggedAxis].sizeAttr],10);t.preventDefault(),t.stopPropagation();var l=(("y"===o.draggedAxis?t.pageY:t.pageX)-i.rect[o.axis[o.draggedAxis].offsetAttr]-o.axis[o.draggedAxis].dragOffset)/(n-r.size)*(s-a);"x"===o.draggedAxis&&(l=o.isRtl&&e.getRtlHelpers().isScrollOriginAtZero?l-(n+r.size):l),o.contentWrapperEl[o.axis[o.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(e){var t=ce(o.el),i=le(o.el);e.preventDefault(),e.stopPropagation(),o.el.classList.remove(o.classNames.dragging),t.removeEventListener("mousemove",o.drag,!0),t.removeEventListener("mouseup",o.onEndDrag,!0),o.removePreventClickId=i.setTimeout(function(){t.removeEventListener("click",o.preventClick,!0),t.removeEventListener("dblclick",o.preventClick,!0),o.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.options=pe(pe({},e.defaultOptions),i),this.classNames=pe({contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,this.isScrolling=!1,this.isMouseEntering=!1,e.instances.has(this.el)||(i.classNames&&console.warn("simplebar: classNames option is deprecated. Please override the styles with CSS instead."),i.autoHide&&console.warn("simplebar: autoHide option is deprecated. Please use CSS instead: '.simplebar-scrollbar::before { opacity: 0.5 };' for autoHide: false"),this.onMouseMove=oe(this.onMouseMove,64),this.onWindowResize=te(this.onWindowResize,64,{leading:!0}),this.onStopScrolling=te(this.onStopScrolling,this.stopScrollDelay),this.onMouseEntered=te(this.onMouseEntered,this.stopScrollDelay),this.init())}var t,o,i;return t=e,i=[{key:"getRtlHelpers",value:function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var o=t.firstElementChild,i=o.firstElementChild;document.body.appendChild(o),o.scrollLeft=0;var n=e.getOffset(o),r=e.getOffset(i);o.scrollLeft=-999;var s=e.getOffset(i);return document.body.removeChild(o),e.rtlHelpers={isScrollOriginAtZero:n.left!==r.left,isScrollingToNegative:r.left!==s.left}}},{key:"getScrollbarWidth",value:function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:ae()}catch(e){return ae()}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect(),o=ce(e),i=le(e);return{top:t.top+(i.pageYOffset||o.documentElement.scrollTop),left:t.left+(i.pageXOffset||o.documentElement.scrollLeft)}}}],(o=[{key:"init",value:function(){e.instances.set(this.el,this),ne()&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=e.getScrollbarWidth(),this.recalculate(),this.initListeners())}},{key:"initDOM",value:function(){var e=this;if(Array.prototype.filter.call(this.el.children,function(t){return t.classList.contains(e.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector(".".concat(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(".".concat(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(".".concat(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(".".concat(this.classNames.offset)),this.maskEl=this.el.querySelector(".".concat(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,".".concat(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,".".concat(this.classNames.track,".").concat(this.classNames.horizontal)),this.axis.y.track.el=this.findChild(this.el,".".concat(this.classNames.track,".").concat(this.classNames.vertical));else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var t=document.createElement("div"),o=document.createElement("div");t.classList.add(this.classNames.track),o.classList.add(this.classNames.scrollbar),t.appendChild(o),this.axis.x.track.el=t.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var e=this,t=le(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),t.addEventListener("resize",this.onWindowResize),window.ResizeObserver){var o=!1,i=t.ResizeObserver||ResizeObserver;this.resizeObserver=new i(function(){o&&t.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),t.requestAnimationFrame(function(){o=!0})}this.mutationObserver=new t.MutationObserver(function(){t.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},{key:"recalculate",value:function(){var e=le(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,o=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1||t>0,n=this.contentWrapperEl.offsetWidth,r=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=o?"auto":"100%",this.placeholderEl.style.width=i?"".concat(t||l,"px"):"auto",this.placeholderEl.style.height="".concat(a,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&l>t,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==r&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>n-(this.axis.y.isOverflowing?this.scrollbarWidth:0),this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px"),this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},{key:"getScrollbarSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(!this.axis[e].isOverflowing)return 0;var t,o=this.contentEl[this.axis[e].scrollSizeAttr],i=this.axis[e].track.el[this.axis[e].offsetSizeAttr],n=i/o;return t=Math.max(~~(n*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(t=Math.min(t,this.options.scrollbarMaxSize)),t}},{key:"positionScrollbar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(this.axis[t].isOverflowing){var o=this.contentWrapperEl[this.axis[t].scrollSizeAttr],i=this.axis[t].track.el[this.axis[t].offsetSizeAttr],n=parseInt(this.elStyles[this.axis[t].sizeAttr],10),r=this.axis[t].scrollbar,s=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],a=(s="x"===t&&this.isRtl&&e.getRtlHelpers().isScrollOriginAtZero?-s:s)/(o-n),l=~~((i-r.size)*a);l="x"===t&&this.isRtl&&e.getRtlHelpers().isScrollingToNegative?i-r.size-l:l,r.el.style.transform="x"===t?"translate3d(".concat(l,"px, 0, 0)"):"translate3d(0, ".concat(l,"px, 0)")}}},{key:"toggleTrackVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",t=this.axis[e].track.el,o=this.axis[e].scrollbar.el;this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),o.style.display=this.axis[e].isOverflowing?"block":"none"}},{key:"hideNativeScrollbar",value:function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):0}},{key:"onMouseMoveForAxis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[e].track.rect=this.axis[e].track.el.getBoundingClientRect(),this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect();var t=this.isWithinBounds(this.axis[e].scrollbar.rect);t?this.axis[e].scrollbar.el.classList.add(this.classNames.hover):this.axis[e].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[e].track.rect)?this.axis[e].track.el.classList.add(this.classNames.hover):this.axis[e].track.el.classList.remove(this.classNames.hover)}},{key:"onMouseLeaveForAxis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)}},{key:"onDragStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",o=ce(this.el),i=le(this.el),n=this.axis[t].scrollbar,r="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=r-n.rect[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),o.addEventListener("mousemove",this.drag,!0),o.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(o.addEventListener("click",this.preventClick,!0),o.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)}},{key:"onTrackClick",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";if(this.options.clickOnTrack){e.preventDefault();var i=le(this.el);this.axis[o].scrollbar.rect=this.axis[o].scrollbar.el.getBoundingClientRect();var n=this.axis[o].scrollbar,r=n.rect[this.axis[o].offsetAttr],s=parseInt(this.elStyles[this.axis[o].sizeAttr],10),a=this.contentWrapperEl[this.axis[o].scrollOffsetAttr],l="y"===o?this.mouseY-r:this.mouseX-r,c=l<0?-1:1,u=-1===c?a-s:a+s,p=40,h=function e(){-1===c?a>u&&(t.contentWrapperEl[t.axis[o].scrollOffsetAttr]=a-=p,i.requestAnimationFrame(e)):a<u&&(t.contentWrapperEl[t.axis[o].scrollOffsetAttr]=a+=p,i.requestAnimationFrame(e))};h()}}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"getScrollElement",value:function(){return this.contentWrapperEl}},{key:"removeListeners",value:function(){var e=le(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()}},{key:"unMount",value:function(){this.removeListeners(),e.instances.delete(this.el)}},{key:"isWithinBounds",value:function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height}},{key:"findChild",value:function(e,t){var o=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return o.call(e,t)})[0]}}])&&M(t.prototype,o),i&&M(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();he.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0},he.instances=new WeakMap;const de=he,fe=["*"];let ge=(()=>{class e{constructor(e){this.elRef=e}ngOnInit(){}ngAfterViewInit(){this.SimpleBar=new de(this.elRef.nativeElement,this.options||{})}ngOnDestroy(){this.SimpleBar.unMount(),this.SimpleBar=null}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-simplebar"]],hostAttrs:["data-simplebar","init"],inputs:{options:"options"},ngContentSelectors:fe,decls:13,vars:0,consts:[[1,"simplebar-wrapper"],[1,"simplebar-height-auto-observer-wrapper"],[1,"simplebar-height-auto-observer"],[1,"simplebar-mask"],[1,"simplebar-offset"],[1,"simplebar-content-wrapper"],[1,"simplebar-content"],[1,"simplebar-placeholder"],[1,"simplebar-track","simplebar-horizontal"],[1,"simplebar-scrollbar"],[1,"simplebar-track","simplebar-vertical"]],template:function(e,t){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._UZ(2,"div",2),n.qZA(),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.Hsn(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(8,"div",7),n.qZA(),n.TgZ(9,"div",8),n._UZ(10,"div",9),n.qZA(),n.TgZ(11,"div",10),n._UZ(12,"div",9),n.qZA())},styles:['[data-simplebar]{align-content:flex-start;align-items:flex-start;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;position:relative}.simplebar-wrapper{height:inherit;max-height:inherit;max-width:inherit;overflow:hidden;width:inherit}.simplebar-mask{direction:inherit;height:auto!important;overflow:hidden;width:auto!important;z-index:0}.simplebar-mask,.simplebar-offset{bottom:0;left:0;margin:0;padding:0;position:absolute;right:0;top:0}.simplebar-offset{-webkit-overflow-scrolling:touch;box-sizing:inherit!important;direction:inherit!important;resize:none!important}.simplebar-content-wrapper{-ms-overflow-style:none;box-sizing:border-box!important;direction:inherit;display:block;height:100%;max-height:100%;max-width:100%;position:relative;scrollbar-width:none;width:auto}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{height:0;width:0}.simplebar-content:after,.simplebar-content:before{content:" ";display:table}.simplebar-placeholder{max-height:100%;max-width:100%;pointer-events:none;width:100%}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;flex-basis:0;flex-grow:inherit;flex-shrink:0;float:left;height:100%;margin:0;max-height:1px;max-width:1px;overflow:hidden;padding:0;pointer-events:none;position:relative;width:100%;z-index:-1}.simplebar-height-auto-observer{box-sizing:inherit;display:block;height:1000%;left:0;min-height:1px;min-width:1px;opacity:0;top:0;width:1000%;z-index:-1}.simplebar-height-auto-observer,.simplebar-track{overflow:hidden;pointer-events:none;position:absolute}.simplebar-track{bottom:0;right:0;z-index:1}[data-simplebar].simplebar-dragging .simplebar-content{-ms-user-select:none;-webkit-user-select:none;pointer-events:none;user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{left:0;min-height:10px;position:absolute;right:0}.simplebar-scrollbar:before{background:#000;border-radius:7px;content:"";opacity:0;position:absolute;transition:opacity .2s linear .5s}.simplebar-hover .simplebar-scrollbar:before,.simplebar-mouse-entered .simplebar-scrollbar:before,.simplebar-scrollbar.simplebar-visible:before,.simplebar-scrolling .simplebar-scrollbar:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{bottom:2px;left:2px;right:2px;top:2px}.simplebar-track.simplebar-horizontal{height:11px;left:0}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{bottom:0;left:0;min-height:0;min-width:10px;right:auto;top:0;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{left:0;right:auto}.simplebar-dummy-scrollbar-size{-ms-overflow-style:scrollbar!important;direction:rtl;height:500px;opacity:0;overflow-x:scroll;overflow-y:hidden;position:fixed;visibility:hidden;width:500px}.simplebar-dummy-scrollbar-size>div{height:200%;margin:10px 0;width:200%}.simplebar-hide-scrollbar{-ms-overflow-style:none;left:0;overflow-y:scroll;position:fixed;scrollbar-width:none;visibility:hidden}',"ngx-simplebar{display:block}"],encapsulation:2}),e})(),me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[]]}),e})();function ye(e,t){1&e&&(n.TgZ(0,"button",11),n._UZ(1,"span",12),n.qZA())}function ve(e,t){1&e&&(n.TgZ(0,"button",13),n._UZ(1,"span",14),n.qZA())}function Ce(e,t){if(1&e&&(n.TgZ(0,"ngb-progressbar",21),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.Q6J("value",null==e?null:e.progressValue)("striped",!0)("animated",!0),n.xp6(1),n.hij("",null==e?null:e.progressValue,"%")}}function we(e,t){1&e&&(n.TgZ(0,"button",11),n._UZ(1,"span",12),n.qZA())}function be(e,t){if(1&e&&(n.TgZ(0,"a",15),n.TgZ(1,"h5",16),n._uU(2),n.qZA(),n.TgZ(3,"h6",17),n._uU(4),n.qZA(),n.YNc(5,Ce,2,4,"ngb-progressbar",18),n.TgZ(6,"div",19),n.TgZ(7,"div"),n.YNc(8,we,2,0,"button",3),n.TgZ(9,"button",13),n._UZ(10,"span",14),n.qZA(),n.qZA(),n.TgZ(11,"div"),n.TgZ(12,"p",20),n.TgZ(13,"small"),n._uU(14),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.ekj("active",e.isActive),n.Q6J("routerLink",e.redirectTo),n.xp6(2),n.Oqu(e.text),n.xp6(2),n.Oqu(e.subText),n.xp6(1),n.Q6J("ngIf",null==e?null:e.showProgressBar),n.xp6(3),n.Q6J("ngIf",e.isActive),n.xp6(6),n.Oqu(null==e?null:e.dateTime)}}let xe=(()=>{class e{constructor(){this.notificationList=[{text:"Lorem Ipsum is simply dummy text",isActive:!0,subText:"It is a long established fact that a reader will be distracted.",icon:"uil uil-comment-message",bgColor:"primary",redirectTo:"/",showProgressBar:!0,progressValue:75,dateTime:"07/20/2022 05:05:59"},{text:"Lorem Ipsum is simply dummy text",subText:"It is a long established fact that a reader will be distracted.",icon:"uil uil-comment-message",bgColor:"primary",redirectTo:"/",showProgressBar:!0,progressValue:25,dateTime:"07/20/2022 05:05:59"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-notifications"]],decls:16,vars:3,consts:[[1,"noti-title"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0"],["type","button","class","btn btn-success noti-action px-1 py-0 me-1",4,"ngIf"],["type","button","class","btn btn-danger noti-action px-1 py-0 me-1",4,"ngIf"],["type","button",1,"btn","btn-info","noti-action","px-1","py-0"],[1,"bi-arrow-repeat"],[1,"noti-scroll"],["class","notify-item border-bottom","ngbDropdownItem","",3,"routerLink","active",4,"ngFor","ngForOf"],["href","javascript:void(0);","ngbDropdownItem","",1,"text-center","text-primary","notify-item","notify-all"],[1,"fe-arrow-right"],["type","button",1,"btn","btn-success","noti-action","px-1","py-0","me-1"],[1,"bi-check2"],["type","button",1,"btn","btn-danger","noti-action","px-1","py-0","me-1"],[1,"bi-trash"],["ngbDropdownItem","",1,"notify-item","border-bottom",3,"routerLink"],[1,"mt-1","mb-0","fs-15"],[1,"text-muted","fw-normal","mt-1","mb-2"],["type","primary",3,"value","striped","animated",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted","mb-0","user-msg"],["type","primary",3,"value","striped","animated"]],template:function(e,t){1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",0),n.TgZ(2,"div",1),n.TgZ(3,"div"),n.TgZ(4,"h5",2),n._uU(5,"Notifications"),n.qZA(),n.qZA(),n.TgZ(6,"div"),n.YNc(7,ye,2,0,"button",3),n.YNc(8,ve,2,0,"button",4),n.TgZ(9,"button",5),n._UZ(10,"span",6),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"ngx-simplebar",7),n.YNc(12,be,15,8,"a",8),n.qZA(),n.TgZ(13,"a",9),n._uU(14," View all "),n._UZ(15,"i",10),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("ngIf",null==t.notificationList?null:t.notificationList.length),n.xp6(1),n.Q6J("ngIf",null==t.notificationList?null:t.notificationList.length),n.xp6(4),n.Q6J("ngForOf",t.notificationList))},directives:[O.O5,ge,O.sg,P.TH,s.yS,P.Ly],styles:[".noti-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}.notify-item[_ngcontent-%COMP%]{white-space:normal}"]}),e})(),Se=(()=>{class e{constructor(e){this.eventService=e,this.leftSidebarTheme="light",this.topnavCollapsed=!1,this.mobileMenuButtonClicked=new n.vpe}ngOnInit(){}changeSidebarWidth(){document.body.hasAttribute("data-sidebar-size")&&"condensed"===document.body.getAttribute("data-sidebar-size")?this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,C):this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,w)}toggleMobileMenu(e){this.topnavCollapsed=!this.topnavCollapsed,e.preventDefault(),this.mobileMenuButtonClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-topbar"]],inputs:{leftSidebarTheme:"leftSidebarTheme"},outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked"},decls:37,vars:0,consts:[[1,"navbar-custom"],[1,"container-fluid"],[1,"list-unstyled","topnav-menu","float-end","mb-0"],["ngbDropdown","",1,"notification-list","topbar-dropdown"],["href","javascript:void(0)","role","button","ngbDropdownToggle","",1,"nav-link","position-relative"],[1,"bi-bell-fill"],[1,"badge","bg-danger","rounded-circle","noti-icon-badge"],["ngbDropdownMenu","",1,"dropdown-menu-end","dropdown-lg","p-0"],["href","javascript:void(0)","role","button","ngbDropdownToggle","",1,"nav-link","dropdown-toggle","nav-user","me-0"],["src","http://cdn.onlinewebfonts.com/svg/img_264570.png","alt","user-image",1,"rounded-circle"],[1,"pro-user-name","ms-1"],[1,"uil","uil-angle-down"],["ngbDropdownMenu","","aria-labelledby","profileMenuDropdown",1,"dropdown-menu-end","profile-dropdown"],["ngbDropdownItem","",1,"notify-item"],[2,"cursor","pointer"],[1,"bi-box-arrow-in-right"],[1,"logo-box"],[1,"logo","logo-light"],[1,"d-none","d-lg-block"],[1,"logo-sm",3,"click"],["src","assets/images/hamburger.svg","alt","","width","24"],[1,"d-block","d-lg-none"],[1,"open-left","logo-sm",3,"click"],[1,"logo-lg"],["src","assets/images/EMSmart_logo.svg","alt","","width","150"],[1,"list-unstyled","topnav-menu","topnav-menu-left","m-0"],[1,"topbar-arrow"],[1,"button-menu-mobile","d-none","d-lg-block",3,"click"],[1,"bi-arrow-left-short"],[1,"topbar-logo"],["src","assets/images/EMS_logo.svg","alt",""],[1,"clearfix"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"ul",2),n.TgZ(3,"li",3),n.TgZ(4,"a",4),n._UZ(5,"em",5),n._UZ(6,"span",6),n.qZA(),n.TgZ(7,"div",7),n._UZ(8,"app-notifications"),n.qZA(),n.qZA(),n.TgZ(9,"li",3),n.TgZ(10,"a",8),n._UZ(11,"img",9),n.TgZ(12,"span",10),n._uU(13," Ankit Kumar "),n._UZ(14,"em",11),n.qZA(),n.qZA(),n.TgZ(15,"div",12),n.TgZ(16,"a",13),n.TgZ(17,"span",14),n._UZ(18,"span",15),n._uU(19," \xa0 Logout "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(20,"div",16),n.TgZ(21,"a",17),n.TgZ(22,"span",18),n.TgZ(23,"span",19),n.NdJ("click",function(){return t.changeSidebarWidth()}),n._UZ(24,"img",20),n.qZA(),n.qZA(),n.TgZ(25,"span",21),n.TgZ(26,"span",22),n.NdJ("click",function(e){return t.toggleMobileMenu(e)}),n._UZ(27,"img",20),n.qZA(),n.qZA(),n.TgZ(28,"span",23),n._UZ(29,"img",24),n.qZA(),n.qZA(),n.qZA(),n.TgZ(30,"ul",25),n.TgZ(31,"li",26),n.TgZ(32,"button",27),n.NdJ("click",function(){return t.changeSidebarWidth()}),n._UZ(33,"em",28),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",29),n._UZ(35,"img",30),n.qZA(),n._UZ(36,"div",31),n.qZA(),n.qZA())},directives:[P.jt,P.iD,P.Vi,xe,P.TH],styles:[".pro-user-name[_ngcontent-%COMP%]{vertical-align:middle}.nav-link[_ngcontent-%COMP%]:focus, .nav-link[_ngcontent-%COMP%]:hover{outline:none}"]}),e})();const Ee=[{key:"dashboard",label:"Dashboard",isTitle:!1,icon:"bi-grid-1x2-fill",link:"/dashboard/report",isMainParent:!0},{key:"batches",label:"Batches",isTitle:!1,icon:"bi-layers-fill",collapsed:!0,children:[{key:"batch_status",label:"Batch Status",link:"/dashboard/batch-status",parentKey:"batches"},{key:"mtp_file_status",label:"MTP file status",link:"/dashboard/mtp-file-status",parentKey:"batches"}]},{key:"companies_security_users",label:"Companies, Security & Users",isTitle:!1,icon:"bi-shield-fill-check",collapsed:!0,children:[{key:"companies",label:"Companies",link:"/dashboard/companies",parentKey:"companies_security_users"},{key:"security",label:"Security",link:"/dashboard/security",parentKey:"companies_security_users"},{key:"syastem-users",label:"System Users",link:"/dashboard/system-users",parentKey:"companies_security_users"}]},{key:"natures_call_types_priorities",label:"Natures, Call types & Priorities",isTitle:!1,icon:"bi-telephone-plus-fill",collapsed:!0,children:[]},{key:"crews_vehicles_units",label:"Crews, Vehicles & Units",isTitle:!1,icon:"bi-people-fill",collapsed:!0,children:[]},{key:"call_taking",label:"Call Taking",isTitle:!1,icon:"bi-telephone-fill",collapsed:!0,children:[]},{key:"dispatching",label:"Dispatching",isTitle:!1,icon:"bi-cart-check-fill",collapsed:!0,children:[]},{key:"billing",label:"Billing",isTitle:!1,icon:"bi-file-earmark-fill",collapsed:!0,children:[]},{key:"advanced",label:"Advanced",isTitle:!1,icon:"bi-grid-fill",collapsed:!0,children:[]}],_e=[{key:"dashboard",icon:"home",label:"Dashboard",isTitle:!0,children:[{key:"ds-ecommerce",label:"Ecommerce",link:"/dashboard/ecommerce",parentKey:"dashboard"},{key:"ds-analytics",label:"Analytics",link:"/dashboard/analytics",parentKey:"dashboard"}]},{key:"apps",icon:"grid",label:"Apps",isTitle:!0,children:[{key:"apps-calendar",label:"Calendar",isTitle:!1,icon:"calendar",link:"/apps/calendar",parentKey:"apps"},{key:"apps-chat",label:"Chat",isTitle:!1,icon:"message-square",link:"/apps/chat",parentKey:"apps"},{key:"apps-email",label:"Email",isTitle:!1,icon:"mail",parentKey:"apps",collapsed:!0,children:[{key:"email-inbox",label:"Inbox",link:"/apps/email/inbox",parentKey:"apps-email"},{key:"email-read-email",label:"Read Email",link:"/apps/email/details",parentKey:"apps-email"},{key:"email-compose-email",label:"Compose Email",link:"/apps/email/compose",parentKey:"apps-email"}]},{key:"apps-projects",label:"Projects",isTitle:!1,icon:"briefcase",parentKey:"apps",collapsed:!0,children:[{key:"project-list",label:"List",link:"/apps/projects/list",parentKey:"apps-projects"},{key:"project-details",label:"Detail",link:"/apps/projects/details",parentKey:"apps-projects"}]},{key:"apps-tasks",label:"Tasks",isTitle:!1,icon:"clipboard",parentKey:"apps",collapsed:!0,children:[{key:"task-list",label:"List",link:"/apps/tasks/list",parentKey:"apps-tasks"},{key:"task-kanban",label:"Kanban Board",link:"/apps/tasks/kanban",parentKey:"apps-tasks"}]},{key:"apps-file-manager",label:"File Manager",isTitle:!1,icon:"folder-plus",link:"/apps/file-manager",parentKey:"apps"}]},{key:"extra-pages",icon:"file-text",label:"Pages",isTitle:!0,children:[{key:"page-starter",label:"Starter",link:"/pages/starter",parentKey:"extra-pages"},{key:"page-profile",label:"Profile",link:"/pages/profile",parentKey:"extra-pages"},{key:"page-activity",label:"Activity",link:"/pages/activity",parentKey:"extra-pages"},{key:"page-invoice",label:"Invoice",link:"/pages/invoice",parentKey:"extra-pages"},{key:"page-pricing",label:"Pricing",link:"/pages/pricing",parentKey:"extra-pages"},{key:"page-maintenance",label:"Maintenance",link:"/maintenance",parentKey:"extra-pages"},{key:"page-error-404",label:"Error - 404",link:"/error-404",parentKey:"extra-pages"},{key:"page-error-500",label:"Error - 500",link:"/error-500",parentKey:"extra-pages"}]},{key:"components",icon:"package",label:"Components",isTitle:!0,children:[{key:"ui-elements",label:"UI Elements",isTitle:!1,icon:"package",link:"/ui-element",parentKey:"components"},{key:"icons",label:"Icons",isTitle:!1,icon:"cpu",parentKey:"components",collapsed:!0,children:[{key:"icon-unicons",label:"Unicons",link:"/icons/unicon",parentKey:"icons"},{key:"icon-feather",label:"Feather",link:"/icons/feather",parentKey:"icons"},{key:"icon-bootstrap",label:"Bootstrap",link:"/icons/bootstrap",parentKey:"icons"}]},{key:"charts",label:"Charts",isTitle:!1,icon:"bar-chart-2",link:"/charts",parentKey:"components"},{key:"forms",label:"Forms",isTitle:!1,icon:"bookmark",parentKey:"components",collapsed:!0,children:[{key:"form-basic",label:"Basic Elements",link:"/forms/basic",parentKey:"forms"},{key:"form-advanced",label:"Advanced",link:"/forms/advanced",parentKey:"forms"},{key:"form-validation",label:"Validation",link:"/forms/validation",parentKey:"forms"},{key:"form-wizard",label:"Wizard",link:"/forms/wizard",parentKey:"forms"},{key:"form-editors",label:"Editors",link:"/forms/editors",parentKey:"forms"},{key:"form-upload",label:"File Uploads",link:"/forms/upload",parentKey:"forms"}]},{key:"tables",label:"Tables",isTitle:!1,icon:"grid",parentKey:"components",collapsed:!0,children:[{key:"table-basic",label:"Basic",link:"/tables/basic",parentKey:"tables"},{key:"table-advanced",label:"Advanced Tables",link:"/tables/advanced",parentKey:"tables"}]},{key:"maps",label:"Maps",isTitle:!1,icon:"map",parentKey:"components",collapsed:!0,children:[{key:"maps-googlemaps",label:"Google Maps",link:"/maps/googlemaps",parentKey:"maps"},{key:"maps-vectormaps",label:"Vector Maps",link:"/maps/vectormaps",parentKey:"maps"}]},{key:"menu-levels",label:"Menu Levels",isTitle:!1,icon:"share-2",parentKey:"components",collapsed:!0,children:[{key:"menu-levels-1-1",label:"Level 1.1",link:"/",parentKey:"menu-levels",collapsed:!0,children:[{key:"menu-levels-2-1",label:"Level 2.1",link:"/",parentKey:"menu-levels-1-1",collapsed:!0,children:[{key:"menu-levels-3-1",label:"Level 3.1",link:"/",parentKey:"menu-levels-2-1"},{key:"menu-levels-3-2",label:"Level 3.2",link:"/",parentKey:"menu-levels-2-1"}]},{key:"menu-levels-2-2",label:"Level 2.2",link:"/",parentKey:"menu-levels-1-1"}]},{key:"menu-levels-1-2",label:"Level 1.2",link:"/",parentKey:"menu-levels"}]}]},{key:"widgets",label:"Widgets",isTitle:!1,icon:"gift",link:"/widgets"}],Ae=[{key:"dashboard",icon:"home",label:"Dashboards",isTitle:!0,collapsed:!0,children:[{key:"ds-ecommerce",label:"Ecommerce",link:"/dashboard/ecommerce",parentKey:"dashboard"},{key:"ds-analytics",label:"Analytics",link:"/dashboard/analytics",parentKey:"dashboard"}]},{key:"apps",icon:"layers",label:"Apps",isTitle:!0,collapsed:!0,children:[{key:"apps-calendar",label:"Calendar",isTitle:!1,icon:"calendar",link:"/apps/calendar",parentKey:"apps"},{key:"apps-chat",label:"Chat",isTitle:!1,icon:"message-square",link:"/apps/chat",parentKey:"apps"},{key:"apps-email",label:"Email",isTitle:!1,icon:"mail",parentKey:"apps",collapsed:!0,children:[{key:"email-inbox",label:"Inbox",link:"/apps/email/inbox",parentKey:"apps-email"},{key:"email-read-email",label:"Read Email",link:"/apps/email/details",parentKey:"apps-email"},{key:"email-compose-email",label:"Compose Email",link:"/apps/email/compose",parentKey:"apps-email"}]},{key:"apps-projects",label:"Projects",isTitle:!1,icon:"briefcase",parentKey:"apps",collapsed:!0,children:[{key:"project-list",label:"List",link:"/apps/projects/list",parentKey:"apps-projects"},{key:"project-details",label:"Detail",link:"/apps/projects/details",parentKey:"apps-projects"}]},{key:"apps-tasks",label:"Tasks",isTitle:!1,icon:"clipboard",parentKey:"apps",collapsed:!0,children:[{key:"task-list",label:"List",link:"/apps/tasks/list",parentKey:"apps-tasks"},{key:"task-kanban",label:"Kanban Board",link:"/apps/tasks/kanban",parentKey:"apps-tasks"}]},{key:"apps-file-manager",label:"File Manager",isTitle:!1,icon:"folder-plus",link:"/apps/file-manager",parentKey:"apps"}]},{key:"components",icon:"briefcase",label:"Components",isTitle:!0,collapsed:!0,children:[{key:"ui-elements",label:"UI Elements",isTitle:!1,icon:"package",link:"/ui-element",parentKey:"components"},{key:"widgets",label:"Widgets",isTitle:!1,icon:"gift",link:"/widgets",parentKey:"components"},{key:"forms",label:"Forms",isTitle:!1,icon:"bookmark",parentKey:"components",collapsed:!0,children:[{key:"form-basic",label:"Basic Elements",link:"/forms/basic",parentKey:"forms"},{key:"form-advanced",label:"Advanced",link:"/forms/advanced",parentKey:"forms"},{key:"form-validation",label:"Validation",link:"/forms/validation",parentKey:"forms"},{key:"form-wizard",label:"Wizard",link:"/forms/wizard",parentKey:"forms"},{key:"form-editors",label:"Editors",link:"/forms/editors",parentKey:"forms"},{key:"form-upload",label:"File Uploads",link:"/forms/upload",parentKey:"forms"}]},{key:"charts",label:"Charts",isTitle:!1,icon:"bar-chart-2",link:"/charts",parentKey:"components"},{key:"tables",label:"Tables",isTitle:!1,icon:"grid",parentKey:"components",collapsed:!0,children:[{key:"table-basic",label:"Basic",link:"/tables/basic",parentKey:"tables"},{key:"table-advanced",label:"Advanced Tables",link:"/tables/advanced",parentKey:"tables"}]},{key:"icons",label:"Icons",isTitle:!1,icon:"cpu",parentKey:"components",collapsed:!0,children:[{key:"icon-unicons",label:"Unicons",link:"/icons/unicon",parentKey:"icons"},{key:"icon-feather",label:"Feather",link:"/icons/feather",parentKey:"icons"},{key:"icon-bootstrap",label:"Bootstrap",link:"/icons/bootstrap",parentKey:"icons"}]},{key:"maps",label:"Maps",isTitle:!1,icon:"map",parentKey:"components",collapsed:!0,children:[{key:"maps-googlemaps",label:"Google Maps",link:"/maps/googlemaps",parentKey:"maps"},{key:"maps-vectormaps",label:"Vector Maps",link:"/maps/vectormaps",parentKey:"maps"}]}]},{key:"extra-pages",label:"Pages",isTitle:!1,icon:"file-text",collapsed:!0,children:[{key:"page-starter",label:"Starter",isTitle:!1,link:"/pages/starter",parentKey:"extra-pages"},{key:"page-profile",label:"Profile",isTitle:!1,link:"/pages/profile",parentKey:"extra-pages"},{key:"page-activity",label:"Activity",isTitle:!1,link:"/pages/activity",parentKey:"extra-pages"},{key:"page-invoice",label:"Invoice",isTitle:!1,link:"/pages/invoice",parentKey:"extra-pages"},{key:"page-pricing",label:"Pricing",isTitle:!1,link:"/pages/pricing",parentKey:"extra-pages"},{key:"page-maintenance",label:"Maintenance",isTitle:!1,link:"/maintenance",parentKey:"extra-pages"},{key:"page-error-404",label:"Error - 404",isTitle:!1,link:"/error-404",parentKey:"extra-pages"},{key:"page-error-500",label:"Error - 500",isTitle:!1,link:"/error-500",parentKey:"extra-pages"}]}];var Re=function(){function e(e,t,o){this._el=e,this._ngZone=t,this.platformId=o,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new n.vpe,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return e.prototype.ngOnInit=function(){(0,O.NF)(this.platformId)&&this._init()},e.prototype.ngOnDestroy=function(){(0,O.NF)(this.platformId)&&(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},e.prototype.ngOnChanges=function(e){(0,O.NF)(this.platformId)&&(e.attachOutsideOnClick||e.exclude||e.emitOnBlur)&&this._init()},e.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(e){return e.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},e.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},e.prototype._excludeCheck=function(){if(this.exclude)try{var e=Array.from(document.querySelectorAll(this.exclude));e&&(this._nodesExcluded=e)}catch(t){console.error("[ng-click-outside] Check your exclude selector syntax.",t)}},e.prototype._onClickBody=function(e){this.clickOutsideEnabled&&(this.excludeBeforeClick&&this._excludeCheck(),this._el.nativeElement.contains(e.target)||this._shouldExclude(e.target)||(this._emit(e),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},e.prototype._onWindowBlur=function(e){var t=this;setTimeout(function(){document.hidden||t._emit(e)})},e.prototype._emit=function(e){var t=this;this.clickOutsideEnabled&&this._ngZone.run(function(){return t.clickOutside.emit(e)})},e.prototype._shouldExclude=function(e){for(var t=0,o=this._nodesExcluded;t<o.length;t++)if(o[t].contains(e))return!0;return!1},e.prototype._initClickOutsideListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._events.forEach(function(t){return document.addEventListener(t,e._onClickBody)})})},e.prototype._removeClickOutsideListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._events.forEach(function(t){return document.removeEventListener(t,e._onClickBody)})})},e.prototype._initAttachOutsideOnClickListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._events.forEach(function(t){return e._el.nativeElement.addEventListener(t,e._initOnClickBody)})})},e.prototype._removeAttachOutsideOnClickListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._events.forEach(function(t){return e._el.nativeElement.removeEventListener(t,e._initOnClickBody)})})},e.prototype._initWindowBlurListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",e._onWindowBlur)})},e.prototype._removeWindowBlurListener=function(){var e=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",e._onWindowBlur)})},e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.Lbi))},e.\u0275dir=n.lG2({type:e,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[n.TTD]}),e}(),Te=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e}();function Oe(e,t){if(1&e&&(n.TgZ(0,"li",22),n._uU(1),n.qZA()),2&e){const e=n.oxw(),t=e.$implicit;n.ekj("mt-2",0!==e.index),n.xp6(1),n.hij(" ",t.label," ")}}function Pe(e,t){1&e&&n.GkF(0)}const De=function(e){return{menu:e,linkClassName:"side-nav-link-ref"}};function Ie(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Pe,1,0,"ng-container",23),n.BQk()),2&e){const e=n.oxw(2).$implicit;n.oxw();const t=n.MAs(33);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,De,e))}}function Me(e,t){1&e&&n.GkF(0)}const Ne=function(e){return{menu:e,linkClassName:"side-nav-link-ref",subMenuClassNames:"nav-second-level"}};function ke(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Me,1,0,"ng-container",23),n.BQk()),2&e){const e=n.oxw(2).$implicit;n.oxw();const t=n.MAs(31);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,Ne,e))}}function Le(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Ie,2,4,"ng-container",21),n.YNc(2,ke,2,4,"ng-container",21),n.BQk()),2&e){const e=n.oxw().$implicit,t=n.oxw();n.xp6(1),n.Q6J("ngIf",!t.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",t.hasSubmenu(e))}}function Fe(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Oe,2,3,"li",20),n.YNc(2,Le,3,2,"ng-container",21),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",e.isTitle),n.xp6(1),n.Q6J("ngIf",!e.isTitle)}}function Ge(e,t){if(1&e&&n._UZ(0,"em"),2&e){const e=n.oxw().menu;n.uIk("class",e.icon)}}function He(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().menu;n.Gre("badge bg-",e.badge.variant," float-end"),n.xp6(1),n.Oqu(e.badge.text)}}function Ve(e,t){1&e&&n._UZ(0,"span",30)}function We(e,t){1&e&&n.GkF(0)}function Be(e,t){if(1&e&&(n.ynx(0),n.YNc(1,We,1,0,"ng-container",23),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(31);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,Ne,e))}}function je(e,t){1&e&&n.GkF(0)}function ze(e,t){if(1&e&&(n.ynx(0),n.YNc(1,je,1,0,"ng-container",23),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(33);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,De,e))}}function Ue(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Be,2,4,"ng-container",21),n.YNc(2,ze,2,4,"ng-container",21),n.BQk()),2&e){const e=t.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",o.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",!o.hasSubmenu(e))}}const Ye=function(e){return{"menuitem-active":e}};function Xe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",24),n.TgZ(1,"a",25),n.NdJ("click",function(){const t=n.CHM(e).menu,o=n.MAs(8);return n.oxw().toggleMenuItem(t,o)}),n.YNc(2,Ge,1,1,"em",21),n.YNc(3,He,2,4,"span",26),n.TgZ(4,"span"),n._uU(5),n.qZA(),n.YNc(6,Ve,1,0,"span",27),n.qZA(),n.TgZ(7,"div",28,29),n.NdJ("ngbCollapseChange",function(t){return n.CHM(e).menu.collapsed=t}),n.TgZ(9,"ul"),n.YNc(10,Ue,3,2,"ng-container",15),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.menu,o=t.linkClassName,i=t.subMenuClassNames,r=n.oxw();n.Q6J("ngClass",n.VKq(13,Ye,r.activeMenuItems.includes(e.key))),n.xp6(1),n.Tol(o),n.uIk("aria-expanded",!e.collapsed)("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon),n.xp6(1),n.Q6J("ngIf",e.badge),n.xp6(2),n.Oqu(e.label),n.xp6(1),n.Q6J("ngIf",!e.badge),n.xp6(1),n.Q6J("ngbCollapse",e.collapsed),n.xp6(2),n.Tol(i),n.xp6(1),n.Q6J("ngForOf",e.children)}}function qe(e,t){1&e&&n.GkF(0)}const Ze=function(e,t){return{menu:e,className:t}};function Ke(e,t){if(1&e&&(n.TgZ(0,"li",24),n.YNc(1,qe,1,0,"ng-container",23),n.qZA()),2&e){const e=t.menu,o=t.linkClassName,i=n.oxw(),r=n.MAs(35);n.Q6J("ngClass",n.VKq(3,Ye,i.activeMenuItems.includes(e.key))),n.xp6(1),n.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",n.WLB(5,Ze,e,o))}}function Qe(e,t){if(1&e&&n._UZ(0,"em"),2&e){const e=n.oxw().menu;n.uIk("class",e.icon)}}function Je(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().menu;n.Gre("badge bg-",e.badge.variant,"  float-end"),n.xp6(1),n.Oqu(e.badge.text)}}function $e(e,t){1&e&&n._UZ(0,"img",33)}const et=function(e){return{active:e}};function tt(e,t){if(1&e&&(n.TgZ(0,"a",31),n.YNc(1,Qe,1,1,"em",21),n.YNc(2,Je,2,4,"span",26),n.TgZ(3,"span"),n.YNc(4,$e,1,0,"img",32),n._uU(5),n.qZA(),n.qZA()),2&e){const e=t.menu,o=t.className,i=n.oxw();n.Tol(o),n.Q6J("routerLink",e.link)("ngClass",n.VKq(9,et,i.activeMenuItems.includes(e.key))),n.uIk("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon),n.xp6(1),n.Q6J("ngIf",e.badge),n.xp6(2),n.Q6J("ngIf",!e.isMainParent),n.xp6(1),n.hij(" ",e.label," ")}}let ot=(()=>{class e{constructor(e,t){this.eventService=t,this.includeUserProfile=!1,this.isInitialized=!1,this.leftSidebarClass="sidebar-enable",this.activeMenuItems=[],this.loggedInUser={},this.menuItems=[],e.events.forEach(e=>{e instanceof s.m2&&(this._activateMenu(),this.hideMenu())})}ngOnInit(){this.initMenu()}ngOnChanges(){this.includeUserProfile?document.body.setAttribute("data-sidebar-showuser","true"):document.body.removeAttribute("data-sidebar-showuser")}ngAfterViewInit(){setTimeout(()=>{this._activateMenu()})}initMenu(){this.menuItems=Ee}_activateMenu(){const e=document.getElementById("side-menu");let t=null;if(e){let o=e.getElementsByClassName("side-nav-link-ref");for(const e of o)if(window.location.pathname===e.pathname){t=e;break}if(t){const e=t.getAttribute("data-menu-key"),o=S(this.menuItems,e);if(o){const e=[o.key,...x(this.menuItems,o)];this.activeMenuItems=e,this.menuItems.forEach(t=>{t.collapsed=!e.includes(t.key)})}}}}toggleMenuItem(e,t){let o;t.toggle(),e.collapsed||(o=[e.key,...x(this.menuItems,e)],this.menuItems.forEach(e=>{o.includes(e.key)||(e.collapsed=!0)}))}hasSubmenu(e){return!!e.children}hideMenu(){document.body.classList.remove("sidebar-enable")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.F0),n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-left-sidebar"]],inputs:{navClasses:"navClasses",includeUserProfile:"includeUserProfile"},features:[n.TTD],decls:36,vars:5,consts:[[1,"left-side-menu",3,"exclude","excludeBeforeClick","clickOutside"],[1,"h-100"],[1,"user-box","text-center"],["alt","user-img","title","Mat Helme",1,"rounded-circle","avatar-md",3,"src"],["ngbDropdown",""],["href","javascript: void(0);","id","profileMenu","ngbDropdownToggle","",1,"text-dark","h5","mt-2","mb-1","d-block"],["ngbDropdownMenu","","aria-labelledby","profileMenu",1,"user-pro-dropdown"],["href","javascript:void(0);","ngbDropdownItem","",1,"notify-item"],[1,"fe-user","me-1"],[1,"fe-settings","me-1"],[1,"fe-lock","me-1"],[1,"fe-log-out","me-1"],[1,"text-muted"],["id","sidebar-menu"],["id","side-menu"],[4,"ngFor","ngForOf"],[1,"clearfix"],["MenuItemWithChildren",""],["MenuItem",""],["MenuItemLink",""],["class","menu-title",3,"mt-2",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["href","javascript: void(0)",3,"click"],[3,"class",4,"ngIf"],["class","menu-arrow",4,"ngIf"],[3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"menu-arrow"],[3,"routerLink","ngClass"],["src","assets/images/Line_40.svg","class","me-2 custom-menu-arrow","alt","",4,"ngIf"],["src","assets/images/Line_40.svg","alt","",1,"me-2","custom-menu-arrow"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(){return t.hideMenu()}),n.TgZ(1,"ngx-simplebar",1),n.TgZ(2,"div",2),n._UZ(3,"img",3),n.TgZ(4,"div",4),n.TgZ(5,"a",5),n._uU(6),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"a",7),n._UZ(9,"em",8),n.TgZ(10,"span"),n._uU(11,"My Account"),n.qZA(),n.qZA(),n.TgZ(12,"a",7),n._UZ(13,"em",9),n.TgZ(14,"span"),n._uU(15,"Settings"),n.qZA(),n.qZA(),n.TgZ(16,"a",7),n._UZ(17,"em",10),n.TgZ(18,"span"),n._uU(19,"Lock Screen"),n.qZA(),n.qZA(),n.TgZ(20,"a",7),n._UZ(21,"em",11),n.TgZ(22,"span"),n._uU(23,"Logout"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"p",12),n._uU(25,"Admin Head"),n.qZA(),n.qZA(),n.TgZ(26,"div",13),n.TgZ(27,"ul",14),n.YNc(28,Fe,3,2,"ng-container",15),n.qZA(),n.qZA(),n._UZ(29,"div",16),n.qZA(),n.qZA(),n.YNc(30,Xe,11,15,"ng-template",null,17,n.W1O),n.YNc(32,Ke,2,8,"ng-template",null,18,n.W1O),n.YNc(34,tt,6,11,"ng-template",null,19,n.W1O)),2&e&&(n.Q6J("exclude",".open-left")("excludeBeforeClick",!0),n.xp6(3),n.Q6J("src",t.loggedInUser.avatar,n.LSH),n.xp6(3),n.Oqu(t.loggedInUser.name),n.xp6(22),n.Q6J("ngForOf",t.menuItems))},directives:[Re,ge,P.jt,P.iD,P.Vi,P.TH,O.sg,O.O5,O.tP,O.mk,P._D,s.yS],styles:[""]}),e})();var it=o(665);function nt(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"h6",6),n._uU(2,"Menus (Leftsidebar and Topbar) Positon"),n.qZA(),n.TgZ(3,"div",7),n.TgZ(4,"input",27),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().menuPosition=t})("change",function(){return n.CHM(e),n.oxw().changeMenuPosition("fixed")}),n.qZA(),n.TgZ(5,"label",28),n._uU(6,"Fixed"),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"input",29),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().menuPosition=t})("change",function(){return n.CHM(e),n.oxw().changeMenuPosition("scrollable")}),n.qZA(),n.TgZ(9,"label",30),n._uU(10,"Scrollable"),n.qZA(),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.menuPosition),n.xp6(4),n.Q6J("ngModel",e.menuPosition)}}function rt(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"h6",6),n._uU(2,"Left Sidebar Color"),n.qZA(),n.TgZ(3,"div",7),n.TgZ(4,"input",31),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().leftSidebarTheme=t})("change",function(){return n.CHM(e),n.oxw().changeLeftSidebarTheme("light")}),n.qZA(),n.TgZ(5,"label",32),n._uU(6,"Light"),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"input",33),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().leftSidebarTheme=t})("change",function(){return n.CHM(e),n.oxw().changeLeftSidebarTheme("dark")}),n.qZA(),n.TgZ(9,"label",34),n._uU(10,"Dark"),n.qZA(),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.leftSidebarTheme),n.xp6(4),n.Q6J("ngModel",e.leftSidebarTheme)}}function st(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"h6",6),n._uU(2,"Left Sidebar Size"),n.qZA(),n.TgZ(3,"div",7),n.TgZ(4,"input",35),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().leftSidebarType=t})("change",function(){return n.CHM(e),n.oxw().changeLeftSidebarType("default")}),n.qZA(),n.TgZ(5,"label",36),n._uU(6,"Default"),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"input",37),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().leftSidebarType=t})("change",function(){return n.CHM(e),n.oxw().changeLeftSidebarType("condensed")}),n.qZA(),n.TgZ(9,"label",38),n._uU(10,"Condensed "),n.TgZ(11,"small"),n._uU(12,"(Extra Small size)"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div",7),n.TgZ(14,"input",39),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().leftSidebarType=t})("change",function(){return n.CHM(e),n.oxw().changeLeftSidebarType("compact")}),n.qZA(),n.TgZ(15,"label",40),n._uU(16,"Compact "),n.TgZ(17,"small"),n._uU(18,"(Small size)"),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.leftSidebarType),n.xp6(4),n.Q6J("ngModel",e.leftSidebarType),n.xp6(6),n.Q6J("ngModel",e.leftSidebarType)}}function at(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"h6",6),n._uU(2,"Sidebar User Info"),n.qZA(),n.TgZ(3,"div",7),n.TgZ(4,"input",41),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().showSidebarUserInfo=t})("change",function(){n.CHM(e);const t=n.oxw();return t.toggleLeftSidebarUserInfo(t.showSidebarUserInfo)}),n.qZA(),n.TgZ(5,"label",42),n._uU(6,"Enable"),n.qZA(),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.showSidebarUserInfo)}}let lt=(()=>{class e{constructor(e,t){this.renderer=e,this.eventService=t,this.showSidebarUserInfo=!1,this.disableLeftBarSize=!1,this.rightSidebarClass="right-bar-enabled",this.isShowing=!1,this.eventService.on(h.SHOW_RIGHT_SIDEBAR).subscribe(()=>{this.show()}),this.eventService.on(h.HIDE_RIGHT_SIDEBAR).subscribe(()=>{this.hide()})}ngOnInit(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}ngOnChanges(){this.isShowing?this.renderer.addClass(document.body,this.rightSidebarClass):this.renderer.removeClass(document.body,this.rightSidebarClass)}updateDimensions(){window.innerWidth<=991?this.disableLeftBarSize=!0:window.innerWidth>991&&(this.disableLeftBarSize=!1)}show(){this.isShowing=!0,this.renderer.addClass(document.body,this.rightSidebarClass)}hide(){document.body.classList.contains(this.rightSidebarClass)&&(this.renderer.removeClass(document.body,this.rightSidebarClass),this.isShowing=!1)}changeLayout(e){this.layoutType=e,this.eventService.broadcast(h.CHANGE_LAYOUT,e)}changeLayoutWidth(e){this.layoutWidth=e,this.eventService.broadcast(h.CHANGE_LAYOUT_WIDTH,e)}changeMenuPosition(e){this.menuPosition=e,this.eventService.broadcast(h.CHANGE_MENU_POSITION,e)}changeLeftSidebarTheme(e){this.leftSidebarTheme=e,this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_THEME,e)}changeLeftSidebarType(e){this.leftSidebarType=e,this.layoutType!==d&&this.layoutType!==g||this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,e)}changeTopbarTheme(e){this.topbarTheme=e,this.eventService.broadcast(h.CHANGE_TOPBAR_THEME,e)}toggleLeftSidebarUserInfo(e){this.showSidebarUserInfo=e,this.layoutType!==d&&this.layoutType!==g||this.eventService.broadcast(h.TOGGLE_SIDEBAR_USERINFO,e)}reset(){this.changeLayout(d),this.changeLayoutWidth(y),this.changeMenuPosition(v),this.changeLeftSidebarType(C),this.changeLeftSidebarTheme("light"),this.toggleLeftSidebarUserInfo(!1),this.changeTopbarTheme(b)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-right-sidebar"]],inputs:{layoutType:"layoutType",layoutWidth:"layoutWidth",menuPosition:"menuPosition",leftSidebarTheme:"leftSidebarTheme",leftSidebarType:"leftSidebarType",showSidebarUserInfo:"showSidebarUserInfo",topbarTheme:"topbarTheme"},features:[n.TTD],decls:55,vars:15,consts:[[1,"right-bar",3,"exclude","excludeBeforeClick","clickOutside"],[1,"h-100"],[1,"fw-medium","px-3","m-0","py-2","text-uppercase","bg-light"],[1,"d-block","py-1"],[1,"p-3"],["type","warning",3,"dismissible"],[1,"fw-medium","mt-4","mb-2","pb-1"],[1,"form-check","form-switch","mb-1"],["type","radio","name","layoutType","value","vertical","id","vertical-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","vertical-check",1,"form-check-label"],["type","radio","name","layoutType","value","horizontal","id","horizontal-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","horizontal-check",1,"form-check-label"],["type","radio","name","layoutType","value","detached","id","detached-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","detached-check",1,"form-check-label"],["type","radio","name","layoutType","value","two-column","id","two-column-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","two-column-check",1,"form-check-label"],["type","radio","name","layoutWidth","value","fluid","id","fluid-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","fluid-check",1,"form-check-label"],["type","radio","name","layoutWidth","value","boxed","id","boxed-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","boxed-check",1,"form-check-label"],[4,"ngIf"],["type","radio","name","topbarTheme","value","dark","id","darktopbar-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","darktopbar-check",1,"form-check-label"],["type","radio","name","topbarTheme","value","light","id","lighttopbar-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","lighttopbar-check",1,"form-check-label"],["id","resetBtn",1,"btn","btn-primary","w-100","mt-4",3,"click"],[1,"rightbar-overlay"],["type","radio","name","menuPosition","value","fixed","id","fixed-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","fixed-check",1,"form-check-label"],["type","radio","name","menuPosition","value","scrollable","id","scrollable-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","scrollable-check",1,"form-check-label"],["type","radio","name","leftSidebarTheme","value","light","id","light-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","light-check",1,"form-check-label"],["type","radio","name","leftSidebarTheme","value","dark","id","dark-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","dark-check",1,"form-check-label"],["type","radio","name","leftSidebarType","value","default","id","default-size-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","default-size-check",1,"form-check-label"],["type","radio","name","leftSidebarType","value","condensed","id","condensed-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","condensed-check",1,"form-check-label"],["type","radio","name","leftSidebarType","value","compact","id","compact-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","compact-check",1,"form-check-label"],["type","checkbox","name","showSidebarUserInfo","value","fixed","id","sidebaruser-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","sidebaruser-check",1,"form-check-label"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(){return t.hide()}),n.TgZ(1,"ngx-simplebar",1),n.TgZ(2,"h6",2),n.TgZ(3,"span",3),n._uU(4,"Theme Settings"),n.qZA(),n.qZA(),n.TgZ(5,"div",4),n.TgZ(6,"ngb-alert",5),n.TgZ(7,"strong"),n._uU(8,"Customize "),n.qZA(),n._uU(9," the overall color scheme, sidebar menu, etc "),n.qZA(),n.TgZ(10,"h6",6),n._uU(11,"Layout Type"),n.qZA(),n.TgZ(12,"div",7),n.TgZ(13,"input",8),n.NdJ("ngModelChange",function(e){return t.layoutType=e})("change",function(){return t.changeLayout("vertical")}),n.qZA(),n.TgZ(14,"label",9),n._uU(15,"Vertical Layout"),n.qZA(),n.qZA(),n.TgZ(16,"div",7),n.TgZ(17,"input",10),n.NdJ("ngModelChange",function(e){return t.layoutType=e})("change",function(){return t.changeLayout("horizontal")}),n.qZA(),n.TgZ(18,"label",11),n._uU(19,"Horizontal Layout"),n.qZA(),n.qZA(),n.TgZ(20,"div",7),n.TgZ(21,"input",12),n.NdJ("ngModelChange",function(e){return t.layoutType=e})("change",function(){return t.changeLayout("detached")}),n.qZA(),n.TgZ(22,"label",13),n._uU(23,"Detached Layout"),n.qZA(),n.qZA(),n.TgZ(24,"div",7),n.TgZ(25,"input",14),n.NdJ("ngModelChange",function(e){return t.layoutType=e})("change",function(){return t.changeLayout("two-column")}),n.qZA(),n.TgZ(26,"label",15),n._uU(27,"Two Column Menu"),n.qZA(),n.qZA(),n.TgZ(28,"h6",6),n._uU(29,"Width"),n.qZA(),n.TgZ(30,"div",7),n.TgZ(31,"input",16),n.NdJ("ngModelChange",function(e){return t.layoutWidth=e})("change",function(){return t.changeLayoutWidth("fluid")}),n.qZA(),n.TgZ(32,"label",17),n._uU(33,"Fluid"),n.qZA(),n.qZA(),n.TgZ(34,"div",7),n.TgZ(35,"input",18),n.NdJ("ngModelChange",function(e){return t.layoutWidth=e})("change",function(){return t.changeLayoutWidth("boxed")}),n.qZA(),n.TgZ(36,"label",19),n._uU(37,"Boxed"),n.qZA(),n.qZA(),n.YNc(38,nt,11,2,"ng-container",20),n.YNc(39,rt,11,2,"ng-container",20),n.YNc(40,st,19,3,"ng-container",20),n.YNc(41,at,7,1,"ng-container",20),n.TgZ(42,"h6",6),n._uU(43,"Topbar"),n.qZA(),n.TgZ(44,"div",7),n.TgZ(45,"input",21),n.NdJ("ngModelChange",function(e){return t.topbarTheme=e})("change",function(){return t.changeTopbarTheme("dark")}),n.qZA(),n.TgZ(46,"label",22),n._uU(47,"Dark"),n.qZA(),n.qZA(),n.TgZ(48,"div",7),n.TgZ(49,"input",23),n.NdJ("ngModelChange",function(e){return t.topbarTheme=e})("change",function(){return t.changeTopbarTheme("light")}),n.qZA(),n.TgZ(50,"label",24),n._uU(51,"Light"),n.qZA(),n.qZA(),n.TgZ(52,"button",25),n.NdJ("click",function(){return t.reset()}),n._uU(53,"Reset to Default"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(54,"div",26)),2&e&&(n.Q6J("exclude",".right-bar-toggle")("excludeBeforeClick",!0),n.xp6(6),n.Q6J("dismissible",!1),n.xp6(7),n.Q6J("ngModel",t.layoutType),n.xp6(4),n.Q6J("ngModel",t.layoutType),n.xp6(4),n.Q6J("ngModel",t.layoutType),n.xp6(4),n.Q6J("ngModel",t.layoutType),n.xp6(6),n.Q6J("ngModel",t.layoutWidth),n.xp6(4),n.Q6J("ngModel",t.layoutWidth),n.xp6(3),n.Q6J("ngIf","two-column"!==t.layoutType),n.xp6(1),n.Q6J("ngIf","horizontal"!==t.layoutType),n.xp6(1),n.Q6J("ngIf","horizontal"!==t.layoutType&&"two-column"!==t.layoutType&&!t.disableLeftBarSize),n.xp6(1),n.Q6J("ngIf","horizontal"!==t.layoutType&&"two-column"!==t.layoutType),n.xp6(4),n.Q6J("ngModel",t.topbarTheme),n.xp6(4),n.Q6J("ngModel",t.topbarTheme))},directives:[Re,ge,P.xm,it._,it.Fj,it.JJ,it.On,O.O5,it.Wl],styles:[""]}),e})();function ct(e,t){1&e&&(n.TgZ(0,"div",7),n._UZ(1,"router-outlet"),n.qZA())}let ut=(()=>{class e{constructor(e){this.eventService=e,this.layoutWidth="",this.menuPosition="",this.leftSidebarTheme="",this.leftSidebarType="",this.topbarTheme="",this.showSidebarUserInfo=!1,this.reRender=!0,this._setRerender=()=>{this.reRender=!1,setTimeout(()=>{this.reRender=!0},20)}}ngOnInit(){let e=_("vertical");this.menuPosition=e.menuPosition,this.leftSidebarTheme=e.leftSidebarTheme,this.leftSidebarType=e.leftSidebarType,this.topbarTheme=e.topbarTheme,this.showSidebarUserInfo=e.showSidebarUserInfo,this.eventService.on(h.CHANGE_MENU_POSITION).subscribe(({payload:e})=>{this.menuPosition=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_THEME).subscribe(({payload:e})=>{this.leftSidebarTheme=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_TYPE).subscribe(({payload:e})=>{this.leftSidebarType=e}),this.eventService.on(h.CHANGE_TOPBAR_THEME).subscribe(({payload:e})=>{this.topbarTheme=e}),this.eventService.on(h.TOGGLE_SIDEBAR_USERINFO).subscribe(({payload:e})=>{this.showSidebarUserInfo=e}),this.changeLayoutConfig()}ngAfterViewInit(){E("data-layout-mode","","remove")}ngOnChanges(){this._setRerender(),this.changeLayoutConfig()}ngDoCheck(){this.changeLayoutConfig()}changeLayoutConfig(){E("data-layout-width",this.layoutWidth),E("data-layout-menu-position",this.menuPosition),E("data-sidebar-color",this.leftSidebarTheme),E("data-sidebar-size",this.leftSidebarType),E("data-topbar-color",this.topbarTheme)}onSettingsButtonClicked(){this.eventService.broadcast(h.SHOW_RIGHT_SIDEBAR)}onToggleMobileMenu(){document.body.classList.toggle("sidebar-enable")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-vertical-layout"]],inputs:{layoutWidth:"layoutWidth"},features:[n.TTD],decls:7,vars:8,consts:[["id","wrapper"],[3,"settingsButtonClicked","mobileMenuButtonClicked"],[3,"includeUserProfile"],[1,"content-page"],[1,"content"],["class","container-fluid",4,"ngIf"],["layoutType","vertical",3,"layoutWidth","menuPosition","leftSidebarTheme","leftSidebarType","topbarTheme","showSidebarUserInfo"],[1,"container-fluid"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"app-topbar",1),n.NdJ("settingsButtonClicked",function(){return t.onSettingsButtonClicked()})("mobileMenuButtonClicked",function(){return t.onToggleMobileMenu()}),n.qZA(),n._UZ(2,"app-left-sidebar",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.YNc(5,ct,2,0,"div",5),n.qZA(),n.qZA(),n.qZA(),n._UZ(6,"app-right-sidebar",6)),2&e&&(n.xp6(2),n.Q6J("includeUserProfile",t.showSidebarUserInfo),n.xp6(3),n.Q6J("ngIf",t.reRender),n.xp6(1),n.Q6J("layoutWidth",t.layoutWidth)("menuPosition",t.menuPosition)("leftSidebarTheme",t.leftSidebarTheme)("leftSidebarType",t.leftSidebarType)("topbarTheme",t.topbarTheme)("showSidebarUserInfo",t.showSidebarUserInfo))},directives:[Se,ot,O.O5,lt,s.lC],styles:[""]}),e})();function pt(e,t){1&e&&n.GkF(0)}const ht=function(e){return{menu:e,className:"nav-item",linkClassName:"nav-link nav-link-ref"}};function dt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,pt,1,0,"ng-container",11),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw();const t=n.MAs(12);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,ht,e))}}function ft(e,t){1&e&&n.GkF(0)}const gt=function(e){return{menu:e,className:"nav-item dropdown",linkClassName:"dropdown-toggle nav-link arrow-none nav-link-ref"}};function mt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,ft,1,0,"ng-container",11),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw();const t=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,gt,e))}}function yt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,dt,2,4,"ng-container",10),n.YNc(2,mt,2,4,"ng-container",10),n.BQk()),2&e){const e=t.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",!o.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",o.hasSubmenu(e))}}function vt(e,t){if(1&e&&n._UZ(0,"em",17),2&e){const e=n.oxw().menu;n.uIk("data-feather",e.icon)}}function Ct(e,t){1&e&&n.GkF(0)}const wt=function(e){return{menu:e,linkClassName:"dropdown-toggle dropdown-item arrow-none nav-link-ref"}};function bt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Ct,1,0,"ng-container",11),n.BQk()),2&e){const e=t.$implicit;n.oxw(2);const o=n.MAs(10);n.xp6(1),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(2,wt,e))}}const xt=function(e){return{active:e}},St=function(e){return{show:e}};function Et(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",12),n.TgZ(1,"a",13),n.NdJ("click",function(){const t=n.CHM(e).menu;return n.oxw().toggleMenuItem(t)}),n.YNc(2,vt,1,1,"em",14),n._uU(3),n._UZ(4,"div",15),n.qZA(),n.TgZ(5,"div",16),n.YNc(6,bt,2,4,"ng-container",6),n.qZA(),n.qZA()}if(2&e){const e=t.menu,o=t.className,i=t.linkClassName,r=n.oxw();n.Tol(o),n.Q6J("ngClass",n.VKq(14,xt,r.activeMenuItems.includes(e.key))),n.xp6(1),n.Tol(i),n.MGl("id","topnav-",e.key,""),n.Q6J("ngClass",n.VKq(16,xt,r.activeMenuItems.includes(e.key))),n.uIk("aria-expanded",!e.collapsed)("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon),n.xp6(1),n.hij(" ",e.label," "),n.xp6(2),n.Q2q("aria-labelledby","topnav-",e.key,""),n.Q6J("ngClass",n.VKq(18,St,!e.collapsed)),n.xp6(1),n.Q6J("ngForOf",e.children)}}function _t(e,t){1&e&&n.GkF(0)}const At=function(e){return{menu:e,linkClassName:"dropdown-item arrow-none nav-link-ref"}};function Rt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,_t,1,0,"ng-container",11),n.BQk()),2&e){const e=t.$implicit;n.oxw(3);const o=n.MAs(10);n.xp6(1),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(2,At,e))}}function Tt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"a",21),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().menu;return n.oxw().toggleMenuItem(t)}),n._uU(2),n._UZ(3,"div",15),n.qZA(),n.TgZ(4,"div",16),n.YNc(5,Rt,2,4,"ng-container",6),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(),t=e.linkClassName,o=e.menu,i=n.oxw();n.xp6(1),n.Tol(t),n.MGl("id","topnav-",o.key,""),n.Q6J("ngClass",n.VKq(9,xt,i.activeMenuItems.includes(o.key))),n.uIk("data-menu-key",o.key),n.xp6(1),n.hij(" ",o.label," "),n.xp6(2),n.Q2q("aria-labelledby","topnav-",o.key,""),n.Q6J("ngClass",n.VKq(11,St,!o.collapsed)),n.xp6(1),n.Q6J("ngForOf",o.children)}}function Ot(e,t){if(1&e&&(n.TgZ(0,"a",22),n._uU(1),n.qZA()),2&e){const e=n.oxw().menu,t=n.oxw();n.Q6J("routerLink",e.link)("ngClass",n.VKq(4,xt,t.activeMenuItems.includes(e.key))),n.uIk("data-menu-key",e.key),n.xp6(1),n.hij("",e.label," ")}}function Pt(e,t){if(1&e&&(n.YNc(0,Tt,6,13,"div",18),n.YNc(1,Ot,2,6,"a",19)),2&e){const e=t.menu,o=n.oxw();n.Q6J("ngIf",o.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",!o.hasSubmenu(e))}}function Dt(e,t){if(1&e&&n._UZ(0,"em",17),2&e){const e=n.oxw().menu;n.uIk("data-feather",e.icon)}}function It(e,t){if(1&e&&(n.TgZ(0,"li",23),n.TgZ(1,"a",24),n.YNc(2,Dt,1,1,"em",14),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&e){const e=t.menu,o=t.className,i=t.linkClassName,r=n.oxw();n.Tol(o),n.Q6J("ngClass",n.VKq(10,xt,r.activeMenuItems.includes(e.key))),n.xp6(1),n.Tol(i),n.Q6J("routerLink",e.link)("ngClass",n.VKq(12,xt,r.activeMenuItems.includes(e.key))),n.uIk("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon),n.xp6(2),n.hij(" ",e.label,"")}}let Mt=(()=>{class e{constructor(e){this.router=e,this.showMobileMenu=!0,this.menuItems=[],this.activeMenuItems=[],e.events.forEach(e=>{e instanceof s.m2&&this._activateMenu()})}ngOnInit(){this.initMenu()}ngAfterViewInit(){setTimeout(()=>{this._activateMenu()})}initMenu(){this.menuItems=Ae}hasSubmenu(e){return!!e.children}toggleMenuItem(e){let t;e.collapsed=!e.collapsed,e.collapsed||(t=[e.key,...x(this.menuItems,e)],this.menuItems.forEach(e=>{t.includes(e.key)||(e.collapsed=!0)}))}_activateMenu(){const e=document.getElementById("topnav-menu-content");let t=null;if(e){let o=e.getElementsByClassName("nav-link-ref");for(const e of o)if(window.location.pathname===e.pathname){t=e;break}if(t){const e=t.getAttribute("data-menu-key"),o=S(this.menuItems,e);o&&(this.activeMenuItems=[o.key,...x(this.menuItems,o)])}}this.menuItems.forEach(e=>{e.collapsed=!0})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-horizontal-topnav"]],inputs:{showMobileMenu:"showMobileMenu"},decls:13,vars:2,consts:[[1,"topnav"],[1,"container-fluid"],[1,"navbar","navbar-light","navbar-expand-lg","topnav-menu"],["id","topnav-menu-content",1,"navbar-collapse",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"navbar-nav"],[4,"ngFor","ngForOf"],["MenuItemWithChildren",""],["SubMenu",""],["MenuItem",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["ngbDropdown","",3,"ngClass"],["href","javascript: void(0);","role","button","attr.aria-haspopup","true",3,"ngClass","id","click"],["appFeatherIcon","",4,"ngIf"],[1,"arrow-down"],[1,"dropdown-menu",3,"ngClass"],["appFeatherIcon",""],["class","dropdown",4,"ngIf"],["class","dropdown-item nav-link-ref",3,"routerLink","ngClass",4,"ngIf"],[1,"dropdown"],["href","javascript: void(0);","role","button",3,"ngClass","id","click"],[1,"dropdown-item","nav-link-ref",3,"routerLink","ngClass"],[3,"ngClass"],[3,"routerLink","ngClass"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"nav",2),n.TgZ(3,"div",3,4),n.NdJ("ngbCollapseChange",function(e){return!(t.showMobileMenu=e)}),n.TgZ(5,"ul",5),n.YNc(6,yt,3,2,"ng-container",6),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(7,Et,7,20,"ng-template",null,7,n.W1O),n.YNc(9,Pt,2,2,"ng-template",null,8,n.W1O),n.YNc(11,It,5,14,"ng-template",null,9,n.W1O)),2&e&&(n.xp6(3),n.Q6J("ngbCollapse",!t.showMobileMenu),n.xp6(3),n.Q6J("ngForOf",t.menuItems))},directives:[P._D,O.sg,O.O5,O.tP,O.mk,s.yS],styles:[""]}),e})(),Nt=(()=>{class e{constructor(){}ngOnInit(){this.currentYear=Date.now()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"footer"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],["href","https://coderthemes.com/"],[1,"text-sm-end","footer-links","d-none","d-sm-block"],["href","javascript:void(0);"]],template:function(e,t){1&e&&(n.TgZ(0,"footer",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4),n.ALo(5,"date"),n.TgZ(6,"a",4),n._uU(7,"Coderthemes"),n.qZA(),n.qZA(),n.TgZ(8,"div",3),n.TgZ(9,"div",5),n.TgZ(10,"a",6),n._uU(11,"About Us"),n.qZA(),n.TgZ(12,"a",6),n._uU(13,"Help"),n.qZA(),n.TgZ(14,"a",6),n._uU(15,"Contact Us"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.hij(" ",n.xi3(5,1,t.currentYear,"yyyy")," \xa9 Shreyu theme by "))},pipes:[O.uU],styles:[""]}),e})();function kt(e,t){1&e&&(n.TgZ(0,"div",5),n.TgZ(1,"div",6),n.TgZ(2,"div",7),n._UZ(3,"router-outlet"),n.qZA(),n.qZA(),n._UZ(4,"app-footer"),n.qZA())}let Lt=(()=>{class e{constructor(e){this.eventService=e,this.layoutWidth="",this.menuPosition="",this.leftSidebarTheme="",this.leftSidebarType="",this.topbarTheme="",this.showSidebarUserInfo=!1,this.reRender=!0,this.showMobileMenu=!1,this._setRerender=()=>{this.reRender=!1,setTimeout(()=>{this.reRender=!0},.05)}}ngOnInit(){let e=_("horizontal");this.menuPosition=e.menuPosition,this.leftSidebarTheme=e.leftSidebarTheme,this.leftSidebarType=e.leftSidebarType,this.topbarTheme=e.topbarTheme,this.showSidebarUserInfo=e.showSidebarUserInfo,this.eventService.on(h.CHANGE_MENU_POSITION).subscribe(({payload:e})=>{this.menuPosition=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_THEME).subscribe(({payload:e})=>{this.leftSidebarTheme=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_TYPE).subscribe(({payload:e})=>{this.leftSidebarType=e}),this.eventService.on(h.CHANGE_TOPBAR_THEME).subscribe(({payload:e})=>{this.topbarTheme=e}),this.eventService.on(h.TOGGLE_SIDEBAR_USERINFO).subscribe(({payload:e})=>{this.showSidebarUserInfo=e}),this.changeLayoutConfig()}ngAfterViewInit(){E("data-layout-mode","horizontal")}ngOnChanges(){this._setRerender(),this.changeLayoutConfig()}ngDoCheck(){this.changeLayoutConfig()}ngOnDestroy(){E("data-layout-mode","","remove")}changeLayoutConfig(){E("data-layout-width",this.layoutWidth),E("data-layout-menu-position",this.menuPosition),E("data-sidebar-size",this.leftSidebarType),E("data-sidebar-color",this.leftSidebarTheme),E("data-topbar-color",this.topbarTheme)}onSettingsButtonClicked(){this.eventService.broadcast(h.SHOW_RIGHT_SIDEBAR)}onToggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-horizontal-layout"]],inputs:{layoutWidth:"layoutWidth"},features:[n.TTD],decls:5,vars:8,consts:[["id","wrapper"],["layoutType","horizontal",3,"settingsButtonClicked","mobileMenuButtonClicked"],[3,"showMobileMenu"],["class","content-page",4,"ngIf"],["layoutType","horizontal",3,"layoutWidth","menuPosition","leftSidebarTheme","leftSidebarType","topbarTheme","showSidebarUserInfo"],[1,"content-page"],[1,"content"],[1,"container-fluid"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"app-topbar",1),n.NdJ("settingsButtonClicked",function(){return t.onSettingsButtonClicked()})("mobileMenuButtonClicked",function(){return t.onToggleMobileMenu()}),n.qZA(),n._UZ(2,"app-horizontal-topnav",2),n.YNc(3,kt,5,0,"div",3),n.qZA(),n._UZ(4,"app-right-sidebar",4)),2&e&&(n.xp6(2),n.Q6J("showMobileMenu",t.showMobileMenu),n.xp6(1),n.Q6J("ngIf",t.reRender),n.xp6(1),n.Q6J("layoutWidth",t.layoutWidth)("menuPosition",t.menuPosition)("leftSidebarTheme",t.leftSidebarTheme)("leftSidebarType",t.leftSidebarType)("topbarTheme",t.topbarTheme)("showSidebarUserInfo",t.showSidebarUserInfo))},directives:[Se,Mt,O.O5,lt,s.lC,Nt],styles:[""]}),e})();function Ft(e,t){1&e&&(n.TgZ(0,"div",5),n.TgZ(1,"div",6),n.TgZ(2,"div",7),n._UZ(3,"router-outlet"),n.qZA(),n.qZA(),n._UZ(4,"app-footer"),n.qZA())}let Gt=(()=>{class e{constructor(e){this.eventService=e,this.layoutWidth="",this.menuPosition="",this.leftSidebarTheme="",this.leftSidebarType="",this.topbarTheme="",this.showSidebarUserInfo=!1,this.reRender=!0,this._setRerender=()=>{this.reRender=!1,setTimeout(()=>{this.reRender=!0})}}ngOnInit(){let e=_("detached");this.menuPosition=e.menuPosition,this.leftSidebarTheme=e.leftSidebarTheme,this.leftSidebarType=e.leftSidebarType,this.topbarTheme=e.topbarTheme,this.showSidebarUserInfo=e.showSidebarUserInfo,this.eventService.on(h.CHANGE_MENU_POSITION).subscribe(({payload:e})=>{this.menuPosition=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_THEME).subscribe(({payload:e})=>{this.leftSidebarTheme=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_TYPE).subscribe(({payload:e})=>{this.leftSidebarType=e}),this.eventService.on(h.CHANGE_TOPBAR_THEME).subscribe(({payload:e})=>{this.topbarTheme=e}),this.eventService.on(h.TOGGLE_SIDEBAR_USERINFO).subscribe(({payload:e})=>{this.showSidebarUserInfo=e}),this.changeLayoutConfig()}ngAfterViewInit(){E("data-layout-mode","detached")}ngOnChanges(){this._setRerender(),this.changeLayoutConfig()}ngDoCheck(){this.changeLayoutConfig()}ngOnDestroy(){E("data-layout-mode","remove")}changeLayoutConfig(){E("data-layout-width",this.layoutWidth),E("data-layout-menu-position",this.menuPosition),E("data-sidebar-color",this.leftSidebarTheme),E("data-sidebar-size",this.leftSidebarType),E("data-topbar-color",this.topbarTheme)}onSettingsButtonClicked(){this.eventService.broadcast(h.SHOW_RIGHT_SIDEBAR)}onToggleMobileMenu(){document.body.classList.toggle("sidebar-enable")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-detached-layout"]],inputs:{layoutWidth:"layoutWidth"},features:[n.TTD],decls:5,vars:8,consts:[["id","wrapper"],["layoutType","detached",3,"settingsButtonClicked","mobileMenuButtonClicked"],[3,"includeUserProfile"],["class","content-page",4,"ngIf"],["layoutType","detached",3,"layoutWidth","menuPosition","leftSidebarTheme","leftSidebarType","topbarTheme","showSidebarUserInfo"],[1,"content-page"],[1,"content"],[1,"container-fluid"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"app-topbar",1),n.NdJ("settingsButtonClicked",function(){return t.onSettingsButtonClicked()})("mobileMenuButtonClicked",function(){return t.onToggleMobileMenu()}),n.qZA(),n._UZ(2,"app-left-sidebar",2),n.YNc(3,Ft,5,0,"div",3),n.qZA(),n._UZ(4,"app-right-sidebar",4)),2&e&&(n.xp6(2),n.Q6J("includeUserProfile",t.showSidebarUserInfo),n.xp6(1),n.Q6J("ngIf",t.reRender),n.xp6(1),n.Q6J("layoutWidth",t.layoutWidth)("menuPosition",t.menuPosition)("leftSidebarTheme",t.leftSidebarTheme)("leftSidebarType",t.leftSidebarType)("topbarTheme",t.topbarTheme)("showSidebarUserInfo",t.showSidebarUserInfo))},directives:[Se,ot,O.O5,lt,s.lC,Nt],styles:[""]}),e})();function Ht(e,t){if(1&e&&n._UZ(0,"em",9),2&e){const e=n.oxw(2).$implicit;n.uIk("data-feather",e.icon)}}const Vt=function(e){return{active:e}};function Wt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",7),n.NdJ("click",function(t){n.CHM(e);const o=n.oxw().$implicit;return n.oxw().toggleMenuItem(t,o)}),n.YNc(1,Ht,1,1,"em",8),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw();n.Q6J("ngClass",n.VKq(4,Vt,t.openMenuItems.includes(e.key)))("ngbTooltip",e.label),n.uIk("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon)}}function Bt(e,t){if(1&e&&n._UZ(0,"em",9),2&e){const e=n.oxw(2).$implicit;n.uIk("data-feather",e.icon)}}function jt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",10),n.NdJ("click",function(t){n.CHM(e);const o=n.oxw().$implicit;return n.oxw().toggleMenuItem(t,o)}),n.YNc(1,Bt,1,1,"em",8),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw();n.Q6J("ngClass",n.VKq(5,Vt,t.openMenuItems.includes(e.key)))("ngbTooltip",e.label),n.uIk("href",e.link,n.LSH)("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.icon)}}function zt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Wt,2,6,"a",5),n.YNc(2,jt,2,7,"a",6),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",e.children),n.xp6(1),n.Q6J("ngIf",!e.children)}}let Ut=(()=>{class e{constructor(e){this.router=e,this.menuItems=[],this.activeMenuItems=[],this.openMenuItems=[],this.toggleMenu=new n.vpe}ngOnInit(){}toggleMenuItem(e,t){e.preventDefault(),t.children||this.router.navigate([t.link]),this.toggleMenu.emit({menuItem:t})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-icon-menu"]],inputs:{menuItems:"menuItems",activeMenuItems:"activeMenuItems",openMenuItems:"openMenuItems"},outputs:{toggleMenu:"toggleMenu"},decls:6,vars:2,consts:[[1,"sidebar-icon-menu","h-100"],[1,"logo",3,"routerLink"],["src","../assets/images/logo-sm-light.png","alt","","height","28"],["id","two-col-sidenav-main",1,"nav","flex-column"],[4,"ngFor","ngForOf"],["class","nav-link two-column-nav-link-ref","href","javascript: void(0)","placement","end","container","body",3,"ngClass","ngbTooltip","click",4,"ngIf"],["class","nav-link two-column-nav-link-ref","placement","end","container","body",3,"ngClass","ngbTooltip","click",4,"ngIf"],["href","javascript: void(0)","placement","end","container","body",1,"nav-link","two-column-nav-link-ref",3,"ngClass","ngbTooltip","click"],["appFeatherIcon","",4,"ngIf"],["appFeatherIcon",""],["placement","end","container","body",1,"nav-link","two-column-nav-link-ref",3,"ngClass","ngbTooltip","click"]],template:function(e,t){1&e&&(n.TgZ(0,"ngx-simplebar",0),n.TgZ(1,"a",1),n.TgZ(2,"span"),n._UZ(3,"img",2),n.qZA(),n.qZA(),n.TgZ(4,"nav",3),n.YNc(5,zt,3,2,"ng-container",4),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("routerLink","../dashboard/ecommerce"),n.xp6(4),n.Q6J("ngForOf",t.menuItems))},directives:[ge,s.yS,O.sg,O.O5,O.mk,P._L],styles:[""]}),e})();function Yt(e,t){1&e&&n.GkF(0)}const Xt=function(e){return{menu:e,className:"nav-item",linkClassName:"nav-link two-column-nav-link-ref"}};function qt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Yt,1,0,"ng-container",12),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,Xt,e))}}function Zt(e,t){1&e&&n.GkF(0)}const Kt=function(e){return{menu:e,className:"nav-item",linkClassName:"nav-link  two-column-nav-link-ref",subMenuClassNames:"nav-second-level"}};function Qt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Zt,1,0,"ng-container",12),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,Kt,e))}}function Jt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,qt,2,4,"ng-container",11),n.YNc(2,Qt,2,4,"ng-container",11),n.BQk()),2&e){const e=t.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!o.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",o.hasSubmenu(e))}}const $t=function(e){return{"d-block":e}};function eo(e,t){if(1&e&&(n.TgZ(0,"div",6),n.TgZ(1,"div",7),n.TgZ(2,"h5",8),n._uU(3),n.qZA(),n.TgZ(4,"ul",9),n.YNc(5,Jt,3,2,"ng-container",10),n.qZA(),n.qZA(),n.qZA()),2&e){const e=t.$implicit,o=n.oxw();n.Q6J("id",e.key)("ngClass",n.VKq(4,$t,o.openMenuItems.includes(e.key))),n.xp6(3),n.Oqu(e.label),n.xp6(2),n.Q6J("ngForOf",e.children)}}function to(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().menu;n.Gre("badge bg-",e.badge.variant," rounded-pill float-end"),n.xp6(1),n.Oqu(e.badge.text)}}function oo(e,t){1&e&&n._UZ(0,"span",19)}function io(e,t){1&e&&n.GkF(0)}const no=function(e){return{menu:e,className:"",linkClassName:"two-column-nav-link-ref",subMenuClassNames:"nav-second-level"}};function ro(e,t){if(1&e&&(n.ynx(0),n.YNc(1,io,1,0,"ng-container",12),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,no,e))}}function so(e,t){1&e&&n.GkF(0)}const ao=function(e){return{menu:e,className:"",linkClassName:"two-column-nav-link-ref"}};function lo(e,t){if(1&e&&(n.ynx(0),n.YNc(1,so,1,0,"ng-container",12),n.BQk()),2&e){const e=n.oxw().$implicit;n.oxw(2);const t=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",n.VKq(2,ao,e))}}function co(e,t){if(1&e&&(n.ynx(0),n.YNc(1,ro,2,4,"ng-container",11),n.YNc(2,lo,2,4,"ng-container",11),n.BQk()),2&e){const e=t.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",o.hasSubmenu(e)),n.xp6(1),n.Q6J("ngIf",!o.hasSubmenu(e))}}const uo=function(e){return{"menuitem-active":e}};function po(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",13),n.TgZ(1,"a",14),n.NdJ("click",function(){const t=n.CHM(e).menu,o=n.MAs(7);return n.oxw().toggleMenuItem(t,o)}),n.YNc(2,to,2,4,"span",15),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.YNc(5,oo,1,0,"span",16),n.qZA(),n.TgZ(6,"div",17,18),n.NdJ("ngbCollapseChange",function(t){return n.CHM(e).menu.collapsed=t}),n.TgZ(8,"ul"),n.YNc(9,co,3,2,"ng-container",10),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.menu,o=t.className,i=t.linkClassName,r=t.subMenuClassNames,s=n.oxw();n.Tol(o),n.Q6J("ngClass",n.VKq(14,uo,s.activeMenuItems.includes(e.key))),n.xp6(1),n.Tol(i),n.uIk("aria-expanded",!e.collapsed)("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.badge),n.xp6(2),n.Oqu(e.label),n.xp6(1),n.Q6J("ngIf",!e.badge),n.xp6(1),n.Q6J("ngbCollapse",e.collapsed),n.xp6(2),n.Tol(r),n.xp6(1),n.Q6J("ngForOf",e.children)}}function ho(e,t){1&e&&n.GkF(0)}const fo=function(e,t){return{menu:e,className:t}};function go(e,t){if(1&e&&(n.TgZ(0,"li",13),n.YNc(1,ho,1,0,"ng-container",12),n.qZA()),2&e){const e=t.menu,o=t.className,i=t.linkClassName,r=n.oxw(),s=n.MAs(8);n.Tol(o),n.Q6J("ngClass",n.VKq(5,uo,r.activeMenuItems.includes(e.key))),n.xp6(1),n.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",n.WLB(7,fo,e,i))}}function mo(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=n.oxw().menu;n.Gre("badge bg-",e.badge.variant,"  float-end"),n.xp6(1),n.Oqu(e.badge.text)}}const yo=function(e){return{active:e}};function vo(e,t){if(1&e&&(n.TgZ(0,"a",20),n.YNc(1,mo,2,4,"span",15),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()),2&e){const e=t.menu,o=t.className,i=n.oxw();n.Tol(o),n.Q6J("routerLink",e.link)("ngClass",n.VKq(7,yo,i.activeMenuItems.includes(e.key))),n.uIk("data-menu-key",e.key),n.xp6(1),n.Q6J("ngIf",e.badge),n.xp6(2),n.Oqu(e.label)}}let Co=(()=>{class e{constructor(){this.menuItems=[],this.activeMenuItems=[],this.openMenuItems=[],this.sidebarType="",this.toggleMenu=new n.vpe}ngOnInit(){}ngAfterViewInit(){}hasSubmenu(e){return!!e.children}toggleMenuItem(e,t){this.toggleMenu.emit({menuItem:e,collapse:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-main-menu"]],inputs:{menuItems:"menuItems",activeMenuItems:"activeMenuItems",openMenuItems:"openMenuItems",sidebarType:"sidebarType"},outputs:{toggleMenu:"toggleMenu"},decls:9,vars:1,consts:[[1,"sidebar-main-menu"],["id","two-col-menu",1,"h-100"],["class","twocolumn-menu-item",3,"id","ngClass",4,"ngFor","ngForOf"],["MenuItemWithChildren",""],["MenuItem",""],["MenuItemLink",""],[1,"twocolumn-menu-item",3,"id","ngClass"],[1,"title-box"],[1,"menu-title"],[1,"nav","flex-column"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["href","javascript: void(0)",3,"click"],[3,"class",4,"ngIf"],["class","menu-arrow",4,"ngIf"],[3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"menu-arrow"],["href","javascript:void(0)",3,"routerLink","ngClass"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"ngx-simplebar",1),n.YNc(2,eo,6,6,"div",2),n.qZA(),n.qZA(),n.YNc(3,po,10,16,"ng-template",null,3,n.W1O),n.YNc(5,go,2,10,"ng-template",null,4,n.W1O),n.YNc(7,vo,4,9,"ng-template",null,5,n.W1O)),2&e&&(n.xp6(2),n.Q6J("ngForOf",t.menuItems))},directives:[ge,O.sg,O.mk,O.O5,O.tP,P._D,s.yS],styles:[""]}),e})();function wo(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-main-menu",6),n.NdJ("toggleMenu",function(t){return n.CHM(e),n.oxw().toggleMainMenuItem(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("menuItems",e.twoColumnMenuItems)("openMenuItems",e.openMenuItems)("activeMenuItems",e.activeMenuItems)("sidebarType",e.sidebarType)}}let bo=(()=>{class e{constructor(e,t){this.router=e,this.eventService=t,this.twoColumnMenuItems=[],this.activeMenuItems=[],this.openMenuItems=[],this.showMobileMenu=!0,e.events.forEach(e=>{e instanceof s.m2&&(this._activateMenu(),this.hideMenu())})}ngOnInit(){this.initMenu()}ngAfterViewInit(){setTimeout(()=>{this._activateMenu()})}ngOnChanges(){setTimeout(()=>{this.changeSidebarWidth()},0)}initMenu(){this.twoColumnMenuItems=_e}hideMenu(){document.body.classList.remove("sidebar-enable")}changeSidebarWidth(){1===this.activeMenuItems.length&&(S(this.twoColumnMenuItems,this.activeMenuItems[0]).children?this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,C):(this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,w),this.showMobileMenu=!1))}_activateMenu(){const e=document.getElementById("two-column-menu");let t=null;if(e){let o=e.getElementsByClassName("two-column-nav-link-ref");for(const e of o)if(window.location.pathname===e.pathname){t=e;break}if(t){const e=t.getAttribute("data-menu-key"),o=S(this.twoColumnMenuItems,e);if(o){const e=[o.key,...x(this.twoColumnMenuItems,o)];this.activeMenuItems=e,this.twoColumnMenuItems.forEach(t=>{var o;null===(o=t.children)||void 0===o||o.forEach(t=>{t.children&&(t.collapsed=!e.includes(t.key))})})}}}this.openMenuItems=this.activeMenuItems,this.changeSidebarWidth()}toggleMainMenuItem(e){var t;let o;null===(t=e.collapse)||void 0===t||t.toggle(),e.menuItem.collapsed||(o=[e.menuItem.key,...x(this.twoColumnMenuItems,e.menuItem)],this.twoColumnMenuItems.forEach(e=>{var t;null===(t=e.children)||void 0===t||t.forEach(e=>{e.collapsed=!o.includes(e.key)})}))}toggleIconMenu(e){!e.menuItem.children&&e.menuItem.link?(this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,w),this.activeMenuItems=this.findActiveMenusItems(e.menuItem.key),this.openMenuItems=this.activeMenuItems,this.showMobileMenu=!1):(this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,C),this.openMenuItems=this.findActiveMenusItems(e.menuItem.key),this.activeMenuItems=[...new Set(this.activeMenuItems.concat(this.findActiveMenusItems(e.menuItem.key)))],this.showMobileMenu=!0)}findActiveMenusItems(e){const t=S(this.twoColumnMenuItems,e);return t?[t.key,...x(this.twoColumnMenuItems,t)]:[]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.F0),n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-two-column-left-sidebar"]],inputs:{sidebarType:"sidebarType",showMobileMenu:"showMobileMenu"},features:[n.TTD],decls:6,vars:6,consts:[[1,"left-side-menu",3,"exclude","excludeBeforeClick","clickOutside"],[1,"h-100"],["id","two-column-menu",1,"sidebar-content"],[3,"menuItems","openMenuItems","activeMenuItems","toggleMenu"],[3,"menuItems","openMenuItems","activeMenuItems","sidebarType","toggleMenu",4,"ngIf"],[1,"clearfix"],[3,"menuItems","openMenuItems","activeMenuItems","sidebarType","toggleMenu"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(){return t.hideMenu()}),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"app-icon-menu",3),n.NdJ("toggleMenu",function(e){return t.toggleIconMenu(e)}),n.qZA(),n.YNc(4,wo,1,4,"app-main-menu",4),n._UZ(5,"div",5),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Q6J("exclude",".open-left")("excludeBeforeClick",!0),n.xp6(3),n.Q6J("menuItems",t.twoColumnMenuItems)("openMenuItems",t.openMenuItems)("activeMenuItems",t.activeMenuItems),n.xp6(1),n.Q6J("ngIf",t.showMobileMenu))},directives:[Re,Ut,O.O5,Co],styles:[""]}),e})();function xo(e,t){1&e&&(n.TgZ(0,"div",5),n.TgZ(1,"div",6),n.TgZ(2,"div",7),n._UZ(3,"router-outlet"),n.qZA(),n.qZA(),n._UZ(4,"app-footer"),n.qZA())}let So=(()=>{class e{constructor(e){this.eventService=e,this.layoutWidth="",this.menuPosition="",this.leftSidebarTheme="",this.leftSidebarType="",this.topbarTheme="",this.showSidebarUserInfo=!1,this.reRender=!0,this.showMobileMenu=!1,this._setRerender=()=>{this.reRender=!1,setTimeout(()=>{this.reRender=!0})}}ngOnInit(){let e=_("two-column");this.menuPosition=e.menuPosition,this.leftSidebarTheme=e.leftSidebarTheme,this.leftSidebarType=e.leftSidebarType,this.topbarTheme=e.topbarTheme,this.showSidebarUserInfo=e.showSidebarUserInfo,this.eventService.on(h.CHANGE_MENU_POSITION).subscribe(({payload:e})=>{this.menuPosition=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_THEME).subscribe(({payload:e})=>{this.leftSidebarTheme=e}),this.eventService.on(h.CHANGE_LEFT_SIDEBAR_TYPE).subscribe(({payload:e})=>{this.leftSidebarType=e}),this.eventService.on(h.CHANGE_TOPBAR_THEME).subscribe(({payload:e})=>{this.topbarTheme=e}),this.eventService.on(h.TOGGLE_SIDEBAR_USERINFO).subscribe(({payload:e})=>{this.showSidebarUserInfo=e}),this.changeLayoutConfig()}ngAfterViewInit(){E("data-layout-mode","two-column")}ngOnChanges(){this._setRerender(),this.changeLayoutConfig()}ngOnDestroy(){E("data-layout-mode","remove")}ngDoCheck(){this.changeLayoutConfig()}changeLayoutConfig(){E("data-layout-width",this.layoutWidth),E("data-layout-menu-position",this.menuPosition),E("data-sidebar-color",this.leftSidebarTheme),E("data-sidebar-size",this.leftSidebarType),E("data-topbar-color",this.topbarTheme)}onSettingsButtonClicked(){this.eventService.broadcast(h.SHOW_RIGHT_SIDEBAR)}onToggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu,document.body.classList.toggle("sidebar-enable")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-two-column-menu-layout"]],inputs:{layoutWidth:"layoutWidth"},features:[n.TTD],decls:5,vars:9,consts:[["id","wrapper"],["layoutType","two-column",3,"leftSidebarTheme","settingsButtonClicked","mobileMenuButtonClicked"],[3,"sidebarType"],["class","content-page",4,"ngIf"],["layoutType","two-column",3,"layoutWidth","menuPosition","leftSidebarTheme","leftSidebarType","topbarTheme","showSidebarUserInfo"],[1,"content-page"],[1,"content"],[1,"container-fluid"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"app-topbar",1),n.NdJ("settingsButtonClicked",function(){return t.onSettingsButtonClicked()})("mobileMenuButtonClicked",function(){return t.onToggleMobileMenu()}),n.qZA(),n._UZ(2,"app-two-column-left-sidebar",2),n.YNc(3,xo,5,0,"div",3),n.qZA(),n._UZ(4,"app-right-sidebar",4)),2&e&&(n.xp6(1),n.Q6J("leftSidebarTheme",t.leftSidebarTheme),n.xp6(1),n.Q6J("sidebarType",t.leftSidebarType),n.xp6(1),n.Q6J("ngIf",t.reRender),n.xp6(1),n.Q6J("layoutWidth",t.layoutWidth)("menuPosition",t.menuPosition)("leftSidebarTheme",t.leftSidebarTheme)("leftSidebarType",t.leftSidebarType)("topbarTheme",t.topbarTheme)("showSidebarUserInfo",t.showSidebarUserInfo))},directives:[Se,bo,O.O5,lt,s.lC,Nt],styles:[""]}),e})();function Eo(e,t){if(1&e&&n._UZ(0,"app-vertical-layout",1),2&e){const e=n.oxw();n.Q6J("layoutWidth",e.layoutWidth)}}function _o(e,t){if(1&e&&n._UZ(0,"app-horizontal-layout",1),2&e){const e=n.oxw();n.Q6J("layoutWidth",e.layoutWidth)}}function Ao(e,t){if(1&e&&n._UZ(0,"app-detached-layout",1),2&e){const e=n.oxw();n.Q6J("layoutWidth",e.layoutWidth)}}function Ro(e,t){if(1&e&&n._UZ(0,"app-two-column-menu-layout",1),2&e){const e=n.oxw();n.Q6J("layoutWidth",e.layoutWidth)}}const To=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:p},{path:"dashboard",component:(()=>{class e{constructor(e){this.eventService=e}ngOnInit(){this.layoutType=sessionStorage.getItem("Layout_Type")||d,console.log(this.layoutType),this.setLayoutConfig(),this.eventService.on(h.CHANGE_LAYOUT).subscribe(({payload:e})=>{this.layoutType=e,this.setLayoutConfig()}),this.eventService.on(h.CHANGE_LAYOUT_WIDTH).subscribe(({payload:e})=>{setTimeout(()=>{this.layoutWidth=e,this.eventService.broadcast(h.CHANGE_LEFT_SIDEBAR_TYPE,"boxed"===this.layoutWidth?w:C)},20)})}ngAfterViewInit(){document.body.classList.remove("authentication-bg"),sessionStorage.getItem("Layout_Type")&&sessionStorage.removeItem("Layout_Type"),sessionStorage.getItem("Leftsidebar_Theme")&&sessionStorage.removeItem("Leftsidebar_Theme"),sessionStorage.getItem("Layout_Width")&&sessionStorage.removeItem("Layout_Width"),sessionStorage.getItem("Leftsidebar_Type")&&sessionStorage.removeItem("Leftsidebar_Type"),sessionStorage.getItem("Menu_Position")&&sessionStorage.removeItem("Menu_Position"),sessionStorage.getItem("Topbar_Theme")&&sessionStorage.removeItem("Topbar_Theme")}setLayoutConfig(){this.layoutConfig=_(this.layoutType),this.layoutWidth=this.layoutConfig.layoutWidth}isVerticalLayoutRequested(){return this.layoutType===d}isHorizontalLayoutRequested(){return this.layoutType===f}isDetachedLayoutRequested(){return this.layoutType===g}isTwoColumnMenuLayoutRequested(){return this.layoutType===m}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-layout-container"]],decls:4,vars:4,consts:[[3,"layoutWidth",4,"ngIf"],[3,"layoutWidth"]],template:function(e,t){1&e&&(n.YNc(0,Eo,1,1,"app-vertical-layout",0),n.YNc(1,_o,1,1,"app-horizontal-layout",0),n.YNc(2,Ao,1,1,"app-detached-layout",0),n.YNc(3,Ro,1,1,"app-two-column-menu-layout",0)),2&e&&(n.Q6J("ngIf",t.isVerticalLayoutRequested()),n.xp6(1),n.Q6J("ngIf",t.isHorizontalLayoutRequested()),n.xp6(1),n.Q6J("ngIf",t.isDetachedLayoutRequested()),n.xp6(1),n.Q6J("ngIf",t.isTwoColumnMenuLayoutRequested()))},directives:[O.O5,ut,Lt,Gt,So],styles:[""]}),e})(),canActivate:[u],children:[{path:"",loadChildren:()=>Promise.resolve().then(o.bind(o,1656)).then(e=>e.DashboardModule)}]},{path:"error",component:(()=>{class e{constructor(e){this._activatedRoute=e,this.errorMessages={UnprocessableEntity:{heading:"Unprocessable Entity",message:"Server is unable to process the request.<br/>Typically, this happens because there's a semantic error somewhere in the request."},Unauthorized:{heading:"Unauthorized Access",message:"Cannot validate the token.<br/>Looks like the login token is inavalid"},BadRequest:{heading:"Bad Request",message:"Server is unable to understand the request."},Generic:{heading:"Something went wrong",message:"We apoligise and are fixing the problem.<br/>Please try again at a later stage."}},this.displayError=this.errorMessages.Generic.message,this.displayHeading=this.errorMessages.Generic.heading}ngOnInit(){setTimeout(()=>{this._activatedRoute.queryParams.subscribe(e=>{e.type?(this.displayHeading=this.errorMessages[e.type].heading,this.displayError=this.errorMessages[e.type].message):(this.displayHeading=this.errorMessages.Generic.heading,this.displayError=this.errorMessages.Generic.message)})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-error"]],decls:11,vars:2,consts:[[1,"account-pages","my-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-4","col-lg-5","col-8"],[1,"text-center"],["src","assets/images/not-found.png","alt","",1,"img-fluid"],[1,"row"],[1,"col-12","text-center"],[1,"mt-3",3,"innerHtml"],[1,"text-muted","mb-4",3,"innerHtml"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div"),n._UZ(6,"img",5),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"div",7),n._UZ(9,"h3",8),n._UZ(10,"p",9),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(9),n.Q6J("innerHtml",t.displayHeading,n.oJD),n.xp6(1),n.Q6J("innerHtml",t.displayError,n.oJD))},styles:[""]}),e})()}];let Oo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.Bz.forRoot(To)],s.Bz]}),e})();var Po=o(5319);let Do=(()=>{class e{constructor(){this.loaderSubject=new A.xQ,this.loaderState=this.loaderSubject.asObservable()}show(){this.loaderSubject.next({show:!0})}hide(){this.loaderSubject.next({show:!1})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Io=o(6215),Mo=o(9112),No=o(8634),ko=o(9193),Lo=o(5917),Fo=o(5345);class Go{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ho(e,this.durationSelector))}}class Ho extends Fo.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){try{const t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let o=this.durationSubscription;this.value=e,this.hasValue=!0,o&&(o.unsubscribe(),this.remove(o)),o=(0,Fo.ft)(t,new Fo.IY(this)),o&&!o.closed&&this.add(this.durationSubscription=o)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=void 0,t.unsubscribe(),this.remove(t)),this.value=void 0,this.hasValue=!1,super._next(e)}}}var Vo=o(3190),Wo=o(8307),Bo=o(9497),jo=o(8939),zo=o(6782);class Uo{constructor(e,t){var o;this._onDestroyCallback=t,this._started=new A.xQ,this.started=this._started.pipe((0,R.h)(()=>!this.isStarted)),this._completed=new A.xQ,this.completed=this._completed.pipe((0,R.h)(()=>this.isStarted)),this._trickling=new A.xQ,this._worker=Po.w.EMPTY,this._state=new Io.X({active:!1,value:0}),this._config=new Io.X(e),this.state=this._state.asObservable(),this.config=this._config.asObservable(),this._worker=(0,Mo.aj)([this._trickling,this._config]).pipe((o=([e,t])=>(0,No.H)(e?t.debounceTime:0),e=>e.lift(new Go(o))),(0,Vo.w)(([e,t])=>e?this.onTrickling(t):this.onComplete(t))).subscribe()}get snapshot(){return this._state.value}get isStarted(){return this.snapshot.active}start(){this._started.next(),this._trickling.next(!0)}complete(){this._trickling.next(!1)}inc(e){const t=this.snapshot.value;this.isStarted?("number"!=typeof e&&(e=this._config.value.trickleFunc(t)),this.set(t+e)):this.start()}set(e){this.setState({value:this.clamp(e),active:!0})}setConfig(e){this._config.next({...this._config.value,...e})}destroy(){this._worker.unsubscribe(),this._trickling.complete(),this._state.complete(),this._config.complete(),this._started.complete(),this._completed.complete(),this._onDestroyCallback()}setState(e){this._state.next({...this.snapshot,...e})}clamp(e){return Math.max(this._config.value.min,Math.min(this._config.value.max,e))}onTrickling(e){return this.isStarted||this.set(this._config.value.min),(0,No.H)(0,e.trickleSpeed).pipe((0,Wo.b)(()=>this.inc()))}onComplete(e){return this._completed.next(),this.isStarted?(0,Lo.of)({}).pipe((0,Wo.b)(()=>this.setState({value:100})),(0,Bo.g)(1.7*e.speed),(0,Wo.b)(()=>this.setState({active:!1})),(0,Bo.g)(e.speed),(0,jo.x)(()=>this.setState({value:0})),(0,zo.R)(this._started)):ko.E}}const Yo=new n.OlP("ngProgressConfig"),Xo={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fixed:!0,meteor:!0,thick:!1,spinner:!0,ease:"linear",color:"#1B95E0",direction:"ltr+",spinnerPosition:"right",trickleFunc:e=>e>=0&&e<20?10:e>=20&&e<50?4:e>=50&&e<80?2:e>=80&&e<99?.5:0};let qo=(()=>{class e{constructor(e){this._instances=new Map,this.config=e?{...Xo,...e}:Xo}ref(e="root",t){if(this._instances.has(e)){const o=this._instances.get(e);return t&&o.setConfig({...this.config,...t}),o}{const o=new Uo({...this.config,...t},this.deleteInstance(e));return this._instances.set(e,o).get(e)}}destroyAll(){this._instances.forEach(e=>e.destroy())}deleteInstance(e){return()=>{this._instances.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Yo,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Zo=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Yo,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez]]}),e})();function Ko(e,t){if(1&e&&(n.TgZ(0,"ngb-progressbar",4),n.TgZ(1,"strong"),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw().ngIf;n.Q6J("value",e.value)("striped",!0)("animated",!0),n.xp6(2),n.hij("",e.value,"%")}}function Qo(e,t){if(1&e&&(n.ynx(0),n.YNc(1,Ko,3,4,"ngb-progressbar",3),n.BQk()),2&e){const e=t.ngIf;n.xp6(1),n.Q6J("ngIf",e.active)}}let Jo=(()=>{class e{constructor(e,t){this.loaderService=e,this.ngProgress=t,this.show=!1,this.loaderStateSubscription=new Po.w,this.progressValue=0}ngOnInit(){this.progressRef=this.ngProgress.ref(),this.loaderStateSubscription=this.loaderService.loaderState.subscribe(e=>{this.show=e.show,this.show?this.progressRef.start():this.progressRef.complete()})}ngOnDestroy(){this.loaderStateSubscription.unsubscribe(),this.progressRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Do),n.Y36(qo))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-loader"]],decls:4,vars:4,consts:[[1,"loader-wrapper",3,"hidden"],[1,"progressbar-wrapper"],[4,"ngIf"],["type","primary","height","14px",3,"value","striped","animated",4,"ngIf"],["type","primary","height","14px",3,"value","striped","animated"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,Qo,2,1,"ng-container",2),n.ALo(3,"async"),n.qZA(),n.qZA()),2&e&&(n.Q6J("hidden",!t.show),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,2,t.progressRef.state)))},directives:[O.O5,P.Ly],pipes:[O.Ov],styles:[".loader-wrapper[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#000000b3;z-index:99999}.loader-wrapper[_ngcontent-%COMP%]   .progressbar-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:2px solid #29d;padding:.5em;width:250px;border-radius:10px}.loader-wrapper[_ngcontent-%COMP%]   .progressbar-wrapper[_ngcontent-%COMP%]     .progress-bar{background-color:#29d!important}"]}),e})(),$o=(()=>{class e{constructor(){this.title="EMS"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(n._UZ(0,"router-outlet"),n._UZ(1,"app-loader"))},directives:[s.lC,Jo],styles:[""]}),e})(),ei=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,s.Bz,it.u5,r.JF,P.ZQ,Zo]]}),e})();var ti=o(205),oi=o(5304),ii=o(8444);let ni=(()=>{class e{constructor(e,t){this.userService=e,this._toastCustomService=t}intercept(e,t){return e.headers.has("Authorization")||(e=this.addAuthHeaderToRequest(e)),e.headers.has("Content-Type")||e.body instanceof FormData||(e=this.addDefaultHeader(e)),t.handle(e).pipe((0,oi.K)(e=>(this._toastCustomService.handleErrors(e),(0,ti._)(()=>e))))}addAuthHeaderToRequest(e){return e.clone({setHeaders:{Authorization:`Bearer ${this.userService.getToken()}`}})}addDefaultHeader(e){return e.clone({setHeaders:{"Content-Type":"application/json; charset=utf-8"}})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(c),n.LFG(ii.j))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class ri extends r.LE{constructor(e,t){super({fromObject:t}),this.interceptorConfig=e}}let si=(()=>{class e{constructor(e){this.loaderService=e,this.count=0}intercept(e,t){return this.showLoaderFlag(e)||(this.showLoader(),this.count++),t.handle(e).pipe((0,jo.x)(()=>{this.showLoaderFlag(e)||this.count--,0===this.count&&this.hideLoader()}))}showLoader(){this.loaderService.show()}hideLoader(){this.loaderService.hide()}showLoaderFlag(e){return!!(e.params instanceof ri&&e.params.interceptorConfig.isHideLoader)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Do))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ai=(()=>{class e{constructor(){this.apiURL=""}intercept(e,t){try{new URL(e.url)}catch(o){e=this.modifyRequestURL(e)}return t.handle(e)}modifyRequestURL(e){return e.clone({url:new URL(e.url,this.apiURL).href})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var li=o(1656),ci=o(7238);function ui(){return"undefined"!=typeof window&&void 0!==window.document}function pi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hi(e){switch(e.length){case 0:return new ci.ZN;case 1:return e[0];default:return new ci.ZE(e)}}function di(e,t,o,i,n={},r={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(e=>{const o=e.offset,i=o==l,u=i&&c||{};Object.keys(e).forEach(o=>{let i=o,a=e[o];if("offset"!==o)switch(i=t.normalizePropertyName(i,s),a){case ci.k1:a=n[o];break;case ci.l3:a=r[o];break;default:a=t.normalizeStyleValue(o,i,a,s)}u[i]=a}),i||a.push(u),c=u,l=o}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function fi(e,t,o,i){switch(t){case"start":e.onStart(()=>i(o&&gi(o,"start",e)));break;case"done":e.onDone(()=>i(o&&gi(o,"done",e)));break;case"destroy":e.onDestroy(()=>i(o&&gi(o,"destroy",e)))}}function gi(e,t,o){const i=o.totalTime,n=mi(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!o.disabled),r=e._data;return null!=r&&(n._data=r),n}function mi(e,t,o,i,n="",r=0,s){return{element:e,triggerName:t,fromState:o,toState:i,phaseName:n,totalTime:r,disabled:!!s}}function yi(e,t,o){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=o)):(i=e[t],i||(i=e[t]=o)),i}function vi(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Ci=(e,t)=>!1,wi=(e,t)=>!1,bi=(e,t,o)=>[];const xi=pi();(xi||"undefined"!=typeof Element)&&(Ci=ui()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),wi=(()=>{if(xi||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,o)=>t.apply(e,[o]):wi}})(),bi=(e,t,o)=>{let i=[];if(o){const o=e.querySelectorAll(t);for(let e=0;e<o.length;e++)i.push(o[e])}else{const o=e.querySelector(t);o&&i.push(o)}return i});let Si=null,Ei=!1;function _i(e){Si||(Si=("undefined"!=typeof document?document.body:null)||{},Ei=!!Si.style&&"WebkitAppearance"in Si.style);let t=!0;return Si.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Si.style,!t&&Ei)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Si.style),t}const Ai=wi,Ri=Ci,Ti=bi;function Oi(e){const t={};return Object.keys(e).forEach(o=>{const i=o.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[o]}),t}let Pi=(()=>{class e{validateStyleProperty(e){return _i(e)}matchesElement(e,t){return Ai(e,t)}containsElement(e,t){return Ri(e,t)}query(e,t,o){return Ti(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,i,n,r=[],s){return new ci.ZN(o,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Di{}Di.NOOP=new Pi;const Ii="ng-enter",Mi="ng-leave",Ni="ng-trigger",ki=".ng-trigger",Li="ng-animating",Fi=".ng-animating";function Gi(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Hi(parseFloat(t[1]),t[2])}function Hi(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Vi(e,t,o){return e.hasOwnProperty("duration")?e:function(e,t,o){let i,n=0,r="";if("string"==typeof e){const o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=Hi(parseFloat(o[1]),o[2]);const s=o[3];null!=s&&(n=Hi(parseFloat(s),o[4]));const a=o[5];a&&(r=a)}else i=e;if(!o){let o=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),n<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:n,easing:r}}(e,t,o)}function Wi(e,t={}){return Object.keys(e).forEach(o=>{t[o]=e[o]}),t}function Bi(e,t,o={}){if(t)for(let i in e)o[i]=e[i];else Wi(e,o);return o}function ji(e,t,o){return o?t+":"+o+";":""}function zi(e){let t="";for(let o=0;o<e.style.length;o++){const i=e.style.item(o);t+=ji(0,i,e.style.getPropertyValue(i))}for(const o in e.style)e.style.hasOwnProperty(o)&&!o.startsWith("_")&&(t+=ji(0,o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[o]));e.setAttribute("style",t)}function Ui(e,t,o){e.style&&(Object.keys(t).forEach(i=>{const n=$i(i);o&&!o.hasOwnProperty(i)&&(o[i]=e.style[n]),e.style[n]=t[i]}),pi()&&zi(e))}function Yi(e,t){e.style&&(Object.keys(t).forEach(t=>{const o=$i(t);e.style[o]=""}),pi()&&zi(e))}function Xi(e){return Array.isArray(e)?1==e.length?e[0]:(0,ci.vP)(e):e}const qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zi(e){let t=[];if("string"==typeof e){let o;for(;o=qi.exec(e);)t.push(o[1]);qi.lastIndex=0}return t}function Ki(e,t,o){const i=e.toString(),n=i.replace(qi,(e,i)=>{let n=t[i];return t.hasOwnProperty(i)||(o.push(`Please provide a value for the animation param ${i}`),n=""),n.toString()});return n==i?e:n}function Qi(e){const t=[];let o=e.next();for(;!o.done;)t.push(o.value),o=e.next();return t}const Ji=/-+([a-z0-9])/g;function $i(e){return e.replace(Ji,(...e)=>e[1].toUpperCase())}function en(e,t){return 0===e||0===t}function tn(e,t,o){const i=Object.keys(o);if(i.length&&t.length){let r=t[0],s=[];if(i.forEach(e=>{r.hasOwnProperty(e)||s.push(e),r[e]=o[e]}),s.length)for(var n=1;n<t.length;n++){let o=t[n];s.forEach(function(t){o[t]=nn(e,t)})}}return t}function on(e,t,o){switch(t.type){case 7:return e.visitTrigger(t,o);case 0:return e.visitState(t,o);case 1:return e.visitTransition(t,o);case 2:return e.visitSequence(t,o);case 3:return e.visitGroup(t,o);case 4:return e.visitAnimate(t,o);case 5:return e.visitKeyframes(t,o);case 6:return e.visitStyle(t,o);case 8:return e.visitReference(t,o);case 9:return e.visitAnimateChild(t,o);case 10:return e.visitAnimateRef(t,o);case 11:return e.visitQuery(t,o);case 12:return e.visitStagger(t,o);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function nn(e,t){return window.getComputedStyle(e)[t]}const rn="*";function sn(e,t){const o=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,o){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,o);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return o.push(`The provided transition expression "${e}" is not supported`),t;const n=i[1],r=i[2],s=i[3];t.push(cn(n,s)),"<"!=r[0]||n==rn&&s==rn||t.push(cn(s,n))}(e,o,t)):o.push(e),o}const an=new Set(["true","1"]),ln=new Set(["false","0"]);function cn(e,t){const o=an.has(e)||ln.has(e),i=an.has(t)||ln.has(t);return(n,r)=>{let s=e==rn||e==n,a=t==rn||t==r;return!s&&o&&"boolean"==typeof n&&(s=n?an.has(e):ln.has(e)),!a&&i&&"boolean"==typeof r&&(a=r?an.has(t):ln.has(t)),s&&a}}const un=new RegExp("s*:selfs*,?","g");function pn(e,t,o){return new hn(e).build(t,o)}class hn{constructor(e){this._driver=e}build(e,t){const o=new dn(t);return this._resetContextStyleTimingState(o),on(this,Xi(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,i=t.depCount=0;const n=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const o=e,i=o.name;i.toString().split(/\s*,\s*/).forEach(e=>{o.name=e,n.push(this.visitState(o,t))}),o.name=i}else if(1==e.type){const n=this.visitTransition(e,t);o+=n.queryCount,i+=n.depCount,r.push(n)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:n,transitions:r,queryCount:o,depCount:i,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(o.containsDynamicStyles){const n=new Set,r=i||{};if(o.styles.forEach(e=>{if(fn(e)){const t=e;Object.keys(t).forEach(e=>{Zi(t[e]).forEach(e=>{r.hasOwnProperty(e)||n.add(e)})})}}),n.size){const o=Qi(n.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:e.name,style:o,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=on(this,Xi(e.animation),t);return{type:1,matchers:sn(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:gn(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>on(this,e,t)),options:gn(e.options)}}visitGroup(e,t){const o=t.currentTime;let i=0;const n=e.steps.map(e=>{t.currentTime=o;const n=on(this,e,t);return i=Math.max(i,t.currentTime),n});return t.currentTime=i,{type:3,steps:n,options:gn(e.options)}}visitAnimate(e,t){const o=function(e,t){let o=null;if(e.hasOwnProperty("duration"))o=e;else if("number"==typeof e)return mn(Vi(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=mn(0,0,"");return e.dynamic=!0,e.strValue=i,e}return o=o||Vi(i,t),mn(o.duration,o.delay,o.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=o;let n=e.styles?e.styles:(0,ci.oB)({});if(5==n.type)i=this.visitKeyframes(n,t);else{let n=e.styles,r=!1;if(!n){r=!0;const e={};o.easing&&(e.easing=o.easing),n=(0,ci.oB)(e)}t.currentTime+=o.duration+o.delay;const s=this.visitStyle(n,t);s.isEmptyStep=r,i=s}return t.currentAnimateTimings=null,{type:4,timings:o,style:i,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==ci.l3?o.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):o.push(e)}):o.push(e.styles);let i=!1,n=null;return o.forEach(e=>{if(fn(e)){const t=e,o=t.easing;if(o&&(n=o,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:o,easing:n,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let i=t.currentTime,n=t.currentTime;o&&n>0&&(n-=o.duration+o.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void t.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],s=r[o];let a=!0;s&&(n!=i&&n>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${o}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${n}ms" and "${i}ms"`),a=!1),n=s.startTime),a&&(r[o]={startTime:n,endTime:i}),t.options&&function(e,t,o){const i=t.params||{},n=Zi(e);n.length&&n.forEach(e=>{i.hasOwnProperty(e)||o.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[o],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let i=0;const n=[];let r=!1,s=!1,a=0;const l=e.steps.map(e=>{const o=this._makeStyleAst(e,t);let l=null!=o.offset?o.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(fn(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}});else if(fn(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}return t}(o.styles),c=0;return null!=l&&(i++,c=o.offset=l),s=s||c<0||c>1,r=r||c<a,a=c,n.push(c),o});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const p=c-1,h=t.currentTime,d=t.currentAnimateTimings,f=d.duration;return l.forEach((e,i)=>{const r=u>0?i==p?1:u*i:n[i],s=r*f;t.currentTime=h+d.delay+s,d.duration=s,this._validateStyleAst(e,t),e.offset=r,o.styles.push(e)}),o}visitReference(e,t){return{type:8,animation:on(this,Xi(e.animation),t),options:gn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gn(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gn(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[n,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(un,"")),[e=e.replace(/@\*/g,ki).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,Fi),t]}(e.selector);t.currentQuerySelector=o.length?o+" "+n:n,yi(t.collectedStyles,t.currentQuerySelector,{});const s=on(this,Xi(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:n,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:s,originalSelector:e.selector,options:gn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:Vi(e.timings,t.errors,!0);return{type:12,animation:on(this,Xi(e.animation),t),timings:o,options:null}}}class dn{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fn(e){return!Array.isArray(e)&&"object"==typeof e}function gn(e){var t;return e?(e=Wi(e)).params&&(e.params=(t=e.params)?Wi(t):null):e={},e}function mn(e,t,o){return{duration:e,delay:t,easing:o}}function yn(e,t,o,i,n,r,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:o,postStyleProps:i,duration:n,delay:r,totalTime:n+r,easing:s,subTimeline:a}}class vn{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Cn=new RegExp(":enter","g"),wn=new RegExp(":leave","g");function bn(e,t,o,i,n,r={},s={},a,l,c=[]){return(new xn).buildKeyframes(e,t,o,i,n,r,s,a,l,c)}class xn{buildKeyframes(e,t,o,i,n,r,s,a,l,c=[]){l=l||new vn;const u=new En(e,t,l,i,n,c,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),on(this,o,u);const p=u.timelines.filter(e=>e.containsAnimation());if(p.length&&Object.keys(s).length){const e=p[p.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,a)}return p.length?p.map(e=>e.buildKeyframes()):[yn(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.consume(t.element);if(o){const i=t.createSubContext(e.options),n=t.currentTimeline.currentTime,r=this._visitSubInstructions(o,i,i.options);n!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let i=t.currentTimeline.currentTime;const n=null!=o.duration?Gi(o.duration):null,r=null!=o.delay?Gi(o.delay):null;return 0!==n&&e.forEach(e=>{const o=t.appendInstructionToTimeline(e,n,r);i=Math.max(i,o.duration+o.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),on(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let i=t;const n=e.options;if(n&&(n.params||n.delay)&&(i=t.createSubContext(n),i.transformIntoNewTimeline(),null!=n.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sn);const e=Gi(n.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>on(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>o&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let i=t.currentTimeline.currentTime;const n=e.options&&e.options.delay?Gi(e.options.delay):0;e.steps.forEach(r=>{const s=t.createSubContext(e.options);n&&s.delayNextStep(n),on(this,r,s),i=Math.max(i,s.currentTimeline.currentTime),o.push(s.currentTimeline)}),o.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return Vi(t.params?Ki(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),i.snapshotCurrentStyles());const n=e.style;5==n.type?this.visitKeyframes(n,t):(t.incrementTime(o.duration),this.visitStyle(n,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,i=t.currentAnimateTimings;!i&&o.getCurrentStyleProperties().length&&o.forwardFrame();const n=i&&i.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(n):o.setStyles(e.styles,n,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,i=t.currentTimeline.duration,n=o.duration,r=t.createSubContext().currentTimeline;r.easing=o.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*n),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+n),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,i=e.options||{},n=i.delay?Gi(i.delay):0;n&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sn);let r=o;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((o,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,o);n&&s.delayNextStep(n),o===t.element&&(a=s.currentTimeline),on(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,i=t.currentTimeline,n=e.timings,r=Math.abs(n.duration),s=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":a=s-a;break;case"full":a=o.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;on(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=i.currentTime-c+(i.startTime-o.currentTimeline.startTime)}}const Sn={};class En{constructor(e,t,o,i,n,r,s,a){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=i,this._leaveClassName=n,this.errors=r,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _n(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let i=this.options;null!=o.duration&&(i.duration=Gi(o.duration)),null!=o.delay&&(i.delay=Gi(o.delay));const n=o.params;if(n){let e=i.params;e||(e=this.options.params={}),Object.keys(n).forEach(o=>{t&&e.hasOwnProperty(o)||(e[o]=Ki(n[o],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(e=>{o[e]=t[e]})}}return e}createSubContext(e=null,t,o){const i=t||this.element,n=new En(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,o||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(e),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(e){return this.previousNode=Sn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},n=new An(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(n),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,i,n,r){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(Cn,"."+this._enterClassName)).replace(wn,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=o);0!==o&&(t=o<0?t.slice(t.length+o,t.length):t.slice(0,o)),s.push(...t)}return n||0!=s.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class _n{constructor(e,t,o,i){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ci.l3,this._currentKeyframe[e]=ci.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,i){t&&(this._previousKeyframe.easing=t);const n=i&&i.params||{},r=function(e,t){const o={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{o[e]=ci.l3})):Bi(e,!1,o)}),o}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=Ki(r[e],n,o);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:ci.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],i=e._styleSummary[t];(!o||i.time>o.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((n,r)=>{const s=Bi(n,!0);Object.keys(s).forEach(o=>{const i=s[o];i==ci.k1?e.add(o):i==ci.l3&&t.add(o)}),o||(s.offset=r/this.duration),i.push(s)});const n=e.size?Qi(e.values()):[],r=t.size?Qi(t.values()):[];if(o){const e=i[0],t=Wi(e);e.offset=0,t.offset=1,i=[e,t]}return yn(this.element,i,n,r,this.duration,this.startTime,this.easing,!1)}}class An extends _n{constructor(e,t,o,i,n,r,s=!1){super(e,t,r.delay),this.keyframes=o,this.preStyleProps=i,this.postStyleProps=n,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const n=[],r=o+t,s=t/r,a=Bi(e[0],!1);a.offset=0,n.push(a);const l=Bi(e[0],!1);l.offset=Rn(s),n.push(l);const c=e.length-1;for(let i=1;i<=c;i++){let s=Bi(e[i],!1);s.offset=Rn((t+s.offset*o)/r),n.push(s)}o=r,t=0,i="",e=n}return yn(this.element,e,this.preStyleProps,this.postStyleProps,o,t,i,!0)}}function Rn(e,t=3){const o=Math.pow(10,t-1);return Math.round(e*o)/o}class Tn{}class On extends Tn{normalizePropertyName(e,t){return $i(e)}normalizeStyleValue(e,t,o,i){let n="";const r=o.toString().trim();if(Pn[t]&&0!==o&&"0"!==o)if("number"==typeof o)n="px";else{const t=o.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${o}`)}return r+n}}const Pn=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Dn(e,t,o,i,n,r,s,a,l,c,u,p,h){return{type:0,element:e,triggerName:t,isRemovalTransition:n,fromState:o,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:h}}const In={};class Mn{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,i){return function(e,t,o,i,n){return e.some(e=>e(t,o,i,n))}(this.ast.matchers,e,t,o,i)}buildStyles(e,t,o){const i=this._stateStyles["*"],n=this._stateStyles[e],r=i?i.buildStyles(t,o):{};return n?n.buildStyles(t,o):r}build(e,t,o,i,n,r,s,a,l,c){const u=[],p=this.ast.options&&this.ast.options.params||In,h=this.buildStyles(o,s&&s.params||In,u),d=a&&a.params||In,f=this.buildStyles(i,d,u),g=new Set,m=new Map,y=new Map,v="void"===i,C={params:Object.assign(Object.assign({},p),d)},w=c?[]:bn(e,t,this.ast.animation,n,r,h,f,C,l,u);let b=0;if(w.forEach(e=>{b=Math.max(e.duration+e.delay,b)}),u.length)return Dn(t,this._triggerName,o,i,v,h,f,[],[],m,y,b,u);w.forEach(e=>{const o=e.element,i=yi(m,o,{});e.preStyleProps.forEach(e=>i[e]=!0);const n=yi(y,o,{});e.postStyleProps.forEach(e=>n[e]=!0),o!==t&&g.add(o)});const x=Qi(g.values());return Dn(t,this._triggerName,o,i,v,h,f,w,x,m,y,b)}}class Nn{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},i=Wi(this.defaultParams);return Object.keys(e).forEach(t=>{const o=e[t];null!=o&&(i[t]=o)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const n=e;Object.keys(n).forEach(e=>{let r=n[e];r.length>1&&(r=Ki(r,i,t));const s=this.normalizer.normalizePropertyName(e,t);r=this.normalizer.normalizeStyleValue(e,s,r,t),o[s]=r})}}),o}}class kn{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Nn(e.style,e.options&&e.options.params||{},o)}),Ln(this.states,"true","1"),Ln(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Mn(e,t,this.states))}),this.fallbackTransition=new Mn(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,i){return this.transitionFactories.find(n=>n.match(e,t,o,i))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function Ln(e,t,o){e.hasOwnProperty(t)?e.hasOwnProperty(o)||(e[o]=e[t]):e.hasOwnProperty(o)&&(e[t]=e[o])}const Fn=new vn;class Gn{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],i=pn(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,o){const i=e.element,n=di(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(i,n,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const i=[],n=this._animations[e];let r;const s=new Map;if(n?(r=bn(this._driver,t,n,Ii,Mi,{},{},o,Fn,i),r.forEach(e=>{const t=yi(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((e,t)=>{Object.keys(e).forEach(o=>{e[o]=this._driver.computeStyle(t,o,ci.l3)})});const a=hi(r.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,i){const n=mi(t,"","","");return fi(this._getPlayer(e),o,n,i),()=>{}}command(e,t,o,i){if("register"==o)return void this.register(e,i[0]);if("create"==o)return void this.create(e,t,i[0]||{});const n=this._getPlayer(e);switch(o){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Hn="ng-animate-queued",Vn="ng-animate-disabled",Wn=".ng-animate-disabled",Bn=[],jn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Un{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=null!=(i=o?e.value:e)?i:null,o){const t=Wi(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(o=>{null==e[o]&&(e[o]=t[o])})}}}const Yn="void",Xn=new Un(Yn);class qn{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tr(t,this._hostClassName)}listen(e,t,o,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=o)&&"done"!=n)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);var n;const r=yi(this._elementListeners,e,[]),s={name:t,phase:o,callback:i};r.push(s);const a=yi(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(tr(e,Ni),tr(e,"ng-trigger-"+t),a[t]=Xn),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,i=!0){const n=this._getTrigger(t),r=new Kn(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(tr(e,Ni),tr(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new Un(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=Xn),l.value!==Yn&&a.value===l.value){if(!function(e,t){const o=Object.keys(e),i=Object.keys(t);if(o.length!=i.length)return!1;for(let n=0;n<o.length;n++){const i=o[n];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],o=n.matchStyles(a.value,a.params,t),i=n.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Yi(e,o),Ui(e,i)})}return}const c=yi(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=n.matchTransition(a.value,l.value,e,l.params),p=!1;if(!u){if(!i)return;u=n.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:r,isFallbackTransition:p}),p||(tr(e,Hn),r.onStart(()=>{or(e,Hn)})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const o=this._engine.playersByElement.get(e);if(o){let e=o.indexOf(r);e>=0&&o.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,ki,!0);o.forEach(e=>{if(e.__ng_removed)return;const o=this._engine.fetchNamespacesByElement(e);o.size?o.forEach(o=>o.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,o,i){const n=this._engine.statesByElement.get(e);if(n){const r=[];if(Object.keys(n).forEach(t=>{if(this._triggers[t]){const o=this.trigger(e,t,Yn,i);o&&r.push(o)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&hi(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const i=new Set;t.forEach(t=>{const n=t.name;if(i.has(n))return;i.add(n);const r=this._triggers[n].fallbackTransition,s=o[n]||Xn,a=new Un(Yn),l=new Kn(this.id,n,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:r,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(o.totalAnimations){const t=o.players.length?o.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(o.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)o.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==jn||(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){tr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const i=o.player;if(i.destroyed)return;const n=o.element,r=this._elementListeners.get(n);r&&r.forEach(t=>{if(t.name==o.triggerName){const i=mi(n,o.triggerName,o.fromState.value,o.toState.value);i._data=e,fi(o.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(o)}),this._queue=[],t.sort((e,t)=>{const o=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==o||0==i?o-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Zn{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const o=new qn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let i=!1;for(let n=o;n>=0;n--)if(this.driver.containsElement(this._namespaceList[n].hostElement,t)){this._namespaceList.splice(n+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let i=this._namespaceLookup[e];i&&i.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(o);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const e=Object.keys(o);for(let i=0;i<e.length;i++){const n=o[e[i]].namespaceId;if(n){const e=this._fetchNamespace(n);e&&t.add(e)}}}return t}trigger(e,t,o,i){if(Qn(t)){const n=this._fetchNamespace(e);if(n)return n.trigger(t,o,i),!0}return!1}insertNode(e,t,o,i){if(!Qn(t))return;const n=t.__ng_removed;if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,o)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tr(e,Vn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),or(e,Vn))}removeNode(e,t,o,i){if(Qn(t)){const n=e?this._fetchNamespace(e):null;if(n?n.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),o){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,o,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:o,removedBeforeQueried:!1}}listen(e,t,o,i,n){return Qn(t)?this._fetchNamespace(e).listen(t,o,i,n):()=>{}}_buildInstruction(e,t,o,i,n){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,i,e.fromState.options,e.toState.options,t,n)}destroyInnerAnimations(e){let t=this.driver.query(e,ki,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fi,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=jn,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Wn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Wn,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)tr(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let e=0;e<o.length;e++)o[e]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?hi(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new vn,i=[],n=new Map,r=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let o=0;o<t.length;o++)c.add(t[o])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),h=er(p,this.collectedEnterElements),d=new Map;let f=0;h.forEach((e,t)=>{const o=Ii+f++;d.set(t,o),e.forEach(e=>tr(e,o))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const e=this.collectedLeaveElements[P],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,C=er(p,Array.from(m));C.forEach((e,t)=>{const o=Mi+f++;v.set(t,o),e.forEach(e=>tr(e,o))}),e.push(()=>{h.forEach((e,t)=>{const o=d.get(t);e.forEach(e=>or(e,o))}),C.forEach((e,t)=>{const o=v.get(t);e.forEach(e=>or(e,o))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],b=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(e=>{const t=e.player,n=e.element;if(w.push(t),this.collectedEnterElements.length){const e=n.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,n),p=v.get(n),h=d.get(n),f=this._buildInstruction(e,o,h,p,c);if(f.errors&&f.errors.length)b.push(f);else{if(c)return t.onStart(()=>Yi(n,f.fromStyles)),t.onDestroy(()=>Ui(n,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>Yi(n,f.fromStyles)),t.onDestroy(()=>Ui(n,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),o.append(n,f.timelines),r.push({instruction:f,player:t,element:n}),f.queriedElements.forEach(e=>yi(s,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const o=Object.keys(e);if(o.length){let e=a.get(t);e||a.set(t,e=new Set),o.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const o=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),o.forEach(e=>i.add(e))})}});if(b.length){const e=[];b.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,S=new Map;r.forEach(e=>{const t=e.element;o.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{yi(x,t,[]).push(e),e.destroy()})});const E=g.filter(e=>rr(e,a,l)),_=new Map;$n(_,this.driver,y,l,ci.l3).forEach(e=>{rr(e,a,l)&&E.push(e)});const A=new Map;h.forEach((e,t)=>{$n(A,this.driver,new Set(e),a,ci.k1)}),E.forEach(e=>{const t=_.get(e),o=A.get(e);_.set(e,Object.assign(Object.assign({},t),o))});const R=[],T=[],O={};r.forEach(e=>{const{element:t,player:r,instruction:s}=e;if(o.has(t)){if(c.has(t))return r.onDestroy(()=>Ui(t,s.toStyles)),r.disabled=!0,r.overrideTotalTime(s.totalTime),void i.push(r);let e=O;if(S.size>1){let o=t;const i=[];for(;o=o.parentNode;){const t=S.get(o);if(t){e=t;break}i.push(o)}i.forEach(t=>S.set(t,e))}const o=this._buildAnimation(r.namespaceId,s,x,n,A,_);if(r.setRealPlayer(o),e===O)R.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=hi(t)),i.push(r)}}else Yi(t,s.fromStyles),r.onDestroy(()=>Ui(t,s.toStyles)),T.push(r),c.has(t)&&i.push(r)}),T.forEach(e=>{const t=n.get(e.element);if(t&&t.length){const o=hi(t);e.setRealPlayer(o)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let P=0;P<g.length;P++){const e=g[P],t=e.__ng_removed;if(or(e,Mi),t&&t.hasAnimation)continue;let o=[];if(s.size){let t=s.get(e);t&&t.length&&o.push(...t);let i=this.driver.query(e,Fi,!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&o.push(...t)}}const i=o.filter(e=>!e.destroyed);i.length?ir(this,e,i):this.processLeaveNode(e)}return g.length=0,R.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),R}elementContainsData(e,t){let o=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,i,n){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!n||n==Yn;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&r.push(t)})}}return(o||i)&&(r=r.filter(e=>!(o&&o!=e.namespaceId||i&&i!=e.triggerName))),r}_beforeAnimationBuild(e,t,o){const i=t.element,n=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==i,l=yi(o,e,[]);this._getPreviousPlayers(e,a,n,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Yi(i,t.fromStyles)}_buildAnimation(e,t,o,i,n,r){const s=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,p=t.timelines.map(t=>{const p=t.element;c.add(p);const h=p.__ng_removed;if(h&&h.removedBeforeQueried)return new ci.ZN(t.duration,t.delay);const d=p!==a,f=function(e){const t=[];return nr(e,t),t}((o.get(p)||Bn).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===p),g=n.get(p),m=r.get(p),y=di(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,f);if(t.subTimeline&&i&&u.add(p),d){const t=new Kn(e,s,p);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{yi(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,o){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(o);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(o);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>tr(e,Li));const h=hi(p);return h.onDestroy(()=>{c.forEach(e=>or(e,Li)),Ui(a,t.toStyles)}),u.forEach(e=>{yi(i,e,[]).push(h)}),h}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new ci.ZN(e.duration,e.delay)}}class Kn{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new ci.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>fi(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Qn(e){return e&&1===e.nodeType}function Jn(e,t){const o=e.style.display;return e.style.display=null!=t?t:"none",o}function $n(e,t,o,i,n){const r=[];o.forEach(e=>r.push(Jn(e)));const s=[];i.forEach((o,i)=>{const r={};o.forEach(e=>{const o=r[e]=t.computeStyle(i,e,n);o&&0!=o.length||(i.__ng_removed=zn,s.push(i))}),e.set(i,r)});let a=0;return o.forEach(e=>Jn(e,r[a++])),s}function er(e,t){const o=new Map;if(e.forEach(e=>o.set(e,[])),0==t.length)return o;const i=new Set(t),n=new Map;function r(e){if(!e)return 1;let t=n.get(e);if(t)return t;const s=e.parentNode;return t=o.has(s)?s:i.has(s)?1:r(s),n.set(e,t),t}return t.forEach(e=>{const t=r(e);1!==t&&o.get(t).push(e)}),o}function tr(e,t){if(e.classList)e.classList.add(t);else{let o=e.$$classes;o||(o=e.$$classes={}),o[t]=!0}}function or(e,t){if(e.classList)e.classList.remove(t);else{let o=e.$$classes;o&&delete o[t]}}function ir(e,t,o){hi(o).onDone(()=>e.processLeaveNode(t))}function nr(e,t){for(let o=0;o<e.length;o++){const i=e[o];i instanceof ci.ZE?nr(i.players,t):t.push(i)}}function rr(e,t,o){const i=o.get(e);if(!i)return!1;let n=t.get(e);return n?i.forEach(e=>n.add(e)):t.set(e,i),o.delete(e),!0}class sr{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Zn(e,t,o),this._timelineEngine=new Gn(e,t,o),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,o,i,n){const r=e+"-"+i;let s=this._triggerCache[r];if(!s){const e=[],t=pn(this._driver,n,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t,o){return new kn(e,t,o)}(i,t,this._normalizer),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,i){this._transitionEngine.insertNode(e,t,o,i)}onRemove(e,t,o,i){this._transitionEngine.removeNode(e,t,i||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,i){if("@"==o.charAt(0)){const[e,n]=vi(o);this._timelineEngine.command(e,t,n,i)}else this._transitionEngine.trigger(e,t,o,i)}listen(e,t,o,i,n){if("@"==o.charAt(0)){const[e,i]=vi(o);return this._timelineEngine.listen(e,t,i,n)}return this._transitionEngine.listen(e,t,o,i,n)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ar(e,t){let o=null,i=null;return Array.isArray(t)&&t.length?(o=cr(t[0]),t.length>1&&(i=cr(t[t.length-1]))):t&&(o=cr(t)),o||i?new lr(e,o,i):null}class lr{constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o,this._state=0;let i=lr.initialStylesByElement.get(e);i||lr.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(lr.initialStylesByElement.delete(this._element),this._startStyles&&(Yi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yi(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}function cr(e){let t=null;const o=Object.keys(e);for(let i=0;i<o.length;i++){const n=o[i];ur(n)&&(t=t||{},t[n]=e[n])}return t}function ur(e){return"display"===e||"position"===e}lr.initialStylesByElement=new WeakMap;const pr="animation",hr="animationend";class dr{constructor(e,t,o,i,n,r,s){this._element=e,this._name=t,this._duration=o,this._delay=i,this._easing=n,this._fillMode=r,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const o=Cr(e,"").trim();o.length&&(function(e,t){let o=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&o++}(o),t=`${o}, ${t}`),vr(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),yr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fr(this._element,this._name,"paused")}resume(){fr(this._element,this._name,"running")}setPosition(e){const t=gr(this._element,this._name);this._position=e*this._duration,vr(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),yr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const o=Cr(e,"").split(","),i=mr(o,t);i>=0&&(o.splice(i,1),vr(e,"",o.join(",")))}(this._element,this._name))}}function fr(e,t,o){vr(e,"PlayState",o,gr(e,t))}function gr(e,t){const o=Cr(e,"");return o.indexOf(",")>0?mr(o.split(","),t):mr([o],t)}function mr(e,t){for(let o=0;o<e.length;o++)if(e[o].indexOf(t)>=0)return o;return-1}function yr(e,t,o){o?e.removeEventListener(hr,t):e.addEventListener(hr,t)}function vr(e,t,o,i){const n=pr+t;if(null!=i){const t=e.style[n];if(t.length){const e=t.split(",");e[i]=o,o=e.join(",")}}e.style[n]=o}function Cr(e,t){return e.style[pr+t]||""}class wr{constructor(e,t,o,i,n,r,s,a){this.element=e,this.keyframes=t,this.animationName=o,this._duration=i,this._delay=n,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+n,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new dr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:nn(this.element,o))})}this.currentSnapshot=e}}class br extends ci.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Oi(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class xr{constructor(){this._count=0}validateStyleProperty(e){return _i(e)}matchesElement(e,t){return Ai(e,t)}containsElement(e,t){return Ri(e,t)}query(e,t,o){return Ti(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(e=>Oi(e));let i=`@keyframes ${t} {\n`,n="";o.forEach(e=>{n=" ";const t=parseFloat(e.offset);i+=`${n}${100*t}% {\n`,n+=" ",Object.keys(e).forEach(t=>{const o=e[t];switch(t){case"offset":return;case"easing":return void(o&&(i+=`${n}animation-timing-function: ${o};\n`));default:return void(i+=`${n}${t}: ${o};\n`)}}),i+=`${n}}\n`}),i+="}\n";const r=document.createElement("style");return r.textContent=i,r}animate(e,t,o,i,n,r=[],s){const a=r.filter(e=>e instanceof wr),l={};en(o,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(o=>{"offset"!=o&&"easing"!=o&&(t[o]=e[o])})}),t}(t=tn(e,t,l));if(0==o)return new br(e,c);const u="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(e,u,t);(function(e){var t;const o=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&o instanceof ShadowRoot?o:document.head})(e).appendChild(p);const h=ar(e,t),d=new wr(e,t,u,o,i,n,c,h);return d.onDestroy(()=>{var e;(e=p).parentNode.removeChild(e)}),d}}class Sr{constructor(e,t,o,i){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:nn(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Er{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_r().toString()),this._cssKeyframesDriver=new xr}validateStyleProperty(e){return _i(e)}matchesElement(e,t){return Ai(e,t)}containsElement(e,t){return Ri(e,t)}query(e,t,o){return Ti(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,i,n,r=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,i,n,r);const a={duration:o,delay:i,fill:0==i?"both":"forwards"};n&&(a.easing=n);const l={},c=r.filter(e=>e instanceof Sr);en(o,i)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=ar(e,t=tn(e,t=t.map(e=>Bi(e,!1)),l));return new Sr(e,t,a,u)}}function _r(){return ui()&&Element.prototype.animate||{}}let Ar=(()=>{class e extends ci._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,ci.vP)(e):e;return Or(this._renderer,null,t,"register",[o]),new Rr(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.FYo),n.LFG(O.K0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Rr extends ci.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Tr(this._id,e,t||{},this._renderer)}}class Tr{constructor(e,t,o,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Or(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Or(e,t,o,i,n){return e.setProperty(t,`@@${o}:${i}`,n)}const Pr="@",Dr="@.disabled";let Ir=(()=>{class e{constructor(e,t,o){this.delegate=e,this.engine=t,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const o=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(o);return e||(e=new Mr("",o,this.engine),this._rendererCache.set(o,e)),e}const i=t.id,n=t.id+"-"+this._currentId;this._currentId++,this.engine.register(n,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(i,n,e,t.name,t)};return t.data.animation.forEach(r),new Nr(this,n,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,o){e>=0&&e<this._microtaskId?this._zone.run(()=>t(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,o]=e;t(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.FYo),n.LFG(sr),n.LFG(n.R0b))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Mr{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,i=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,i){this.delegate.setAttribute(e,t,o,i)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,i){this.delegate.setStyle(e,t,o,i)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){t.charAt(0)==Pr&&t==Dr?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Nr extends Mr{constructor(e,t,o,i){super(t,o,i),this.factory=e,this.namespaceId=t}setProperty(e,t,o){t.charAt(0)==Pr?"."==t.charAt(1)&&t==Dr?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if(t.charAt(0)==Pr){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let n=t.substr(1),r="";return n.charAt(0)!=Pr&&([n,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(n)),this.engine.listen(this.namespaceId,i,n,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,o,e)})}return this.delegate.listen(e,t,o)}}let kr=(()=>{class e extends sr{constructor(e,t,o){super(e.body,t,o)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(O.K0),n.LFG(Di),n.LFG(Tn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const Lr=new n.OlP("AnimationModuleType"),Fr=[{provide:ci._j,useClass:Ar},{provide:Tn,useFactory:function(){return new On}},{provide:sr,useClass:kr},{provide:n.FYo,useFactory:function(e,t,o){return new Ir(e,t,o)},deps:[i.se,sr,n.R0b]}],Gr=[{provide:Di,useFactory:function(){return"function"==typeof _r()?new Er:new xr}},{provide:Lr,useValue:"BrowserAnimations"},...Fr],Hr=[{provide:Di,useClass:Pi},{provide:Lr,useValue:"NoopAnimations"},...Fr];let Vr=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Hr:Gr}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:Gr,imports:[i.b2]}),e})(),Wr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,s.Bz,it.u5,Te,me,P._A,P.lQ,P.XC,P.ZQ]]}),e})(),Br=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,s.Bz,Wr]]}),e})(),jr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,P.lQ,s.Bz,Wr]]}),e})(),zr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,P.lQ,P.HK,Te,me,s.Bz,Wr]]}),e})(),Ur=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,s.Bz,Wr]]}),e})(),Yr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[O.ez,Wr,Br,jr,Ur,zr]]}),e})();var Xr=o(9699);let qr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e,bootstrap:[$o]}),e.\u0275inj=n.cJS({providers:[{provide:r.TP,useClass:ni,multi:!0},{provide:r.TP,useClass:ai,multi:!0},{provide:r.TP,useClass:si,multi:!0}],imports:[[i.b2,Oo,ei,li.DashboardModule,Vr,Yr,Wr,Xr.Rh.forRoot()]]}),e})();o(4412).W.setLicenseKey("#PUT AG GRID LICENSE KEY HERE#"),(0,n.G48)(),i.q6().bootstrapModule(qr).catch(e=>console.error(e))},9699:(e,t,o)=>{"use strict";o.d(t,{Rh:()=>A,_W:()=>E});var i=o(7716),n=o(7238),r=o(7709),s=o(8583),a=o(9075);const l=["toast-component",""];function c(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){return i.CHM(e),i.oxw().remove()}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA(),i.qZA()}}function u(e,t){if(1&e&&(i.ynx(0),i._uU(1),i.BQk()),2&e){const e=i.oxw(2);i.xp6(1),i.hij("[",e.duplicatesCount+1,"]")}}function p(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,u,2,1,"ng-container",4),i.qZA()),2&e){const e=i.oxw();i.Tol(e.options.titleClass),i.uIk("aria-label",e.title),i.xp6(1),i.hij(" ",e.title," "),i.xp6(1),i.Q6J("ngIf",e.duplicatesCount)}}function h(e,t){if(1&e&&i._UZ(0,"div",7),2&e){const e=i.oxw();i.Tol(e.options.messageClass),i.Q6J("innerHTML",e.message,i.oJD)}}function d(e,t){if(1&e&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.Tol(e.options.messageClass),i.uIk("aria-label",e.message),i.xp6(1),i.hij(" ",e.message," ")}}function f(e,t){if(1&e&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Udp("width",e.width+"%")}}class g{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class m{constructor(e,t,o,i,n,s){this.toastId=e,this.config=t,this.message=o,this.title=i,this.toastType=n,this.toastRef=s,this._onTap=new r.xQ,this._onAction=new r.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const y=new i.OlP("ToastConfig");class v{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new r.xQ,this._activate=new r.xQ,this._manualClose=new r.xQ,this._resetTimeout=new r.xQ,this._countDuplicate=new r.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class C{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,o){return e===m?this._toastPackage:this._parentInjector.get(e,t,o)}}class w extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,o){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=o}attachComponentPortal(e,t){const o=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=o.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class b{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let x=(()=>{class e{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S=(()=>{class e{constructor(e,t,o,i){this._overlayContainer=e,this._componentFactoryResolver=t,this._appRef=o,this._document=i,this._paneElements=new Map}create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),t?t.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new w(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new b(this._createPortalHost(e))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(x),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(s.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E=(()=>{class e{constructor(e,t,o,i,n){this.overlay=t,this._injector=o,this.sanitizer=i,this.ngZone=n,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,t,o={},i=""){return this._preBuildNotification(i,e,t,this.applyConfig(o))}success(e,t,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(o))}error(e,t,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(o))}info(e,t,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(o))}warning(e,t,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(o))}clear(e){for(const t of this.toasts)if(void 0!==e){if(t.toastId===e)return void t.toastRef.manualClose()}else t.toastRef.manualClose()}remove(e){const t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const e=this.toasts[this.currentlyActive].toastRef;e.isInactive()||(this.currentlyActive=this.currentlyActive+1,e.activate())}return!0}findDuplicate(e="",t="",o,i){const{includeTitleDuplicates:n}=this.toastrConfig;for(const r of this.toasts){const s=n&&r.title===e;if((!n||s)&&r.message===t)return r.toastRef.onDuplicate(o,i),r}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,o,i){return i.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,o,i)):this._buildNotification(e,t,o,i)}_buildNotification(e,t,o,n){if(!n.toastComponent)throw new Error("toastComponent required");const r=this.findDuplicate(o,t,this.toastrConfig.resetTimeoutOnDuplicate&&n.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||t)&&this.toastrConfig.preventDuplicates&&null!==r)return r;this.previousToastMessage=t;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(n.positionClass,this.overlayContainer);this.index=this.index+1;let l=t;t&&n.enableHtml&&(l=this.sanitizer.sanitize(i.q3G.HTML,t));const c=new v(a),u=new m(this.index,n,l,o,e,c),p=new C(u,this._injector),h=new g(n.toastComponent,p),d=a.attach(h,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const f={toastId:this.index,title:o||"",message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:d};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(y),i.LFG(S),i.LFG(i.zs3),i.LFG(a.H7),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class e{constructor(e,t,o){this.toastrService=e,this.toastPackage=t,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(E),i.Y36(m),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(i.d8E("@flyInOut",t.state),i.Tol(t.toastClasses),i.Udp("display",t.displayStyle))},attrs:l,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,t){1&e&&(i.YNc(0,c,3,0,"button",0),i.YNc(1,p,3,5,"div",1),i.YNc(2,h,1,3,"div",2),i.YNc(3,d,2,4,"div",3),i.YNc(4,f,2,2,"div",4)),2&e&&(i.Q6J("ngIf",t.options.closeButton),i.xp6(1),i.Q6J("ngIf",t.title),i.xp6(1),i.Q6J("ngIf",t.message&&t.options.enableHtml),i.xp6(1),i.Q6J("ngIf",t.message&&!t.options.enableHtml),i.xp6(1),i.Q6J("ngIf",t.options.progressBar))},directives:[s.O5],encapsulation:2,data:{animation:[(0,n.X$)("flyInOut",[(0,n.SB)("inactive",(0,n.oB)({opacity:0})),(0,n.SB)("active",(0,n.oB)({opacity:1})),(0,n.SB)("removed",(0,n.oB)({opacity:0})),(0,n.eR)("inactive => active",(0,n.jt)("{{ easeTime }}ms {{ easing }}")),(0,n.eR)("active => removed",(0,n.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),e})()};let A=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:y,useValue:{default:_,config:t}}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.ez]]}),e})()}},e=>{"use strict";e(e.s=8562)}]);